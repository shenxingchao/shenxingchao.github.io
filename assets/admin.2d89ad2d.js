var w=Object.defineProperty,k=Object.defineProperties;var R=Object.getOwnPropertyDescriptors;var m=Object.getOwnPropertySymbols;var E=Object.prototype.hasOwnProperty,I=Object.prototype.propertyIsEnumerable;var h=(s,r,e)=>r in s?w(s,r,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[r]=e,g=(s,r)=>{for(var e in r||(r={}))E.call(r,e)&&h(s,e,r[e]);if(m)for(var e of m(r))I.call(r,e)&&h(s,e,r[e]);return s},_=(s,r)=>k(s,R(r));var $=(s,r,e)=>new Promise((l,p)=>{var n=o=>{try{f(e.next(o))}catch(d){p(d)}},i=o=>{try{f(e.throw(o))}catch(d){p(d)}},f=o=>o.done?l(o.value):Promise.resolve(o.value).then(n,i);f((e=e.apply(s,r)).next())});import{_ as y,c as T,e as b,p as j,b as C}from"./componentInstall.5c20f8f0.js";import{d as M,r as P,c as U,o as z,N as a,m as A,f as B,i as D,z as G}from"./vendor.d9db8d1a.js";import{d as N,r as u,g as S,s as c}from"./index.86dad8f4.js";const H=M({components:{},setup(){return{}}});function L(s,r,e,l,p,n){const i=P("router-view");return z(),U(i)}var O=y(H,[["render",L]]);const v=N.title;function q(s){return s?`${s} - ${v}`:`${v}`}a.configure({showSpinner:!1});const F=["/login"];u.beforeEach((s,r,e)=>$(void 0,null,function*(){if(a.start(),document.title=q(s.meta.title),S())if(s.path==="/login")e({path:"/"}),a.done();else if(c.getters.name)e();else try{yield c.dispatch("user/getUserInfo"),(yield c.dispatch("permission/generateRoutes")).forEach(i=>(u.addRoute(i),!0)),e(_(g({},s),{replace:!0}))}catch(n){yield c.dispatch("user/resetToken"),A.error(n||"Has Error"),e(`/login?redirect=${s.path}`),a.done()}else F.indexOf(s.path)!==-1?e():(e(`/login?redirect=${s.path}`),a.done())}));u.afterEach(()=>{a.done()});const t=B(O);t.use(c);t.use(u);t.use(D,{locale:G});t.use(T,{imports:[]});t.use(b);t.use(j);t.use(C);t.mount("#app");
