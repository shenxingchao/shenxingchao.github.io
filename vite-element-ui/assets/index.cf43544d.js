var e=Object.defineProperty,o=Object.defineProperties,a=Object.getOwnPropertyDescriptors,s=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,n=(o,a,s)=>a in o?e(o,a,{enumerable:!0,configurable:!0,writable:!0,value:s}):o[a]=s;import{d as t,u as p,l as i,m as d,a as u,b as c,w as m,t as g,p as w,g as y,E as f,r as b,o as v,h,v as F,s as O,i as P,y as _,a4 as j,z as T,J as R}from"./vendor.929ee8ac.js";const V=t({components:{},setup(){const e=p(),t=i(),w=d();let y=u({app_name:"vite-element-ui",loginForm:{username:"",password:""},loginRules:{username:[{required:!0,trigger:"blur",message:"请输入用户名"}],password:[{required:!0,trigger:"blur",message:"请输入密码"}]},loading:!1,passwordType:"password",redirect:void 0});const b=c(null),v=c(null);m(w,(e=>{y.redirect=e.query&&e.query.redirect}),{immediate:!0});return h=((e,o)=>{for(var a in o||(o={}))r.call(o,a)&&n(e,a,o[a]);if(s)for(var a of s(o))l.call(o,a)&&n(e,a,o[a]);return e})({},g(y)),o(h,a({passwordRef:b,loginFormRef:v,showPwd:()=>{"password"===y.passwordType?y.passwordType="":y.passwordType="password",f((()=>{b.value.focus()}))},handleLogin:()=>{v.value.validate((o=>{if(!o)return console.log("error submit!!"),!1;y.loading=!0,e.dispatch("user/login",y.loginForm).then((()=>{t.push({path:y.redirect||"/"}),y.loading=!1})).catch((()=>{y.loading=!1}))}))}}));var h}});w("data-v-a06501b6");const x={class:"login-container"},k={class:"title-container"},q={class:"title"},C={class:"svg-container"},L={class:"svg-container"},E=R(" 登录");y(),V.render=function(e,o,a,s,r,l){const n=b("svg-icon"),t=b("el-input"),p=b("el-form-item"),i=b("el-button"),d=b("el-form");return v(),h("div",x,[F(d,{ref:"loginFormRef",model:e.loginForm,rules:e.loginRules,class:"login-form","auto-complete":"on","label-position":"left"},{default:O((()=>[P("div",k,[P("h3",q,_(e.app_name),1)]),F(p,{prop:"username"},{default:O((()=>[P("span",C,[F(n,{"icon-class":"user"})]),F(t,{ref:"username",modelValue:e.loginForm.username,"onUpdate:modelValue":o[0]||(o[0]=o=>e.loginForm.username=o),placeholder:"用户名",name:"username",type:"text",tabindex:"1","auto-complete":"on"},null,8,["modelValue"])])),_:1}),F(p,{prop:"password"},{default:O((()=>[P("span",L,[F(n,{"icon-class":"password"})]),F(t,{key:e.passwordType,ref:"passwordRef",modelValue:e.loginForm.password,"onUpdate:modelValue":o[1]||(o[1]=o=>e.loginForm.password=o),type:e.passwordType,placeholder:"密码",name:"password",tabindex:"2","auto-complete":"on",onKeyup:j(e.handleLogin,["enter"])},null,8,["modelValue","type","onKeyup"]),P("span",{class:"show-pwd",onClick:o[2]||(o[2]=(...o)=>e.showPwd&&e.showPwd(...o))},[F(n,{"icon-class":"password"===e.passwordType?"eye":"eye-open"},null,8,["icon-class"])])])),_:1}),F(i,{loading:e.loading,type:"primary",style:{width:"100%","margin-bottom":"30px"},onClick:T(e.handleLogin,["prevent"])},{default:O((()=>[E])),_:1},8,["loading","onClick"])])),_:1},8,["model","rules"])])},V.__scopeId="data-v-a06501b6";export{V as default};
