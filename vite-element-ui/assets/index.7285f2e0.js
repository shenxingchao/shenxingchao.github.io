var e=Object.defineProperty,a=Object.defineProperties,o=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable,n=(a,o,l)=>o in a?e(a,o,{enumerable:!0,configurable:!0,writable:!0,value:l}):a[o]=l;import{d as t,u as d,m as i,q as p,a as u,b as c,w as m,t as g,r as f,g as w,l as y,v as h,A as b,E as v,o as V,h as _,a6 as F,z as O,J as j,y as P,p as k,k as x}from"./vendor.77177042.js";import{_ as L}from"./index.0c9754f5.js";const T=t({components:{},setup(){const{proxy:e}=b(),t=d(),f=i(),w=p();let y=u({app_name:"vite-element-ui",loginForm:{username:"",password:""},loginRules:{username:[{required:!0,trigger:"blur",message:e.$t("tips.input")+e.$t("field.username")}],password:[{required:!0,trigger:"blur",message:e.$t("tips.input")+e.$t("field.password")}]},loading:!1,passwordType:"password",redirect:void 0,lang:localStorage.lang||"zh"});const h=c(null),V=c(null);m(w,(e=>{y.redirect=e.query&&e.query.redirect}),{immediate:!0});return _=((e,a)=>{for(var o in a||(a={}))s.call(a,o)&&n(e,o,a[o]);if(l)for(var o of l(a))r.call(a,o)&&n(e,o,a[o]);return e})({},g(y)),a(_,o({passwordRef:h,loginFormRef:V,showPwd:()=>{"password"===y.passwordType?y.passwordType="":y.passwordType="password",v((()=>{h.value.focus()}))},handleLogin:()=>{V.value.validate((e=>{if(!e)return console.log("error submit!!"),!1;y.loading=!0,t.dispatch("user/login",y.loginForm).then((()=>{f.push({path:y.redirect||"/"}),y.loading=!1})).catch((()=>{y.loading=!1}))}))},changeLang:e=>{localStorage.setItem("lang",e),f.go(0)}}));var _}}),$={class:"login-container"},R=(e=>(k("data-v-fe709f5a"),e=e(),x(),e))((()=>_("div",{class:"title-container"},[_("h3",{class:"title"},"Administrator Login")],-1))),q={class:"svg-container"},C={class:"svg-container"},z={class:"lang-change"},U=j("中文"),E=j("English ");var I=L(T,[["render",function(e,a,o,l,s,r){const n=f("svg-icon"),t=f("el-input"),d=f("el-form-item"),i=f("el-radio"),p=f("el-button"),u=f("el-form");return V(),w("div",$,[y(u,{ref:"loginFormRef",model:e.loginForm,rules:e.loginRules,class:"login-form","auto-complete":"on","label-position":"left"},{default:h((()=>[R,y(d,{prop:"username"},{default:h((()=>[_("span",q,[y(n,{"icon-class":"user"})]),y(t,{ref:"username",modelValue:e.loginForm.username,"onUpdate:modelValue":a[0]||(a[0]=a=>e.loginForm.username=a),placeholder:e.$t("field.username"),name:"username",type:"text",tabindex:"1","auto-complete":"on"},null,8,["modelValue","placeholder"])])),_:1}),y(d,{prop:"password"},{default:h((()=>[_("span",C,[y(n,{"icon-class":"password"})]),y(t,{key:e.passwordType,ref:"passwordRef",modelValue:e.loginForm.password,"onUpdate:modelValue":a[1]||(a[1]=a=>e.loginForm.password=a),type:e.passwordType,placeholder:e.$t("field.password"),name:"password",tabindex:"2","auto-complete":"on",onKeyup:F(e.handleLogin,["enter"])},null,8,["modelValue","type","placeholder","onKeyup"]),_("span",{class:"show-pwd",onClick:a[2]||(a[2]=(...a)=>e.showPwd&&e.showPwd(...a))},[y(n,{"icon-class":"password"===e.passwordType?"eye":"eye-open"},null,8,["icon-class"])])])),_:1}),_("div",z,[y(i,{modelValue:e.lang,"onUpdate:modelValue":a[3]||(a[3]=a=>e.lang=a),label:"zh",onClick:a[4]||(a[4]=a=>e.changeLang("zh"))},{default:h((()=>[U])),_:1},8,["modelValue"]),y(i,{modelValue:e.lang,"onUpdate:modelValue":a[5]||(a[5]=a=>e.lang=a),label:"en",onClick:a[6]||(a[6]=a=>e.changeLang("en"))},{default:h((()=>[E])),_:1},8,["modelValue"])]),y(p,{loading:e.loading,type:"primary",style:{width:"100%","margin-bottom":"30px"},onClick:O(e.handleLogin,["prevent"])},{default:h((()=>[j(P(e.$t("opt.login")),1)])),_:1},8,["loading","onClick"])])),_:1},8,["model","rules"])])}],["__scopeId","data-v-fe709f5a"]]);export{I as default};
