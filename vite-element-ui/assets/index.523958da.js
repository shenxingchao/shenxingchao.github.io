var e=Object.defineProperty,o=Object.defineProperties,a=Object.getOwnPropertyDescriptors,s=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,n=(o,a,s)=>a in o?e(o,a,{enumerable:!0,configurable:!0,writable:!0,value:s}):o[a]=s;import{d as t,u as i,m as p,q as d,a as u,b as c,w as m,t as g,r as w,g as f,l as y,v as b,E as v,o as h,h as F,a4 as O,z as j,p as P,k as _,J as T}from"./vendor.8403e760.js";import{_ as x}from"./index.f06b4c6c.js";const R=t({components:{},setup(){const e=i(),t=p(),w=d();let f=u({app_name:"vite-element-ui",loginForm:{username:"",password:""},loginRules:{username:[{required:!0,trigger:"blur",message:"请输入用户名"}],password:[{required:!0,trigger:"blur",message:"请输入密码"}]},loading:!1,passwordType:"password",redirect:void 0});const y=c(null),b=c(null);m(w,(e=>{f.redirect=e.query&&e.query.redirect}),{immediate:!0});return h=((e,o)=>{for(var a in o||(o={}))r.call(o,a)&&n(e,a,o[a]);if(s)for(var a of s(o))l.call(o,a)&&n(e,a,o[a]);return e})({},g(f)),o(h,a({passwordRef:y,loginFormRef:b,showPwd:()=>{"password"===f.passwordType?f.passwordType="":f.passwordType="password",v((()=>{y.value.focus()}))},handleLogin:()=>{b.value.validate((o=>{if(!o)return console.log("error submit!!"),!1;f.loading=!0,e.dispatch("user/login",f.loginForm).then((()=>{t.push({path:f.redirect||"/"}),f.loading=!1})).catch((()=>{f.loading=!1}))}))}}));var h}}),V={class:"login-container"},k=(e=>(P("data-v-082238ef"),e=e(),_(),e))((()=>F("div",{class:"title-container"},[F("h3",{class:"title"},"Administrator Login")],-1))),q={class:"svg-container"},L={class:"svg-container"},C=T(" 登录");var E=x(R,[["render",function(e,o,a,s,r,l){const n=w("svg-icon"),t=w("el-input"),i=w("el-form-item"),p=w("el-button"),d=w("el-form");return h(),f("div",V,[y(d,{ref:"loginFormRef",model:e.loginForm,rules:e.loginRules,class:"login-form","auto-complete":"on","label-position":"left"},{default:b((()=>[k,y(i,{prop:"username"},{default:b((()=>[F("span",q,[y(n,{"icon-class":"user"})]),y(t,{ref:"username",modelValue:e.loginForm.username,"onUpdate:modelValue":o[0]||(o[0]=o=>e.loginForm.username=o),placeholder:"用户名",name:"username",type:"text",tabindex:"1","auto-complete":"on"},null,8,["modelValue"])])),_:1}),y(i,{prop:"password"},{default:b((()=>[F("span",L,[y(n,{"icon-class":"password"})]),y(t,{key:e.passwordType,ref:"passwordRef",modelValue:e.loginForm.password,"onUpdate:modelValue":o[1]||(o[1]=o=>e.loginForm.password=o),type:e.passwordType,placeholder:"密码",name:"password",tabindex:"2","auto-complete":"on",onKeyup:O(e.handleLogin,["enter"])},null,8,["modelValue","type","onKeyup"]),F("span",{class:"show-pwd",onClick:o[2]||(o[2]=(...o)=>e.showPwd&&e.showPwd(...o))},[y(n,{"icon-class":"password"===e.passwordType?"eye":"eye-open"},null,8,["icon-class"])])])),_:1}),y(p,{loading:e.loading,type:"primary",style:{width:"100%","margin-bottom":"30px"},onClick:j(e.handleLogin,["prevent"])},{default:b((()=>[C])),_:1},8,["loading","onClick"])])),_:1},8,["model","rules"])])}],["__scopeId","data-v-082238ef"]]);export{E as default};
