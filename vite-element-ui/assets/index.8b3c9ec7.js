var b=Object.defineProperty,k=Object.defineProperties;var C=Object.getOwnPropertyDescriptors;var _=Object.getOwnPropertySymbols;var F=Object.prototype.hasOwnProperty,R=Object.prototype.propertyIsEnumerable;var h=(e,o,s)=>o in e?b(e,o,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[o]=s,v=(e,o)=>{for(var s in o||(o={}))F.call(o,s)&&h(e,s,o[s]);if(_)for(var s of _(o))R.call(o,s)&&h(e,s,o[s]);return e},y=(e,o)=>k(e,C(o));import{d as T,u as L,s as S,v as I,a as q,b as $,w as z,t as U,r as d,g as j,q as l,j as i,A as B,E,o as K,h as p,a7 as N,i as P,J as f,z as A,p as D,m as J}from"./vendor.c616bc04.js";import{_ as M}from"./index.de572f3b.js";const G=T({components:{},setup(){const{proxy:e}=B(),o=L(),s=S(),w=I();let n=q({app_name:"vite-element-ui",loginForm:{username:"",password:""},loginRules:{username:[{required:!0,trigger:"blur",message:e.$t("tips.input")+e.$t("field.username")}],password:[{required:!0,trigger:"blur",message:e.$t("tips.input")+e.$t("field.password")}]},loading:!1,passwordType:"password",redirect:void 0,lang:localStorage.lang||"zh"});const c=$(null),r=$(null);z(w,t=>{n.redirect=t.query&&t.query.redirect},{immediate:!0});const u=()=>{n.passwordType==="password"?n.passwordType="":n.passwordType="password",E(()=>{c.value.focus()})},m=()=>{r.value.validate(t=>{if(t)n.loading=!0,o.dispatch("user/login",n.loginForm).then(()=>{s.push({path:n.redirect||"/"}),n.loading=!1}).catch(()=>{n.loading=!1});else return console.log("error submit!!"),!1})},g=t=>{localStorage.setItem("lang",t),s.go(0)};return y(v({},U(n)),{passwordRef:c,loginFormRef:r,showPwd:u,handleLogin:m,changeLang:g})}}),H=e=>(D("data-v-fe709f5a"),e=e(),J(),e),O={class:"login-container"},Q=H(()=>p("div",{class:"title-container"},[p("h3",{class:"title"},"Administrator Login")],-1)),W={class:"svg-container"},X={class:"svg-container"},Y={class:"lang-change"},Z=f("\u4E2D\u6587"),x=f("English ");function ee(e,o,s,w,n,c){const r=d("svg-icon"),u=d("el-input"),m=d("el-form-item"),g=d("el-radio"),t=d("el-button"),V=d("el-form");return K(),j("div",O,[l(V,{ref:"loginFormRef",model:e.loginForm,rules:e.loginRules,class:"login-form","auto-complete":"on","label-position":"left"},{default:i(()=>[Q,l(m,{prop:"username"},{default:i(()=>[p("span",W,[l(r,{"icon-class":"user"})]),l(u,{ref:"username",modelValue:e.loginForm.username,"onUpdate:modelValue":o[0]||(o[0]=a=>e.loginForm.username=a),placeholder:e.$t("field.username"),name:"username",type:"text",tabindex:"1","auto-complete":"on"},null,8,["modelValue","placeholder"])]),_:1}),l(m,{prop:"password"},{default:i(()=>[p("span",X,[l(r,{"icon-class":"password"})]),l(u,{key:e.passwordType,ref:"passwordRef",modelValue:e.loginForm.password,"onUpdate:modelValue":o[1]||(o[1]=a=>e.loginForm.password=a),type:e.passwordType,placeholder:e.$t("field.password"),name:"password",tabindex:"2","auto-complete":"on",onKeyup:N(e.handleLogin,["enter"])},null,8,["modelValue","type","placeholder","onKeyup"]),p("span",{class:"show-pwd",onClick:o[2]||(o[2]=(...a)=>e.showPwd&&e.showPwd(...a))},[l(r,{"icon-class":e.passwordType==="password"?"eye":"eye-open"},null,8,["icon-class"])])]),_:1}),p("div",Y,[l(g,{modelValue:e.lang,"onUpdate:modelValue":o[3]||(o[3]=a=>e.lang=a),label:"zh",onClick:o[4]||(o[4]=a=>e.changeLang("zh"))},{default:i(()=>[Z]),_:1},8,["modelValue"]),l(g,{modelValue:e.lang,"onUpdate:modelValue":o[5]||(o[5]=a=>e.lang=a),label:"en",onClick:o[6]||(o[6]=a=>e.changeLang("en"))},{default:i(()=>[x]),_:1},8,["modelValue"])]),l(t,{loading:e.loading,type:"primary",style:{width:"100%","margin-bottom":"30px"},onClick:P(e.handleLogin,["prevent"])},{default:i(()=>[f(A(e.$t("opt.login")),1)]),_:1},8,["loading","onClick"])]),_:1},8,["model","rules"])])}var ae=M(G,[["render",ee],["__scopeId","data-v-fe709f5a"]]);export{ae as default};
