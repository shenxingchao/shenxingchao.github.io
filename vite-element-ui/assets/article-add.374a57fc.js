var e=Object.defineProperty,l=Object.defineProperties,a=Object.getOwnPropertyDescriptors,r=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,t=Object.prototype.propertyIsEnumerable,u=(l,a,r)=>a in l?e(l,a,{enumerable:!0,configurable:!0,writable:!0,value:r}):l[a]=r;import{d as i,m as d,a as s,b as m,t as n,r as c,g as p,l as f,v as g,o as b,A as F,J as h}from"./vendor.8403e760.js";import{a as v}from"./article.71acda3c.js";import{U as _,E as V}from"./index.0a68d405.js";import{_ as y}from"./index.f06b4c6c.js";const U=i({name:"ArticleAdd",components:{Upload:_,Editor:V},setup(){const{proxy:e}=F(),i=d();let c=s({ruleForm:{title:"",image:"",image_list:[],author:"",type:"",detail:"",recommend:!0,top:!0,status:!0},rules:{title:[{required:!0,message:"请输入标题",trigger:"blur"}],image:[{required:!0,message:"请上传图片"}],image_list:[{required:!0,message:"请上传图片列表"}],author:[{required:!0,message:"请输入作者",trigger:"blur"}],detail:[{required:!0,message:"请输入详情"}]}});const p=m(null);return f=((e,l)=>{for(var a in l||(l={}))o.call(l,a)&&u(e,a,l[a]);if(r)for(var a of r(l))t.call(l,a)&&u(e,a,l[a]);return e})({},n(c)),l(f,a({ruleFormRef:p,submitForm:()=>{p.value.validate((l=>{if(!l)return console.log("error submit!!"),!1;v(c.ruleForm).then((l=>{e.$message({message:"添加成功",type:"success",onClose:function(){i.push("/article/article-list")}})})).catch((()=>{}))}))},resetForm:()=>{p.value.resetFields()},handleUploadSuccess:e=>{c.ruleForm.image=e,p.value.clearValidate("image")},handleUploadMultipleSuccess:e=>{c.ruleForm.image_list=e,p.value.clearValidate("image_list")},handleChangeEditor:e=>{c.ruleForm.detail=e}}));var f}}),j={class:"app-container"},O=h("确定"),w=h("重置");var x=y(U,[["render",function(e,l,a,r,o,t){const u=c("el-input"),i=c("el-form-item"),d=c("upload"),s=c("editor"),m=c("el-switch"),n=c("el-button"),F=c("el-form"),h=c("el-col"),v=c("el-row"),_=c("el-card");return b(),p("div",j,[f(_,{shadow:"hover"},{default:g((()=>[f(v,{type:"flex",justify:"left"},{default:g((()=>[f(h,{xs:24,md:16},{default:g((()=>[f(F,{ref:"ruleFormRef",rules:e.rules,model:e.ruleForm,"label-position":"right","label-width":"150px"},{default:g((()=>[f(i,{label:"标题",prop:"title"},{default:g((()=>[f(u,{modelValue:e.ruleForm.title,"onUpdate:modelValue":l[0]||(l[0]=l=>e.ruleForm.title=l),placeholder:"标题"},null,8,["modelValue"])])),_:1}),f(i,{label:"图片",prop:"image"},{default:g((()=>[f(d,{onHandleUploadSuccess:l[1]||(l[1]=l=>e.handleUploadSuccess(l)),onHandleDeleteFile:l[2]||(l[2]=l=>e.ruleForm.image="")})])),_:1}),f(i,{label:"图片列表",prop:"image_list"},{default:g((()=>[f(d,{multiple:"",onHandleUploadMultipleSuccess:l[3]||(l[3]=l=>e.handleUploadMultipleSuccess(l)),onHandleClickDeleteMultiple:l[4]||(l[4]=l=>e.ruleForm.image_list=l)})])),_:1}),f(i,{label:"作者",prop:"author"},{default:g((()=>[f(u,{modelValue:e.ruleForm.author,"onUpdate:modelValue":l[5]||(l[5]=l=>e.ruleForm.author=l),placeholder:"作者"},null,8,["modelValue"])])),_:1}),f(i,{label:"详情",prop:"detail"},{default:g((()=>[f(s,{value:e.ruleForm.detail,onChange:l[6]||(l[6]=l=>e.handleChangeEditor(l))},null,8,["value"])])),_:1}),f(i,{label:"推荐",prop:"recommend"},{default:g((()=>[f(m,{modelValue:e.ruleForm.recommend,"onUpdate:modelValue":l[7]||(l[7]=l=>e.ruleForm.recommend=l),"active-color":"#13ce66","inactive-color":"#ff4949"},null,8,["modelValue"])])),_:1}),f(i,{label:"置顶",prop:"top"},{default:g((()=>[f(m,{modelValue:e.ruleForm.top,"onUpdate:modelValue":l[8]||(l[8]=l=>e.ruleForm.top=l),"active-color":"#13ce66","inactive-color":"#ff4949"},null,8,["modelValue"])])),_:1}),f(i,{label:"状态",prop:""},{default:g((()=>[f(m,{modelValue:e.ruleForm.status,"onUpdate:modelValue":l[9]||(l[9]=l=>e.ruleForm.status=l),"active-color":"#13ce66","inactive-color":"#ff4949"},null,8,["modelValue"])])),_:1}),f(i,null,{default:g((()=>[f(n,{type:"primary",onClick:l[10]||(l[10]=l=>e.submitForm())},{default:g((()=>[O])),_:1}),f(n,{onClick:l[11]||(l[11]=l=>e.resetForm())},{default:g((()=>[w])),_:1})])),_:1})])),_:1},8,["rules","model"])])),_:1})])),_:1})])),_:1})])}]]);export{x as default};
