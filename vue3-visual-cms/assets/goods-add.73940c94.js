var w=Object.defineProperty,y=Object.defineProperties;var E=Object.getOwnPropertyDescriptors;var c=Object.getOwnPropertySymbols;var k=Object.prototype.hasOwnProperty,R=Object.prototype.propertyIsEnumerable;var f=(o,e,r)=>e in o?w(o,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):o[e]=r,F=(o,e)=>{for(var r in e||(e={}))k.call(e,r)&&f(o,r,e[r]);if(c)for(var r of c(e))R.call(e,r)&&f(o,r,e[r]);return o},b=(o,e)=>y(o,E(e));import{d as q,D as A,q as S,g as B,t as D,r as n,j as H,C as l,x as t,o as N,K as G,U as v}from"./vendor.b68ac253.js";import{U as I,E as K}from"./index.e9d40696.js";import{b as T}from"./goods.e48e9ea7.js";import{_ as z}from"./hover.486ea2e3.js";import"./index.80cb1d78.js";const J=q({name:"GoodsAdd",components:{Upload:I,Editor:K},setup(){const{proxy:o}=G(),e=A(),r=S(null);let u=B({ruleForm:{goods_name:"",goods_price:0,goods_image_url:"",goods_detail:"",status:!0},rules:{goods_name:[{required:!0,message:"\u8BF7\u8F93\u5165\u540D\u79F0",trigger:"blur"}],goods_price:[{required:!0,message:"\u8BF7\u8F93\u5165\u4EF7\u683C",trigger:"blur"}]}});const i=()=>{r.value.validate(d=>{if(d)T(u.ruleForm).then(_=>{o.$message({message:"\u6DFB\u52A0\u6210\u529F",type:"success",duration:1500,onClose:function(){e.push("/goods/goods-list")}})}).catch(()=>{});else return console.log("error submit!!"),!1})},p=()=>{r.value.resetFields()},m=d=>{u.ruleForm.goods_image_url=d,r.value.clearValidate("goods_image_url")},a=d=>{u.ruleForm.goods_detail=d};return b(F({},D(u)),{ruleFormRef:r,submitForm:i,resetForm:p,handleUploadSuccess:m,handleChangeEditor:a})}}),L={class:"app-container"},M=v("\u786E\u5B9A"),O=v("\u91CD\u7F6E");function P(o,e,r,u,i,p){const m=n("el-input"),a=n("el-form-item"),d=n("el-input-number"),_=n("upload"),V=n("editor"),C=n("el-switch"),g=n("el-button"),$=n("el-form"),h=n("el-col"),U=n("el-row"),j=n("el-card");return N(),H("div",L,[l(j,{shadow:"hover"},{default:t(()=>[l(U,{justify:"start"},{default:t(()=>[l(h,{xs:24,md:16},{default:t(()=>[l($,{ref:"ruleFormRef",rules:o.rules,model:o.ruleForm,"label-position":"right","label-width":"150px"},{default:t(()=>[l(a,{label:"\u540D\u79F0",prop:"goods_name"},{default:t(()=>[l(m,{modelValue:o.ruleForm.goods_name,"onUpdate:modelValue":e[0]||(e[0]=s=>o.ruleForm.goods_name=s),placeholder:"\u540D\u79F0"},null,8,["modelValue"])]),_:1}),l(a,{label:"\u4EF7\u683C",prop:"goods_price"},{default:t(()=>[l(d,{modelValue:o.ruleForm.goods_price,"onUpdate:modelValue":e[1]||(e[1]=s=>o.ruleForm.goods_price=s),placeholder:"\u4EF7\u683C",min:0,precision:2,"controls-position":"right"},null,8,["modelValue"])]),_:1}),l(a,{label:"\u56FE\u7247",prop:"goods_image_url"},{default:t(()=>[l(_,{file:o.ruleForm.goods_image_url,onHandleUploadSuccess:e[2]||(e[2]=s=>o.handleUploadSuccess(s)),onHandleDeleteFile:e[3]||(e[3]=s=>o.ruleForm.goods_image_url="")},null,8,["file"])]),_:1}),l(a,{label:"\u8BE6\u60C5",prop:"goods_detail"},{default:t(()=>[l(V,{value:o.ruleForm.goods_detail,onChange:e[4]||(e[4]=s=>o.handleChangeEditor(s))},null,8,["value"])]),_:1}),l(a,{label:"\u72B6\u6001",prop:"status"},{default:t(()=>[l(C,{modelValue:o.ruleForm.status,"onUpdate:modelValue":e[5]||(e[5]=s=>o.ruleForm.status=s),"active-color":"#13ce66","inactive-color":"#ff4949"},null,8,["modelValue"])]),_:1}),l(a,null,{default:t(()=>[l(g,{type:"primary",onClick:e[6]||(e[6]=s=>o.submitForm())},{default:t(()=>[M]),_:1}),l(g,{onClick:e[7]||(e[7]=s=>o.resetForm())},{default:t(()=>[O]),_:1})]),_:1})]),_:1},8,["rules","model"])]),_:1})]),_:1})]),_:1})])}var ee=z(J,[["render",P]]);export{ee as default};
