var dW=Object.defineProperty,mW=Object.defineProperties;var gW=Object.getOwnPropertyDescriptors;var Kz=Object.getOwnPropertySymbols;var hW=Object.prototype.hasOwnProperty,pW=Object.prototype.propertyIsEnumerable;var Xz=(x,P,kt)=>P in x?dW(x,P,{enumerable:!0,configurable:!0,writable:!0,value:kt}):x[P]=kt,Xl=(x,P)=>{for(var kt in P||(P={}))hW.call(P,kt)&&Xz(x,kt,P[kt]);if(Kz)for(var kt of Kz(P))pW.call(P,kt)&&Xz(x,kt,P[kt]);return x},zp=(x,P)=>mW(x,gW(P));var n7=(x,P,kt)=>new Promise(($t,_t)=>{var ut=et=>{try{Ee(kt.next(et))}catch(Me){_t(Me)}},Fe=et=>{try{Ee(kt.throw(et))}catch(Me){_t(Me)}},Ee=et=>et.done?$t(et.value):Promise.resolve(et.value).then(ut,Fe);Ee((kt=kt.apply(x,P)).next())});import{d as fd,u as Ip,D as c0,F as f0,g as Rs,h as Yl,w as vd,m as Ix,t as Jl,K as Lx,r as Gn,o as Ne,c as Et,x as de,C as L,l as cc,U as Kg,J as Om,P as r7,j as _r,H as dd,I as Ya,S as gt,a7 as bW,v as Ow,Y as yW,k as ea,$ as Vx,a0 as YR,n as wW,q as Hx,ac as Yz,ab as CW,y as SW,V as kW,a5 as JR,s as xW,ad as TW,ae as EW,af as Jz,A as OW,B as AW}from"./vendor.b68ac253.js";import{p as YO,C as DW,a as _W,b as RW,c as BW,d as MW,e as PW,f as $W,g as NW,h as FW,i as zW,j as IW,k as LW,l as VW,m as HW,n as UW,o as WW}from"./CmsHover.ff2cf925.js";import{_ as Am}from"./hover.55580f25.js";import{a as a7}from"./index.94ae2870.js";import{d as jW,e as GW}from"./template.9aa45b01.js";const qW=fd({name:"ToolBar",components:{},setup(){const{proxy:x}=Lx(),P=Ip();c0(),f0();const{_generateUUID:kt,_handleRecursionDelete:$t,_handleRecursionMoveNode:_t}=YO(),ut=Rs({node_info:Yl({get(){return P.state.current_node_info},set(Oe){}}),component_tree_list:Yl({get(){return P.state.component_tree_list},set(Oe){P.dispatch("handleChangeComponentTreeList",Oe)}}),history_data_list:Yl({get(){return P.state.history_data_list},set(Oe){}}),history_index:Yl({get(){return P.state.history_index},set(Oe){}})});vd(()=>ut.history_index,Oe=>{Oe>0?Fe.allow_backout=!0:Fe.allow_backout=!1,Oe<ut.history_data_list.length-1?Fe.allow_redo=!0:Fe.allow_redo=!1}),vd(()=>ut.node_info,Oe=>{Fe.allow_align=!1,Fe.allow_color=!1,Fe.allow_scale=!1,Fe.allow_bold=!1,Fe.allow_italic=!1,Oe.name=="cms-row"||Oe.name=="cms-container"?Fe.allow_align=!0:(Oe.name=="cms-text"||Oe.name=="cms-nav-bar"||Oe.name=="cms-image-text-row")&&(Fe.allow_color=!0,Fe.allow_scale=!0,Fe.allow_bold=!0,Fe.allow_italic=!0)});let Fe=Rs({allow_backout:!1,allow_redo:!1,allow_align:!1,allow_color:!1,allow_scale:!1,allow_bold:!1,allow_italic:!1});Ix(()=>{document.onkeydown=function(Oe){var Ht=Oe||window.event||arguments.callee.caller.arguments[0];Ht&&Ht.keyCode==46&&Me(),Ht.ctrlKey&&Ht.keyCode==90&&P.state.history_index>0&&(se(),Ht.preventDefault()),Ht.ctrlKey&&Ht.keyCode==82&&(P.state.history_index<P.state.history_data_list.length-1&&Gt(),Ht.preventDefault()),Ht.ctrlKey&&Ht.keyCode==67&&(window.getSelection().toString()||(xn(),Ht.preventDefault())),Ht.ctrlKey&&Ht.keyCode==88&&(window.getSelection().toString()||(xn(),Me())),Ht.ctrlKey&&Ht.keyCode==86&&document.activeElement.tagName!="INPUT"&&document.activeElement.tagName!="TEXTAREA"&&(ge(),Ht.preventDefault())}});const Ee=()=>{P.dispatch("handleChangeShowBorder",!P.state.show_border)},et=()=>{P.dispatch("handleChangeCurrentNodeInfo",{props:{}}),ut.component_tree_list.splice(0,ut.component_tree_list.length)},Me=()=>{P.state.current_node_info.id&&($t(P.state.current_node_info.id,ut.component_tree_list),P.dispatch("handleChangeCurrentNodeInfo",{props:{}}))},It=Oe=>{let Ht=P.state.current_node_info;Ht.id&&(ut.component_tree_list=_t(Ht,ut.component_tree_list,Oe),P.dispatch("handleChangeCurrentNodeInfo",{props:{}}),P.dispatch("handleChangeCurrentNodeInfo",Ht))},se=()=>{if(Fe.allow_backout){P.dispatch("handleChangeOptType",1);let Oe=document.getElementsByClassName("border")[0];Oe&&(Oe.className=Oe.className.replace(" border","")),P.dispatch("handleChangeCurrentNodeInfo",{props:{}}),ut.component_tree_list.splice(0,ut.component_tree_list.length,...JSON.parse(JSON.stringify(P.state.history_data_list[P.state.history_index-1]))),P.dispatch("handleChangeHistoryIndex",P.state.history_index-1)}},Gt=()=>{if(Fe.allow_redo){P.dispatch("handleChangeOptType",2);let Oe=document.getElementsByClassName("border")[0];Oe&&(Oe.className=Oe.className.replace(" border","")),P.dispatch("handleChangeCurrentNodeInfo",{props:{}}),ut.component_tree_list.splice(0,ut.component_tree_list.length,...JSON.parse(JSON.stringify(P.state.history_data_list[P.state.history_index+1]))),P.dispatch("handleChangeHistoryIndex",P.state.history_index+1)}},xn=()=>{if(Object.keys(P.state.current_node_info.props).length>0){let Oe=JSON.parse(JSON.stringify(P.state.current_node_info));localStorage.setItem("copy_node_info",JSON.stringify(Oe))}},We=()=>{xn(),Me()},ge=()=>{if(localStorage.getItem("copy_node_info")!=null){let Oe=JSON.parse(localStorage.getItem("copy_node_info")),Ht=qt=>{qt.id="node-"+kt(),qt.children&&qt.children.length>0&&qt.children.forEach(Nt=>{Ht(Nt)})};Ht(Oe),Object.keys(P.state.current_node_info.props).length>0?P.state.current_node_info.allow?P.state.current_node_info.children.push(Oe):x.$message({message:"\u7981\u6B62\u7C98\u8D34\u5230\u5F53\u524D\u7EC4\u4EF6",type:"warning"}):P.state.component_tree_list.push(Oe)}},ht=Oe=>{Fe.allow_align&&(ut.node_info.props.justify=Oe)},Ue=Oe=>{Fe.allow_align&&(ut.node_info.props.align=Oe)},Wt=Oe=>{Fe.allow_scale&&(Oe?ut.node_info.props.fontSize<100&&ut.node_info.props.fontSize++:ut.node_info.props.fontSize>12&&ut.node_info.props.fontSize--)},K=()=>{Fe.allow_bold&&(ut.node_info.props.bold=!ut.node_info.props.bold)},dt=()=>{Fe.allow_italic&&(ut.node_info.props.italic=!ut.node_info.props.italic)};return zp(Xl(Xl({},Jl(Fe)),Jl(ut)),{handleChangeDesignerBorder:Ee,handleClearLayout:et,handleDeleteControl:Me,handleMoveControl:It,handleBackout:se,handleRedo:Gt,handleCopyControl:xn,handleDeleteAndCopyControl:We,handlePasteControl:ge,handleAlignHorizontal:ht,handleAlignVertical:Ue,handleScaleFontSize:Wt,handleChangeBold:K,handleChangeItalic:dt})}});function KW(x,P,kt,$t,_t,ut){const Fe=Gn("svg-icon"),Ee=Gn("el-tooltip"),et=Gn("el-color-picker"),Me=Gn("el-row"),It=Gn("el-col");return Ne(),Et(Me,{class:"tool-bar",justify:"space-between",align:"middle",type:"flex"},{default:de(()=>[L(It,{span:12},{default:de(()=>[L(Me,{justify:"start",align:"middle",type:"flex"},{default:de(()=>[L(Ee,{effect:"light",content:"\u64A4\u9500 CTRL+Z",placement:"bottom",class:cc(x.allow_backout?"":"disabled")},{default:de(()=>[L(Fe,{"icon-class":"backout",onClick:P[0]||(P[0]=se=>x.handleBackout())})]),_:1},8,["class"]),L(Ee,{effect:"light",content:"\u91CD\u505A CTRL+R",placement:"bottom",class:cc(x.allow_redo?"":"disabled")},{default:de(()=>[L(Fe,{"icon-class":"redo",onClick:P[1]||(P[1]=se=>x.handleRedo())})]),_:1},8,["class"]),L(Ee,{effect:"light",content:"\u590D\u5236 CTRL+C",placement:"bottom"},{default:de(()=>[L(Fe,{"icon-class":"copy",onClick:P[2]||(P[2]=se=>x.handleCopyControl())})]),_:1}),L(Ee,{effect:"light",content:"\u526A\u5207 CTRL+X",placement:"bottom"},{default:de(()=>[L(Fe,{"icon-class":"delete-copy",onClick:P[3]||(P[3]=se=>x.handleDeleteAndCopyControl())})]),_:1}),L(Ee,{effect:"light",content:"\u7C98\u8D34 CTRL+V",placement:"bottom"},{default:de(()=>[L(Fe,{"icon-class":"paste",onClick:P[4]||(P[4]=se=>x.handlePasteControl())})]),_:1}),L(Ee,{effect:"light",content:"\u4E0A\u79FB",placement:"bottom"},{default:de(()=>[L(Fe,{"icon-class":"move-up",onClick:P[5]||(P[5]=se=>x.handleMoveControl(!0))})]),_:1}),L(Ee,{effect:"light",content:"\u4E0B\u79FB",placement:"bottom"},{default:de(()=>[L(Fe,{"icon-class":"move-down",onClick:P[6]||(P[6]=se=>x.handleMoveControl(!1))})]),_:1}),L(Ee,{effect:"light",content:"\u5DE6\u5BF9\u9F50",placement:"bottom"},{default:de(()=>[L(Fe,{"icon-class":"align-start",class:cc(x.allow_align?"":"disabled"),onClick:P[7]||(P[7]=se=>x.handleAlignHorizontal("flex-start"))},null,8,["class"])]),_:1}),L(Ee,{effect:"light",content:"\u6C34\u5E73\u5C45\u4E2D",placement:"bottom"},{default:de(()=>[L(Fe,{"icon-class":"align-center",class:cc(x.allow_align?"":"disabled"),onClick:P[8]||(P[8]=se=>x.handleAlignHorizontal("center"))},null,8,["class"])]),_:1}),L(Ee,{effect:"light",content:"\u53F3\u5BF9\u9F50",placement:"bottom"},{default:de(()=>[L(Fe,{"icon-class":"align-end",class:cc(x.allow_align?"":"disabled"),onClick:P[9]||(P[9]=se=>x.handleAlignHorizontal("flex-end"))},null,8,["class"])]),_:1}),L(Ee,{effect:"light",content:"\u4E24\u7AEF\u5BF9\u9F50",placement:"bottom"},{default:de(()=>[L(Fe,{"icon-class":"align-space-between",class:cc(x.allow_align?"":"disabled"),onClick:P[10]||(P[10]=se=>x.handleAlignHorizontal("space-between"))},null,8,["class"])]),_:1}),L(Ee,{effect:"light",content:"\u9876\u90E8\u5BF9\u9F50",placement:"bottom"},{default:de(()=>[L(Fe,{"icon-class":"align-top",class:cc(x.allow_align?"":"disabled"),onClick:P[11]||(P[11]=se=>x.handleAlignVertical("flex-start"))},null,8,["class"])]),_:1}),L(Ee,{effect:"light",content:"\u5782\u76F4\u5C45\u4E2D",placement:"bottom"},{default:de(()=>[L(Fe,{"icon-class":"align-middle",class:cc(x.allow_align?"":"disabled"),onClick:P[12]||(P[12]=se=>x.handleAlignVertical("center"))},null,8,["class"])]),_:1}),L(Ee,{effect:"light",content:"\u5E95\u90E8\u5BF9\u9F50",placement:"bottom"},{default:de(()=>[L(Fe,{"icon-class":"align-bottom",class:cc(x.allow_align?"":"disabled"),onClick:P[13]||(P[13]=se=>x.handleAlignVertical("flex-end"))},null,8,["class"])]),_:1}),L(Ee,{effect:"light",content:"\u5782\u76F4\u6491\u6EE1",placement:"bottom"},{default:de(()=>[L(Fe,{"icon-class":"stretch",class:cc(x.allow_align?"":"disabled"),onClick:P[14]||(P[14]=se=>x.handleAlignVertical("stretch"))},null,8,["class"])]),_:1}),L(et,{modelValue:x.node_info.props.color,"onUpdate:modelValue":P[15]||(P[15]=se=>x.node_info.props.color=se),size:"mini",disabled:!x.allow_color},null,8,["modelValue","disabled"]),L(Ee,{effect:"light",content:"\u5B57\u4F53\u653E\u5927",placement:"bottom"},{default:de(()=>[L(Fe,{"icon-class":"sacle-up",class:cc(x.allow_scale?"":"disabled"),onClick:P[16]||(P[16]=se=>x.handleScaleFontSize(!0))},null,8,["class"])]),_:1}),L(Ee,{effect:"light",content:"\u5B57\u4F53\u7F29\u5C0F",placement:"bottom"},{default:de(()=>[L(Fe,{"icon-class":"sacle-down",class:cc(x.allow_scale?"":"disabled"),onClick:P[17]||(P[17]=se=>x.handleScaleFontSize(!1))},null,8,["class"])]),_:1}),L(Ee,{effect:"light",content:"\u52A0\u7C97",placement:"bottom"},{default:de(()=>[L(Fe,{"icon-class":"bold",class:cc(x.allow_bold?"":"disabled"),onClick:P[18]||(P[18]=se=>x.handleChangeBold())},null,8,["class"])]),_:1}),L(Ee,{effect:"light",content:"\u659C\u4F53",placement:"bottom"},{default:de(()=>[L(Fe,{"icon-class":"italic",class:cc(x.allow_italic?"":"disabled"),onClick:P[19]||(P[19]=se=>x.handleChangeItalic())},null,8,["class"])]),_:1})]),_:1})]),_:1}),L(It,{class:"node-title",span:6},{default:de(()=>[Kg(Om(x.node_info.title),1)]),_:1}),L(It,{span:6},{default:de(()=>[L(Me,{justify:"end",align:"middle",type:"flex"},{default:de(()=>[L(Ee,{effect:"light",content:"\u5207\u6362\u8BBE\u8BA1\u8FB9\u6846\u7EBF",placement:"bottom"},{default:de(()=>[L(Fe,{"icon-class":"layout",onClick:x.handleChangeDesignerBorder},null,8,["onClick"])]),_:1}),L(Ee,{effect:"light",content:"\u6E05\u7A7A\u5E03\u5C40",placement:"bottom"},{default:de(()=>[L(Fe,{"icon-class":"clear-layout",onClick:x.handleClearLayout},null,8,["onClick"])]),_:1}),L(Ee,{effect:"light",content:"\u5220\u9664\u63A7\u4EF6 DELETE",placement:"bottom"},{default:de(()=>[L(Fe,{"icon-class":"delete",onClick:x.handleDeleteControl},null,8,["onClick"])]),_:1})]),_:1})]),_:1})]),_:1})}var XW=Am(qW,[["render",KW],["__scopeId","data-v-0e2001be"]]);const YW=fd({name:"ComponentTree",components:{CmsRow:DW,CmsContainer:_W,CmsOffset:RW,CmsFixed:BW,CmsText:MW,CmsRichText:PW,CmsNavBar:$W,CmsImage:NW,CmsImageTextRow:FW,CmsLink:zW,CmsCarousel:IW,CmsMap:LW,CmsTab:VW,CmsBackTop:HW,CmsAnimated:UW,CmsHover:WW},props:{component_tree_list:{type:Array,default:()=>[]}},setup(x,{emit:P}){const kt=Ip(),{proxy:$t}=Lx(),{_handleRecursionDelete:_t,_handleRecursionGetParentNode:ut,_handleRecursionGetNodeByNodeId:Fe}=YO();let Ee=Rs({sotre_component_tree_list:kt.state.component_tree_list,show_border:!0});const et=K=>{},Me=(K,dt)=>{let Oe=null;if(K.id=="block_node"&&(Oe=ut(K,Ee.sotre_component_tree_list),K=Oe),!Oe){_t("block_node",Ee.sotre_component_tree_list);let Ht={id:"block_node",title:"\u5360\u4F4D\u5757",name:"cms-row",props:{},style:"flex: 1;border:1px dashed #cccccc;box-sizing:border-box;background:#fafafa;"};if(K.children){const qt=document.getElementById(K.id);let Nt=0;if(dt.clientY+document.getElementById("designer").scrollTop>=se(qt).offsetTop-2&&dt.clientY+document.getElementById("designer").scrollTop<=se(qt).offsetTop+2?Nt=1:dt.clientX+document.getElementById("designer").scrollLeft>=se(qt).offsetLeft-2&&dt.clientX+document.getElementById("designer").scrollLeft<=se(qt).offsetLeft+2?Nt=2:Nt=0,Nt==1||Nt==2){Oe=ut(K,Ee.sotre_component_tree_list),Oe.children&&(Oe=Oe.children);let Zt=0;for(let st=0;st<Oe.length;st++)if(Oe[st].id==K.id){Zt=st;break}Oe.splice(Zt,0,Ht)}else K.children.push(Ht)}else K.push(Ht)}},It=(K,dt)=>{r7(()=>{let Oe=null,Ht=null,qt=0,Nt=!1;if(K.id=="block_node"){Oe=ut(K,Ee.sotre_component_tree_list),Nt=!0,Ht=Oe.children?Oe.children:Oe;for(let st=0;st<Ht.length;st++)if(Ht[st].id==K.id){qt=st,qt=ht(qt,Oe);break}K=Oe}_t("block_node",Ee.sotre_component_tree_list);let Zt=JSON.parse(dt.dataTransfer.getData("node"));if(Nt){if(Oe.children)if(K.allow){if(K.id==Zt.id)return $t.$message({message:"\u7981\u6B62\u62D6\u5165\u81EA\u8EAB",type:"warning"}),!1;ge(),Oe.children.splice(qt,0,Zt)}else Zt={props:{}};else ge(),Oe.splice(qt,0,Zt);kt.dispatch("handleChangeCurrentNodeInfo",Zt);return}if(K.children){const st=document.getElementById(K.id);let jr=0;if(dt.clientY+document.getElementById("designer").scrollTop>=se(st).offsetTop-2&&dt.clientY+document.getElementById("designer").scrollTop<=se(st).offsetTop+2?jr=1:dt.clientX+document.getElementById("designer").scrollLeft>=se(st).offsetLeft-2&&dt.clientX+document.getElementById("designer").scrollLeft<=se(st).offsetLeft+2?jr=2:jr=0,jr==1||jr==2){Oe=ut(K,Ee.sotre_component_tree_list),Oe.children&&(Oe=Oe.children);let ve=0;for(let Q=0;Q<Oe.length;Q++)if(Oe[Q].id==K.id){ve=Q;break}ge(),Oe.splice(ve,0,Zt)}else if(K.allow){if(K.id==Zt.id)return $t.$message({message:"\u7981\u6B62\u62D6\u5165\u81EA\u8EAB",type:"warning"}),!1;ge(),K.children.push(Zt)}else Zt={props:{}},$t.$message({message:"\u7981\u6B62\u62D6\u5165",type:"warning"})}else ge(),K.push(Zt);kt.dispatch("handleChangeCurrentNodeInfo",Zt)})},se=K=>{let dt=K.offsetTop,Oe=K.offsetLeft;for(;K=K.offsetParent;)dt+=K.offsetTop,Oe+=K.offsetLeft;return{offsetTop:dt,offsetLeft:Oe}},Gt=K=>["cms-row","el-col","cms-container","cms-offset","cms-fixed","cms-link","cms-animated","cms-hover"].includes(K.name)&&kt.state.show_border?"padding":"",xn=K=>{const dt=(Ht,qt=0)=>Ht.target&&Ht.target.id?Ht.target.id:Ht.id?Ht.id:qt>10?!1:(qt++,dt(Ht.target?Ht.target.parentElement:Ht.parentElement,qt));let Oe=dt(K);if(Oe){let Ht=Fe(Oe,Ee.sotre_component_tree_list);kt.dispatch("handleChangeCurrentNodeInfo",Ht);let qt=document.getElementsByClassName("border")[0];qt&&(qt.className=qt.className.replace(" border",""));let Nt=document.getElementById(kt.state.current_node_info.id);Nt&&(Nt.className=Nt.className+" border")}},We=(K,dt)=>{dt.dataTransfer.setData("node",JSON.stringify(K)),kt.dispatch("handleChangeCurrentNodeInfo",{props:{}}),kt.dispatch("handleChangeDragNodeInfo",K)},ge=()=>{Object.keys(kt.state.drag_node_info).length>0&&(_t(kt.state.drag_node_info.id,Ee.sotre_component_tree_list),kt.dispatch("handleChangeDragNodeInfo",{}))},ht=(K,dt)=>{if(Object.keys(kt.state.drag_node_info).length>0){let Oe=ut(kt.state.drag_node_info,Ee.sotre_component_tree_list);if(Oe!=dt)return K;Oe.children&&(Oe=Oe.children);let Ht=0;for(let qt=0;qt<Oe.length;qt++)if(Oe[qt].id==kt.state.drag_node_info.id){Ht=qt;break}return K-Ht>=1?K-1:K}else return K},Ue=K=>{_t("block_node",Ee.sotre_component_tree_list)},Wt=(K,dt)=>{const Oe=kt.state.content_location;(dt.clientX!=Oe.x||dt.clientY!=Oe.y)&&(kt.dispatch("handleChangeContentNodeList",[]),kt.dispatch("handleChangeContentLocation",{x:dt.clientX,y:dt.clientY})),kt.state.content_node_list.includes(K)?kt.dispatch("handleChangeContentLocation",{x:dt.clientX,y:dt.clientY}):kt.dispatch("handleChangeContentNodeList",kt.state.content_node_list.concat([K]))};return zp(Xl({},Jl(Ee)),{handleDragEnterOnNode:et,handleDragOverOnNode:Me,handleDropOnNode:It,handleShowBorder:Gt,handleClick:xn,handleDragStart:We,handleDragEnd:Ue,openMenu:Wt})}});function JW(x,P,kt,$t,_t,ut){const Fe=Gn("component-tree",!0);return Ne(!0),_r(Ya,null,dd(x.component_tree_list,(Ee,et)=>(Ne(),Et(yW(Ee.name),bW({key:Ee.id+et,id:Ee.id},Ee.props,{modelValue:Ee.value,"onUpdate:modelValue":Me=>Ee.value=Me,class:x.handleShowBorder(Ee),style:Ee.style,draggable:!0,onDragstart:Ow(Me=>x.handleDragStart(Ee,Me),["stop"]),onDragend:x.handleDragEnd,onDragenter:Ow(x.handleDragEnterOnNode,["stop","prevent"]),onDragover:Ow(Me=>x.handleDragOverOnNode(Ee,Me),["stop","prevent"]),onDrop:Ow(Me=>x.handleDropOnNode(Ee,Me),["stop","prevent"]),onClick:Ow(x.handleClick,["stop","prevent"]),onContextmenu:Ow(Me=>x.openMenu(Ee,Me),["prevent"])}),{default:de(()=>[Kg(Om(Ee.text)+" ",1),Ee.children?(Ne(),Et(Fe,{key:0,component_tree_list:Ee.children},null,8,["component_tree_list"])):gt("",!0)]),_:2},1040,["id","modelValue","onUpdate:modelValue","class","style","onDragstart","onDragend","onDragenter","onDragover","onDrop","onClick","onContextmenu"]))),128)}var ZW=Am(YW,[["render",JW],["__scopeId","data-v-2e4c7986"]]);const QW=fd({name:"Designer",components:{ComponentTree:ZW,ToolBar:XW},setup(){const x=Ip();c0();const P=f0(),{_handleRecursionDelete:kt}=YO(),$t=Rs({is_preview:Yl({get(){return x.state.is_preview}}),preview_type:Yl({get(){return x.state.preview_type}}),attribute:Yl({get(){return x.state.current_node_info.props},set(ge){}}),component_tree_list:Yl({get(){return x.state.component_tree_list},set(ge){x.dispatch("handleChangeComponentTreeList",ge)}}),content_location:Yl({get(){return x.state.content_location}}),content_node_list:Yl({get(){return x.state.content_node_list}})});vd(()=>$t.attribute,(ge,ht)=>{r7(()=>{let Ue=document.getElementsByClassName("border")[0];Ue&&(Ue.className=Ue.className.replace(" border",""));let Wt=document.getElementById(x.state.current_node_info.id);Wt&&(Wt.className=Wt.className+" border")})},{deep:!0}),vd(()=>$t.content_node_list,ge=>{ge.length>0&&document.body.addEventListener("click",()=>{x.dispatch("handleChangeContentNodeList",[]),x.dispatch("handleChangeContentLocation",{x:null,y:null})})});let _t=Rs({horizontal_section:0,vertical_section:0,preview_url:window.location.origin+"/#/?id="+P.query.id});Ix(()=>{ut()});const ut=()=>{let ge=document.getElementById("horizontal"),ht=document.getElementById("vertical");_t.horizontal_section=Math.ceil(ge.offsetWidth/10),_t.vertical_section=Math.ceil(ht.offsetHeight/10),window.onresize=()=>{_t.horizontal_section=Math.ceil(ge.offsetWidth/10),_t.vertical_section=Math.ceil(ht.offsetHeight/10)}},Fe=ge=>{},Ee=ge=>{ge.preventDefault();let ht=!1,Ue=ge.clientY+document.getElementById("designer").scrollTop;for(let K=0;K<$t.component_tree_list.length;K++){const dt=$t.component_tree_list[K],Oe=document.getElementById(dt.id);if(K==0&&Ue<Oe.offsetTop){ht=!0,_t.insert_index=0;break}else if(Ue<Oe.offsetTop+Oe.offsetHeight/2){ht=!0,_t.insert_index=K;break}else if(K==$t.component_tree_list.length-1&&!ht){_t.insert_index=K+1;break}}kt("block_node",$t.component_tree_list);let Wt={id:"block_node",title:"",name:"cms-row",props:{},style:"flex: 1;border:1px dashed #cccccc;box-sizing:border-box;background:#fafafa;"};$t.component_tree_list.splice(_t.insert_index,0,Wt)},et=ge=>{},Me=ge=>{ge.preventDefault(),kt("block_node",$t.component_tree_list);let ht=JSON.parse(ge.dataTransfer.getData("node"));se(),$t.component_tree_list.splice(_t.insert_index,0,ht),x.dispatch("handleChangeCurrentNodeInfo",ht)},It=ge=>{if(ge.target.id=="designer"){let ht=document.getElementsByClassName("border")[0];ht&&(ht.className=ht.className.replace(" border","")),x.dispatch("handleChangeCurrentNodeInfo",{props:{}})}},se=()=>{Object.keys(x.state.drag_node_info).length>0&&(kt(x.state.drag_node_info.id,$t.component_tree_list),x.dispatch("handleChangeDragNodeInfo",{}))},Gt=ge=>{x.dispatch("handleChangeCurrentNodeInfo",ge);let ht=document.getElementsByClassName("hover-border")[0];ht&&(ht.className=ht.className.replace(" hover-border","")),ht=document.getElementsByClassName("border")[0],ht&&(ht.className=ht.className.replace(" border",""));let Ue=document.getElementById(x.state.current_node_info.id);Ue&&(Ue.className=Ue.className+" border")},xn=ge=>{let ht=document.getElementById(ge.id);ht&&(ht.className=ht.className+" hover-border")},We=ge=>{let ht=document.getElementsByClassName("hover-border")[0];ht&&(ht.className=ht.className.replace(" hover-border",""))};return zp(Xl(Xl({},Jl(_t)),Jl($t)),{handleDragEnter:Fe,handleDragOver:Ee,handleDragLeave:et,handleDrop:Me,handleClick:It,handleClickContentMenuItem:Gt,handleMouseOverContentMenuItem:xn,handleMouseOutContentMenuItem:We})}}),ej=["src"],tj={key:0,id:"cms-ruler",class:"cms-ruler"},nj={id:"horizontal",class:"horizontal"},rj={key:0,class:"ruler-item ruler-item-number"},aj={class:"ruler-item-number-title"},oj={key:1,class:"ruler-item"},ij={id:"vertical",class:"vertical"},uj={key:0,class:"ruler-item ruler-item-number"},lj={class:"ruler-item-number-title"},sj={key:1,class:"ruler-item"},cj=["onClick","onMouseover","onMouseout"];function fj(x,P,kt,$t,_t,ut){const Fe=Gn("tool-bar"),Ee=Gn("component-tree"),et=Gn("el-empty"),Me=Gn("el-container"),It=Gn("el-main");return Ne(),Et(Me,{style:{"flex-direction":"column"}},{default:de(()=>[x.is_preview?gt("",!0):(Ne(),Et(Fe,{key:0})),x.is_preview?(Ne(),_r("iframe",{key:1,class:cc("preview-iframe preview_type_"+x.preview_type),src:x.preview_url,frameborder:"0"},null,10,ej)):gt("",!0),x.is_preview?gt("",!0):(Ne(),Et(It,{key:2,class:"designer-container"},{default:de(()=>[L(Me,{class:"designer-container-box designer-container-ruler-padding"},{default:de(()=>[ea("div",{id:"designer",onDragenter:P[0]||(P[0]=(...se)=>x.handleDragEnter&&x.handleDragEnter(...se)),onDragover:P[1]||(P[1]=(...se)=>x.handleDragOver&&x.handleDragOver(...se)),onDragleave:P[2]||(P[2]=(...se)=>x.handleDragLeave&&x.handleDragLeave(...se)),onDrop:P[3]||(P[3]=(...se)=>x.handleDrop&&x.handleDrop(...se)),onClick:P[4]||(P[4]=(...se)=>x.handleClick&&x.handleClick(...se))},[x.component_tree_list.length!=0?(Ne(),Et(Ee,{key:0,component_tree_list:x.component_tree_list},null,8,["component_tree_list"])):(Ne(),Et(et,{key:1,description:"\u8BD5\u8BD5\u5F80\u91CC\u9762\u62D6\u4E00\u4E2A\u7EC4\u4EF6"}))],32),x.is_preview?gt("",!0):(Ne(),_r("div",tj,[ea("div",nj,[(Ne(!0),_r(Ya,null,dd(x.horizontal_section,(se,Gt)=>(Ne(),_r(Ya,{key:Gt},[Gt%10==0?(Ne(),_r("div",rj,[ea("div",aj,Om(Gt*10),1)])):(Ne(),_r("div",oj))],64))),128))]),ea("div",ij,[(Ne(!0),_r(Ya,null,dd(x.vertical_section,(se,Gt)=>(Ne(),_r(Ya,{key:Gt},[Gt%10==0?(Ne(),_r("div",uj,[ea("div",lj,Om(Gt*10),1)])):(Ne(),_r("div",sj))],64))),128))])]))]),_:1}),Vx(ea("ul",{class:"contextmenu",style:wW({left:x.content_location.x+"px",top:x.content_location.y+"px"})},[(Ne(!0),_r(Ya,null,dd(x.content_node_list,(se,Gt)=>(Ne(),_r("li",{key:Gt,onClick:xn=>x.handleClickContentMenuItem(se),onMouseover:xn=>x.handleMouseOverContentMenuItem(se),onMouseout:xn=>x.handleMouseOutContentMenuItem(se)},Om(se.title),41,cj))),128))],4),[[YR,x.content_node_list.length>0]])]),_:1}))]),_:1})}var vj=Am(QW,[["render",fj],["__scopeId","data-v-604de682"]]);const dj={components:[{title:"\u57FA\u7840",type:"Basic",children:[{name:"cms-row",title:"\u6805\u683C\u884C",props:{gutter:0,justify:"flex-start",align:"center"},text:"",allow:!0,children:[]},{name:"el-col",title:"\u6805\u683C\u5217",props:{span:1,offset:0,push:0,pull:0,responsiveness:!1,xl:1,lg:1,md:1,sm:1,xs:1},text:"",allow:!0,children:[]},{name:"cms-container",title:"\u5BB9\u5668",props:{width:0,height:200,direction:"row",justify:"flex-start",align:"center",backgroundColor:"#ffffff",hoverBackgroundColor:"",hoverColor:"",border:!1,borderColor:"#cccccc",borderWidth:1,borderRadius:0,boxShadow:!1,boxShadowColor:"#cccccc",boxShadowBlur:4,boxShadowSpread:1,marginTop:0,marginRight:0,marginBottom:0,marginLeft:0,paddingTop:0,paddingRight:0,paddingBottom:0,paddingLeft:0},allow:!0,children:[]},{name:"cms-offset",title:"\u504F\u79FB",props:{offsetTop:0,offsetLeft:0,offsetRight:0},allow:!0,children:[]},{name:"cms-fixed",title:"\u56FA\u5B9A\u4F4D\u7F6E",props:{offsetTop:0,offsetLeft:0,offsetRight:0},allow:!0,children:[]},{name:"cms-text",title:"\u6587\u672C",props:{fontFamily:"Microsoft YaHei",fontSize:32,color:"#666666",bold:!1,italic:!1,letterSpacing:0},text:"\u6587\u672C\u7EC4\u4EF6\u9ED8\u8BA4\u6587\u5B57",allow:!1,children:[]},{name:"cms-rich-text",title:"\u5BCC\u6587\u672C",props:{content:'<div style="color:red;">\u5BCC\u6587\u672C\u9ED8\u8BA4\u6587\u5B57</div>'},allow:!1,children:[]},{name:"cms-nav-bar",title:"\u5BFC\u822A\u6761",props:{fontSize:18,color:"#333333",bold:!1,italic:!1,divider:!0,activeColor:"#277bcf",activeBackgroundColor:"#ffffff",backgroundColor:"#ffffff",contentBackground:"#ffffff",underlineHeight:2,marginTop:0,marginRight:0,marginBottom:0,marginLeft:0,paddingTop:0,paddingRight:0,paddingBottom:0,paddingLeft:0,contentPaddingTop:15,contentPaddingRight:30,contentPaddingBottom:15,contentPaddingLeft:30,activeIndex:0,items:[{text:"\u4E3B\u9875",link:""},{text:"\u54A8\u8BE2",link:"/?id=111"},{text:"\u670D\u52A1",link:"/?id=222"},{text:"\u4EA7\u54C1",link:"/?id=333"},{text:"\u65B0\u95FB",link:"/?id=444"},{text:"\u5173\u4E8E\u6211\u4EEC",link:"/?id=555"},{text:"\u8054\u7CFB\u6211\u4EEC",link:"/?id=666"}]},allow:!1,children:[]},{name:"cms-image",title:"\u81EA\u9002\u5E94\u56FE\u7247",props:{borderRadius:0,src:"https://iph.href.lu/1920x1920?text=1920*1920&fg=ffffff&bg=66c95f",hoverScale:!1},allow:!0,children:[]},{name:"cms-image-text-row",title:"\u56FE\u7247\u6587\u5B57",props:{fontSize:16,color:"#666666",bold:!1,italic:!1,backgroundColor:"#ffffff",marginTop:0,marginRight:0,marginBottom:0,marginLeft:0,paddingTop:20,paddingRight:20,paddingBottom:20,paddingLeft:20,contentPaddingTop:10,contentPaddingRight:10,contentPaddingBottom:10,contentPaddingLeft:10,items:[{src:"https://iph.href.lu/1920x1920?text=1920*1920&fg=ffffff&bg=66c95f",text:"\u9884\u6D4B\u4F01\u4E1A\u672A\u6765\u7684\u7ECF\u8425\u65B9\u7565\uFF0C\u4E0D\u65AD\u5730\u8FDB\u884C\u66F4\u65B0\u3002\u4F01\u4E1A\u7684\u4E1A\u52A1\u53D1\u751F\u53D8\u5316\u65F6\uFF0C\u4E5F\u4E0D\u9700\u8981\u989D\u5916\u8FDB\u884C\u7CFB\u7EDF\u5F00\u53D1\uFF0C\u4FBF\u53EF\u4F7F\u7528\u5BF9\u5E94\u529F\u80FD\u3002\u901A\u8FC7\u4E0D\u61C8\u5730\u53D1\u5C55\uFF0C\u4E0D\u4EC5\u662F\u73B0\u5728\uFF0C\u5728\u672A\u676510\u5E74\u4E5F\u53EF\u4EE5\u901A\u8FC7\u6211\u4EEC\u7BA1\u7406\u4F01\u4E1A\u7684\u6240\u6709\u4E1A\u52A1\u3002",link:"/?id=333"},{src:"https://iph.href.lu/1920x1920?text=1920*1920&fg=ffffff&bg=66c95f",text:"\u9884\u6D4B\u4F01\u4E1A\u672A\u6765\u7684\u7ECF\u8425\u65B9\u7565\uFF0C\u4E0D\u65AD\u5730\u8FDB\u884C\u66F4\u65B0\u3002\u4F01\u4E1A\u7684\u4E1A\u52A1\u53D1\u751F\u53D8\u5316\u65F6\uFF0C\u4E5F\u4E0D\u9700\u8981\u989D\u5916\u8FDB\u884C\u7CFB\u7EDF\u5F00\u53D1\uFF0C\u4FBF\u53EF\u4F7F\u7528\u5BF9\u5E94\u529F\u80FD\u3002\u901A\u8FC7\u4E0D\u61C8\u5730\u53D1\u5C55\uFF0C\u4E0D\u4EC5\u662F\u73B0\u5728\uFF0C\u5728\u672A\u676510\u5E74\u4E5F\u53EF\u4EE5\u901A\u8FC7\u6211\u4EEC\u7BA1\u7406\u4F01\u4E1A\u7684\u6240\u6709\u4E1A\u52A1\u3002",link:"/?id=333"},{src:"https://iph.href.lu/1920x1920?text=1920*1920&fg=ffffff&bg=66c95f",text:"\u9884\u6D4B\u4F01\u4E1A\u672A\u6765\u7684\u7ECF\u8425\u65B9\u7565\uFF0C\u4E0D\u65AD\u5730\u8FDB\u884C\u66F4\u65B0\u3002\u4F01\u4E1A\u7684\u4E1A\u52A1\u53D1\u751F\u53D8\u5316\u65F6\uFF0C\u4E5F\u4E0D\u9700\u8981\u989D\u5916\u8FDB\u884C\u7CFB\u7EDF\u5F00\u53D1\uFF0C\u4FBF\u53EF\u4F7F\u7528\u5BF9\u5E94\u529F\u80FD\u3002\u901A\u8FC7\u4E0D\u61C8\u5730\u53D1\u5C55\uFF0C\u4E0D\u4EC5\u662F\u73B0\u5728\uFF0C\u5728\u672A\u676510\u5E74\u4E5F\u53EF\u4EE5\u901A\u8FC7\u6211\u4EEC\u7BA1\u7406\u4F01\u4E1A\u7684\u6240\u6709\u4E1A\u52A1\u3002",link:"/?id=333"}]},allow:!0,children:[]},{name:"cms-link",title:"\u8D85\u94FE\u63A5",props:{type:1,href:""},allow:!0,children:[]},{name:"cms-carousel",title:"\u8F6E\u64AD\u56FE",props:{indicatorPosition:"",arrow:"hover",interval:1500,items:[{src:"https://iph.href.lu/1920x300?text=1920*300&fg=ffffff&bg=66c95f",link:"/?id=333"},{src:"https://iph.href.lu/1920x300?text=1920*300&fg=ffffff&bg=66c95f",link:"/?id=333"}]},allow:!1,children:[]},{name:"cms-map",title:"\u5730\u56FE",props:{longitude:120.730301,latitude:30.732189,title:"\u521B\u4E1A\u5927\u53A6",describe:"\u6D59\u6C5F\u7701\u5609\u5174\u5E02\u5357\u6E56\u533A\u57CE\u5357\u8857\u9053\u91D1\u7A57\u8DEF1539\u53F7\u521B\u4E1A\u5927\u53A6(\u57CE\u5357\u8DEF)"},allow:!1,children:[]},{name:"cms-tab",title:"\u9009\u9879\u5361",props:{type:"horizintal",titleFontSize:20,titleColor:"#333333",activeColor:"#277bcf",contentFontSize:16,contentColor:"#666666",titlePaddingTop:10,titlePaddingRight:20,titlePaddingBottom:10,titlePaddingLeft:20,contentPaddingTop:0,contentPaddingRight:0,contentPaddingBottom:0,contentPaddingLeft:0,items:[{title:"\u9009\u98791",src:"https://iph.href.lu/1920x1920?text=1920*1920&fg=ffffff&bg=66c95f",text:"\u9009\u98791\u5185\u5BB9\u63CF\u8FF0"},{title:"\u9009\u98792",src:"https://iph.href.lu/1920x1920?text=1920*1920&fg=ffffff&bg=66c95f",text:"\u9009\u98792\u5185\u5BB9\u63CF\u8FF0"},{title:"\u9009\u98793",src:"https://iph.href.lu/1920x1920?text=1920*1920&fg=ffffff&bg=66c95f",text:"\u9009\u98793\u5185\u5BB9\u63CF\u8FF0"}]},allow:!1,children:[]},{name:"cms-back-top",title:"\u56DE\u5230\u9876\u90E8",props:{color:"#ffffff",backgroundColor:"#277bcf"},allow:!1,children:[]}]},{title:"\u9AD8\u7EA7",type:"Advanced",children:[{name:"cms-animated",title:"\u52A8\u753B",props:{animation:"animate__fadeIn",duration:2,delay:0,iteration:1},allow:!0,children:[]},{name:"cms-hover",title:"\u9F20\u6807\u79FB\u5165",props:{animation:"hvr-grow",cursor:"",backgroundColor:"#cccccc",activeBackgroundColor:"#277bcf"},allow:!0,children:[]}]}]};const mj=fd({name:"Template",components:{},setup(){const x=Ip();c0(),f0();const{_generateUUID:P,_handleRecursionDelete:kt}=YO();let $t=Rs({component_type:"Basic"});const _t=et=>{},ut=(et,Me)=>{et.id="node-"+P(),et.children.forEach(It=>{It.id="node-"+P()}),Me.dataTransfer.setData("node",JSON.stringify(et)),x.dispatch("handleChangeCurrentNodeInfo",{props:{}})},Fe=et=>{kt("block_node",x.state.component_tree_list)},Ee=et=>{kt("block_node",x.state.component_tree_list)};return zp(Xl({},Jl($t)),{components_list:dj,handleChangeTab:_t,handleDragStart:ut,handleDragEnd:Fe,handleDragEnterContrlList:Ee})}}),gj=["onDragstart"],hj={style:{"vertical-align":"middle"}};function pj(x,P,kt,$t,_t,ut){const Fe=Gn("svg-icon"),Ee=Gn("el-tab-pane"),et=Gn("el-tabs"),Me=Gn("el-aside");return Ne(),Et(Me,{class:"control-bar",width:"144px"},{default:de(()=>[L(et,{id:"components-window-tab",type:"border-card",modelValue:x.component_type,"onUpdate:modelValue":P[0]||(P[0]=It=>x.component_type=It),onTabClick:x.handleChangeTab,onDragenter:x.handleDragEnterContrlList,onDragend:x.handleDragEnd},{default:de(()=>[(Ne(!0),_r(Ya,null,dd(x.components_list.components,(It,se)=>(Ne(),Et(Ee,{key:se,class:"components-window-tab-content",label:It.title,name:It.type},{default:de(()=>[(Ne(!0),_r(Ya,null,dd(It.children,(Gt,xn)=>(Ne(),_r("div",{key:xn,class:"component",draggable:!0,onDragstart:We=>x.handleDragStart(Gt,We)},[Gt.name=="cms-row"?(Ne(),Et(Fe,{key:0,"icon-class":"cms-row"})):gt("",!0),Gt.name=="el-col"?(Ne(),Et(Fe,{key:1,"icon-class":"el-col"})):gt("",!0),Gt.name=="cms-container"?(Ne(),Et(Fe,{key:2,"icon-class":"cms-container"})):gt("",!0),Gt.name=="cms-offset"?(Ne(),Et(Fe,{key:3,"icon-class":"cms-offset"})):gt("",!0),Gt.name=="cms-fixed"?(Ne(),Et(Fe,{key:4,"icon-class":"cms-fixed"})):gt("",!0),Gt.name=="cms-text"?(Ne(),Et(Fe,{key:5,"icon-class":"cms-text"})):gt("",!0),Gt.name=="cms-rich-text"?(Ne(),Et(Fe,{key:6,"icon-class":"cms-rich-text"})):gt("",!0),Gt.name=="cms-nav-bar"?(Ne(),Et(Fe,{key:7,"icon-class":"cms-nav-bar"})):gt("",!0),Gt.name=="cms-image"?(Ne(),Et(Fe,{key:8,"icon-class":"cms-image"})):gt("",!0),Gt.name=="cms-image-text-row"?(Ne(),Et(Fe,{key:9,"icon-class":"cms-image-text-row"})):gt("",!0),Gt.name=="cms-link"?(Ne(),Et(Fe,{key:10,"icon-class":"cms-link"})):gt("",!0),Gt.name=="cms-carousel"?(Ne(),Et(Fe,{key:11,"icon-class":"cms-carousel"})):gt("",!0),Gt.name=="cms-map"?(Ne(),Et(Fe,{key:12,"icon-class":"cms-map"})):gt("",!0),Gt.name=="cms-tab"?(Ne(),Et(Fe,{key:13,"icon-class":"cms-tab"})):gt("",!0),Gt.name=="cms-back-top"?(Ne(),Et(Fe,{key:14,"icon-class":"cms-back-top"})):gt("",!0),Gt.name=="cms-animated"?(Ne(),Et(Fe,{key:15,"icon-class":"cms-animated"})):gt("",!0),Gt.name=="cms-hover"?(Ne(),Et(Fe,{key:16,"icon-class":"cms-hover"})):gt("",!0),ea("span",hj,Om(Gt.title),1)],40,gj))),128))]),_:2},1032,["label","name"]))),128))]),_:1},8,["modelValue","onTabClick","onDragenter","onDragend"])]),_:1})}var bj=Am(mj,[["render",pj],["__scopeId","data-v-36c53a59"]]);function o7(x){return a7({url:"/Upload/FileUpload",method:"post",headers:{"Content-Type":"multipart/form-data"},data:x})}function yj(x){return a7({url:"/Upload/DirList",method:"get",params:x})}function wj(x){return a7({url:"/Upload/MakeDir",method:"post",data:x})}const Cj=fd({name:"Upload",components:{},props:{file:{type:String,default:""},fileType:{type:String,default:"image/*"},multiple:{type:Boolean,defalut:!1},limit:{type:Number,default:3},files:{type:Array,default:function(){return[]}}},emits:["handleUploadSuccess","handleDeleteFile","handleClickDeleteMultiple","handleUploadMultipleSuccess"],setup(x,{emit:P}){const{proxy:kt}=Lx(),$t=Hx(null),_t=Hx(null),ut=Hx(null),Fe=Hx(null);let Ee=Rs({imgUrl:"",imgList:[],isShowOpt:!1,show_upload_dialog:!1,dir_list:[],params:{path:"\\"},show_make_dir_dialog:!1,ruleForm:{path:"",dir_name:""},rules:{dir_name:[{required:!0,message:"\u8BF7\u8F93\u5165\u6587\u4EF6\u5939\u540D\u79F0",trigger:"blur"}]}});vd(()=>x.file,Oe=>{Ee.imgUrl=Oe},{immediate:!0}),vd(()=>x.files,Oe=>{Ee.imgList=[],Oe.forEach(Ht=>{Ee.imgList.push({url:Ht,isShowMask:!1})})},{immediate:!0});const et=Oe=>{let Ht=new FormData;Ht.append("file",Oe),Ht.append("path",Ee.params.path),o7(Ht).then(qt=>{Ee.imgUrl=qt.data.imgUrl,kt.$message({message:"\u4E0A\u4F20\u6210\u529F",type:"success",duration:1500,onClose:function(){}}),P("handleUploadSuccess",Ee.imgUrl),Ee.show_upload_dialog=!1}).catch(()=>{})},Me=()=>{Ee.imgUrl="",P("handleDeleteFile")},It=Oe=>{Ee.imgList.splice(Oe,1);let Ht=[...Ee.imgList].map(qt=>qt.url);P("handleClickDeleteMultiple",Ht)},se=Oe=>{if(Oe.length+Ee.imgList.length>x.limit)return kt.$message({type:"error",message:"\u6700\u591A\u53EF\u4E0A\u4F20"+x.limit+"\u5F20"}),!1;new Promise(Ht=>{Array.from(Oe).forEach((qt,Nt)=>n7(this,null,function*(){let Zt=new FormData;Zt.append("file",qt),Zt.append("path",Ee.params.path),yield o7(Zt).then(st=>{Ee.imgList.push({url:st.data.imgUrl,isShowMask:!1}),Nt==Oe.length-1&&Ht()}).catch(()=>{})}))}).then(()=>{kt.$message({type:"success",message:"\u56FE\u7247\u5217\u8868\u4E0A\u4F20\u6210\u529F"});let Ht=[...Ee.imgList].map(qt=>qt.url);P("handleUploadMultipleSuccess",Ht),Ee.show_upload_dialog=!1})},Gt=()=>{Ee.show_upload_dialog=!0,We()},xn=()=>{x.multiple?_t.value.click():$t.value.click()},We=()=>n7(this,null,function*(){try{const Oe=yield yj(Ee.params);Ee.dir_list=Oe.data.data;const Ht=document.getElementById("upload_dialog").querySelector(".el-dialog__body");Ht.scrollTop=0}catch(Oe){Ee.params.path="\\",Fe.value.focus()}}),ge=Oe=>{const Ht=Ee.dir_list[Oe];Ee.params.path=Ee.params.path+Ht.title+"\\",We()},ht=()=>{if(Ee.params.path=="\\")return!1;Ee.params.path=Ee.params.path.match(/^(.*\\).*\\.*$/)[1],We()},Ue=()=>{Ee.show_make_dir_dialog=!0},Wt=()=>{Ee.params.path.substr(-1,1)!=="\\"&&(Ee.params.path+="\\"),Ee.params.path.substr(0,1)!=="\\"&&(Ee.params.path="\\"+Ee.params.path),We()},K=Oe=>{const Ht=Ee.dir_list[Oe];if(x.multiple){if(Ee.imgList.length+1>x.limit)return kt.$message({type:"error",message:"\u6700\u591A\u8BBE\u7F6E"+x.limit+"\u5F20"}),!1;{Ee.imgList.push({url:Ht.url,isShowMask:!1});let qt=[...Ee.imgList].map(Nt=>Nt.url);P("handleUploadMultipleSuccess",qt)}}else P("handleUploadSuccess",Ht.url);Ee.show_upload_dialog=!1},dt=()=>{ut.value.validate(Oe=>{if(Oe)Ee.ruleForm.path=Ee.params.path,wj(Ee.ruleForm).then(Ht=>{kt.$message({message:"\u521B\u5EFA\u6210\u529F",type:"success",duration:1e3,onClose:function(){Ee.show_make_dir_dialog=!1,Ee.params.path=Ee.params.path+Ee.ruleForm.dir_name+"\\",We(),Ee.ruleForm.path="",Ee.ruleForm.dir_name=""}})}).catch(()=>{});else return console.log("error submit!!"),!1})};return zp(Xl({fileRef:$t,filesRef:_t,ruleFormRef:ut,dirPathInputRef:Fe},Jl(Ee)),{handleUploadFile:et,handleClickDelete:Me,handleClickDeleteMultiple:It,handleUploadFiles:se,handleClickShowUploadDialog:Gt,handleClickUpload:xn,handleDbClickEnterDir:ge,handleClickBackParentDir:ht,handleClickMakeDir:Ue,handleBlurDirPath:Wt,handleDbClickSelectImage:K,submitForm:dt})}}),Sj={class:"upload-file-commpent"},kj=["src"],xj={class:"opt"},Tj=["onMouseenter","onMouseleave"],Ej=["src"],Oj={class:"opt"},Aj={id:"upload_dialog"},Dj=Kg("\u56FE\u7247\u4E0A\u4F20\uFF08\u53EA\u80FD\u6DFB\u52A0jpeg,png,gif\u683C\u5F0F\u56FE\u7247\uFF09\u5927\u5C0F\u4E0D\u8D85\u8FC71M"),_j={class:"dir-path"},Rj=Kg(" \u76EE\u5F55\uFF1A "),Bj=Kg("\u76F4\u63A5\u4E0A\u4F20"),Mj=Kg("\u65B0\u5EFA\u6587\u4EF6\u5939"),Pj=["accept"],$j=["accept","multiple"],Nj=["onDblclick"],Fj={class:"dir-title"},zj=["onDblclick"],Ij=["src"],Lj={class:"img-title"},Vj={id:"make_dir_dialog"},Hj=Kg("\u786E\u5B9A");function Uj(x,P,kt,$t,_t,ut){const Fe=Gn("plus"),Ee=Gn("el-icon"),et=Gn("delete"),Me=Gn("el-row"),It=Gn("top"),se=Gn("el-input"),Gt=Gn("el-button"),xn=Gn("svg-icon"),We=Gn("el-col"),ge=Gn("el-dialog"),ht=Gn("el-form-item"),Ue=Gn("el-form"),Wt=Yz("el-drag-dialog");return Ne(),_r("div",Sj,[x.multiple?gt("",!0):(Ne(),_r(Ya,{key:0},[x.imgUrl?(Ne(),_r("div",{key:0,class:"uplaod-file-preview",onMouseenter:P[2]||(P[2]=K=>x.isShowOpt=!0),onMouseleave:P[3]||(P[3]=K=>x.isShowOpt=!1)},[ea("img",{src:x.imgUrl,alt:"\u4E0A\u4F20\u6210\u529F\u56FE\u7247"},null,8,kj),Vx(ea("div",xj,[L(Ee,{class:"add-btn",onClick:P[0]||(P[0]=K=>x.handleClickShowUploadDialog())},{default:de(()=>[L(Fe)]),_:1}),L(Ee,{class:"delete-btn",onClick:P[1]||(P[1]=K=>x.handleClickDelete())},{default:de(()=>[L(et)]),_:1})],512),[[YR,x.isShowOpt]])],32)):gt("",!0),x.imgUrl?gt("",!0):(Ne(),_r("div",{key:1,class:"upload-file-btn",onClick:P[4]||(P[4]=K=>x.handleClickShowUploadDialog())},[L(Ee,null,{default:de(()=>[L(Fe)]),_:1})]))],64)),x.multiple?(Ne(),_r(Ya,{key:1},[(Ne(!0),_r(Ya,null,dd(x.imgList,(K,dt)=>(Ne(),_r("div",{key:dt,class:"uplaod-file-preview",onMouseenter:Oe=>K.isShowMask=!0,onMouseleave:Oe=>K.isShowMask=!1},[ea("img",{src:K.url,alt:"\u4E0A\u4F20\u6210\u529F\u56FE\u7247"},null,8,Ej),Vx(ea("div",Oj,[L(Ee,{class:"add-btn",onClick:P[5]||(P[5]=Oe=>x.handleClickShowUploadDialog())},{default:de(()=>[L(Fe)]),_:1}),L(Ee,{class:"delete-btn",onClick:Oe=>x.handleClickDeleteMultiple(dt)},{default:de(()=>[L(et)]),_:2},1032,["onClick"])],512),[[YR,K.isShowMask]])],40,Tj))),128)),x.imgList.length<x.limit?(Ne(),_r("div",{key:0,class:"upload-file-btn",onClick:P[6]||(P[6]=K=>x.handleClickShowUploadDialog())},[L(Ee,null,{default:de(()=>[L(Fe)]),_:1})])):gt("",!0)],64)):gt("",!0),ea("div",Aj,[L(ge,{"model-value":x.show_upload_dialog,onClose:P[15]||(P[15]=K=>x.show_upload_dialog=!1)},{title:de(()=>[L(Me,{class:"dialog-title"},{default:de(()=>[Dj]),_:1}),L(Me,{class:"dir-tool-bar"},{default:de(()=>[L(Ee,{onClick:P[7]||(P[7]=K=>x.handleClickBackParentDir()),class:cc(x.params.path=="\\"?"disabled":"")},{default:de(()=>[L(It)]),_:1},8,["class"]),ea("div",_j,[Rj,L(se,{ref:"dirPathInputRef",class:"dir-path-input",modelValue:x.params.path,"onUpdate:modelValue":P[8]||(P[8]=K=>x.params.path=K),placeholder:"\u6587\u4EF6\u5939\u8DEF\u5F84",onBlur:P[9]||(P[9]=K=>x.handleBlurDirPath()),onKeyup:P[10]||(P[10]=CW(K=>x.handleBlurDirPath(),["enter"]))},null,8,["modelValue"])]),L(Gt,{type:"primary",onClick:P[11]||(P[11]=K=>x.handleClickUpload())},{default:de(()=>[Bj]),_:1}),L(Gt,{type:"warning",onClick:P[12]||(P[12]=K=>x.handleClickMakeDir())},{default:de(()=>[Mj]),_:1}),ea("input",{ref:"fileRef",type:"file",class:"upload-file-input",accept:x.fileType,onChange:P[13]||(P[13]=K=>x.handleUploadFile(K.target.files[0]))},null,40,Pj),ea("input",{ref:"filesRef",type:"file",class:"upload-file-input",accept:x.fileType,multiple:x.multiple,onChange:P[14]||(P[14]=K=>x.handleUploadFiles(K.target.files))},null,40,$j)]),_:1})]),default:de(()=>[L(Me,{class:"dir-list",gutter:40},{default:de(()=>[(Ne(!0),_r(Ya,null,dd(x.dir_list,(K,dt)=>(Ne(),Et(We,{class:"item",span:4,key:dt},{default:de(()=>[K.type==1?(Ne(),_r("div",{key:0,onDblclick:Oe=>x.handleDbClickEnterDir(dt)},[L(xn,{"icon-class":"dir"}),ea("div",Fj,Om(K.title),1)],40,Nj)):gt("",!0),K.type==2?(Ne(),_r("div",{key:1,class:"img-item-box",onDblclick:Oe=>x.handleDbClickSelectImage(dt)},[ea("img",{src:K.url},null,8,Ij),ea("div",Lj,Om(K.title),1)],40,zj)):gt("",!0)]),_:2},1024))),128))]),_:1})]),_:1},8,["model-value"])]),Vx(ea("div",Vj,[L(ge,{title:"\u65B0\u5EFA\u6587\u4EF6\u5939","model-value":x.show_make_dir_dialog,onClose:P[18]||(P[18]=K=>x.show_make_dir_dialog=!1)},{footer:de(()=>[L(Gt,{type:"primary",size:"medium",onClick:P[17]||(P[17]=K=>x.submitForm())},{default:de(()=>[Hj]),_:1})]),default:de(()=>[L(Ue,{ref:"ruleFormRef",rules:x.rules,model:x.ruleForm,"label-position":"right","label-width":"150px"},{default:de(()=>[L(ht,{label:"\u6587\u4EF6\u5939\u540D\u79F0",prop:"dir_name"},{default:de(()=>[L(se,{modelValue:x.ruleForm.dir_name,"onUpdate:modelValue":P[16]||(P[16]=K=>x.ruleForm.dir_name=K),placeholder:"\u6587\u4EF6\u5939\u540D\u79F0"},null,8,["modelValue"])]),_:1})]),_:1},8,["rules","model"])]),_:1},8,["model-value"])],512),[[Wt]])])}var Wj=Am(Cj,[["render",Uj],["__scopeId","data-v-4d59b5b2"]]);const jj=fd({name:"CollapsePanel",components:{},props:{},setup(){Ip(),c0(),f0();let x=Rs({collapse:!0});return Xl({},Jl(x))}}),Gj={class:"collapse-panel"},qj={class:"collapse-panel-content"};function Kj(x,P,kt,$t,_t,ut){const Fe=Gn("arrow-right"),Ee=Gn("el-icon"),et=Gn("arrow-down"),Me=Gn("el-row");return Ne(),_r("div",Gj,[L(Me,{class:"collapse-header",justify:"end",align:"middle",type:"flex",onClick:P[0]||(P[0]=It=>x.collapse=!x.collapse)},{default:de(()=>[x.collapse?(Ne(),Et(Ee,{key:0},{default:de(()=>[L(Fe)]),_:1})):(Ne(),Et(Ee,{key:1},{default:de(()=>[L(et)]),_:1}))]),_:1}),L(kW,{name:"collapse-slide",mode:"out-in",key:"collapse-slide",appear:!1},{default:de(()=>[Vx(ea("div",qj,[SW(x.$slots,"default",{},void 0,!0)],512),[[YR,!x.collapse]])]),_:3})])}var Xj=Am(jj,[["render",Kj],["__scopeId","data-v-ace31bc2"]]);const Yj=fd({name:"Slider",components:{},props:{label:{type:String,defalut:""},modelValue:{type:Number,defalut:0},max:{type:Number,defalut:100}},emits:["update:modelValue"],setup(x,{emit:P}){Ip(),c0(),f0();const kt=Rs({model_value:Yl({get(){return x.modelValue},set(_t){P("update:modelValue",_t)}})});let $t=Rs({});return Xl(Xl({},Jl($t)),Jl(kt))}}),Jj={class:"slider"};function Zj(x,P,kt,$t,_t,ut){const Fe=Gn("el-slider");return Ne(),_r("div",Jj,[ea("span",null,Om(x.label),1),L(Fe,{modelValue:x.model_value,"onUpdate:modelValue":P[0]||(P[0]=Ee=>x.model_value=Ee),"input-size":"mini","show-input":"","show-tooltip":"","show-input-controls":!1,max:x.max},null,8,["modelValue","max"])])}var Qj=Am(Yj,[["render",Zj]]),Zz={exports:{}};(function(x){(function(){var P=function(e){if(e===null)return"null";if(e===void 0)return"undefined";var n=typeof e;return n==="object"&&(Array.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="Array")?"array":n==="object"&&(String.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="String")?"string":n},kt=function(e){return["undefined","boolean","number","string","function","xml","null"].indexOf(e)!==-1},$t=function(e,n){var a=Array.prototype.slice.call(e);return a.sort(n)},_t=function(e,n){return ut(function(a,i){return e.eq(n(a),n(i))})},ut=function(e){return{eq:e}},Fe=ut(function(e,n){return e===n}),Ee=Fe,et=function(e){return ut(function(n,a){if(n.length!==a.length)return!1;for(var i=n.length,l=0;l<i;l++)if(!e.eq(n[l],a[l]))return!1;return!0})},Me=function(e,n){return _t(et(e),function(a){return $t(a,n)})},It=function(e){return ut(function(n,a){var i=Object.keys(n),l=Object.keys(a);if(!Me(Ee).eq(i,l))return!1;for(var f=i.length,g=0;g<f;g++){var b=i[g];if(!e.eq(n[b],a[b]))return!1}return!0})},se=ut(function(e,n){if(e===n)return!0;var a=P(e),i=P(n);return a!==i?!1:kt(a)?e===n:a==="array"?et(se).eq(e,n):a==="object"?It(se).eq(e,n):!1}),Gt=function(e){var n=typeof e;return e===null?"null":n==="object"&&(Array.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="Array")?"array":n==="object"&&(String.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="String")?"string":n},xn=function(e){return function(n){return Gt(n)===e}},We=function(e){return function(n){return typeof n===e}},ge=function(e){return function(n){return e===n}},ht=xn("string"),Ue=xn("object"),Wt=xn("array"),K=ge(null),dt=We("boolean"),Oe=ge(void 0),Ht=function(e){return e==null},qt=function(e){return!Ht(e)},Nt=We("function"),Zt=We("number"),st=function(){},jr=function(e,n){return function(){for(var a=[],i=0;i<arguments.length;i++)a[i]=arguments[i];return e(n.apply(null,a))}},ve=function(e,n){return function(a){return e(n(a))}},Q=function(e){return function(){return e}},En=function(e){return e},wo=function(e,n){return e===n};function j(e){for(var n=[],a=1;a<arguments.length;a++)n[a-1]=arguments[a];return function(){for(var i=[],l=0;l<arguments.length;l++)i[l]=arguments[l];var f=n.concat(i);return e.apply(null,f)}}var Nr=function(e){return function(n){return!e(n)}},$n=function(e){return function(){throw new Error(e)}},_=function(e){return e()},Zr=function(e){e()},Mt=Q(!1),sn=Q(!0),_o=function(){return mi},mi=function(){var e=function(i){return i()},n=En,a={fold:function(i,l){return i()},isSome:Mt,isNone:sn,getOr:n,getOrThunk:e,getOrDie:function(i){throw new Error(i||"error: getOrDie called on none.")},getOrNull:Q(null),getOrUndefined:Q(void 0),or:n,orThunk:e,map:_o,each:st,bind:_o,exists:Mt,forall:sn,filter:function(){return _o()},toArray:function(){return[]},toString:Q("none()")};return a}(),er=function(e){var n=Q(e),a=function(){return l},i=function(f){return f(e)},l={fold:function(f,g){return g(e)},isSome:sn,isNone:Mt,getOr:n,getOrThunk:n,getOrDie:n,getOrNull:n,getOrUndefined:n,or:a,orThunk:a,map:function(f){return er(f(e))},each:function(f){f(e)},bind:i,exists:i,forall:i,filter:function(f){return f(e)?l:mi},toArray:function(){return[e]},toString:function(){return"some("+e+")"}};return l},ua=function(e){return e==null?mi:er(e)},te={some:er,none:_o,from:ua},vo=Array.prototype.slice,Tt=Array.prototype.indexOf,Ie=Array.prototype.push,dn=function(e,n){return Tt.call(e,n)},Pe=function(e,n){var a=dn(e,n);return a===-1?te.none():te.some(a)},Re=function(e,n){return dn(e,n)>-1},Qe=function(e,n){for(var a=0,i=e.length;a<i;a++){var l=e[a];if(n(l,a))return!0}return!1},pt=function(e,n){for(var a=e.length,i=new Array(a),l=0;l<a;l++){var f=e[l];i[l]=n(f,l)}return i},tt=function(e,n){for(var a=0,i=e.length;a<i;a++){var l=e[a];n(l,a)}},mn=function(e,n){for(var a=e.length-1;a>=0;a--){var i=e[a];n(i,a)}},zn=function(e,n){for(var a=[],i=[],l=0,f=e.length;l<f;l++){var g=e[l],b=n(g,l)?a:i;b.push(g)}return{pass:a,fail:i}},nn=function(e,n){for(var a=[],i=0,l=e.length;i<l;i++){var f=e[i];n(f,i)&&a.push(f)}return a},Ln=function(e,n,a){return mn(e,function(i,l){a=n(a,i,l)}),a},wr=function(e,n,a){return tt(e,function(i,l){a=n(a,i,l)}),a},Cn=function(e,n,a){for(var i=0,l=e.length;i<l;i++){var f=e[i];if(n(f,i))return te.some(f);if(a(f,i))break}return te.none()},Kr=function(e,n){return Cn(e,n,Mt)},Ro=function(e,n){for(var a=0,i=e.length;a<i;a++){var l=e[a];if(n(l,a))return te.some(a)}return te.none()},Rl=function(e){for(var n=[],a=0,i=e.length;a<i;++a){if(!Wt(e[a]))throw new Error("Arr.flatten item "+a+" was not an array, input: "+e);Ie.apply(n,e[a])}return n},uu=function(e,n){return Rl(pt(e,n))},lu=function(e,n){for(var a=0,i=e.length;a<i;++a){var l=e[a];if(n(l,a)!==!0)return!1}return!0},Bo=function(e){var n=vo.call(e,0);return n.reverse(),n},ku=function(e,n){return nn(e,function(a){return!Re(n,a)})},Ho=function(e,n){for(var a={},i=0,l=e.length;i<l;i++){var f=e[i];a[String(f)]=n(f,i)}return a},la=function(e,n){var a=vo.call(e,0);return a.sort(n),a},Xr=function(e,n){return n>=0&&n<e.length?te.some(e[n]):te.none()},oo=function(e){return Xr(e,0)},ta=function(e){return Xr(e,e.length-1)},Lr=Nt(Array.from)?Array.from:function(e){return vo.call(e)},Uo=function(e,n){for(var a=0;a<e.length;a++){var i=n(e[a],a);if(i.isSome())return i}return te.none()},ni=Object.keys,Ra=Object.hasOwnProperty,hr=function(e,n){for(var a=ni(e),i=0,l=a.length;i<l;i++){var f=a[i],g=e[f];n(g,f)}},Co=function(e,n){return Mo(e,function(a,i){return{k:i,v:n(a,i)}})},Mo=function(e,n){var a={};return hr(e,function(i,l){var f=n(i,l);a[f.k]=f.v}),a},Po=function(e){return function(n,a){e[a]=n}},bn=function(e,n,a,i){var l={};return hr(e,function(f,g){(n(f,g)?a:i)(f,g)}),l},Cr=function(e,n){var a={},i={};return bn(e,n,Po(a),Po(i)),{t:a,f:i}},Sa=function(e,n){var a={};return bn(e,n,Po(a),st),a},gi=function(e,n){var a=[];return hr(e,function(i,l){a.push(n(i,l))}),a},ul=function(e){return gi(e,En)},Pr=function(e,n){return tr(e,n)?te.from(e[n]):te.none()},tr=function(e,n){return Ra.call(e,n)},hi=function(e,n){return tr(e,n)&&e[n]!==void 0&&e[n]!==null},Bl=function(e,n,a){return a===void 0&&(a=se),It(a).eq(e,n)},ri=Array.isArray,ai=function(e){if(ri(e))return e;for(var n=[],a=0,i=e.length;a<i;a++)n[a]=e[a];return n},su=function(e,n,a){var i,l;if(!e)return!1;if(a=a||e,e.length!==void 0){for(i=0,l=e.length;i<l;i++)if(n.call(a,e[i],i,e)===!1)return!1}else for(i in e)if(tr(e,i)&&n.call(a,e[i],i,e)===!1)return!1;return!0},xu=function(e,n){var a=[];return su(e,function(i,l){a.push(n(i,l,e))}),a},qi=function(e,n){var a=[];return su(e,function(i,l){(!n||n(i,l,e))&&a.push(i)}),a},oi=function(e,n){if(e){for(var a=0,i=e.length;a<i;a++)if(e[a]===n)return a}return-1},Tu=function(e,n,a,i){for(var l=Oe(a)?e[0]:a,f=0;f<e.length;f++)l=n.call(i,l,e[f],f);return l},Fr=function(e,n,a){var i,l;for(i=0,l=e.length;i<l;i++)if(n.call(a,e[i],i,e))return i;return-1},Ri=function(e){return e[e.length-1]},Sn=function(){return Sn=Object.assign||function(n){for(var a,i=1,l=arguments.length;i<l;i++){a=arguments[i];for(var f in a)Object.prototype.hasOwnProperty.call(a,f)&&(n[f]=a[f])}return n},Sn.apply(this,arguments)};function Zl(e,n){var a={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&n.indexOf(i)<0&&(a[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,i=Object.getOwnPropertySymbols(e);l<i.length;l++)n.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(e,i[l])&&(a[i[l]]=e[i[l]]);return a}function ii(e,n,a){if(a||arguments.length===2)for(var i=0,l=n.length,f;i<l;i++)(f||!(i in n))&&(f||(f=Array.prototype.slice.call(n,0,i)),f[i]=n[i]);return e.concat(f||Array.prototype.slice.call(n))}var cu=function(e){var n=!1,a;return function(){for(var i=[],l=0;l<arguments.length;l++)i[l]=arguments[l];return n||(n=!0,a=e.apply(null,i)),a}},ui=function(e,n,a,i){var l=e.isiOS()&&/ipad/i.test(a)===!0,f=e.isiOS()&&!l,g=e.isiOS()||e.isAndroid(),b=g||i("(pointer:coarse)"),w=l||!f&&g&&i("(min-device-width:768px)"),A=f||g&&!w,F=n.isSafari()&&e.isiOS()&&/safari/i.test(a)===!1,I=!A&&!w&&!F;return{isiPad:Q(l),isiPhone:Q(f),isTablet:Q(w),isPhone:Q(A),isTouch:Q(b),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:Q(F),isDesktop:Q(I)}},fu=function(e,n){for(var a=0;a<e.length;a++){var i=e[a];if(i.test(n))return i}},Ql=function(e,n){var a=fu(e,n);if(!a)return{major:0,minor:0};var i=function(l){return Number(n.replace(a,"$"+l))};return oe(i(1),i(2))},Ki=function(e,n){var a=String(n).toLowerCase();return e.length===0?es():Ql(e,a)},es=function(){return oe(0,0)},oe=function(e,n){return{major:e,minor:n}},Te={nu:oe,detect:Ki,unknown:es},le=function(e,n){return Uo(n.brands,function(a){var i=a.brand.toLowerCase();return Kr(e,function(l){var f;return i===((f=l.brand)===null||f===void 0?void 0:f.toLowerCase())}).map(function(l){return{current:l.name,version:Te.nu(parseInt(a.version,10),0)}})})},$e=function(e,n){var a=String(n).toLowerCase();return Kr(e,function(i){return i.search(a)})},Lt=function(e,n){return $e(e,n).map(function(a){var i=Te.detect(a.versionRegexes,n);return{current:a.name,version:i}})},cn=function(e,n){return $e(e,n).map(function(a){var i=Te.detect(a.versionRegexes,n);return{current:a.name,version:i}})},Nn=function(e,n){return e.substring(n)},Un=function(e,n,a){return n===""||e.length>=n.length&&e.substr(a,a+n.length)===n},Or=function(e,n){return gr(e,n)?Nn(e,n.length):e},Rr=function(e,n){return e.indexOf(n)!==-1},gr=function(e,n){return Un(e,n,0)},Ba=function(e){return function(n){return n.replace(e,"")}},ka=Ba(/^\s+|\s+$/g),Eu=Ba(/^\s+/g),So=Ba(/\s+$/g),Ou=function(e){return e.length>0},ll=function(e){return!Ou(e)},Ma=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Pa=function(e){return function(n){return Rr(n,e)}},Ot=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(e){return Rr(e,"edge/")&&Rr(e,"chrome")&&Rr(e,"safari")&&Rr(e,"applewebkit")}},{name:"Chrome",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Ma],search:function(e){return Rr(e,"chrome")&&!Rr(e,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(e){return Rr(e,"msie")||Rr(e,"trident")}},{name:"Opera",versionRegexes:[Ma,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Pa("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Pa("firefox")},{name:"Safari",versionRegexes:[Ma,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(e){return(Rr(e,"safari")||Rr(e,"mobile/"))&&Rr(e,"applewebkit")}}],io=[{name:"Windows",search:Pa("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(e){return Rr(e,"iphone")||Rr(e,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Pa("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:Pa("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Pa("linux"),versionRegexes:[]},{name:"Solaris",search:Pa("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Pa("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:Pa("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],Gu={browsers:Q(Ot),oses:Q(io)},ts="Edge",ns="Chrome",vr="IE",Bs="Opera",Au="Firefox",Fa="Safari",rs=function(){return pi({current:void 0,version:Te.unknown()})},pi=function(e){var n=e.current,a=e.version,i=function(l){return function(){return n===l}};return{current:n,version:a,isEdge:i(ts),isChrome:i(ns),isIE:i(vr),isOpera:i(Bs),isFirefox:i(Au),isSafari:i(Fa)}},Bi={unknown:rs,nu:pi,edge:Q(ts),chrome:Q(ns),ie:Q(vr),opera:Q(Bs),firefox:Q(Au),safari:Q(Fa)},sa="Windows",as="iOS",Ml="Android",Pl="Linux",Ms="OSX",vu="Solaris",du="FreeBSD",Ps="ChromeOS",Xi=function(){return Mi({current:void 0,version:Te.unknown()})},Mi=function(e){var n=e.current,a=e.version,i=function(l){return function(){return n===l}};return{current:n,version:a,isWindows:i(sa),isiOS:i(as),isAndroid:i(Ml),isOSX:i(Ms),isLinux:i(Pl),isSolaris:i(vu),isFreeBSD:i(du),isChromeOS:i(Ps)}},W={unknown:Xi,nu:Mi,windows:Q(sa),ios:Q(as),android:Q(Ml),linux:Q(Pl),osx:Q(Ms),solaris:Q(vu),freebsd:Q(du),chromeos:Q(Ps)},pe=function(e,n,a){var i=Gu.browsers(),l=Gu.oses(),f=n.bind(function(w){return le(i,w)}).orThunk(function(){return Lt(i,e)}).fold(Bi.unknown,Bi.nu),g=cn(l,e).fold(W.unknown,W.nu),b=ui(g,f,e,a);return{browser:f,os:g,deviceType:b}},_e={detect:pe},nt=function(e){return window.matchMedia(e).matches},Bt=cu(function(){return _e.detect(navigator.userAgent,te.from(navigator.userAgentData),nt)}),hn=function(){return Bt()},$r=navigator.userAgent,Gr=hn(),nr=Gr.browser,da=Gr.os,Aa=Gr.deviceType,$l=/WebKit/.test($r)&&!nr.isEdge(),Wo="FormData"in window&&"FileReader"in window&&"URL"in window&&!!URL.createObjectURL,sl=$r.indexOf("Windows Phone")!==-1,On={opera:nr.isOpera(),webkit:$l,ie:nr.isIE()||nr.isEdge()?nr.version.major:!1,gecko:nr.isFirefox(),mac:da.isOSX()||da.isiOS(),iOS:Aa.isiPad()||Aa.isiPhone(),android:da.isAndroid(),contentEditable:!0,transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",caretAfter:!0,range:window.getSelection&&"Range"in window,documentMode:nr.isIE()?document.documentMode||7:10,fileApi:Wo,ceFalse:!0,cacheSuffix:null,container:null,experimentalShadowDom:!1,canHaveCSP:!nr.isIE(),desktop:Aa.isDesktop(),windowsPhone:sl,browser:{current:nr.current,version:nr.version,isChrome:nr.isChrome,isEdge:nr.isEdge,isFirefox:nr.isFirefox,isIE:nr.isIE,isOpera:nr.isOpera,isSafari:nr.isSafari},os:{current:da.current,version:da.version,isAndroid:da.isAndroid,isChromeOS:da.isChromeOS,isFreeBSD:da.isFreeBSD,isiOS:da.isiOS,isLinux:da.isLinux,isOSX:da.isOSX,isSolaris:da.isSolaris,isWindows:da.isWindows},deviceType:{isDesktop:Aa.isDesktop,isiPad:Aa.isiPad,isiPhone:Aa.isiPhone,isPhone:Aa.isPhone,isTablet:Aa.isTablet,isTouch:Aa.isTouch,isWebView:Aa.isWebView}},os=/^\s*|\s*$/g,yf=function(e){return e==null?"":(""+e).replace(os,"")},Ar=function(e,n){return n?n==="array"&&ri(e)?!0:typeof e===n:e!==void 0},Fc=function(e,n,a){var i;for(e=e||[],n=n||",",typeof e=="string"&&(e=e.split(n)),a=a||{},i=e.length;i--;)a[e[i]]={};return a},zc=tr,md=function(e,n,a){var i=this,l,f,g,b=0;e=/^((static) )?([\w.]+)(:([\w.]+))?/.exec(e);var w=e[3].match(/(^|\.)(\w+)$/i)[2],A=i.createNS(e[3].replace(/\.\w+$/,""),a);if(!A[w]){if(e[2]==="static"){A[w]=n,this.onCreate&&this.onCreate(e[2],e[3],A[w]);return}n[w]||(n[w]=function(){},b=1),A[w]=n[w],i.extend(A[w].prototype,n),e[5]&&(l=i.resolve(e[5]).prototype,f=e[5].match(/\.(\w+)$/i)[1],g=A[w],b?A[w]=function(){return l[f].apply(this,arguments)}:A[w]=function(){return this.parent=l[f],g.apply(this,arguments)},A[w].prototype[w]=A[w],i.each(l,function(F,I){A[w].prototype[I]=l[I]}),i.each(n,function(F,I){l[I]?A[w].prototype[I]=function(){return this.parent=l[I],F.apply(this,arguments)}:I!==w&&(A[w].prototype[I]=F)})),i.each(n.static,function(F,I){A[w][I]=F})}},Qr=function(e){for(var n=[],a=1;a<arguments.length;a++)n[a-1]=arguments[a];for(var i=0;i<n.length;i++){var l=n[i];for(var f in l)if(tr(l,f)){var g=l[f];g!==void 0&&(e[f]=g)}}return e},Du=function(e,n,a,i){i=i||this,e&&(a&&(e=e[a]),su(e,function(l,f){if(n.call(i,l,f,a)===!1)return!1;Du(l,n,a,i)}))},gd=function(e,n){var a,i;for(n=n||window,e=e.split("."),a=0;a<e.length;a++)i=e[a],n[i]||(n[i]={}),n=n[i];return n},_u=function(e,n){var a,i;for(n=n||window,e=e.split("."),a=0,i=e.length;a<i&&(n=n[e[a]],!!n);a++);return n},Ja=function(e,n){return!e||Ar(e,"array")?e:xu(e.split(n||","),yf)},is=function(e){var n=On.cacheSuffix;return n&&(e+=(e.indexOf("?")===-1?"?":"&")+n),e},Ye={trim:yf,isArray:ri,is:Ar,toArray:ai,makeMap:Fc,each:su,map:xu,grep:qi,inArray:oi,hasOwn:zc,extend:Qr,create:md,walk:Du,createNS:gd,resolve:_u,explode:Ja,_addCacheSuffix:is},$s=function(e,n){var a=n||document,i=a.createElement("div");if(i.innerHTML=e,!i.hasChildNodes()||i.childNodes.length>1)throw console.error("HTML does not have a single root node",e),new Error("HTML must have a single root node");return us(i.childNodes[0])},Ga=function(e,n){var a=n||document,i=a.createElement(e);return us(i)},wf=function(e,n){var a=n||document,i=a.createTextNode(e);return us(i)},us=function(e){if(e==null)throw new Error("Node cannot be null or undefined");return{dom:e}},B=function(e,n,a){return te.from(e.dom.elementFromPoint(n,a)).map(us)},k={fromHtml:$s,fromTag:Ga,fromText:wf,fromDom:us,fromPoint:B},$=function(e,n){var a=[],i=function(f){return a.push(f),n(f)},l=n(e);do l=l.bind(i);while(l.isSome());return a},J=function(e,n,a){return(e.compareDocumentPosition(n)&a)!=0},me=function(e,n){return J(e,n,Node.DOCUMENT_POSITION_CONTAINED_BY)},ot=8,Qt=9,fr=11,ya=1,xa=3,na=function(e,n){var a=e.dom;if(a.nodeType!==ya)return!1;var i=a;if(i.matches!==void 0)return i.matches(n);if(i.msMatchesSelector!==void 0)return i.msMatchesSelector(n);if(i.webkitMatchesSelector!==void 0)return i.webkitMatchesSelector(n);if(i.mozMatchesSelector!==void 0)return i.mozMatchesSelector(n);throw new Error("Browser lacks native selectors")},Za=function(e){return e.nodeType!==ya&&e.nodeType!==Qt&&e.nodeType!==fr||e.childElementCount===0},ls=function(e,n){var a=n===void 0?document:n.dom;return Za(a)?[]:pt(a.querySelectorAll(e),k.fromDom)},jo=function(e,n){var a=n===void 0?document:n.dom;return Za(a)?te.none():te.from(a.querySelector(e)).map(k.fromDom)},ra=function(e,n){return e.dom===n.dom},Ic=function(e,n){var a=e.dom,i=n.dom;return a===i?!1:a.contains(i)},qa=function(e,n){return me(e.dom,n.dom)},Go=function(e,n){return hn().browser.isIE()?qa(e,n):Ic(e,n)};typeof window!="undefined"||Function("return this;")();var ma=function(e){var n=e.dom.nodeName;return n.toLowerCase()},cl=function(e){return e.dom.nodeType},Jn=function(e){return function(n){return cl(n)===e}},fl=function(e){return cl(e)===ot||ma(e)==="#comment"},za=Jn(ya),Ka=Jn(xa),Lp=Jn(Qt),bi=Jn(fr),Xg=function(e){return function(n){return za(n)&&ma(n)===e}},Ns=function(e){return k.fromDom(e.dom.ownerDocument)},In=function(e){return Lp(e)?e:Ns(e)},vl=function(e){return k.fromDom(In(e).dom.documentElement)},Qa=function(e){return k.fromDom(In(e).dom.defaultView)},eo=function(e){return te.from(e.dom.parentNode).map(k.fromDom)},qo=function(e,n){for(var a=Nt(n)?n:Mt,i=e.dom,l=[];i.parentNode!==null&&i.parentNode!==void 0;){var f=i.parentNode,g=k.fromDom(f);if(l.push(g),a(g)===!0)break;i=f}return l},ko=function(e){var n=function(a){return nn(a,function(i){return!ra(e,i)})};return eo(e).map(mu).map(n).getOr([])},Cf=function(e){return te.from(e.dom.previousSibling).map(k.fromDom)},Nl=function(e){return te.from(e.dom.nextSibling).map(k.fromDom)},Vr=function(e){return Bo($(e,Cf))},Da=function(e){return $(e,Nl)},mu=function(e){return pt(e.dom.childNodes,k.fromDom)},fc=function(e,n){var a=e.dom.childNodes;return te.from(a[n]).map(k.fromDom)},$o=function(e){return fc(e,0)},dl=function(e){return fc(e,e.dom.childNodes.length-1)},Vp=function(e){return e.dom.childNodes.length},Sf=function(e){var n=e.dom.head;if(n==null)throw new Error("Head is not available yet");return k.fromDom(n)},ga=function(e){return bi(e)&&qt(e.dom.host)},ss=Nt(Element.prototype.attachShadow)&&Nt(Node.prototype.getRootNode),Lc=Q(ss),Ru=ss?function(e){return k.fromDom(e.dom.getRootNode())}:In,uo=function(e){return ga(e)?e:Sf(In(e))},Vc=function(e){var n=Ru(e);return ga(n)?te.some(n):te.none()},vc=function(e){return k.fromDom(e.dom.host)},Yi=function(e){if(Lc()&&qt(e.target)){var n=k.fromDom(e.target);if(za(n)&&Bu(n)&&e.composed&&e.composedPath){var a=e.composedPath();if(a)return oo(a)}}return te.from(e.target)},Bu=function(e){return qt(e.dom.shadowRoot)},Pi=function(e,n){var a=eo(e);a.each(function(i){i.dom.insertBefore(n.dom,e.dom)})},cv=function(e,n){var a=Nl(e);a.fold(function(){var i=eo(e);i.each(function(l){Ko(l,n)})},function(i){Pi(i,n)})},cs=function(e,n){var a=$o(e);a.fold(function(){Ko(e,n)},function(i){e.dom.insertBefore(n.dom,i.dom)})},Ko=function(e,n){e.dom.appendChild(n.dom)},hd=function(e,n){Pi(e,n),Ko(n,e)},Hp=function(e,n){tt(n,function(a){Pi(e,a)})},kf=function(e,n){tt(n,function(a){Ko(e,a)})},xf=function(e){e.dom.textContent="",tt(mu(e),function(n){lo(n)})},lo=function(e){var n=e.dom;n.parentNode!==null&&n.parentNode.removeChild(n)},Tf=function(e){var n=mu(e);n.length>0&&Hp(e,n),lo(e)},Ef=function(e){var n=Ka(e)?e.dom.parentNode:e.dom;if(n==null||n.ownerDocument===null)return!1;var a=n.ownerDocument;return Vc(k.fromDom(n)).fold(function(){return a.body.contains(n)},ve(Ef,vc))},Ji=function(e,n){var a=function(i,l){return Ji(e+i,n+l)};return{left:e,top:n,translate:a}},dc=Ji,Of=function(e){var n=e.getBoundingClientRect();return dc(n.left,n.top)},mc=function(e,n){return e!==void 0?e:n!==void 0?n:0},La=function(e){var n=e.dom.ownerDocument,a=n.body,i=n.defaultView,l=n.documentElement;if(a===e.dom)return dc(a.offsetLeft,a.offsetTop);var f=mc(i==null?void 0:i.pageYOffset,l.scrollTop),g=mc(i==null?void 0:i.pageXOffset,l.scrollLeft),b=mc(l.clientTop,a.clientTop),w=mc(l.clientLeft,a.clientLeft);return qu(e).translate(g-w,f-b)},qu=function(e){var n=e.dom,a=n.ownerDocument,i=a.body;return i===n?dc(i.offsetLeft,i.offsetTop):Ef(e)?Of(n):dc(0,0)},Dm=function(e){var n=e!==void 0?e.dom:document,a=n.body.scrollLeft||n.documentElement.scrollLeft,i=n.body.scrollTop||n.documentElement.scrollTop;return dc(a,i)},ml=function(e,n,a){var i=a!==void 0?a.dom:document,l=i.defaultView;l&&l.scrollTo(e,n)},_m=function(e,n){var a=hn().browser.isSafari();a&&Nt(e.dom.scrollIntoViewIfNeeded)?e.dom.scrollIntoViewIfNeeded(!1):e.dom.scrollIntoView(n)},Up=function(e){var n=e===void 0?window:e;return hn().browser.isFirefox()?te.none():te.from(n.visualViewport)},Yg=function(e,n,a,i){return{x:e,y:n,width:a,height:i,right:e+a,bottom:n+i}},Af=function(e){var n=e===void 0?window:e,a=n.document,i=Dm(k.fromDom(a));return Up(n).fold(function(){var l=n.document.documentElement,f=l.clientWidth,g=l.clientHeight;return Yg(i.left,i.top,f,g)},function(l){return Yg(Math.max(l.pageLeft,i.left),Math.max(l.pageTop,i.top),l.width,l.height)})},Df=function(e){return function(n){return!!n&&n.nodeType===e}},Hc=function(e){return!!e&&!Object.getPrototypeOf(e)},Wn=Df(1),Fl=function(e){var n=e.map(function(a){return a.toLowerCase()});return function(a){if(a&&a.nodeName){var i=a.nodeName.toLowerCase();return Re(n,i)}return!1}},Mu=function(e,n){var a=n.toLowerCase().split(" ");return function(i){if(Wn(i))for(var l=0;l<a.length;l++){var f=i.ownerDocument.defaultView.getComputedStyle(i,null),g=f?f.getPropertyValue(e):null;if(g===a[l])return!0}return!1}},Zi=function(e){return function(n){return Wn(n)&&n.hasAttribute(e)}},zl=function(e,n){return function(a){return Wn(a)&&a.getAttribute(e)===n}},mo=function(e){return Wn(e)&&e.hasAttribute("data-mce-bogus")},Xo=function(e){return Wn(e)&&e.getAttribute("data-mce-bogus")==="all"},xo=function(e){return Wn(e)&&e.tagName==="TABLE"},Uc=function(e){return function(n){return!!(Wn(n)&&(n.contentEditable===e||n.getAttribute("data-mce-contenteditable")===e))}},$i=Fl(["textarea","input"]),on=Df(3),_f=Df(8),Jg=Df(9),rr=Df(11),ha=Fl(["br"]),Rm=Fl(["img"]),Fs=Uc("true"),Ia=Uc("false"),Bm=Fl(["td","th"]),Ku=Fl(["video","audio","object","embed"]),pd=function(e,n,a){return a===void 0&&(a=wo),e.exists(function(i){return a(i,n)})},or=function(e){for(var n=[],a=function(l){n.push(l)},i=0;i<e.length;i++)e[i].each(a);return n},gu=function(e,n,a){return e.isSome()&&n.isSome()?te.some(a(e.getOrDie(),n.getOrDie())):te.none()},v0=function(e,n,a,i){return e.isSome()&&n.isSome()&&a.isSome()?te.some(i(e.getOrDie(),n.getOrDie(),a.getOrDie())):te.none()},d0=function(e,n){return e?te.some(n):te.none()},Va=function(e){return e.style!==void 0&&Nt(e.style.getPropertyValue)},Mm=function(e,n,a){if(ht(a)||dt(a)||Zt(a))e.setAttribute(n,a+"");else throw console.error("Invalid call to Attribute.set. Key ",n,":: Value ",a,":: Element ",e),new Error("Attribute value was not simple")},O=function(e,n,a){Mm(e.dom,n,a)},z=function(e,n){var a=e.dom;hr(n,function(i,l){Mm(a,l,i)})},U=function(e,n){var a=e.dom.getAttribute(n);return a===null?void 0:a},ie=function(e,n){return te.from(U(e,n))},Ae=function(e,n){var a=e.dom;return a&&a.hasAttribute?a.hasAttribute(n):!1},Je=function(e,n){e.dom.removeAttribute(n)},pn=function(e){return wr(e.dom.attributes,function(n,a){return n[a.name]=a.value,n},{})},qn=function(e,n,a){if(!ht(a))throw console.error("Invalid call to CSS.set. Property ",n,":: Value ",a,":: Element ",e),new Error("CSS value must be a string: "+a);Va(e)&&e.style.setProperty(n,a)},pr=function(e,n){var a=e.dom;hr(n,function(i,l){qn(a,l,i)})},ir=function(e,n){var a=e.dom,i=window.getComputedStyle(a),l=i.getPropertyValue(n);return l===""&&!Ef(e)?wa(a,n):l},wa=function(e,n){return Va(e)?e.style.getPropertyValue(n):""},Ni=function(e,n){var a=e.dom,i=wa(a,n);return te.from(i).filter(function(l){return l.length>0})},to=function(e){var n={},a=e.dom;if(Va(a))for(var i=0;i<a.style.length;i++){var l=a.style.item(i);n[l]=a.style[l]}return n},Ux=function(e){return e.dom.offsetWidth},Aw=hn().browser,Dw=function(e){return Kr(e,za)},Wx=function(e){return Aw.isFirefox()&&ma(e)==="table"?Dw(mu(e)).filter(function(n){return ma(n)==="caption"}).bind(function(n){return Dw(Da(n)).map(function(a){var i=a.dom.offsetTop,l=n.dom.offsetTop,f=n.dom.offsetHeight;return i<=l?-f:0})}).getOr(0):0},gc=function(e,n){return e.children&&Re(e.children,n)},Zg=function(e,n,a){var i=0,l=0,f=e.ownerDocument;if(a=a||e,n){if(a===e&&n.getBoundingClientRect&&ir(k.fromDom(e),"position")==="static"){var g=n.getBoundingClientRect();return i=g.left+(f.documentElement.scrollLeft||e.scrollLeft)-f.documentElement.clientLeft,l=g.top+(f.documentElement.scrollTop||e.scrollTop)-f.documentElement.clientTop,{x:i,y:l}}for(var b=n;b&&b!==a&&b.nodeType&&!gc(b,a);){var w=b;i+=w.offsetLeft||0,l+=w.offsetTop||0,b=w.offsetParent}for(b=n.parentNode;b&&b!==a&&b.nodeType&&!gc(b,a);)i-=b.scrollLeft||0,l-=b.scrollTop||0,b=b.parentNode;l+=Wx(k.fromDom(n))}return{x:i,y:l}},Xu={},Pm={exports:Xu};(function(e,n,a,i){(function(l,f){typeof n=="object"&&typeof a!="undefined"?a.exports=f():typeof e=="function"&&e.amd?e(f):(l=typeof globalThis!="undefined"?globalThis:l||self,l.EphoxContactWrapper=f())})(this,function(){var l=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof JR!="undefined"?JR:typeof self!="undefined"?self:{},f={exports:{}};(function(A){(function(F){var I=setTimeout;function V(){}function Y(he,Be){return function(){he.apply(Be,arguments)}}function X(he){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");if(typeof he!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],De(he,this)}function ee(he,Be){for(;he._state===3;)he=he._value;if(he._state===0){he._deferreds.push(Be);return}he._handled=!0,X._immediateFn(function(){var qe=he._state===1?Be.onFulfilled:Be.onRejected;if(qe===null){(he._state===1?re:fe)(Be.promise,he._value);return}var Ct;try{Ct=qe(he._value)}catch(_n){fe(Be.promise,_n);return}re(Be.promise,Ct)})}function re(he,Be){try{if(Be===he)throw new TypeError("A promise cannot be resolved with itself.");if(Be&&(typeof Be=="object"||typeof Be=="function")){var qe=Be.then;if(Be instanceof X){he._state=3,he._value=Be,ce(he);return}else if(typeof qe=="function"){De(Y(qe,Be),he);return}}he._state=1,he._value=Be,ce(he)}catch(Ct){fe(he,Ct)}}function fe(he,Be){he._state=2,he._value=Be,ce(he)}function ce(he){he._state===2&&he._deferreds.length===0&&X._immediateFn(function(){he._handled||X._unhandledRejectionFn(he._value)});for(var Be=0,qe=he._deferreds.length;Be<qe;Be++)ee(he,he._deferreds[Be]);he._deferreds=null}function ye(he,Be,qe){this.onFulfilled=typeof he=="function"?he:null,this.onRejected=typeof Be=="function"?Be:null,this.promise=qe}function De(he,Be){var qe=!1;try{he(function(Ct){qe||(qe=!0,re(Be,Ct))},function(Ct){qe||(qe=!0,fe(Be,Ct))})}catch(Ct){if(qe)return;qe=!0,fe(Be,Ct)}}X.prototype.catch=function(he){return this.then(null,he)},X.prototype.then=function(he,Be){var qe=new this.constructor(V);return ee(this,new ye(he,Be,qe)),qe},X.all=function(he){var Be=Array.prototype.slice.call(he);return new X(function(qe,Ct){if(Be.length===0)return qe([]);var _n=Be.length;function en(Fn,Dt){try{if(Dt&&(typeof Dt=="object"||typeof Dt=="function")){var tn=Dt.then;if(typeof tn=="function"){tn.call(Dt,function(At){en(Fn,At)},Ct);return}}Be[Fn]=Dt,--_n==0&&qe(Be)}catch(At){Ct(At)}}for(var wt=0;wt<Be.length;wt++)en(wt,Be[wt])})},X.resolve=function(he){return he&&typeof he=="object"&&he.constructor===X?he:new X(function(Be){Be(he)})},X.reject=function(he){return new X(function(Be,qe){qe(he)})},X.race=function(he){return new X(function(Be,qe){for(var Ct=0,_n=he.length;Ct<_n;Ct++)he[Ct].then(Be,qe)})},X._immediateFn=typeof setImmediate=="function"?function(he){setImmediate(he)}:function(he){I(he,0)},X._unhandledRejectionFn=function(Be){typeof console!="undefined"&&console&&console.warn("Possible Unhandled Promise Rejection:",Be)},X._setImmediateFn=function(Be){X._immediateFn=Be},X._setUnhandledRejectionFn=function(Be){X._unhandledRejectionFn=Be},A.exports?A.exports=X:F.Promise||(F.Promise=X)})(l)})(f);var g=f.exports,b=function(){return typeof window!="undefined"?window:Function("return this;")()}(),w={boltExport:b.Promise||g};return w})})(void 0,Xu,Pm);var m0=Pm.exports.boltExport,Qg=function(e){var n=te.none(),a=[],i=function(A){return Qg(function(F){l(function(I){F(A(I))})})},l=function(A){g()?w(A):a.push(A)},f=function(A){g()||(n=te.some(A),b(a),a=[])},g=function(){return n.isSome()},b=function(A){tt(A,w)},w=function(A){n.each(function(F){setTimeout(function(){A(F)},0)})};return e(f),{get:l,map:i,isReady:g}},Wp=function(e){return Qg(function(n){n(e)})},_w={nu:Qg,pure:Wp},jx=function(e){setTimeout(function(){throw e},0)},hc=function(e){var n=function(w){e().then(w,jx)},a=function(w){return hc(function(){return e().then(w)})},i=function(w){return hc(function(){return e().then(function(A){return w(A).toPromise()})})},l=function(w){return hc(function(){return e().then(function(){return w.toPromise()})})},f=function(){return _w.nu(n)},g=function(){var w=null;return hc(function(){return w===null&&(w=e()),w})},b=e;return{map:a,bind:i,anonBind:l,toLazy:f,toCached:g,toPromise:b,get:n}},eh=function(e){return hc(function(){return new m0(e)})},Gx=function(e){return hc(function(){return m0.resolve(e)})},g0={nu:eh,pure:Gx},qx=function(e,n){return n(function(a){var i=[],l=0,f=function(g){return function(b){i[g]=b,l++,l>=e.length&&a(i)}};e.length===0?a([]):tt(e,function(g,b){g.get(f(b))})})},Kx=function(e){return qx(e,g0.nu)},$m=function(e){var n=function(I){return $m(e)},a=function(I){return $m(e)},i=function(I){return $m(I(e))},l=function(I){return $m(e)},f=function(I){I(e)},g=function(I){return I(e)},b=function(I,V){return V(e)},w=function(I){return I(e)},A=function(I){return I(e)},F=function(){return te.some(e)};return{isValue:sn,isError:Mt,getOr:Q(e),getOrThunk:Q(e),getOrDie:Q(e),or:n,orThunk:a,fold:b,map:i,mapError:l,each:f,bind:g,exists:w,forall:A,toOptional:F}},th=function(e){var n=function(A){return A()},a=function(){return $n(String(e))()},i=En,l=function(A){return A()},f=function(A){return th(e)},g=function(A){return th(A(e))},b=function(A){return th(e)},w=function(A,F){return A(e)};return{isValue:Mt,isError:sn,getOr:En,getOrThunk:n,getOrDie:a,or:i,orThunk:l,fold:w,map:f,mapError:g,each:st,bind:b,exists:Mt,forall:sn,toOptional:te.none}},Rw=function(e,n){return e.fold(function(){return th(n)},$m)},Bw={value:$m,error:th,fromOption:Rw},gl=function(e){if(!Wt(e))throw new Error("cases must be an array");if(e.length===0)throw new Error("there must be at least one case");var n=[],a={};return tt(e,function(i,l){var f=ni(i);if(f.length!==1)throw new Error("one and only one name per case");var g=f[0],b=i[g];if(a[g]!==void 0)throw new Error("duplicate key detected:"+g);if(g==="cata")throw new Error("cannot have a case named cata (sorry)");if(!Wt(b))throw new Error("case arguments must be an array");n.push(g),a[g]=function(){for(var w=[],A=0;A<arguments.length;A++)w[A]=arguments[A];var F=w.length;if(F!==b.length)throw new Error("Wrong number of arguments to case "+g+". Expected "+b.length+" ("+b+"), got "+F);var I=function(V){var Y=ni(V);if(n.length!==Y.length)throw new Error("Wrong number of arguments to match. Expected: "+n.join(",")+`
Actual: `+Y.join(","));var X=lu(n,function(ee){return Re(Y,ee)});if(!X)throw new Error("Not all branches were specified when using match. Specified: "+Y.join(", ")+`
Required: `+n.join(", "));return V[g].apply(null,w)};return{fold:function(){for(var V=[],Y=0;Y<arguments.length;Y++)V[Y]=arguments[Y];if(V.length!==e.length)throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+V.length);var X=V[l];return X.apply(null,w)},match:I,log:function(V){console.log(V,{constructors:n,constructor:g,params:w})}}}}),a},kn={generate:gl};kn.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);var Rf=function(e){return e.fold(En,En)};function nh(e,n,a,i,l){return e(a,i)?te.some(a):Nt(l)&&l(a)?te.none():n(a,i,l)}var fv=function(e,n,a){for(var i=e.dom,l=Nt(a)?a:Mt;i.parentNode;){i=i.parentNode;var f=k.fromDom(i);if(n(f))return te.some(f);if(l(f))break}return te.none()},Nm=function(e,n,a){var i=function(l,f){return f(l)};return nh(i,fv,e,n,a)},h0=function(e,n){var a=e.dom;return a.parentNode?zs(k.fromDom(a.parentNode),function(i){return!ra(e,i)&&n(i)}):te.none()},zs=function(e,n){var a=function(l){return n(k.fromDom(l))},i=Kr(e.dom.childNodes,a);return i.map(k.fromDom)},bd=function(e,n,a){return fv(e,function(i){return na(i,n)},a)},Fm=function(e,n){return jo(n,e)},go=function(e,n,a){var i=function(l,f){return na(l,f)};return nh(i,bd,e,n,a)},yi=window.Promise?window.Promise:m0,rh,Wc=function(e,n){for(var a=window.requestAnimationFrame,i=["ms","moz","webkit"],l=function(g){window.setTimeout(g,0)},f=0;f<i.length&&!a;f++)a=window[i[f]+"RequestAnimationFrame"];a||(a=l),a(e,n)},ah=function(e,n){return typeof n!="number"&&(n=0),setTimeout(e,n)},jp=function(e,n){return typeof n!="number"&&(n=1),setInterval(e,n)},Gp=function(e){return clearTimeout(e)},Xx=function(e){return clearInterval(e)},zm=function(e,n){var a,i=function(){for(var l=[],f=0;f<arguments.length;f++)l[f]=arguments[f];clearTimeout(a),a=ah(function(){e.apply(this,l)},n)};return i.stop=function(){clearTimeout(a)},i},Qi={requestAnimationFrame:function(e,n){if(rh){rh.then(e);return}rh=new yi(function(a){n||(n=document.body),Wc(a,n)}).then(e)},setTimeout:ah,setInterval:jp,setEditorTimeout:function(e,n,a){return ah(function(){e.removed||n()},a)},setEditorInterval:function(e,n,a){var i=jp(function(){e.removed?clearInterval(i):n()},a);return i},debounce:zm,throttle:zm,clearInterval:Xx,clearTimeout:Gp},Mw=function(e,n){n===void 0&&(n={});var a=0,i={},l=k.fromDom(e),f=In(l),g=n.maxLoadTime||5e3,b=function(re){n.referrerPolicy=re},w=function(re){Ko(uo(l),re)},A=function(re){var fe=uo(l);Fm(fe,"#"+re).each(lo)},F=function(re){return Pr(i,re).getOrThunk(function(){return{id:"mce-u"+a++,passed:[],failed:[],count:0}})},I=function(re,fe,ce){var ye,De=Ye._addCacheSuffix(re),he=F(De);i[De]=he,he.count++;var Be=function(Dt,tn){for(var At=Dt.length;At--;)Dt[At]();he.status=tn,he.passed=[],he.failed=[],ye&&(ye.onload=null,ye.onerror=null,ye=null)},qe=function(){return Be(he.passed,2)},Ct=function(){return Be(he.failed,3)},_n=function(Dt,tn){Dt()||(Date.now()-Fn<g?Qi.setTimeout(tn):Ct())},en=function(){_n(function(){for(var Dt=e.styleSheets,tn=Dt.length;tn--;){var At=Dt[tn],jt=At.ownerNode;if(jt&&jt.id===ye.id)return qe(),!0}return!1},en)};if(fe&&he.passed.push(fe),ce&&he.failed.push(ce),he.status!==1){if(he.status===2){qe();return}if(he.status===3){Ct();return}he.status=1;var wt=k.fromTag("link",f.dom);z(wt,{rel:"stylesheet",type:"text/css",id:he.id});var Fn=Date.now();n.contentCssCors&&O(wt,"crossOrigin","anonymous"),n.referrerPolicy&&O(wt,"referrerpolicy",n.referrerPolicy),ye=wt.dom,ye.onload=en,ye.onerror=Ct,w(wt),O(wt,"href",De)}},V=function(re){return g0.nu(function(fe){I(re,jr(fe,Q(Bw.value(re))),jr(fe,Q(Bw.error(re))))})},Y=function(re,fe,ce){Kx(pt(re,V)).get(function(ye){var De=zn(ye,function(he){return he.isValue()});De.fail.length>0?ce(De.fail.map(Rf)):fe(De.pass.map(Rf))})},X=function(re){var fe=Ye._addCacheSuffix(re);Pr(i,fe).each(function(ce){var ye=--ce.count;ye===0&&(delete i[fe],A(ce.id))})},ee=function(re){tt(re,function(fe){X(fe)})};return{load:I,loadAll:Y,unload:X,unloadAll:ee,_setReferrerPolicy:b}},Xa=function(){var e=new WeakMap,n=function(a,i){var l=Ru(a),f=l.dom;return te.from(e.get(f)).getOrThunk(function(){var g=Mw(f,i);return e.set(f,g),g})};return{forElement:n}},Is=Xa(),Yr=function(){function e(n,a){this.node=n,this.rootNode=a,this.current=this.current.bind(this),this.next=this.next.bind(this),this.prev=this.prev.bind(this),this.prev2=this.prev2.bind(this)}return e.prototype.current=function(){return this.node},e.prototype.next=function(n){return this.node=this.findSibling(this.node,"firstChild","nextSibling",n),this.node},e.prototype.prev=function(n){return this.node=this.findSibling(this.node,"lastChild","previousSibling",n),this.node},e.prototype.prev2=function(n){return this.node=this.findPreviousNode(this.node,"lastChild","previousSibling",n),this.node},e.prototype.findSibling=function(n,a,i,l){var f,g;if(n){if(!l&&n[a])return n[a];if(n!==this.rootNode){if(f=n[i],f)return f;for(g=n.parentNode;g&&g!==this.rootNode;g=g.parentNode)if(f=g[i],f)return f}}},e.prototype.findPreviousNode=function(n,a,i,l){var f,g,b;if(n){if(f=n[i],this.rootNode&&f===this.rootNode)return;if(f){if(!l){for(b=f[a];b;b=b[a])if(!b[a])return b}return f}if(g=n.parentNode,g&&g!==this.rootNode)return g}},e}(),vv=["article","aside","details","div","dt","figcaption","footer","form","fieldset","header","hgroup","html","main","nav","section","summary","body","p","dl","multicol","dd","figure","address","center","blockquote","h1","h2","h3","h4","h5","h6","listing","xmp","pre","plaintext","menu","dir","ul","ol","li","hr","table","tbody","thead","tfoot","th","tr","td","caption"],fs=["td","th"],Yx=["thead","tbody","tfoot"],Yo=["h1","h2","h3","h4","h5","h6","p","div","address","pre","form","blockquote","center","dir","fieldset","header","footer","article","section","hgroup","aside","nav","figure"],Pu=["h1","h2","h3","h4","h5","h6"],Pw=["li","dd","dt"],it=["ul","ol","dl"],Yu=["pre","script","textarea","style"],Bf=function(e){var n;return function(a){return n=n||Ho(e,sn),tr(n,ma(a))}},jn=Bf(Pu),Il=Bf(vv),Jx=function(e){return ma(e)==="table"},hu=function(e){return za(e)&&!Il(e)},Im=function(e){return za(e)&&ma(e)==="br"},jc=Bf(Yo),Ls=Bf(it),eu=Bf(Pw),Hr=Bf(Yx),pc=Bf(fs),yd=Bf(Yu),Ta=function(e,n,a){return bd(e,n,a).isSome()},dv="\uFEFF",hl="\xA0",pl=function(e){return e===dv},Zx=function(e){return e.replace(/\uFEFF/g,"")},ke=dv,$u=pl,bc=Zx,Lm=Wn,Ll=on,pa=function(e){return Ll(e)&&(e=e.parentNode),Lm(e)&&e.hasAttribute("data-mce-caret")},Ea=function(e){return Ll(e)&&$u(e.data)},Ju=function(e){return pa(e)||Ea(e)},Mf=function(e){return e.firstChild!==e.lastChild||!ha(e.firstChild)},p0=function(e,n){var a=e.ownerDocument,i=a.createTextNode(ke),l=e.parentNode;if(n){var f=e.previousSibling;if(Ll(f)){if(Ju(f))return f;if(ih(f))return f.splitText(f.data.length-1)}l.insertBefore(i,e)}else{var f=e.nextSibling;if(Ll(f)){if(Ju(f))return f;if(oh(f))return f.splitText(1),f}e.nextSibling?l.insertBefore(i,e.nextSibling):l.appendChild(i)}return i},Dn=function(e){var n=e.container();return on(n)?n.data.charAt(e.offset())===ke||e.isAtStart()&&Ea(n.previousSibling):!1},qp=function(e){var n=e.container();return on(n)?n.data.charAt(e.offset()-1)===ke||e.isAtEnd()&&Ea(n.nextSibling):!1},Vl=function(){var e=document.createElement("br");return e.setAttribute("data-mce-bogus","1"),e},$w=function(e,n,a){var i=n.ownerDocument,l=i.createElement(e);l.setAttribute("data-mce-caret",a?"before":"after"),l.setAttribute("data-mce-bogus","all"),l.appendChild(Vl());var f=n.parentNode;return a?f.insertBefore(l,n):n.nextSibling?f.insertBefore(l,n.nextSibling):f.appendChild(l),l},oh=function(e){return Ll(e)&&e.data[0]===ke},ih=function(e){return Ll(e)&&e.data[e.data.length-1]===ke},b0=function(e){var n=e.getElementsByTagName("br"),a=n[n.length-1];mo(a)&&a.parentNode.removeChild(a)},y0=function(e){return e&&e.hasAttribute("data-mce-caret")?(b0(e),e.removeAttribute("data-mce-caret"),e.removeAttribute("data-mce-bogus"),e.removeAttribute("style"),e.removeAttribute("_moz_abspos"),e):null},Gc=function(e){return pa(e.startContainer)},Pf=Fs,Qx=Ia,w0=ha,eT=on,Nw=Fl(["script","style","textarea"]),uh=Fl(["img","input","textarea","hr","iframe","video","audio","object","embed"]),Vm=Fl(["table"]),Fw=Ju,qc=function(e){return Fw(e)?!1:eT(e)?!Nw(e.parentNode):uh(e)||w0(e)||Vm(e)||C0(e)},Hm=function(e){return Wn(e)&&e.getAttribute("unselectable")==="true"},C0=function(e){return Hm(e)===!1&&Qx(e)},zw=function(e,n){for(e=e.parentNode;e&&e!==n;e=e.parentNode){if(C0(e))return!1;if(Pf(e))return!0}return!0},tT=function(e){return C0(e)?wr(Lr(e.getElementsByTagName("*")),function(n,a){return n||Pf(a)},!1)!==!0:!1},nT=function(e){return uh(e)||tT(e)},No=function(e,n){return qc(e)&&zw(e,n)},Kc=/^[ \t\r\n]*$/,Vs=function(e){return Kc.test(e)},mv=function(e,n){var a=k.fromDom(n),i=k.fromDom(e);return Ta(i,"pre,code",j(ra,a))},Iw=function(e,n){return on(e)&&Vs(e.data)&&mv(e,n)===!1},Hs=function(e){return Wn(e)&&e.nodeName==="A"&&!e.hasAttribute("href")&&(e.hasAttribute("name")||e.hasAttribute("id"))},wd=function(e,n){return qc(e)&&Iw(e,n)===!1||Hs(e)||S0(e)},S0=Zi("data-mce-bookmark"),k0=Zi("data-mce-bogus"),$f=zl("data-mce-bogus","all"),vs=function(e,n){var a=0;if(wd(e,e))return!1;var i=e.firstChild;if(!i)return!0;var l=new Yr(i,e);do{if(n){if($f(i)){i=l.next(!0);continue}if(k0(i)){i=l.next();continue}}if(ha(i)){a++,i=l.next();continue}if(wd(i,e))return!1;i=l.next()}while(i);return a<=1},Fi=function(e,n){return n===void 0&&(n=!0),vs(e.dom,n)},Kp=function(e){return e.nodeName.toLowerCase()==="span"},x0=function(e,n){return qt(e)&&(wd(e,n)||hu(k.fromDom(e)))},Cd=function(e,n){var a=new Yr(e,n).prev(!1),i=new Yr(e,n).next(!1),l=Oe(a)||x0(a,n),f=Oe(i)||x0(i,n);return l&&f},Um=function(e){return Kp(e)&&e.getAttribute("data-mce-type")==="bookmark"},Wm=function(e,n){return on(e)&&e.data.length>0&&Cd(e,n)},rT=function(e){return Wn(e)?e.childNodes.length>0:!1},jm=function(e){return rr(e)||Jg(e)},T0=function(e,n,a){var i=a||n;if(Wn(n)&&Um(n))return n;for(var l=n.childNodes,f=l.length-1;f>=0;f--)T0(e,l[f],i);if(Wn(n)){var g=n.childNodes;g.length===1&&Um(g[0])&&n.parentNode.insertBefore(g[0],n)}return!jm(n)&&!wd(n,i)&&!rT(n)&&!Wm(n,i)&&e.remove(n),n},aT=Ye.makeMap,no=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Xp=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,gv=/[<>&\"\']/g,E0=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,O0={128:"\u20AC",130:"\u201A",131:"\u0192",132:"\u201E",133:"\u2026",134:"\u2020",135:"\u2021",136:"\u02C6",137:"\u2030",138:"\u0160",139:"\u2039",140:"\u0152",142:"\u017D",145:"\u2018",146:"\u2019",147:"\u201C",148:"\u201D",149:"\u2022",150:"\u2013",151:"\u2014",152:"\u02DC",153:"\u2122",154:"\u0161",155:"\u203A",156:"\u0153",158:"\u017E",159:"\u0178"},ds={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},Hl={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"},Sd=function(e){var n=k.fromTag("div").dom;return n.innerHTML=e,n.textContent||n.innerText||e},hv=function(e,n){var a,i,l,f={};if(e){for(e=e.split(","),n=n||10,a=0;a<e.length;a+=2)i=String.fromCharCode(parseInt(e[a],n)),ds[i]||(l="&"+e[a+1]+";",f[i]=l,f[l]=i);return f}},Yp=hv("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32),lh=function(e,n){return e.replace(n?no:Xp,function(a){return ds[a]||a})},A0=function(e){return(""+e).replace(gv,function(n){return ds[n]||n})},kd=function(e,n){return e.replace(n?no:Xp,function(a){return a.length>1?"&#"+((a.charCodeAt(0)-55296)*1024+(a.charCodeAt(1)-56320)+65536)+";":ds[a]||"&#"+a.charCodeAt(0)+";"})},Jp=function(e,n,a){return a=a||Yp,e.replace(n?no:Xp,function(i){return ds[i]||a[i]||i})},oT=function(e,n){var a=hv(n)||Yp,i=function(g,b){return g.replace(b?no:Xp,function(w){return ds[w]!==void 0?ds[w]:a[w]!==void 0?a[w]:w.length>1?"&#"+((w.charCodeAt(0)-55296)*1024+(w.charCodeAt(1)-56320)+65536)+";":"&#"+w.charCodeAt(0)+";"})},l=function(g,b){return Jp(g,b,a)},f=aT(e.replace(/\+/g,","));return f.named&&f.numeric?i:f.named?n?l:Jp:f.numeric?kd:lh},D0=function(e){return e.replace(E0,function(n,a){return a?(a.charAt(0).toLowerCase()==="x"?a=parseInt(a.substr(1),16):a=parseInt(a,10),a>65535?(a-=65536,String.fromCharCode(55296+(a>>10),56320+(a&1023))):O0[a]||String.fromCharCode(a)):Hl[n]||Yp[n]||Sd(n)})},Ul={encodeRaw:lh,encodeAllRaw:A0,encodeNumeric:kd,encodeNamed:Jp,getEncodeFunc:oT,decode:D0},bl={},Gm={},Us=Ye.makeMap,pu=Ye.each,Zp=Ye.extend,Nf=Ye.explode,Lw=Ye.inArray,zi=function(e,n){return e=Ye.trim(e),e?e.split(n||" "):[]},Vw=function(e){var n={},a,i,l,f,g,b,w=function(F,I,V){var Y,X,ee,re=function(ce,ye){var De={},he,Be;for(he=0,Be=ce.length;he<Be;he++)De[ce[he]]=ye||{};return De};V=V||[],I=I||"",typeof V=="string"&&(V=zi(V));var fe=zi(F);for(Y=fe.length;Y--;)X=zi([a,I].join(" ")),ee={attributes:re(X),attributesOrder:X,children:re(V,Gm)},n[fe[Y]]=ee},A=function(F,I){var V,Y,X,ee,re=zi(F);V=re.length;for(var fe=zi(I);V--;)for(Y=n[re[V]],X=0,ee=fe.length;X<ee;X++)Y.attributes[fe[X]]={},Y.attributesOrder.push(fe[X])};return bl[e]?bl[e]:(a="id accesskey class dir lang style tabindex title role",i="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",l="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment",e!=="html4"&&(a+=" contenteditable contextmenu draggable dropzone hidden spellcheck translate",i+=" article aside details dialog figure main header footer hgroup section nav",l+=" audio canvas command datalist mark meter output picture progress time wbr video ruby bdi keygen"),e!=="html5-strict"&&(a+=" xml:lang",b="acronym applet basefont big font strike tt",l=[l,b].join(" "),pu(zi(b),function(F){w(F,"",l)}),g="center dir isindex noframes",i=[i,g].join(" "),f=[i,l].join(" "),pu(zi(g),function(F){w(F,"",f)})),f=f||[i,l].join(" "),w("html","manifest","head body"),w("head","","base command link meta noscript script style title"),w("title hr noscript br"),w("base","href target"),w("link","href rel media hreflang type sizes hreflang"),w("meta","name http-equiv content charset"),w("style","media type scoped"),w("script","src async defer type charset"),w("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",f),w("address dt dd div caption","",f),w("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",l),w("blockquote","cite",f),w("ol","reversed start type","li"),w("ul","","li"),w("li","value",f),w("dl","","dt dd"),w("a","href target rel media hreflang type",l),w("q","cite",l),w("ins del","cite datetime",f),w("img","src sizes srcset alt usemap ismap width height"),w("iframe","src name width height",f),w("embed","src type width height"),w("object","data type typemustmatch name usemap form width height",[f,"param"].join(" ")),w("param","name value"),w("map","name",[f,"area"].join(" ")),w("area","alt coords shape href target rel media hreflang type"),w("table","border","caption colgroup thead tfoot tbody tr"+(e==="html4"?" col":"")),w("colgroup","span","col"),w("col","span"),w("tbody thead tfoot","","tr"),w("tr","","td th"),w("td","colspan rowspan headers",f),w("th","colspan rowspan headers scope abbr",f),w("form","accept-charset action autocomplete enctype method name novalidate target",f),w("fieldset","disabled form name",[f,"legend"].join(" ")),w("label","form for",l),w("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),w("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value",e==="html4"?f:l),w("select","disabled form multiple name required size","option optgroup"),w("optgroup","disabled label","option"),w("option","disabled label selected value"),w("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),w("menu","type label",[f,"li"].join(" ")),w("noscript","",f),e!=="html4"&&(w("wbr"),w("ruby","",[l,"rt rp"].join(" ")),w("figcaption","",f),w("mark rt rp summary bdi","",l),w("canvas","width height",f),w("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",[f,"track source"].join(" ")),w("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[f,"track source"].join(" ")),w("picture","","img source"),w("source","src srcset type media sizes"),w("track","kind src srclang label default"),w("datalist","",[l,"option"].join(" ")),w("article section nav aside main header footer","",f),w("hgroup","","h1 h2 h3 h4 h5 h6"),w("figure","",[f,"figcaption"].join(" ")),w("time","datetime",l),w("dialog","open",f),w("command","type label icon disabled checked radiogroup command"),w("output","for form name",l),w("progress","value max",l),w("meter","value min max low high optimum",l),w("details","open",[f,"summary"].join(" ")),w("keygen","autofocus challenge disabled form keytype name")),e!=="html5-strict"&&(A("script","language xml:space"),A("style","xml:space"),A("object","declare classid code codebase codetype archive standby align border hspace vspace"),A("embed","align name hspace vspace"),A("param","valuetype type"),A("a","charset name rev shape coords"),A("br","clear"),A("applet","codebase archive code object alt name width height align hspace vspace"),A("img","name longdesc align border hspace vspace"),A("iframe","longdesc frameborder marginwidth marginheight scrolling align"),A("font basefont","size color face"),A("input","usemap align"),A("select"),A("textarea"),A("h1 h2 h3 h4 h5 h6 div p legend caption","align"),A("ul","type compact"),A("li","type"),A("ol dl menu dir","compact"),A("pre","width xml:space"),A("hr","align noshade size width"),A("isindex","prompt"),A("table","summary width frame rules cellspacing cellpadding align bgcolor"),A("col","width align char charoff valign"),A("colgroup","width align char charoff valign"),A("thead","align char charoff valign"),A("tr","align char charoff valign bgcolor"),A("th","axis align char charoff valign nowrap bgcolor width height"),A("form","accept"),A("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),A("tfoot","align char charoff valign"),A("tbody","align char charoff valign"),A("area","nohref"),A("body","background bgcolor text link vlink alink")),e!=="html4"&&(A("input button select textarea","autofocus"),A("input textarea","placeholder"),A("a","download"),A("link script img","crossorigin"),A("img","loading"),A("iframe","sandbox seamless allowfullscreen loading")),pu(zi("a form meter progress dfn"),function(F){n[F]&&delete n[F].children[F]}),delete n.caption.children.table,delete n.script,bl[e]=n,n)},sh=function(e,n){var a;return e&&(a={},typeof e=="string"&&(e={"*":e}),pu(e,function(i,l){a[l]=a[l.toUpperCase()]=n==="map"?Us(i,/[, ]/):Nf(i,/[, ]/)})),a},dr=function(e){var n={},a={},i=[],l={},f={},g=function(yt,Le,St){var Ve=e[yt];return Ve?Ve=Us(Ve,/[, ]/,Us(Ve.toUpperCase(),/[, ]/)):(Ve=bl[yt],Ve||(Ve=Us(Le," ",Us(Le.toUpperCase()," ")),Ve=Zp(Ve,St),bl[yt]=Ve)),Ve};e=e||{};var b=Vw(e.schema);e.verify_html===!1&&(e.valid_elements="*[*]");var w=sh(e.valid_styles),A=sh(e.invalid_styles,"map"),F=sh(e.valid_classes,"map"),I=g("whitespace_elements","pre script noscript style textarea video audio iframe object code"),V=g("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),Y=g("short_ended_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),X=g("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls"),ee="td th iframe video audio object script code",re=g("non_empty_elements",ee+" pre",Y),fe=g("move_caret_before_on_enter_elements",ee+" table",Y),ce=g("text_block_elements","h1 h2 h3 h4 h5 h6 p div address pre form blockquote center dir fieldset header footer article section hgroup aside main nav figure"),ye=g("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption details summary",ce),De=g("text_inline_elements","span strong b em i font strike u var cite dfn code mark q sup sub samp");pu((e.special||"script noscript iframe noframes noembed title style textarea xmp").split(" "),function(yt){f[yt]=new RegExp("</"+yt+"[^>]*>","gi")});var he=function(yt){return new RegExp("^"+yt.replace(/([?+*])/g,".$1")+"$")},Be=function(yt){var Le,St,Ve,vn,Vt,Pn,mr,Wa,rl,_l,Pc,al,ol,di,Em,iu,$c,ud,ro=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)])?$/,_a=/^([!\-])?(\w+[\\:]:\w+|[^=:<]+)?(?:([=:<])(.*))?$/,ti=/[*?+]/;if(yt){var hf=zi(yt,",");for(n["@"]&&(iu=n["@"].attributes,$c=n["@"].attributesOrder),Le=0,St=hf.length;Le<St;Le++)if(Vt=ro.exec(hf[Le]),Vt){if(di=Vt[1],rl=Vt[2],Em=Vt[3],Wa=Vt[5],al={},ol=[],Pn={attributes:al,attributesOrder:ol},di==="#"&&(Pn.paddEmpty=!0),di==="-"&&(Pn.removeEmpty=!0),Vt[4]==="!"&&(Pn.removeEmptyAttrs=!0),iu&&(hr(iu,function(ld,pf){al[pf]=ld}),ol.push.apply(ol,$c)),Wa){for(Wa=zi(Wa,"|"),Ve=0,vn=Wa.length;Ve<vn;Ve++)if(Vt=_a.exec(Wa[Ve]),Vt){if(mr={},Pc=Vt[1],_l=Vt[2].replace(/[\\:]:/g,":"),di=Vt[3],ud=Vt[4],Pc==="!"&&(Pn.attributesRequired=Pn.attributesRequired||[],Pn.attributesRequired.push(_l),mr.required=!0),Pc==="-"){delete al[_l],ol.splice(Lw(ol,_l),1);continue}di&&(di==="="&&(Pn.attributesDefault=Pn.attributesDefault||[],Pn.attributesDefault.push({name:_l,value:ud}),mr.defaultValue=ud),di===":"&&(Pn.attributesForced=Pn.attributesForced||[],Pn.attributesForced.push({name:_l,value:ud}),mr.forcedValue=ud),di==="<"&&(mr.validValues=Us(ud,"?"))),ti.test(_l)?(Pn.attributePatterns=Pn.attributePatterns||[],mr.pattern=he(_l),Pn.attributePatterns.push(mr)):(al[_l]||ol.push(_l),al[_l]=mr)}}!iu&&rl==="@"&&(iu=al,$c=ol),Em&&(Pn.outputName=rl,n[Em]=Pn),ti.test(rl)?(Pn.pattern=he(rl),i.push(Pn)):n[rl]=Pn}}},qe=function(yt){n={},i=[],Be(yt),pu(b,function(Le,St){a[St]=Le.children})},Ct=function(yt){var Le=/^(~)?(.+)$/;yt&&(bl.text_block_elements=bl.block_elements=null,pu(zi(yt,","),function(St){var Ve=Le.exec(St),vn=Ve[1]==="~",Vt=vn?"span":"div",Pn=Ve[2];if(a[Pn]=a[Vt],l[Pn]=Vt,vn||(ye[Pn.toUpperCase()]={},ye[Pn]={}),!n[Pn]){var mr=n[Vt];mr=Zp({},mr),delete mr.removeEmptyAttrs,delete mr.removeEmpty,n[Pn]=mr}pu(a,function(Wa,rl){Wa[Vt]&&(a[rl]=Wa=Zp({},a[rl]),Wa[Pn]=Wa[Vt])})}))},_n=function(yt){var Le=/^([+\-]?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)\[([^\]]+)]$/;bl[e.schema]=null,yt&&pu(zi(yt,","),function(St){var Ve=Le.exec(St),vn,Vt;Ve&&(Vt=Ve[1],Vt?vn=a[Ve[2]]:vn=a[Ve[2]]={"#comment":{}},vn=a[Ve[2]],pu(zi(Ve[3],"|"),function(Pn){Vt==="-"?delete vn[Pn]:vn[Pn]={}}))})},en=function(yt){var Le=n[yt],St;if(Le)return Le;for(St=i.length;St--;)if(Le=i[St],Le.pattern.test(yt))return Le};e.valid_elements?qe(e.valid_elements):(pu(b,function(yt,Le){n[Le]={attributes:yt.attributes,attributesOrder:yt.attributesOrder},a[Le]=yt.children}),e.schema!=="html5"&&pu(zi("strong/b em/i"),function(yt){var Le=zi(yt,"/");n[Le[1]].outputName=Le[0]}),pu(zi("ol ul sub sup blockquote span font a table tbody strong em b i"),function(yt){n[yt]&&(n[yt].removeEmpty=!0)}),pu(zi("p h1 h2 h3 h4 h5 h6 th td pre div address caption li"),function(yt){n[yt].paddEmpty=!0}),pu(zi("span"),function(yt){n[yt].removeEmptyAttrs=!0})),Ct(e.custom_elements),_n(e.valid_children),Be(e.extended_valid_elements),_n("+ol[ul|ol],+ul[ul|ol]"),pu({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},function(yt,Le){n[Le]&&(n[Le].parentsRequired=zi(yt))}),e.invalid_elements&&pu(Nf(e.invalid_elements),function(yt){n[yt]&&delete n[yt]}),en("span")||Be("span[!data-mce-type|*]");var wt=Q(w),Fn=Q(A),Dt=Q(F),tn=Q(X),At=Q(ye),jt=Q(ce),an=Q(De),bt=Q(Y),ln=Q(V),Yn=Q(re),oa=Q(fe),Dr=Q(I),Lo=Q(f),yo=function(yt,Le){var St=a[yt.toLowerCase()];return!!(St&&St[Le.toLowerCase()])},Kl=function(yt,Le){var St,Ve,vn=en(yt);if(vn)if(Le){if(vn.attributes[Le])return!0;if(St=vn.attributePatterns,St){for(Ve=St.length;Ve--;)if(St[Ve].pattern.test(yt))return!0}}else return!0;return!1},_s=Q(l);return{children:a,elements:n,getValidStyles:wt,getValidClasses:Dt,getBlockElements:At,getInvalidStyles:Fn,getShortEndedElements:bt,getTextBlockElements:jt,getTextInlineElements:an,getBoolAttrs:tn,getElementRule:en,getSelfClosingElements:ln,getNonEmptyElements:Yn,getMoveCaretBeforeOnEnterElements:oa,getWhiteSpaceElements:Dr,getSpecialElements:Lo,isValidChild:yo,isValid:Kl,getCustomElements:_s,addValidElements:Be,setValidElements:qe,addCustomElements:Ct,addValidChildren:_n}},Rn=function(e,n,a,i){var l=function(f){return f=parseInt(f,10).toString(16),f.length>1?f:"0"+f};return"#"+l(n)+l(a)+l(i)},Ff=function(e,n){var a=this,i=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,l=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,f=/\s*([^:]+):\s*([^;]+);?/g,g=/\s+$/,b,w={},A,F,I=dv;e=e||{},n&&(A=n.getValidStyles(),F=n.getInvalidStyles());var V=(`\\" \\' \\; \\: ; : `+I).split(" ");for(b=0;b<V.length;b++)w[V[b]]=I+b,w[I+b]=V[b];return{toHex:function(Y){return Y.replace(i,Rn)},parse:function(Y){var X={},ee,re,fe,ce,ye=e.url_converter,De=e.url_converter_scope||a,he=function(Dt,tn,At){var jt=X[Dt+"-top"+tn];if(!!jt){var an=X[Dt+"-right"+tn];if(!!an){var bt=X[Dt+"-bottom"+tn];if(!!bt){var ln=X[Dt+"-left"+tn];if(!!ln){var Yn=[jt,an,bt,ln];for(b=Yn.length-1;b--&&Yn[b]===Yn[b+1];);b>-1&&At||(X[Dt+tn]=b===-1?Yn[0]:Yn.join(" "),delete X[Dt+"-top"+tn],delete X[Dt+"-right"+tn],delete X[Dt+"-bottom"+tn],delete X[Dt+"-left"+tn])}}}}},Be=function(Dt){var tn=X[Dt],At;if(!!tn){for(tn=tn.split(" "),At=tn.length;At--;)if(tn[At]!==tn[0])return!1;return X[Dt]=tn[0],!0}},qe=function(Dt,tn,At,jt){!Be(tn)||!Be(At)||!Be(jt)||(X[Dt]=X[tn]+" "+X[At]+" "+X[jt],delete X[tn],delete X[At],delete X[jt])},Ct=function(Dt){return ce=!0,w[Dt]},_n=function(Dt,tn){return ce&&(Dt=Dt.replace(/\uFEFF[0-9]/g,function(At){return w[At]})),tn||(Dt=Dt.replace(/\\([\'\";:])/g,"$1")),Dt},en=function(Dt){return String.fromCharCode(parseInt(Dt.slice(1),16))},wt=function(Dt){return Dt.replace(/\\[0-9a-f]+/gi,en)},Fn=function(Dt,tn,At,jt,an,bt){if(an=an||bt,an)return an=_n(an),"'"+an.replace(/\'/g,"\\'")+"'";if(tn=_n(tn||At||jt),!e.allow_script_urls){var ln=tn.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test(ln)||!e.allow_svg_data_urls&&/^data:image\/svg/i.test(ln))return""}return ye&&(tn=ye.call(De,tn,"style")),"url('"+tn.replace(/\'/g,"\\'")+"')"};if(Y){for(Y=Y.replace(/[\u0000-\u001F]/g,""),Y=Y.replace(/\\[\"\';:\uFEFF]/g,Ct).replace(/\"[^\"]+\"|\'[^\']+\'/g,function(Dt){return Dt.replace(/[;:]/g,Ct)});ee=f.exec(Y);)if(f.lastIndex=ee.index+ee[0].length,re=ee[1].replace(g,"").toLowerCase(),fe=ee[2].replace(g,""),re&&fe){if(re=wt(re),fe=wt(fe),re.indexOf(I)!==-1||re.indexOf('"')!==-1||!e.allow_script_urls&&(re==="behavior"||/expression\s*\(|\/\*|\*\//.test(fe)))continue;re==="font-weight"&&fe==="700"?fe="bold":(re==="color"||re==="background-color")&&(fe=fe.toLowerCase()),fe=fe.replace(i,Rn),fe=fe.replace(l,Fn),X[re]=ce?_n(fe,!0):fe}he("border","",!0),he("border","-width"),he("border","-color"),he("border","-style"),he("padding",""),he("margin",""),qe("border","border-width","border-style","border-color"),X.border==="medium none"&&delete X.border,X["border-image"]==="none"&&delete X["border-image"]}return X},serialize:function(Y,X){var ee="",re=function(ce){var ye,De=A[ce];if(De)for(var he=0,Be=De.length;he<Be;he++)ce=De[he],ye=Y[ce],ye&&(ee+=(ee.length>0?" ":"")+ce+": "+ye+";")},fe=function(ce,ye){var De=F["*"];return De&&De[ce]?!1:(De=F[ye],!(De&&De[ce]))};return X&&A?(re("*"),re(X)):hr(Y,function(ce,ye){ce&&(!F||fe(ye,X))&&(ee+=(ee.length>0?" ":"")+ye+": "+ce+";")}),ee}}},_0={keyLocation:!0,layerX:!0,layerY:!0,returnValue:!0,webkitMovementX:!0,webkitMovementY:!0,keyIdentifier:!0,mozPressure:!0},Ws=function(e){return e instanceof Event||Nt(e.initEvent)},Hw=function(e){return e.isDefaultPrevented===sn||e.isDefaultPrevented===Mt},Oa=function(e){return Ht(e.preventDefault)||Ws(e)},R0=function(e,n){var a=n!=null?n:{};for(var i in e)tr(_0,i)||(a[i]=e[i]);return qt(a.composedPath)&&(a.composedPath=function(){return e.composedPath()}),a},ch=function(e,n,a,i){var l,f=R0(n,i);return f.type=e,Ht(f.target)&&(f.target=(l=f.srcElement)!==null&&l!==void 0?l:a),Oa(n)&&(f.preventDefault=function(){f.defaultPrevented=!0,f.isDefaultPrevented=sn,Nt(n.preventDefault)?n.preventDefault():Ws(n)&&(n.returnValue=!1)},f.stopPropagation=function(){f.cancelBubble=!0,f.isPropagationStopped=sn,Nt(n.stopPropagation)?n.stopPropagation():Ws(n)&&(n.cancelBubble=!0)},f.stopImmediatePropagation=function(){f.isImmediatePropagationStopped=sn,f.stopPropagation()},Hw(f)||(f.isDefaultPrevented=f.defaultPrevented===!0?sn:Mt,f.isPropagationStopped=f.cancelBubble===!0?sn:Mt,f.isImmediatePropagationStopped=Mt)),f},Qp="mce-data-",ft=/^(?:mouse|contextmenu)|click/,fh=function(e,n,a,i){e.addEventListener?e.addEventListener(n,a,i||!1):e.attachEvent&&e.attachEvent("on"+n,a)},qm=function(e,n,a,i){e.removeEventListener?e.removeEventListener(n,a,i||!1):e.detachEvent&&e.detachEvent("on"+n,a)},Km=function(e){return qt(e)&&ft.test(e.type)},xd=function(e,n){var a=ch(e.type,e,document,n);if(Km(e)&&Oe(e.pageX)&&!Oe(e.clientX)){var i=a.target.ownerDocument||document,l=i.documentElement,f=i.body,g=a;g.pageX=e.clientX+(l&&l.scrollLeft||f&&f.scrollLeft||0)-(l&&l.clientLeft||f&&f.clientLeft||0),g.pageY=e.clientY+(l&&l.scrollTop||f&&f.scrollTop||0)-(l&&l.clientTop||f&&f.clientTop||0)}return Oe(a.metaKey)&&(a.metaKey=!1),a},Td=function(e,n,a){var i=e.document,l={type:"ready"};if(a.domLoaded){n(l);return}var f=function(){return i.readyState==="complete"||i.readyState==="interactive"&&i.body},g=function(){qm(e,"DOMContentLoaded",g),qm(e,"load",g),a.domLoaded||(a.domLoaded=!0,n(l)),e=null};f()?g():fh(e,"DOMContentLoaded",g),a.domLoaded||fh(e,"load",g)},pv=function(){function e(){this.domLoaded=!1,this.events={},this.count=1,this.expando=Qp+(+new Date).toString(32),this.hasMouseEnterLeave="onmouseenter"in document.documentElement,this.hasFocusIn="onfocusin"in document.documentElement,this.count=1}return e.prototype.bind=function(n,a,i,l){var f=this,g,b,w,A,F,I,V,Y=window,X=function(re){f.executeHandlers(xd(re||Y.event),g)};if(!(!n||n.nodeType===3||n.nodeType===8)){n[f.expando]?g=n[f.expando]:(g=f.count++,n[f.expando]=g,f.events[g]={}),l=l||n;var ee=a.split(" ");for(w=ee.length;w--;){if(A=ee[w],I=X,F=V=!1,A==="DOMContentLoaded"&&(A="ready"),f.domLoaded&&A==="ready"&&n.readyState==="complete"){i.call(l,xd({type:A}));continue}f.hasMouseEnterLeave||(F=f.mouseEnterLeave[A],F&&(I=function(re){var fe=re.currentTarget,ce=re.relatedTarget;if(ce&&fe.contains)ce=fe.contains(ce);else for(;ce&&ce!==fe;)ce=ce.parentNode;ce||(re=xd(re||Y.event),re.type=re.type==="mouseout"?"mouseleave":"mouseenter",re.target=fe,f.executeHandlers(re,g))})),!f.hasFocusIn&&(A==="focusin"||A==="focusout")&&(V=!0,F=A==="focusin"?"focus":"blur",I=function(re){re=xd(re||Y.event),re.type=re.type==="focus"?"focusin":"focusout",f.executeHandlers(re,g)}),b=f.events[g][A],b?A==="ready"&&f.domLoaded?i(xd({type:A})):b.push({func:i,scope:l}):(f.events[g][A]=b=[{func:i,scope:l}],b.fakeName=F,b.capture=V,b.nativeHandler=I,A==="ready"?Td(n,I,f):fh(n,F||A,I,V))}return n=b=null,i}},e.prototype.unbind=function(n,a,i){var l,f,g,b,w;if(!n||n.nodeType===3||n.nodeType===8)return this;var A=n[this.expando];if(A){if(w=this.events[A],a){var F=a.split(" ");for(f=F.length;f--;)if(b=F[f],l=w[b],l){if(i){for(g=l.length;g--;)if(l[g].func===i){var I=l.nativeHandler,V=l.fakeName,Y=l.capture;l=l.slice(0,g).concat(l.slice(g+1)),l.nativeHandler=I,l.fakeName=V,l.capture=Y,w[b]=l}}(!i||l.length===0)&&(delete w[b],qm(n,l.fakeName||b,l.nativeHandler,l.capture))}}else hr(w,function(X,ee){qm(n,X.fakeName||ee,X.nativeHandler,X.capture)}),w={};for(b in w)if(tr(w,b))return this;delete this.events[A];try{delete n[this.expando]}catch(X){n[this.expando]=null}}return this},e.prototype.fire=function(n,a,i){var l;if(!n||n.nodeType===3||n.nodeType===8)return this;var f=xd({type:a,target:n},i);do l=n[this.expando],l&&this.executeHandlers(f,l),n=n.parentNode||n.ownerDocument||n.defaultView||n.parentWindow;while(n&&!f.isPropagationStopped());return this},e.prototype.clean=function(n){var a,i;if(!n||n.nodeType===3||n.nodeType===8)return this;if(n[this.expando]&&this.unbind(n),n.getElementsByTagName||(n=n.document),n&&n.getElementsByTagName)for(this.unbind(n),i=n.getElementsByTagName("*"),a=i.length;a--;)n=i[a],n[this.expando]&&this.unbind(n);return this},e.prototype.destroy=function(){this.events={}},e.prototype.cancel=function(n){return n&&(n.preventDefault(),n.stopImmediatePropagation()),!1},e.prototype.executeHandlers=function(n,a){var i=this.events[a],l=i&&i[n.type];if(l)for(var f=0,g=l.length;f<g;f++){var b=l[f];if(b&&b.func.call(b.scope,n)===!1&&n.preventDefault(),n.isImmediatePropagationStopped())return}},e.Event=new e,e}(),ho,$a,zf,Ha,yl,B0,js,e1,Zu,yc,If,wi,t1,tu,Ci,Xm,iT,vh,Fo="sizzle"+-new Date,un=window.document,ms=0,uT=0,Uw=F0(),Ym=F0(),Ww=F0(),dh=function(e,n){return e===n&&(yc=!0),0},Xc="undefined",Ed=1<<31,M0={}.hasOwnProperty,wc=[],lT=wc.pop,Od=wc.push,Yc=wc.push,bv=wc.slice,Ad=wc.indexOf||function(e){for(var n=0,a=this.length;n<a;n++)if(this[n]===e)return n;return-1},jw="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",To="[\\x20\\t\\r\\n\\f]",yv="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",Dd="\\["+To+"*("+yv+")(?:"+To+"*([*^$|!~]?=)"+To+`*(?:'((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)"|(`+yv+"))|)"+To+"*\\]",wl=":("+yv+`)(?:\\((('((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|`+Dd+")*)|.*)\\)|)",Si=new RegExp("^"+To+"+|((?:^|[^\\\\])(?:\\\\.)*)"+To+"+$","g"),sT=new RegExp("^"+To+"*,"+To+"*"),cT=new RegExp("^"+To+"*([>+~]|"+To+")"+To+"*"),fT=new RegExp("="+To+`*([^\\]'"]*?)`+To+"*\\]","g"),Gw=new RegExp(wl),Gs=new RegExp("^"+yv+"$"),n1={ID:new RegExp("^#("+yv+")"),CLASS:new RegExp("^\\.("+yv+")"),TAG:new RegExp("^("+yv+"|[*])"),ATTR:new RegExp("^"+Dd),PSEUDO:new RegExp("^"+wl),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+To+"*(even|odd|(([+-]|)(\\d*)n|)"+To+"*(?:([+-]|)"+To+"*(\\d+)|))"+To+"*\\)|)","i"),bool:new RegExp("^(?:"+jw+")$","i"),needsContext:new RegExp("^"+To+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+To+"*((?:-\\d)?\\d*)"+To+"*\\)|)(?=[^-]|$)","i")},Jm=/^(?:input|select|textarea|button)$/i,vT=/^h\d$/i,P0=/^[^{]+\{\s*\[native \w/,qw=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,$0=/[+~]/,N0=/'|\\/g,wv=new RegExp("\\\\([\\da-f]{1,6}"+To+"?|("+To+")|.)","ig"),Cv=function(e,n,a){var i="0x"+n-65536;return i!==i||a?n:i<0?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,i&1023|56320)};try{Yc.apply(wc=bv.call(un.childNodes),un.childNodes),wc[un.childNodes.length].nodeType}catch(e){Yc={apply:wc.length?function(n,a){Od.apply(n,bv.call(a))}:function(n,a){for(var i=n.length,l=0;n[i++]=a[l++];);n.length=i-1}}}var Ca=function(e,n,a,i){var l,f,g,b,w,A,F,I,V,Y;if((n?n.ownerDocument||n:un)!==wi&&If(n),n=n||wi,a=a||[],!e||typeof e!="string")return a;if((b=n.nodeType)!==1&&b!==9)return[];if(tu&&!i){if(l=qw.exec(e))if(g=l[1]){if(b===9)if(f=n.getElementById(g),f&&f.parentNode){if(f.id===g)return a.push(f),a}else return a;else if(n.ownerDocument&&(f=n.ownerDocument.getElementById(g))&&vh(n,f)&&f.id===g)return a.push(f),a}else{if(l[2])return Yc.apply(a,n.getElementsByTagName(e)),a;if((g=l[3])&&ho.getElementsByClassName)return Yc.apply(a,n.getElementsByClassName(g)),a}if(ho.qsa&&(!Ci||!Ci.test(e))){if(I=F=Fo,V=n,Y=b===9&&e,b===1&&n.nodeName.toLowerCase()!=="object"){for(A=yl(e),(F=n.getAttribute("id"))?I=F.replace(N0,"\\$&"):n.setAttribute("id",I),I="[id='"+I+"'] ",w=A.length;w--;)A[w]=I+mh(A[w]);V=$0.test(e)&&qs(n.parentNode)||n,Y=A.join(",")}if(Y)try{return Yc.apply(a,V.querySelectorAll(Y)),a}catch(X){}finally{F||n.removeAttribute("id")}}}return js(e.replace(Si,"$1"),n,a,i)};function F0(){var e=[];function n(a,i){return e.push(a+" ")>$a.cacheLength&&delete n[e.shift()],n[a+" "]=i}return n}function gs(e){return e[Fo]=!0,e}function z0(e,n){var a=n&&e,i=a&&e.nodeType===1&&n.nodeType===1&&(~n.sourceIndex||Ed)-(~e.sourceIndex||Ed);if(i)return i;if(a){for(;a=a.nextSibling;)if(a===n)return-1}return e?1:-1}function dT(e){return function(n){var a=n.nodeName.toLowerCase();return a==="input"&&n.type===e}}function mT(e){return function(n){var a=n.nodeName.toLowerCase();return(a==="input"||a==="button")&&n.type===e}}function Nu(e){return gs(function(n){return n=+n,gs(function(a,i){for(var l,f=e([],a.length,n),g=f.length;g--;)a[l=f[g]]&&(a[l]=!(i[l]=a[l]))})})}function qs(e){return e&&typeof e.getElementsByTagName!==Xc&&e}ho=Ca.support={},Ha=Ca.isXML=function(e){var n=e&&(e.ownerDocument||e).documentElement;return n?n.nodeName!=="HTML":!1},If=Ca.setDocument=function(e){var n,a=e?e.ownerDocument||e:un,i=a.defaultView;function l(f){try{return f.top}catch(g){}return null}return a===wi||a.nodeType!==9||!a.documentElement?wi:(wi=a,t1=a.documentElement,tu=!Ha(a),i&&i!==l(i)&&(i.addEventListener?i.addEventListener("unload",function(){If()},!1):i.attachEvent&&i.attachEvent("onunload",function(){If()})),ho.attributes=!0,ho.getElementsByTagName=!0,ho.getElementsByClassName=P0.test(a.getElementsByClassName),ho.getById=!0,$a.find.ID=function(f,g){if(typeof g.getElementById!==Xc&&tu){var b=g.getElementById(f);return b&&b.parentNode?[b]:[]}},$a.filter.ID=function(f){var g=f.replace(wv,Cv);return function(b){return b.getAttribute("id")===g}},$a.find.TAG=ho.getElementsByTagName?function(f,g){if(typeof g.getElementsByTagName!==Xc)return g.getElementsByTagName(f)}:function(f,g){var b,w=[],A=0,F=g.getElementsByTagName(f);if(f==="*"){for(;b=F[A++];)b.nodeType===1&&w.push(b);return w}return F},$a.find.CLASS=ho.getElementsByClassName&&function(f,g){if(tu)return g.getElementsByClassName(f)},Xm=[],Ci=[],ho.disconnectedMatch=!0,Ci=Ci.length&&new RegExp(Ci.join("|")),Xm=Xm.length&&new RegExp(Xm.join("|")),n=P0.test(t1.compareDocumentPosition),vh=n||P0.test(t1.contains)?function(f,g){var b=f.nodeType===9?f.documentElement:f,w=g&&g.parentNode;return f===w||!!(w&&w.nodeType===1&&(b.contains?b.contains(w):f.compareDocumentPosition&&f.compareDocumentPosition(w)&16))}:function(f,g){if(g){for(;g=g.parentNode;)if(g===f)return!0}return!1},dh=n?function(f,g){if(f===g)return yc=!0,0;var b=!f.compareDocumentPosition-!g.compareDocumentPosition;return b||(b=(f.ownerDocument||f)===(g.ownerDocument||g)?f.compareDocumentPosition(g):1,b&1||!ho.sortDetached&&g.compareDocumentPosition(f)===b?f===a||f.ownerDocument===un&&vh(un,f)?-1:g===a||g.ownerDocument===un&&vh(un,g)?1:Zu?Ad.call(Zu,f)-Ad.call(Zu,g):0:b&4?-1:1)}:function(f,g){if(f===g)return yc=!0,0;var b,w=0,A=f.parentNode,F=g.parentNode,I=[f],V=[g];if(!A||!F)return f===a?-1:g===a?1:A?-1:F?1:Zu?Ad.call(Zu,f)-Ad.call(Zu,g):0;if(A===F)return z0(f,g);for(b=f;b=b.parentNode;)I.unshift(b);for(b=g;b=b.parentNode;)V.unshift(b);for(;I[w]===V[w];)w++;return w?z0(I[w],V[w]):I[w]===un?-1:V[w]===un?1:0},a)},Ca.matches=function(e,n){return Ca(e,null,null,n)},Ca.matchesSelector=function(e,n){if((e.ownerDocument||e)!==wi&&If(e),n=n.replace(fT,"='$1']"),ho.matchesSelector&&tu&&(!Xm||!Xm.test(n))&&(!Ci||!Ci.test(n)))try{var a=iT.call(e,n);if(a||ho.disconnectedMatch||e.document&&e.document.nodeType!==11)return a}catch(i){}return Ca(n,wi,null,[e]).length>0},Ca.contains=function(e,n){return(e.ownerDocument||e)!==wi&&If(e),vh(e,n)},Ca.attr=function(e,n){(e.ownerDocument||e)!==wi&&If(e);var a=$a.attrHandle[n.toLowerCase()],i=a&&M0.call($a.attrHandle,n.toLowerCase())?a(e,n,!tu):void 0;return i!==void 0?i:ho.attributes||!tu?e.getAttribute(n):(i=e.getAttributeNode(n))&&i.specified?i.value:null},Ca.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},Ca.uniqueSort=function(e){var n,a=[],i=0,l=0;if(yc=!ho.detectDuplicates,Zu=!ho.sortStable&&e.slice(0),e.sort(dh),yc){for(;n=e[l++];)n===e[l]&&(i=a.push(l));for(;i--;)e.splice(a[i],1)}return Zu=null,e},zf=Ca.getText=function(e){var n,a="",i=0,l=e.nodeType;if(l){if(l===1||l===9||l===11){if(typeof e.textContent=="string")return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)a+=zf(e)}else if(l===3||l===4)return e.nodeValue}else for(;n=e[i++];)a+=zf(n);return a},$a=Ca.selectors={cacheLength:50,createPseudo:gs,match:n1,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(wv,Cv),e[3]=(e[3]||e[4]||e[5]||"").replace(wv,Cv),e[2]==="~="&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),e[1].slice(0,3)==="nth"?(e[3]||Ca.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*(e[3]==="even"||e[3]==="odd")),e[5]=+(e[7]+e[8]||e[3]==="odd")):e[3]&&Ca.error(e[0]),e},PSEUDO:function(e){var n,a=!e[6]&&e[2];return n1.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":a&&Gw.test(a)&&(n=yl(a,!0))&&(n=a.indexOf(")",a.length-n)-a.length)&&(e[0]=e[0].slice(0,n),e[2]=a.slice(0,n)),e.slice(0,3))}},filter:{TAG:function(e){var n=e.replace(wv,Cv).toLowerCase();return e==="*"?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===n}},CLASS:function(e){var n=Uw[e+" "];return n||(n=new RegExp("(^|"+To+")"+e+"("+To+"|$)"))&&Uw(e,function(a){return n.test(typeof a.className=="string"&&a.className||typeof a.getAttribute!==Xc&&a.getAttribute("class")||"")})},ATTR:function(e,n,a){return function(i){var l=Ca.attr(i,e);return l==null?n==="!=":n?(l+="",n==="="?l===a:n==="!="?l!==a:n==="^="?a&&l.indexOf(a)===0:n==="*="?a&&l.indexOf(a)>-1:n==="$="?a&&l.slice(-a.length)===a:n==="~="?(" "+l+" ").indexOf(a)>-1:n==="|="?l===a||l.slice(0,a.length+1)===a+"-":!1):!0}},CHILD:function(e,n,a,i,l){var f=e.slice(0,3)!=="nth",g=e.slice(-4)!=="last",b=n==="of-type";return i===1&&l===0?function(w){return!!w.parentNode}:function(w,A,F){var I,V,Y,X,ee,re,fe=f!==g?"nextSibling":"previousSibling",ce=w.parentNode,ye=b&&w.nodeName.toLowerCase(),De=!F&&!b;if(ce){if(f){for(;fe;){for(Y=w;Y=Y[fe];)if(b?Y.nodeName.toLowerCase()===ye:Y.nodeType===1)return!1;re=fe=e==="only"&&!re&&"nextSibling"}return!0}if(re=[g?ce.firstChild:ce.lastChild],g&&De){for(V=ce[Fo]||(ce[Fo]={}),I=V[e]||[],ee=I[0]===ms&&I[1],X=I[0]===ms&&I[2],Y=ee&&ce.childNodes[ee];Y=++ee&&Y&&Y[fe]||(X=ee=0)||re.pop();)if(Y.nodeType===1&&++X&&Y===w){V[e]=[ms,ee,X];break}}else if(De&&(I=(w[Fo]||(w[Fo]={}))[e])&&I[0]===ms)X=I[1];else for(;(Y=++ee&&Y&&Y[fe]||(X=ee=0)||re.pop())&&!((b?Y.nodeName.toLowerCase()===ye:Y.nodeType===1)&&++X&&(De&&((Y[Fo]||(Y[Fo]={}))[e]=[ms,X]),Y===w)););return X-=l,X===i||X%i==0&&X/i>=0}}},PSEUDO:function(e,n){var a,i=$a.pseudos[e]||$a.setFilters[e.toLowerCase()]||Ca.error("unsupported pseudo: "+e);return i[Fo]?i(n):i.length>1?(a=[e,e,"",n],$a.setFilters.hasOwnProperty(e.toLowerCase())?gs(function(l,f){for(var g,b=i(l,n),w=b.length;w--;)g=Ad.call(l,b[w]),l[g]=!(f[g]=b[w])}):function(l){return i(l,0,a)}):i}},pseudos:{not:gs(function(e){var n=[],a=[],i=B0(e.replace(Si,"$1"));return i[Fo]?gs(function(l,f,g,b){for(var w,A=i(l,null,b,[]),F=l.length;F--;)(w=A[F])&&(l[F]=!(f[F]=w))}):function(l,f,g){return n[0]=l,i(n,null,g,a),n[0]=null,!a.pop()}}),has:gs(function(e){return function(n){return Ca(e,n).length>0}}),contains:gs(function(e){return e=e.replace(wv,Cv),function(n){return(n.textContent||n.innerText||zf(n)).indexOf(e)>-1}}),lang:gs(function(e){return Gs.test(e||"")||Ca.error("unsupported lang: "+e),e=e.replace(wv,Cv).toLowerCase(),function(n){var a;do if(a=tu?n.lang:n.getAttribute("xml:lang")||n.getAttribute("lang"))return a=a.toLowerCase(),a===e||a.indexOf(e+"-")===0;while((n=n.parentNode)&&n.nodeType===1);return!1}}),target:function(e){var n=window.location&&window.location.hash;return n&&n.slice(1)===e.id},root:function(e){return e===t1},focus:function(e){return e===wi.activeElement&&(!wi.hasFocus||wi.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var n=e.nodeName.toLowerCase();return n==="input"&&!!e.checked||n==="option"&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!$a.pseudos.empty(e)},header:function(e){return vT.test(e.nodeName)},input:function(e){return Jm.test(e.nodeName)},button:function(e){var n=e.nodeName.toLowerCase();return n==="input"&&e.type==="button"||n==="button"},text:function(e){var n;return e.nodeName.toLowerCase()==="input"&&e.type==="text"&&((n=e.getAttribute("type"))==null||n.toLowerCase()==="text")},first:Nu(function(){return[0]}),last:Nu(function(e,n){return[n-1]}),eq:Nu(function(e,n,a){return[a<0?a+n:a]}),even:Nu(function(e,n){for(var a=0;a<n;a+=2)e.push(a);return e}),odd:Nu(function(e,n){for(var a=1;a<n;a+=2)e.push(a);return e}),lt:Nu(function(e,n,a){for(var i=a<0?a+n:a;--i>=0;)e.push(i);return e}),gt:Nu(function(e,n,a){for(var i=a<0?a+n:a;++i<n;)e.push(i);return e})}},$a.pseudos.nth=$a.pseudos.eq,tt(["radio","checkbox","file","password","image"],function(e){$a.pseudos[e]=dT(e)}),tt(["submit","reset"],function(e){$a.pseudos[e]=mT(e)});function I0(){}I0.prototype=$a.filters=$a.pseudos,$a.setFilters=new I0,yl=Ca.tokenize=function(e,n){var a,i,l,f,g,b,w,A=Ym[e+" "];if(A)return n?0:A.slice(0);for(g=e,b=[],w=$a.preFilter;g;){(!a||(i=sT.exec(g)))&&(i&&(g=g.slice(i[0].length)||g),b.push(l=[])),a=!1,(i=cT.exec(g))&&(a=i.shift(),l.push({value:a,type:i[0].replace(Si," ")}),g=g.slice(a.length));for(f in $a.filter)!$a.filter.hasOwnProperty(f)||(i=n1[f].exec(g))&&(!w[f]||(i=w[f](i)))&&(a=i.shift(),l.push({value:a,type:f,matches:i}),g=g.slice(a.length));if(!a)break}return n?g.length:g?Ca.error(e):Ym(e,b).slice(0)};function mh(e){for(var n=0,a=e.length,i="";n<a;n++)i+=e[n].value;return i}function Zm(e,n,a){var i=n.dir,l=a&&i==="parentNode",f=uT++;return n.first?function(g,b,w){for(;g=g[i];)if(g.nodeType===1||l)return e(g,b,w)}:function(g,b,w){var A,F,I=[ms,f];if(w){for(;g=g[i];)if((g.nodeType===1||l)&&e(g,b,w))return!0}else for(;g=g[i];)if(g.nodeType===1||l){if(F=g[Fo]||(g[Fo]={}),(A=F[i])&&A[0]===ms&&A[1]===f)return I[2]=A[2];if(F[i]=I,I[2]=e(g,b,w))return!0}}}function L0(e){return e.length>1?function(n,a,i){for(var l=e.length;l--;)if(!e[l](n,a,i))return!1;return!0}:e[0]}function Kw(e,n,a){for(var i=0,l=n.length;i<l;i++)Ca(e,n[i],a);return a}function Sv(e,n,a,i,l){for(var f,g=[],b=0,w=e.length,A=n!=null;b<w;b++)(f=e[b])&&(!a||a(f,i,l))&&(g.push(f),A&&n.push(b));return g}function V0(e,n,a,i,l,f){return i&&!i[Fo]&&(i=V0(i)),l&&!l[Fo]&&(l=V0(l,f)),gs(function(g,b,w,A){var F,I,V,Y=[],X=[],ee=b.length,re=g||Kw(n||"*",w.nodeType?[w]:w,[]),fe=e&&(g||!n)?Sv(re,Y,e,w,A):re,ce=a?l||(g?e:ee||i)?[]:b:fe;if(a&&a(fe,ce,w,A),i)for(F=Sv(ce,X),i(F,[],w,A),I=F.length;I--;)(V=F[I])&&(ce[X[I]]=!(fe[X[I]]=V));if(g){if(l||e){if(l){for(F=[],I=ce.length;I--;)(V=ce[I])&&F.push(fe[I]=V);l(null,ce=[],F,A)}for(I=ce.length;I--;)(V=ce[I])&&(F=l?Ad.call(g,V):Y[I])>-1&&(g[F]=!(b[F]=V))}}else ce=Sv(ce===b?ce.splice(ee,ce.length):ce),l?l(null,b,ce,A):Yc.apply(b,ce)})}function H0(e){for(var n,a,i,l=e.length,f=$a.relative[e[0].type],g=f||$a.relative[" "],b=f?1:0,w=Zm(function(I){return I===n},g,!0),A=Zm(function(I){return Ad.call(n,I)>-1},g,!0),F=[function(I,V,Y){var X=!f&&(Y||V!==e1)||((n=V).nodeType?w(I,V,Y):A(I,V,Y));return n=null,X}];b<l;b++)if(a=$a.relative[e[b].type])F=[Zm(L0(F),a)];else{if(a=$a.filter[e[b].type].apply(null,e[b].matches),a[Fo]){for(i=++b;i<l&&!$a.relative[e[i].type];i++);return V0(b>1&&L0(F),b>1&&mh(e.slice(0,b-1).concat({value:e[b-2].type===" "?"*":""})).replace(Si,"$1"),a,b<i&&H0(e.slice(b,i)),i<l&&H0(e=e.slice(i)),i<l&&mh(e))}F.push(a)}return L0(F)}function r1(e,n){var a=n.length>0,i=e.length>0,l=function(f,g,b,w,A){var F,I,V,Y=0,X="0",ee=f&&[],re=[],fe=e1,ce=f||i&&$a.find.TAG("*",A),ye=ms+=fe==null?1:Math.random()||.1,De=ce.length;for(A&&(e1=g!==wi&&g);X!==De&&(F=ce[X])!=null;X++){if(i&&F){for(I=0;V=e[I++];)if(V(F,g,b)){w.push(F);break}A&&(ms=ye)}a&&((F=!V&&F)&&Y--,f&&ee.push(F))}if(Y+=X,a&&X!==Y){for(I=0;V=n[I++];)V(ee,re,g,b);if(f){if(Y>0)for(;X--;)ee[X]||re[X]||(re[X]=lT.call(w));re=Sv(re)}Yc.apply(w,re),A&&!f&&re.length>0&&Y+n.length>1&&Ca.uniqueSort(w)}return A&&(ms=ye,e1=fe),ee};return a?gs(l):l}B0=Ca.compile=function(e,n){var a,i=[],l=[],f=Ww[e+" "];if(!f){for(n||(n=yl(e)),a=n.length;a--;)f=H0(n[a]),f[Fo]?i.push(f):l.push(f);f=Ww(e,r1(l,i)),f.selector=e}return f},js=Ca.select=function(e,n,a,i){var l,f,g,b,w,A=typeof e=="function"&&e,F=!i&&yl(e=A.selector||e);if(a=a||[],F.length===1){if(f=F[0]=F[0].slice(0),f.length>2&&(g=f[0]).type==="ID"&&ho.getById&&n.nodeType===9&&tu&&$a.relative[f[1].type]){if(n=($a.find.ID(g.matches[0].replace(wv,Cv),n)||[])[0],n)A&&(n=n.parentNode);else return a;e=e.slice(f.shift().value.length)}for(l=n1.needsContext.test(e)?0:f.length;l--&&(g=f[l],!$a.relative[b=g.type]);)if((w=$a.find[b])&&(i=w(g.matches[0].replace(wv,Cv),$0.test(f[0].type)&&qs(n.parentNode)||n))){if(f.splice(l,1),e=i.length&&mh(f),!e)return Yc.apply(a,i),a;break}}return(A||B0(e,F))(i,n,!tu,a,$0.test(e)&&qs(n.parentNode)||n),a},ho.sortStable=Fo.split("").sort(dh).join("")===Fo,ho.detectDuplicates=!!yc,If(),ho.sortDetached=!0;var a1=document,_d=Array.prototype.push,Xw=Array.prototype.slice,ki=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,Cc=pv.Event,zo=Ye.makeMap("children,contents,next,prev"),Fu=function(e){return typeof e!="undefined"},Lf=function(e){return typeof e=="string"},Jc=function(e){return e&&e===e.window},U0=function(e,n){n=n||a1;var a=n.createElement("div"),i=n.createDocumentFragment();a.innerHTML=e;for(var l;l=a.firstChild;)i.appendChild(l);return i},Cl=function(e,n,a,i){var l;if(Lf(n))n=U0(n,Eo(e[0]));else if(n.length&&!n.nodeType){if(n=Zn.makeArray(n),i)for(l=n.length-1;l>=0;l--)Cl(e,n[l],a,i);else for(l=0;l<n.length;l++)Cl(e,n[l],a,i);return e}if(n.nodeType)for(l=e.length;l--;)a.call(e[l],n);return e},Qm=function(e,n){return e&&n&&(" "+e.className+" ").indexOf(" "+n+" ")!==-1},Yw=function(e,n,a){var i,l;return n=Zn(n)[0],e.each(function(){var f=this;(!a||i!==f.parentNode)&&(i=f.parentNode,l=n.cloneNode(!1),f.parentNode.insertBefore(l,f)),l.appendChild(f)}),e},gT=Ye.makeMap("fillOpacity fontWeight lineHeight opacity orphans widows zIndex zoom"," "),hT=Ye.makeMap("checked compact declare defer disabled ismap multiple nohref noshade nowrap readonly selected"," "),pT={for:"htmlFor",class:"className",readonly:"readOnly"},bT={float:"cssFloat"},W0={},o1={},Wl=function(e,n){return new Zn.fn.init(e,n)},Jw=function(e,n){var a;if(n.indexOf)return n.indexOf(e);for(a=n.length;a--;)if(n[a]===e)return a;return-1},kv=/^\s*|\s*$/g,gh=function(e){return e==null?"":(""+e).replace(kv,"")},Sc=function(e,n){var a,i,l,f;if(e)if(a=e.length,a===void 0){for(i in e)if(e.hasOwnProperty(i)&&(f=e[i],n.call(f,i,f)===!1))break}else for(l=0;l<a&&(f=e[l],n.call(f,l,f)!==!1);l++);return e},hs=function(e,n){var a=[];return Sc(e,function(i,l){n(l,i)&&a.push(l)}),a},Eo=function(e){return e?e.nodeType===9?e:e.ownerDocument:a1};Wl.fn=Wl.prototype={constructor:Wl,selector:"",context:null,length:0,init:function(e,n){var a=this,i,l;if(!e)return a;if(e.nodeType)return a.context=a[0]=e,a.length=1,a;if(n&&n.nodeType)a.context=n;else{if(n)return Zn(e).attr(n);a.context=n=document}if(Lf(e))if(a.selector=e,e.charAt(0)==="<"&&e.charAt(e.length-1)===">"&&e.length>=3?i=[null,e,null]:i=ki.exec(e),i)if(i[1])for(l=U0(e,Eo(n)).firstChild;l;)_d.call(a,l),l=l.nextSibling;else{if(l=Eo(n).getElementById(i[2]),!l)return a;if(l.id!==i[2])return a.find(e);a.length=1,a[0]=l}else return Zn(n).find(e);else this.add(e,!1);return a},toArray:function(){return Ye.toArray(this)},add:function(e,n){var a=this,i,l;if(Lf(e))return a.add(Zn(e));if(n!==!1)for(i=Zn.unique(a.toArray().concat(Zn.makeArray(e))),a.length=i.length,l=0;l<i.length;l++)a[l]=i[l];else _d.apply(a,Zn.makeArray(e));return a},attr:function(e,n){var a=this,i;if(typeof e=="object")Sc(e,function(l,f){a.attr(l,f)});else if(Fu(n))this.each(function(){var l;if(this.nodeType===1){if(l=W0[e],l&&l.set){l.set(this,n);return}n===null?this.removeAttribute(e,2):this.setAttribute(e,n,2)}});else{if(a[0]&&a[0].nodeType===1){if(i=W0[e],i&&i.get)return i.get(a[0],e);if(hT[e])return a.prop(e)?e:void 0;n=a[0].getAttribute(e,2),n===null&&(n=void 0)}return n}return a},removeAttr:function(e){return this.attr(e,null)},prop:function(e,n){var a=this;if(e=pT[e]||e,typeof e=="object")Sc(e,function(i,l){a.prop(i,l)});else if(Fu(n))this.each(function(){this.nodeType===1&&(this[e]=n)});else return a[0]&&a[0].nodeType&&e in a[0]?a[0][e]:n;return a},css:function(e,n){var a=this,i,l,f=function(b){return b.replace(/-(\D)/g,function(w,A){return A.toUpperCase()})},g=function(b){return b.replace(/[A-Z]/g,function(w){return"-"+w})};if(typeof e=="object")Sc(e,function(b,w){a.css(b,w)});else if(Fu(n))e=f(e),typeof n=="number"&&!gT[e]&&(n=n.toString()+"px"),a.each(function(){var b=this.style;if(l=o1[e],l&&l.set){l.set(this,n);return}try{this.style[bT[e]||e]=n}catch(w){}(n===null||n==="")&&(b.removeProperty?b.removeProperty(g(e)):b.removeAttribute(e))});else{if(i=a[0],l=o1[e],l&&l.get)return l.get(i);if(i.ownerDocument.defaultView)try{return i.ownerDocument.defaultView.getComputedStyle(i,null).getPropertyValue(g(e))}catch(b){return}else return i.currentStyle?i.currentStyle[f(e)]:""}return a},remove:function(){for(var e=this,n,a=this.length;a--;)n=e[a],Cc.clean(n),n.parentNode&&n.parentNode.removeChild(n);return this},empty:function(){for(var e=this,n,a=this.length;a--;)for(n=e[a];n.firstChild;)n.removeChild(n.firstChild);return this},html:function(e){var n=this,a;if(Fu(e)){a=n.length;try{for(;a--;)n[a].innerHTML=e}catch(i){Zn(n[a]).empty().append(e)}return n}return n[0]?n[0].innerHTML:""},text:function(e){var n=this,a;if(Fu(e)){for(a=n.length;a--;)"innerText"in n[a]?n[a].innerText=e:n[0].textContent=e;return n}return n[0]?n[0].innerText||n[0].textContent:""},append:function(){return Cl(this,arguments,function(e){(this.nodeType===1||this.host&&this.host.nodeType===1)&&this.appendChild(e)})},prepend:function(){return Cl(this,arguments,function(e){(this.nodeType===1||this.host&&this.host.nodeType===1)&&this.insertBefore(e,this.firstChild)},!0)},before:function(){var e=this;return e[0]&&e[0].parentNode?Cl(e,arguments,function(n){this.parentNode.insertBefore(n,this)}):e},after:function(){var e=this;return e[0]&&e[0].parentNode?Cl(e,arguments,function(n){this.parentNode.insertBefore(n,this.nextSibling)},!0):e},appendTo:function(e){return Zn(e).append(this),this},prependTo:function(e){return Zn(e).prepend(this),this},replaceWith:function(e){return this.before(e).remove()},wrap:function(e){return Yw(this,e)},wrapAll:function(e){return Yw(this,e,!0)},wrapInner:function(e){return this.each(function(){Zn(this).contents().wrapAll(e)}),this},unwrap:function(){return this.parent().each(function(){Zn(this).replaceWith(this.childNodes)})},clone:function(){var e=[];return this.each(function(){e.push(this.cloneNode(!0))}),Zn(e)},addClass:function(e){return this.toggleClass(e,!0)},removeClass:function(e){return this.toggleClass(e,!1)},toggleClass:function(e,n){var a=this;return typeof e!="string"||(e.indexOf(" ")!==-1?Sc(e.split(" "),function(){a.toggleClass(this,n)}):a.each(function(i,l){var f=Qm(l,e);if(f!==n){var g=l.className;f?l.className=gh((" "+g+" ").replace(" "+e+" "," ")):l.className+=g?" "+e:e}})),a},hasClass:function(e){return Qm(this[0],e)},each:function(e){return Sc(this,e)},on:function(e,n){return this.each(function(){Cc.bind(this,e,n)})},off:function(e,n){return this.each(function(){Cc.unbind(this,e,n)})},trigger:function(e){return this.each(function(){typeof e=="object"?Cc.fire(this,e.type,e):Cc.fire(this,e)})},show:function(){return this.css("display","")},hide:function(){return this.css("display","none")},slice:function(){return Zn(Xw.apply(this,arguments))},eq:function(e){return e===-1?this.slice(e):this.slice(e,+e+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},find:function(e){var n,a,i=[];for(n=0,a=this.length;n<a;n++)Zn.find(e,this[n],i);return Zn(i)},filter:function(e){return Zn(typeof e=="function"?hs(this.toArray(),function(n,a){return e(a,n)}):Zn.filter(e,this.toArray()))},closest:function(e){var n=[];return e instanceof Zn&&(e=e[0]),this.each(function(a,i){for(;i;){if(typeof e=="string"&&Zn(i).is(e)){n.push(i);break}else if(i===e){n.push(i);break}i=i.parentNode}}),Zn(n)},offset:function(e){var n,a,i,l=0,f=0,g;return e?this.css(e):(n=this[0],n&&(a=n.ownerDocument,i=a.documentElement,n.getBoundingClientRect&&(g=n.getBoundingClientRect(),l=g.left+(i.scrollLeft||a.body.scrollLeft)-i.clientLeft,f=g.top+(i.scrollTop||a.body.scrollTop)-i.clientTop)),{left:l,top:f})},push:_d,sort:Array.prototype.sort,splice:Array.prototype.splice},Ye.extend(Wl,{extend:Ye.extend,makeArray:function(e){return Jc(e)||e.nodeType?[e]:Ye.toArray(e)},inArray:Jw,isArray:Ye.isArray,each:Sc,trim:gh,grep:hs,find:Ca,expr:Ca.selectors,unique:Ca.uniqueSort,text:Ca.getText,contains:Ca.contains,filter:function(e,n,a){var i=n.length;for(a&&(e=":not("+e+")");i--;)n[i].nodeType!==1&&n.splice(i,1);return n.length===1?n=Zn.find.matchesSelector(n[0],e)?[n[0]]:[]:n=Zn.find.matches(e,n),n}});var jl=function(e,n,a){var i=[],l=e[n];for(typeof a!="string"&&a instanceof Zn&&(a=a[0]);l&&l.nodeType!==9&&!(a!==void 0&&(l===a||typeof a=="string"&&Zn(l).is(a)));)l.nodeType===1&&i.push(l),l=l[n];return i},xv=function(e,n,a,i){var l=[];for(i instanceof Zn&&(i=i[0]);e;e=e[n])if(!(a&&e.nodeType!==a)){if(i!==void 0&&(e===i||typeof i=="string"&&Zn(e).is(i)))break;l.push(e)}return l},j0=function(e,n,a){for(e=e[n];e;e=e[n])if(e.nodeType===a)return e;return null};Sc({parent:function(e){var n=e.parentNode;return n&&n.nodeType!==11?n:null},parents:function(e){return jl(e,"parentNode")},next:function(e){return j0(e,"nextSibling",1)},prev:function(e){return j0(e,"previousSibling",1)},children:function(e){return xv(e.firstChild,"nextSibling",1)},contents:function(e){return Ye.toArray((e.nodeName==="iframe"?e.contentDocument||e.contentWindow.document:e).childNodes)}},function(e,n){Wl.fn[e]=function(a){var i=this,l=[];i.each(function(){var g=n.call(l,this,a,l);g&&(Zn.isArray(g)?l.push.apply(l,g):l.push(g))}),this.length>1&&(zo[e]||(l=Zn.unique(l)),e.indexOf("parents")===0&&(l=l.reverse()));var f=Zn(l);return a?f.filter(a):f}}),Sc({parentsUntil:function(e,n){return jl(e,"parentNode",n)},nextUntil:function(e,n){return xv(e,"nextSibling",1,n).slice(1)},prevUntil:function(e,n){return xv(e,"previousSibling",1,n).slice(1)}},function(e,n){Wl.fn[e]=function(a,i){var l=this,f=[];l.each(function(){var b=n.call(f,this,a,f);b&&(Zn.isArray(b)?f.push.apply(f,b):f.push(b))}),this.length>1&&(f=Zn.unique(f),(e.indexOf("parents")===0||e==="prevUntil")&&(f=f.reverse()));var g=Zn(f);return i?g.filter(i):g}}),Wl.fn.is=function(e){return!!e&&this.filter(e).length>0},Wl.fn.init.prototype=Wl.fn,Wl.overrideDefaults=function(e){var n,a=function(i,l){return n=n||e(),arguments.length===0&&(i=n.element),l||(l=n.context),new a.fn.init(i,l)};return Zn.extend(a,this),a},Wl.attrHooks=W0,Wl.cssHooks=o1;var Zn=Wl,hh=Ye.each,yT=Ye.grep,i1=On.ie,u1=/^([a-z0-9],?)+$/i,wT=function(e,n,a){var i=n.keep_values,l={set:function(g,b,w){n.url_converter&&b!==null&&(b=n.url_converter.call(n.url_converter_scope||a(),b,w,g[0])),g.attr("data-mce-"+w,b).attr(w,b)},get:function(g,b){return g.attr("data-mce-"+b)||g.attr(b)}},f={style:{set:function(g,b){if(b!==null&&typeof b=="object"){g.css(b);return}i&&g.attr("data-mce-style",b),b!==null&&typeof b=="string"?(g.removeAttr("style"),g.css(e.parse(b))):g.attr("style",b)},get:function(g){var b=g.attr("data-mce-style")||g.attr("style");return b=e.serialize(e.parse(b),g[0].nodeName),b}}};return i&&(f.href=f.src=l),f},Io=function(e,n){var a=n.attr("style"),i=e.serialize(e.parse(a),n[0].nodeName);i||(i=null),n.attr("data-mce-style",i)},bu=function(e,n){var a=0,i,l;if(e)for(i=e.nodeType,e=e.previousSibling;e;e=e.previousSibling)l=e.nodeType,!(n&&l===3&&(l===i||!e.nodeValue.length))&&(a++,i=l);return a},Na=function(e,n){n===void 0&&(n={});var a={},i=window,l={},f=0,g=!0,b=!0,w=Is.forElement(k.fromDom(e),{contentCssCors:n.contentCssCors,referrerPolicy:n.referrerPolicy}),A=[],F=n.schema?n.schema:dr({}),I=Ff({url_converter:n.url_converter,url_converter_scope:n.url_converter_scope},n.schema),V=n.ownEvents?new pv:pv.Event,Y=F.getBlockElements(),X=Zn.overrideDefaults(function(){return{context:e,element:Np.getRoot()}}),ee=function(we){if(typeof we=="string")return!!Y[we];if(we){var He=we.nodeType;if(He)return!!(He===1&&Y[we.nodeName])}return!1},re=function(we){return we&&e&&ht(we)?e.getElementById(we):we},fe=function(we){return X(typeof we=="string"?re(we):we)},ce=function(we,He,Rt){var Ut,Qn,Wr=fe(we);return Wr.length&&(Ut=HO[He],Ut&&Ut.get?Qn=Ut.get(Wr,He):Qn=Wr.attr(He)),typeof Qn=="undefined"&&(Qn=Rt||""),Qn},ye=function(we){var He=re(we);return He?He.attributes:[]},De=function(we,He,Rt){Rt===""&&(Rt=null);var Ut=fe(we),Qn=Ut.attr(He);if(!!Ut.length){var Wr=HO[He];Wr&&Wr.set?Wr.set(Ut,Rt,He):Ut.attr(He,Rt),Qn!==Rt&&n.onSetAttrib&&n.onSetAttrib({attrElm:Ut,attrName:He,attrValue:Rt})}},he=function(we,He){if(!i1||we.nodeType!==1||He)return we.cloneNode(He);var Rt=e.createElement(we.nodeName);return hh(ye(we),function(Ut){De(Rt,Ut.nodeName,ce(we,Ut.nodeName))}),Rt},Be=function(){return n.root_element||e.body},qe=function(we){var He=Af(we);return{x:He.x,y:He.y,w:He.width,h:He.height}},Ct=function(we,He){return Zg(e.body,re(we),He)},_n=function(we,He,Rt){var Ut=ht(He)?fe(we).css(He,Rt):fe(we).css(He);n.update_styles&&Io(I,Ut)},en=function(we,He){var Rt=fe(we).css(He);n.update_styles&&Io(I,Rt)},wt=function(we,He,Rt){var Ut=fe(we);return Rt?Ut.css(He):(He=He.replace(/-(\D)/g,function(Qn,Wr){return Wr.toUpperCase()}),He==="float"&&(He=On.browser.isIE()?"styleFloat":"cssFloat"),Ut[0]&&Ut[0].style?Ut[0].style[He]:void 0)},Fn=function(we){var He,Rt;return we=re(we),He=wt(we,"width"),Rt=wt(we,"height"),He.indexOf("px")===-1&&(He=0),Rt.indexOf("px")===-1&&(Rt=0),{w:parseInt(He,10)||we.offsetWidth||we.clientWidth,h:parseInt(Rt,10)||we.offsetHeight||we.clientHeight}},Dt=function(we){we=re(we);var He=Ct(we),Rt=Fn(we);return{x:He.x,y:He.y,w:Rt.w,h:Rt.h}},tn=function(we,He){var Rt;if(!we)return!1;if(!Array.isArray(we)){if(He==="*")return we.nodeType===1;if(u1.test(He)){var Ut=He.toLowerCase().split(/,/),Qn=we.nodeName.toLowerCase();for(Rt=Ut.length-1;Rt>=0;Rt--)if(Ut[Rt]===Qn)return!0;return!1}if(we.nodeType&&we.nodeType!==1)return!1}var Wr=Array.isArray(we)?we:[we];return Ca(He,Wr[0].ownerDocument||Wr[0],null,Wr).length>0},At=function(we,He,Rt,Ut){var Qn=[],Wr,ja=re(we);for(Ut=Ut===void 0,Rt=Rt||(Be().nodeName!=="BODY"?Be().parentNode:null),Ye.is(He,"string")&&(Wr=He,He==="*"?He=function(qg){return qg.nodeType===1}:He=function(qg){return tn(qg,Wr)});ja&&!(ja===Rt||Ht(ja.nodeType)||Jg(ja)||rr(ja));){if(!He||typeof He=="function"&&He(ja))if(Ut)Qn.push(ja);else return[ja];ja=ja.parentNode}return Ut?Qn:null},jt=function(we,He,Rt){var Ut=At(we,He,Rt,!1);return Ut&&Ut.length>0?Ut[0]:null},an=function(we,He,Rt){var Ut=He;if(we){for(typeof He=="string"&&(Ut=function(Qn){return tn(Qn,He)}),we=we[Rt];we;we=we[Rt])if(typeof Ut=="function"&&Ut(we))return we}return null},bt=function(we,He){return an(we,He,"nextSibling")},ln=function(we,He){return an(we,He,"previousSibling")},Yn=function(we,He){return Ca(we,re(He)||n.root_element||e,[])},oa=function(we,He,Rt){var Ut,Qn=typeof we=="string"?re(we):we;if(!Qn)return!1;if(Ye.isArray(Qn)&&(Qn.length||Qn.length===0))return Ut=[],hh(Qn,function(ja,qg){ja&&Ut.push(He.call(Rt,typeof ja=="string"?re(ja):ja,qg))}),Ut;var Wr=Rt||this;return He.call(Wr,Qn)},Dr=function(we,He){fe(we).each(function(Rt,Ut){hh(He,function(Qn,Wr){De(Ut,Wr,Qn)})})},Lo=function(we,He){var Rt=fe(we);i1?Rt.each(function(Ut,Qn){if(Qn.canHaveHTML!==!1){for(;Qn.firstChild;)Qn.removeChild(Qn.firstChild);try{Qn.innerHTML="<br>"+He,Qn.removeChild(Qn.firstChild)}catch(Wr){Zn("<div></div>").html("<br>"+He).contents().slice(1).appendTo(Qn)}return He}}):Rt.html(He)},yo=function(we,He,Rt,Ut,Qn){return oa(we,function(Wr){var ja=typeof He=="string"?e.createElement(He):He;return Dr(ja,Rt),Ut&&(typeof Ut!="string"&&Ut.nodeType?ja.appendChild(Ut):typeof Ut=="string"&&Lo(ja,Ut)),Qn?ja:Wr.appendChild(ja)})},Kl=function(we,He,Rt){return yo(e.createElement(we),we,He,Rt,!0)},_s=Ul.decode,yt=Ul.encodeAllRaw,Le=function(we,He,Rt){var Ut="",Qn;Ut+="<"+we;for(Qn in He)hi(He,Qn)&&(Ut+=" "+Qn+'="'+yt(He[Qn])+'"');return typeof Rt!="undefined"?Ut+">"+Rt+"</"+we+">":Ut+" />"},St=function(we){var He,Rt=e.createElement("div"),Ut=e.createDocumentFragment();for(Ut.appendChild(Rt),we&&(Rt.innerHTML=we);He=Rt.firstChild;)Ut.appendChild(He);return Ut.removeChild(Rt),Ut},Ve=function(we,He){var Rt=fe(we);return He?Rt.each(function(){for(var Ut;Ut=this.firstChild;)Ut.nodeType===3&&Ut.data.length===0?this.removeChild(Ut):this.parentNode.insertBefore(Ut,this)}).remove():Rt.remove(),Rt.length>1?Rt.toArray():Rt[0]},vn=function(we){return oa(we,function(He){var Rt,Ut=He.attributes;for(Rt=Ut.length-1;Rt>=0;Rt--)He.removeAttributeNode(Ut.item(Rt))})},Vt=function(we){return I.parse(we)},Pn=function(we,He){return I.serialize(we,He)},mr=function(we){var He,Rt;if(Np!==Na.DOM&&e===document){if(a[we])return;a[we]=!0}Rt=e.getElementById("mceDefaultStyles"),Rt||(Rt=e.createElement("style"),Rt.id="mceDefaultStyles",Rt.type="text/css",He=e.getElementsByTagName("head")[0],He.firstChild?He.insertBefore(Rt,He.firstChild):He.appendChild(Rt)),Rt.styleSheet?Rt.styleSheet.cssText+=we:Rt.appendChild(e.createTextNode(we))},Wa=function(we){we||(we=""),tt(we.split(","),function(He){l[He]=!0,w.load(He,st)})},rl=function(we,He,Rt){fe(we).toggleClass(He,Rt).each(function(){this.className===""&&Zn(this).attr("class",null)})},_l=function(we,He){fe(we).addClass(He)},Pc=function(we,He){rl(we,He,!1)},al=function(we,He){return fe(we).hasClass(He)},ol=function(we){fe(we).show()},di=function(we){fe(we).hide()},Em=function(we){return fe(we).css("display")==="none"},iu=function(we){return(we||"mce_")+f++},$c=function(we){var He=typeof we=="string"?re(we):we;return Wn(He)?He.outerHTML:Zn("<div></div>").append(Zn(He).clone()).html()},ud=function(we,He){fe(we).each(function(){try{if("outerHTML"in this){this.outerHTML=He;return}}catch(Rt){}Ve(Zn(this).html(He),!0)})},ro=function(we,He){var Rt=re(He);return oa(we,function(Ut){var Qn=Rt.parentNode,Wr=Rt.nextSibling;return Wr?Qn.insertBefore(Ut,Wr):Qn.appendChild(Ut),Ut})},_a=function(we,He,Rt){return oa(He,function(Ut){return Ye.is(Ut,"array")&&(we=we.cloneNode(!0)),Rt&&hh(yT(Ut.childNodes),function(Qn){we.appendChild(Qn)}),Ut.parentNode.replaceChild(we,Ut)})},ti=function(we,He){var Rt;return we.nodeName!==He.toUpperCase()&&(Rt=Kl(He),hh(ye(we),function(Ut){De(Rt,Ut.nodeName,ce(we,Ut.nodeName))}),_a(Rt,we,!0)),Rt||we},hf=function(we,He){for(var Rt=we,Ut;Rt;){for(Ut=He;Ut&&Rt!==Ut;)Ut=Ut.parentNode;if(Rt===Ut)break;Rt=Rt.parentNode}return!Rt&&we.ownerDocument?we.ownerDocument.documentElement:Rt},ld=function(we){return I.toHex(Ye.trim(we))},pf=function(we){if(Wn(we)){var He=we.nodeName.toLowerCase()==="a"&&!ce(we,"href")&&ce(we,"id");if(ce(we,"name")||ce(we,"data-mce-bookmark")||He)return!0}return!1},iv=function(we,He){var Rt,Ut,Qn=0;if(pf(we))return!1;if(we=we.firstChild,we){var Wr=new Yr(we,we.parentNode),ja=F?F.getWhiteSpaceElements():{};He=He||(F?F.getNonEmptyElements():null);do{if(Rt=we.nodeType,Wn(we)){var qg=we.getAttribute("data-mce-bogus");if(qg){we=Wr.next(qg==="all");continue}if(Ut=we.nodeName.toLowerCase(),He&&He[Ut]){if(Ut==="br"){Qn++,we=Wr.next();continue}return!1}if(pf(we))return!1}if(Rt===8||Rt===3&&!Vs(we.nodeValue)||Rt===3&&we.parentNode&&ja[we.parentNode.nodeName]&&Vs(we.nodeValue))return!1;we=Wr.next()}while(we)}return Qn<=1},Sw=function(){return e.createRange()},cF=function(we,He,Rt){var Ut=Sw(),Qn,Wr,ja;if(we&&He)return Ut.setStart(we.parentNode,bu(we)),Ut.setEnd(He.parentNode,bu(He)),Qn=Ut.extractContents(),Ut=Sw(),Ut.setStart(He.parentNode,bu(He)+1),Ut.setEnd(we.parentNode,bu(we)+1),Wr=Ut.extractContents(),ja=we.parentNode,ja.insertBefore(T0(Np,Qn),we),Rt?ja.insertBefore(Rt,we):ja.insertBefore(He,we),ja.insertBefore(T0(Np,Wr),we),Ve(we),Rt||He},DR=function(we,He,Rt,Ut){if(Ye.isArray(we)){for(var Qn=we.length,Wr=[];Qn--;)Wr[Qn]=DR(we[Qn],He,Rt,Ut);return Wr}n.collect&&(we===e||we===i)&&A.push([we,He,Rt,Ut]);var ja=V.bind(we,He,Rt,Ut||Np);return ja},kw=function(we,He,Rt){if(Ye.isArray(we)){for(var Ut=we.length,Qn=[];Ut--;)Qn[Ut]=kw(we[Ut],He,Rt);return Qn}else{if(A.length>0&&(we===e||we===i))for(var Ut=A.length;Ut--;){var Wr=A[Ut];we===Wr[0]&&(!He||He===Wr[1])&&(!Rt||Rt===Wr[2])&&V.unbind(Wr[0],Wr[1],Wr[2])}return V.unbind(we,He,Rt)}},_R=function(we,He,Rt){return V.fire(we,He,Rt)},VO=function(we){if(we&&Wn(we)){var He=we.getAttribute("data-mce-contenteditable");return He&&He!=="inherit"?He:we.contentEditable!=="inherit"?we.contentEditable:null}else return null},fF=function(we){for(var He=Be(),Rt=null;we&&we!==He&&(Rt=VO(we),Rt===null);we=we.parentNode);return Rt},RR=function(){if(A.length>0)for(var we=A.length;we--;){var He=A[we];V.unbind(He[0],He[1],He[2])}hr(l,function(Rt,Ut){w.unload(Ut),delete l[Ut]}),Ca.setDocument&&Ca.setDocument()},vF=function(we,He){if(i1){for(;we;){if(He===we)return!0;we=we.parentNode}return!1}else return we===He||He.contains(we)},dF=function(we){return"startContainer: "+we.startContainer.nodeName+", startOffset: "+we.startOffset+", endContainer: "+we.endContainer.nodeName+", endOffset: "+we.endOffset},Np={doc:e,settings:n,win:i,files:l,stdMode:g,boxModel:b,styleSheetLoader:w,boundEvents:A,styles:I,schema:F,events:V,isBlock:ee,$:X,$$:fe,root:null,clone:he,getRoot:Be,getViewPort:qe,getRect:Dt,getSize:Fn,getParent:jt,getParents:At,get:re,getNext:bt,getPrev:ln,select:Yn,is:tn,add:yo,create:Kl,createHTML:Le,createFragment:St,remove:Ve,setStyle:_n,getStyle:wt,setStyles:en,removeAllAttribs:vn,setAttrib:De,setAttribs:Dr,getAttrib:ce,getPos:Ct,parseStyle:Vt,serializeStyle:Pn,addStyle:mr,loadCSS:Wa,addClass:_l,removeClass:Pc,hasClass:al,toggleClass:rl,show:ol,hide:di,isHidden:Em,uniqueId:iu,setHTML:Lo,getOuterHTML:$c,setOuterHTML:ud,decode:_s,encode:yt,insertAfter:ro,replace:_a,rename:ti,findCommonAncestor:hf,toHex:ld,run:oa,getAttribs:ye,isEmpty:iv,createRng:Sw,nodeIndex:bu,split:cF,bind:DR,unbind:kw,fire:_R,getContentEditable:VO,getContentEditableParent:fF,destroy:RR,isChildOf:vF,dumpRng:dF},HO=wT(I,n,Q(Np));return Np};Na.DOM=Na(document),Na.nodeIndex=bu;var Zw=Na.DOM,G0=Ye.each,Rd=Ye.grep,Qw=0,Bd=1,eg=2,eC=3,Zc=function(){function e(n){n===void 0&&(n={}),this.states={},this.queue=[],this.scriptLoadedCallbacks={},this.queueLoadedCallbacks=[],this.loading=0,this.settings=n}return e.prototype._setReferrerPolicy=function(n){this.settings.referrerPolicy=n},e.prototype.loadScript=function(n,a,i){var l=Zw,f,g=function(){l.remove(A),f&&(f.onerror=f.onload=f=null)},b=function(){g(),a()},w=function(){g(),Nt(i)?i():typeof console!="undefined"&&console.log&&console.log("Failed to load script: "+n)},A=l.uniqueId();f=document.createElement("script"),f.id=A,f.type="text/javascript",f.src=Ye._addCacheSuffix(n),this.settings.referrerPolicy&&l.setAttrib(f,"referrerpolicy",this.settings.referrerPolicy),f.onload=b,f.onerror=w,(document.getElementsByTagName("head")[0]||document.body).appendChild(f)},e.prototype.isDone=function(n){return this.states[n]===eg},e.prototype.markDone=function(n){this.states[n]=eg},e.prototype.add=function(n,a,i,l){var f=this.states[n];this.queue.push(n),f===void 0&&(this.states[n]=Qw),a&&(this.scriptLoadedCallbacks[n]||(this.scriptLoadedCallbacks[n]=[]),this.scriptLoadedCallbacks[n].push({success:a,failure:l,scope:i||this}))},e.prototype.load=function(n,a,i,l){return this.add(n,a,i,l)},e.prototype.remove=function(n){delete this.states[n],delete this.scriptLoadedCallbacks[n]},e.prototype.loadQueue=function(n,a,i){this.loadScripts(this.queue,n,a,i)},e.prototype.loadScripts=function(n,a,i,l){var f=this,g=[],b=function(A,F){G0(f.scriptLoadedCallbacks[F],function(I){Nt(I[A])&&I[A].call(I.scope)}),f.scriptLoadedCallbacks[F]=void 0};f.queueLoadedCallbacks.push({success:a,failure:l,scope:i||this});var w=function(){var A=Rd(n);if(n.length=0,G0(A,function(I){if(f.states[I]===eg){b("success",I);return}if(f.states[I]===eC){b("failure",I);return}f.states[I]!==Bd&&(f.states[I]=Bd,f.loading++,f.loadScript(I,function(){f.states[I]=eg,f.loading--,b("success",I),w()},function(){f.states[I]=eC,f.loading--,g.push(I),b("failure",I),w()}))}),!f.loading){var F=f.queueLoadedCallbacks.slice(0);f.queueLoadedCallbacks.length=0,G0(F,function(I){g.length===0?Nt(I.success)&&I.success.call(I.scope):Nt(I.failure)&&I.failure.call(I.scope,g)})}};w()},e.ScriptLoader=new e,e}(),zu=function(e){var n=e,a=function(){return n},i=function(l){n=l};return{get:a,set:i}},CT=function(e){return Ue(e)&&tr(e,"raw")},ST=function(e){return Wt(e)&&e.length>1},Md={},q0=zu("en"),Tv=function(){return Pr(Md,q0.get())},Pd=function(){return Co(Md,function(e){return Sn({},e)})},K0=function(e){e&&q0.set(e)},kT=function(){return q0.get()},xT=function(e,n){var a=Md[e];a||(Md[e]=a={}),hr(n,function(i,l){a[l.toLowerCase()]=i})},$d=function(e){var n=Tv().getOr({}),a=function(w){return Nt(w)?Object.prototype.toString.call(w):i(w)?"":""+w},i=function(w){return w===""||w===null||w===void 0},l=function(w){var A=a(w);return Pr(n,A.toLowerCase()).map(a).getOr(A)},f=function(w){return w.replace(/{context:\w+}$/,"")};if(i(e))return"";if(CT(e))return a(e.raw);if(ST(e)){var g=e.slice(1),b=l(e[0]).replace(/\{([0-9]+)\}/g,function(w,A){return tr(g,A)?a(g[A]):w});return f(b)}return f(l(e))},Nd=function(){return Tv().bind(function(e){return Pr(e,"_dir")}).exists(function(e){return e==="rtl"})},l1=function(e){return tr(Md,e)},sr={getData:Pd,setCode:K0,getCode:kT,add:xT,translate:$d,isRtl:Nd,hasCode:l1},ba=function(){var e=[],n={},a={},i=[],l=function(ee,re){var fe=nn(i,function(ce){return ce.name===ee&&ce.state===re});tt(fe,function(ce){return ce.callback()})},f=function(ee){if(a[ee])return a[ee].instance},g=function(ee){var re;return a[ee]&&(re=a[ee].dependencies),re||[]},b=function(ee,re){ba.languageLoad!==!1&&X(ee,function(){var fe=sr.getCode(),ce=","+(re||"")+",";!fe||re&&ce.indexOf(","+fe+",")===-1||Zc.ScriptLoader.add(n[ee]+"/langs/"+fe+".js")},"loaded")},w=function(ee,re,fe){var ce=re;return e.push(ce),a[ee]={instance:ce,dependencies:fe},l(ee,"added"),ce},A=function(ee){delete n[ee],delete a[ee]},F=function(ee,re){return typeof re=="object"?re:typeof ee=="string"?{prefix:"",resource:re,suffix:""}:{prefix:ee.prefix,resource:re,suffix:ee.suffix}},I=function(ee,re){var fe=n[ee];tt(re,function(ce){Zc.ScriptLoader.add(fe+"/"+ce)})},V=function(ee,re,fe,ce){var ye=g(ee);tt(ye,function(De){var he=F(re,De);Y(he.resource,he,void 0,void 0)}),fe&&(ce?fe.call(ce):fe.call(Zc))},Y=function(ee,re,fe,ce,ye){if(!n[ee]){var De=typeof re=="string"?re:re.prefix+re.resource+re.suffix;De.indexOf("/")!==0&&De.indexOf("://")===-1&&(De=ba.baseURL+"/"+De),n[ee]=De.substring(0,De.lastIndexOf("/"));var he=function(){l(ee,"loaded"),V(ee,re,fe,ce)};a[ee]?he():Zc.ScriptLoader.add(De,he,ce,ye)}},X=function(ee,re,fe){fe===void 0&&(fe="added"),tr(a,ee)&&fe==="added"||tr(n,ee)&&fe==="loaded"?re():i.push({name:ee,state:fe,callback:re})};return{items:e,urls:n,lookup:a,_listeners:i,get:f,dependencies:g,requireLangPack:b,add:w,remove:A,createUrl:F,addComponents:I,load:Y,waitFor:X}};ba.languageLoad=!0,ba.baseURL="",ba.PluginManager=ba(),ba.ThemeManager=ba();var Fd=function(e){var n=zu(te.none()),a=function(){return n.get().each(e)},i=function(){a(),n.set(te.none())},l=function(){return n.get().isSome()},f=function(){return n.get()},g=function(b){a(),n.set(te.some(b))};return{clear:i,isSet:l,get:f,set:g}},Ev=function(){var e=Fd(st),n=function(a){return e.get().each(a)};return Sn(Sn({},e),{on:n})},ca=function(e,n){var a=null,i=function(){K(a)||(clearTimeout(a),a=null)},l=function(){for(var f=[],g=0;g<arguments.length;g++)f[g]=arguments[g];K(a)&&(a=setTimeout(function(){a=null,e.apply(null,f)},n))};return{cancel:i,throttle:l}},s1=function(e,n){var a=null,i=function(){K(a)||(clearTimeout(a),a=null)},l=function(){for(var f=[],g=0;g<arguments.length;g++)f[g]=arguments[g];i(),a=setTimeout(function(){a=null,e.apply(null,f)},n)};return{cancel:i,throttle:l}},c1=function(e,n){var a=U(e,n);return a===void 0||a===""?[]:a.split(" ")},xi=function(e,n,a){var i=c1(e,n),l=i.concat([a]);return O(e,n,l.join(" ")),!0},Ov=function(e,n,a){var i=nn(c1(e,n),function(l){return l!==a});return i.length>0?O(e,n,i.join(" ")):Je(e,n),!1},f1=function(e){return e.dom.classList!==void 0},TT=function(e){return c1(e,"class")},ET=function(e,n){return xi(e,"class",n)},v1=function(e,n){return Ov(e,"class",n)},tg=function(e,n){f1(e)?e.dom.classList.add(n):ET(e,n)},X0=function(e){var n=f1(e)?e.dom.classList:TT(e);n.length===0&&Je(e,"class")},d1=function(e,n){if(f1(e)){var a=e.dom.classList;a.remove(n)}else v1(e,n);X0(e)},ng=function(e,n){return f1(e)&&e.dom.classList.contains(n)},m1=function(e,n){var a=[];return tt(mu(e),function(i){n(i)&&(a=a.concat([i])),a=a.concat(m1(i,n))}),a},Qu=function(e,n){return ls(n,e)},zd=Q("mce-annotation"),Qc=Q("data-mce-annotation"),el=Q("data-mce-annotation-uid"),tC=function(e,n){var a=e.selection.getRng(),i=k.fromDom(a.startContainer),l=k.fromDom(e.getBody()),f=n.fold(function(){return"."+zd()},function(A){return"["+Qc()+'="'+A+'"]'}),g=fc(i,a.startOffset).getOr(i),b=go(g,f,function(A){return ra(A,l)}),w=function(A,F){return Ae(A,F)?te.some(U(A,F)):te.none()};return b.bind(function(A){return w(A,""+el()).bind(function(F){return w(A,""+Qc()).map(function(I){var V=Y0(e,F);return{uid:F,name:I,elements:V}})})})},Ii=function(e){return za(e)&&ng(e,zd())},Y0=function(e,n){var a=k.fromDom(e.getBody());return Qu(a,"["+el()+'="'+n+'"]')},Vf=function(e,n){var a=k.fromDom(e.getBody()),i=Qu(a,"["+Qc()+'="'+n+'"]'),l={};return tt(i,function(f){var g=U(f,el()),b=Pr(l,g).getOr([]);l[g]=b.concat([f])}),l},J0=function(e,n){var a=zu({}),i=function(){return{listeners:[],previous:Ev()}},l=function(F,I){f(F,function(V){return I(V),V})},f=function(F,I){var V=a.get(),Y=Pr(V,F).getOrThunk(i),X=I(Y);V[F]=X,a.set(V)},g=function(F,I,V){l(F,function(Y){tt(Y.listeners,function(X){return X(!0,F,{uid:I,nodes:pt(V,function(ee){return ee.dom})})})})},b=function(F){l(F,function(I){tt(I.listeners,function(V){return V(!1,F)})})},w=s1(function(){var F=a.get(),I=la(ni(F));tt(I,function(V){f(V,function(Y){var X=Y.previous.get();return tC(e,te.some(V)).fold(function(){X.isSome()&&(b(V),Y.previous.clear())},function(ee){var re=ee.uid,fe=ee.name,ce=ee.elements;pd(X,re)||(g(fe,re,ce),Y.previous.set(re))}),{previous:Y.previous,listeners:Y.listeners}})})},30);e.on("remove",function(){w.cancel()}),e.on("NodeChange",function(){w.throttle()});var A=function(F,I){f(F,function(V){return{previous:V.previous,listeners:V.listeners.concat([I])}})};return{addListener:A}},Z0=function(e,n){var a=function(i){return te.from(i.attr(Qc())).bind(n.lookup)};e.on("init",function(){e.serializer.addNodeFilter("span",function(i){tt(i,function(l){a(l).each(function(f){f.persistent===!1&&l.unwrap()})})})})},nC=function(){var e={},n=function(i,l){e[i]={name:i,settings:l}},a=function(i){return Pr(e,i).map(function(l){return l.settings})};return{register:n,lookup:a}},g1=0,rg=function(e){var n=new Date,a=n.getTime(),i=Math.floor(Math.random()*1e9);return g1++,e+"_"+i+g1+String(a)},Q0=function(e,n){tt(n,function(a){tg(e,a)})},OT=function(e,n){var a=n||document,i=a.createElement("div");return i.innerHTML=e,mu(k.fromDom(i))},AT=function(e){return pt(e,k.fromDom)},nu=function(e){return e.dom.innerHTML},Jo=function(e,n){var a=Ns(e),i=a.dom,l=k.fromDom(i.createDocumentFragment()),f=OT(n,i);kf(l,f),xf(e),Ko(e,l)},yu=function(e,n){return k.fromDom(e.dom.cloneNode(n))},Ti=function(e){return yu(e,!1)},tl=function(e){return yu(e,!0)},Li=function(e,n,a){a===void 0&&(a=Mt);var i=new Yr(e,n),l=function(f){var g;do g=i[f]();while(g&&!on(g)&&!a(g));return te.from(g).filter(on)};return{current:function(){return te.from(i.current()).filter(on)},next:function(){return l("next")},prev:function(){return l("prev")},prev2:function(){return l("prev2")}}},h1=function(e,n){var a=n||function(g){return e.isBlock(g)||ha(g)||Ia(g)},i=function(g,b,w,A){if(on(g)){var F=A(g,b,g.data);if(F!==-1)return te.some({container:g,offset:F})}return w().bind(function(I){return i(I.container,I.offset,w,A)})},l=function(g,b,w,A){var F=Li(g,A,a);return i(g,b,function(){return F.prev().map(function(I){return{container:I,offset:I.length}})},w).getOrNull()},f=function(g,b,w,A){var F=Li(g,A,a);return i(g,b,function(){return F.next().map(function(I){return{container:I,offset:0}})},w).getOrNull()};return{backwards:l,forwards:f}},Av=Math.round,Dv=function(e){return e?{left:Av(e.left),top:Av(e.top),bottom:Av(e.bottom),right:Av(e.right),width:Av(e.width),height:Av(e.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0}},ey=function(e,n){return e=Dv(e),n||(e.left=e.left+e.width),e.right=e.left,e.width=0,e},rC=function(e,n){return e.left===n.left&&e.top===n.top&&e.bottom===n.bottom&&e.right===n.right},p1=function(e,n,a){return e>=0&&e<=Math.min(n.height,a.height)/2},Hf=function(e,n){var a=Math.min(n.height/2,e.height/2);return e.bottom-a<n.top?!0:e.top>n.bottom?!1:p1(n.top-e.bottom,e,n)},_v=function(e,n){return e.top>n.bottom?!0:e.bottom<n.top?!1:p1(n.bottom-e.top,e,n)},aC=function(e,n,a){return n>=e.left&&n<=e.right&&a>=e.top&&a<=e.bottom},DT=function(e,n,a){return Math.min(Math.max(e,n),a)},b1=function(e){var n=e.startContainer,a=e.startOffset;return n.hasChildNodes()&&e.endOffset===a+1?n.childNodes[a]:null},Iu=function(e,n){if(Wn(e)&&e.hasChildNodes()){var a=e.childNodes,i=DT(n,0,a.length-1);return a[i]}else return e},y1=function(e,n){if(!(n<0&&Wn(e)&&e.hasChildNodes()))return Iu(e,n)},Zo=new RegExp("[\u0300-\u036F\u0483-\u0487\u0488-\u0489\u0591-\u05BD\u05BF\u05C1-\u05C2\u05C4-\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7-\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08E3-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962-\u0963\u0981\u09BC\u09BE\u09C1-\u09C4\u09CD\u09D7\u09E2-\u09E3\u0A01-\u0A02\u0A3C\u0A41-\u0A42\u0A47-\u0A48\u0A4B-\u0A4D\u0A51\u0A70-\u0A71\u0A75\u0A81-\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7-\u0AC8\u0ACD\u0AE2-\u0AE3\u0B01\u0B3C\u0B3E\u0B3F\u0B41-\u0B44\u0B4D\u0B56\u0B57\u0B62-\u0B63\u0B82\u0BBE\u0BC0\u0BCD\u0BD7\u0C00\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55-\u0C56\u0C62-\u0C63\u0C81\u0CBC\u0CBF\u0CC2\u0CC6\u0CCC-\u0CCD\u0CD5-\u0CD6\u0CE2-\u0CE3\u0D01\u0D3E\u0D41-\u0D44\u0D4D\u0D57\u0D62-\u0D63\u0DCA\u0DCF\u0DD2-\u0DD4\u0DD6\u0DDF\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB-\u0EBC\u0EC8-\u0ECD\u0F18-\u0F19\u0F35\u0F37\u0F39\u0F71-\u0F7E\u0F80-\u0F84\u0F86-\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039-\u103A\u103D-\u103E\u1058-\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085-\u1086\u108D\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752-\u1753\u1772-\u1773\u17B4-\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DD\u180B-\u180D\u18A9\u1920-\u1922\u1927-\u1928\u1932\u1939-\u193B\u1A17-\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1ABD\u1ABE\u1B00-\u1B03\u1B34\u1B36-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80-\u1B81\u1BA2-\u1BA5\u1BA8-\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8-\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8-\u1CF9\u1DC0-\u1DF5\u1DFC-\u1DFF\u200C-\u200D\u20D0-\u20DC\u20DD-\u20E0\u20E1\u20E2-\u20E4\u20E5-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302D\u302E-\u302F\u3099-\u309A\uA66F\uA670-\uA672\uA674-\uA67D\uA69E-\uA69F\uA6F0-\uA6F1\uA802\uA806\uA80B\uA825-\uA826\uA8C4\uA8E0-\uA8F1\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9E5\uAA29-\uAA2E\uAA31-\uAA32\uAA35-\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7-\uAAB8\uAABE-\uAABF\uAAC1\uAAEC-\uAAED\uAAF6\uABE5\uABE8\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFF9E-\uFF9F]"),oC=function(e){return typeof e=="string"&&e.charCodeAt(0)>=768&&Zo.test(e)},_T=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return function(a){for(var i=0;i<e.length;i++)if(e[i](a))return!0;return!1}},ty=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return function(a){for(var i=0;i<e.length;i++)if(!e[i](a))return!1;return!0}},iC=Wn,uC=qc,zt=Mu("display","block table"),RT=Mu("float","left right"),po=ty(iC,uC,Nr(RT)),ny=Nr(Mu("white-space","pre pre-line pre-wrap")),Id=on,w1=ha,Sl=Na.nodeIndex,ag=y1,ph=function(e){return"createRange"in e?e.createRange():Na.DOM.createRng()},C1=function(e){return e&&/[\r\n\t ]/.test(e)},ef=function(e){return!!e.setStart&&!!e.setEnd},bh=function(e){var n=e.startContainer,a=e.startOffset;if(C1(e.toString())&&ny(n.parentNode)&&on(n)){var i=n.data;if(C1(i[a-1])||C1(i[a+1]))return!0}return!1},S1=function(e){var n=e.ownerDocument,a=ph(n),i=n.createTextNode(hl),l=e.parentNode;l.insertBefore(i,e),a.setStart(i,0),a.setEnd(i,1);var f=Dv(a.getBoundingClientRect());return l.removeChild(i),f},kl=function(e){var n=e.startContainer,a=e.endContainer,i=e.startOffset,l=e.endOffset;if(n===a&&on(a)&&i===0&&l===1){var f=e.cloneRange();return f.setEndAfter(a),Uf(f)}else return null},Ks=function(e){return e.left===0&&e.right===0&&e.top===0&&e.bottom===0},Uf=function(e){var n,a=e.getClientRects();return a.length>0?n=Dv(a[0]):n=Dv(e.getBoundingClientRect()),!ef(e)&&w1(e)&&Ks(n)?S1(e):Ks(n)&&ef(e)?kl(e):n},Qo=function(e,n){var a=ey(e,n);return a.width=1,a.right=a.left+1,a},ry=function(e){var n=[],a=function(w){w.height!==0&&(n.length>0&&rC(w,n[n.length-1])||n.push(w))},i=function(w,A){var F=ph(w.ownerDocument);if(A<w.data.length){if(oC(w.data[A]))return n;if(oC(w.data[A-1])&&(F.setStart(w,A),F.setEnd(w,A+1),!bh(F)))return a(Qo(Uf(F),!1)),n}A>0&&(F.setStart(w,A-1),F.setEnd(w,A),bh(F)||a(Qo(Uf(F),!1))),A<w.data.length&&(F.setStart(w,A),F.setEnd(w,A+1),bh(F)||a(Qo(Uf(F),!0)))},l=e.container(),f=e.offset();if(Id(l))return i(l,f),n;if(iC(l))if(e.isAtEnd()){var g=ag(l,f);Id(g)&&i(g,g.data.length),po(g)&&!w1(g)&&a(Qo(Uf(g),!1))}else{var g=ag(l,f);if(Id(g)&&i(g,0),po(g)&&e.isAtEnd())return a(Qo(Uf(g),!1)),n;var b=ag(e.container(),e.offset()-1);po(b)&&!w1(b)&&(zt(b)||zt(g)||!po(g))&&a(Qo(Uf(b),!1)),po(g)&&a(Qo(Uf(g),!0))}return n},je=function(e,n,a){var i=function(){return Id(e),n===0},l=function(){return Id(e)?n>=e.data.length:n>=e.childNodes.length},f=function(){var F=ph(e.ownerDocument);return F.setStart(e,n),F.setEnd(e,n),F},g=function(){return a||(a=ry(je(e,n))),a},b=function(){return g().length>0},w=function(F){return F&&e===F.container()&&n===F.offset()},A=function(F){return ag(e,F?n-1:n)};return{container:Q(e),offset:Q(n),toRange:f,getClientRects:g,isVisible:b,isAtStart:i,isAtEnd:l,isEqual:w,getNode:A}};je.fromRangeStart=function(e){return je(e.startContainer,e.startOffset)},je.fromRangeEnd=function(e){return je(e.endContainer,e.endOffset)},je.after=function(e){return je(e.parentNode,Sl(e)+1)},je.before=function(e){return je(e.parentNode,Sl(e))},je.isAbove=function(e,n){return gu(oo(n.getClientRects()),ta(e.getClientRects()),Hf).getOr(!1)},je.isBelow=function(e,n){return gu(ta(n.getClientRects()),oo(e.getClientRects()),_v).getOr(!1)},je.isAtStart=function(e){return e?e.isAtStart():!1},je.isAtEnd=function(e){return e?e.isAtEnd():!1},je.isTextPosition=function(e){return e?on(e.container()):!1},je.isElementPosition=function(e){return je.isTextPosition(e)===!1};var Rv=function(e,n){on(n)&&n.data.length===0&&e.remove(n)},yh=function(e,n,a){n.insertNode(a),Rv(e,a.previousSibling),Rv(e,a.nextSibling)},og=function(e,n,a){var i=te.from(a.firstChild),l=te.from(a.lastChild);n.insertNode(a),i.each(function(f){return Rv(e,f.previousSibling)}),l.each(function(f){return Rv(e,f.nextSibling)})},Bv=function(e,n,a){rr(a)?og(e,n,a):yh(e,n,a)},kc=on,ay=mo,oy=Na.nodeIndex,k1=function(e){var n=e.parentNode;return ay(n)?k1(n):n},x1=function(e){return e?Tu(e.childNodes,function(n,a){return ay(a)&&a.nodeName!=="BR"?n=n.concat(x1(a)):n.push(a),n},[]):[]},lC=function(e,n){for(;(e=e.previousSibling)&&kc(e);)n+=e.data.length;return n},iy=function(e){return function(n){return e===n}},uy=function(e){var n,a;n=x1(k1(e)),a=Fr(n,iy(e),e),n=n.slice(0,a+1);var i=Tu(n,function(l,f,g){return kc(f)&&kc(n[g-1])&&l++,l},0);return n=qi(n,Fl([e.nodeName])),a=Fr(n,iy(e),e),a-i},ly=function(e){var n;return kc(e)?n="text()":n=e.nodeName.toLowerCase(),n+"["+uy(e)+"]"},sy=function(e,n,a){var i=[];for(n=n.parentNode;n!==e&&!(a&&a(n));n=n.parentNode)i.push(n);return i},cy=function(e,n){var a,i,l=[],f,g,b;return a=n.container(),i=n.offset(),kc(a)?f=lC(a,i):(g=a.childNodes,i>=g.length?(f="after",i=g.length-1):f="before",a=g[i]),l.push(ly(a)),b=sy(e,a),b=qi(b,Nr(mo)),l=l.concat(xu(b,function(w){return ly(w)})),l.reverse().join("/")+","+f},Ld=function(e,n,a){var i=x1(e);return i=qi(i,function(l,f){return!kc(l)||!kc(i[f-1])}),i=qi(i,Fl([n])),i[a]},BT=function(e,n){for(var a=e,i=0,l;kc(a);){if(l=a.data.length,n>=i&&n<=i+l){e=a,n=n-i;break}if(!kc(a.nextSibling)){e=a,n=l;break}i+=l,a=a.nextSibling}return kc(e)&&n>e.data.length&&(n=e.data.length),je(e,n)},sC=function(e,n){var a;if(!n)return null;var i=n.split(","),l=i[0].split("/");a=i.length>1?i[1]:"before";var f=Tu(l,function(g,b){var w=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(b);return w?(w[1]==="text()"&&(w[1]="#text"),Ld(g,w[1],parseInt(w[2],10))):null},e);return f?kc(f)?BT(f,parseInt(a,10)):(a==="after"?a=oy(f)+1:a=oy(f),je(f.parentNode,a)):null},T1=Ia,wh=function(e,n,a){var i,l;for(l=e(n.data.slice(0,a)).length,i=n.previousSibling;i&&on(i);i=i.previousSibling)l+=e(i.data).length;return l},E1=function(e,n,a,i,l){var f=i[l?"startContainer":"endContainer"],g=i[l?"startOffset":"endOffset"],b=[],w,A=0,F=e.getRoot();for(on(f)?b.push(a?wh(n,f,g):g):(w=f.childNodes,g>=w.length&&w.length&&(A=1,g=Math.max(0,w.length-1)),b.push(e.nodeIndex(w[g],a)+A));f&&f!==F;f=f.parentNode)b.push(e.nodeIndex(f,a));return b},O1=function(e,n,a,i){var l=n.dom,f={};return f.start=E1(l,e,a,i,!0),n.isCollapsed()||(f.end=E1(l,e,a,i,!1)),Gc(i)&&(f.isFakeCaret=!0),f},A1=function(e,n,a){var i=0;return Ye.each(e.select(n),function(l){if(l.getAttribute("data-mce-bogus")!=="all"){if(l===a)return!1;i++}}),i},Vd=function(e,n){var a,i,l,f=n?"start":"end";a=e[f+"Container"],i=e[f+"Offset"],Wn(a)&&a.nodeName==="TR"&&(l=a.childNodes,a=l[Math.min(n?i:i-1,l.length-1)],a&&(i=n?0:a.childNodes.length,e["set"+(n?"Start":"End")](a,i)))},cC=function(e){return Vd(e,!0),Vd(e,!1),e},so=function(e,n){var a;if(Wn(e)&&(e=Iu(e,n),T1(e)))return e;if(Ju(e)&&(on(e)&&pa(e)&&(e=e.parentNode),a=e.previousSibling,T1(a)||(a=e.nextSibling,T1(a))))return a},D1=function(e){return so(e.startContainer,e.startOffset)||so(e.endContainer,e.endOffset)},bo=function(e,n,a){var i=a.getNode(),l=i?i.nodeName:null,f=a.getRng();if(T1(i)||l==="IMG")return{name:l,index:A1(a.dom,l,i)};var g=D1(f);return g?(l=g.tagName,{name:l,index:A1(a.dom,l,g)}):O1(e,a,n,f)},_1=function(e){var n=e.getRng();return{start:cy(e.dom.getRoot(),je.fromRangeStart(n)),end:cy(e.dom.getRoot(),je.fromRangeEnd(n))}},ig=function(e){return{rng:e.getRng()}},R1=function(e,n,a){var i={"data-mce-type":"bookmark",id:n,style:"overflow:hidden;line-height:0px"};return a?e.create("span",i,"&#xFEFF;"):e.create("span",i)},ug=function(e,n){var a=e.dom,i=e.getRng(),l=a.uniqueId(),f=e.isCollapsed(),g=e.getNode(),b=g.nodeName;if(b==="IMG")return{name:b,index:A1(a,b,g)};var w=cC(i.cloneRange());if(!f){w.collapse(!1);var A=R1(a,l+"_end",n);Bv(a,w,A)}i=cC(i),i.collapse(!0);var F=R1(a,l+"_start",n);return Bv(a,i,F),e.moveToBookmark({id:l,keep:!0}),{id:l}},fC=function(e,n,a){return n===2?bo(bc,a,e):n===3?_1(e):n?ig(e):ug(e,!1)},vC=j(bo,En,!0),MT=Na.DOM,PT="font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow",dC=function(e,n,a){var i=e.getParam(n,a);if(i.indexOf("=")!==-1){var l=e.getParam(n,"","hash");return Pr(l,e.id).getOr(a)}else return i},B1=function(e){return e.getParam("iframe_attrs",{})},M1=function(e){return e.getParam("doctype","<!DOCTYPE html>")},$T=function(e){return e.getParam("document_base_url","")},mC=function(e){return dC(e,"body_id","tinymce")},fy=function(e){return dC(e,"body_class","")},gC=function(e){return e.getParam("content_security_policy","")},NT=function(e){return e.getParam("br_in_pre",!0)},Vi=function(e){if(e.getParam("force_p_newlines",!1))return"p";var n=e.getParam("forced_root_block","p");return n===!1?"":n===!0?"p":n},Hd=function(e){return e.getParam("forced_root_block_attrs",{})},vy=function(e){return e.getParam("br_newline_selector",".mce-toc h2,figcaption,caption")},hC=function(e){return e.getParam("no_newline_selector","")},lg=function(e){return e.getParam("keep_styles",!0)},pC=function(e){return e.getParam("end_container_on_empty_block",!1)},FT=function(e){return Ye.explode(e.getParam("font_size_style_values","xx-small,x-small,small,medium,large,x-large,xx-large"))},Ch=function(e){return Ye.explode(e.getParam("font_size_classes",""))},Sh=function(e){return e.getParam("images_dataimg_filter",sn,"function")},Mv=function(e){return e.getParam("automatic_uploads",!0,"boolean")},P1=function(e){return e.getParam("images_reuse_filename",!1,"boolean")},$1=function(e){return e.getParam("images_replace_blob_uris",!0,"boolean")},N1=function(e){return e.getParam("icons","","string")},zT=function(e){return e.getParam("icons_url","","string")},Wf=function(e){return e.getParam("images_upload_url","","string")},F1=function(e){return e.getParam("images_upload_base_path","","string")},IT=function(e){return e.getParam("images_upload_credentials",!1,"boolean")},Pv=function(e){return e.getParam("images_upload_handler",null,"function")},$v=function(e){return e.getParam("content_css_cors",!1,"boolean")},bC=function(e){return e.getParam("referrer_policy","","string")},kh=function(e){return e.getParam("language","en","string")},dy=function(e){return e.getParam("language_url","","string")},z1=function(e){return e.getParam("indent_use_margin",!1)},Ei=function(e){return e.getParam("indentation","40px","string")},LT=function(e){var n=e.getParam("content_css");return ht(n)?pt(n.split(","),ka):Wt(n)?n:n===!1||e.inline?[]:["default"]},I1=function(e){var n=e.getParam("font_css",[]);return Wt(n)?n:pt(n.split(","),ka)},yC=function(e){return e.getParam("directionality",sr.isRtl()?"rtl":void 0)},VT=function(e){return e.getParam("inline_boundaries_selector","a[href],code,.mce-annotation","string")},Xs=function(e){var n=e.getParam("object_resizing");return n===!1||On.iOS?!1:ht(n)?n:"table,img,figure.image,div,video,iframe"},jf=function(e){return e.getParam("resize_img_proportional",!0,"boolean")},HT=function(e){return e.getParam("placeholder",MT.getAttrib(e.getElement(),"placeholder"),"string")},my=function(e){return e.getParam("event_root")},gy=function(e){return e.getParam("service_message")},Ud=function(e){return e.getParam("theme")},wC=function(e){return e.getParam("validate")},sg=function(e){return e.getParam("inline_boundaries")!==!1},UT=function(e){return e.getParam("formats")},WT=function(e){var n=e.getParam("preview_styles",PT);return ht(n)?n:""},jT=function(e){return e.getParam("format_empty_lines",!1,"boolean")},cg=function(e){return e.getParam("custom_ui_selector","","string")},Wd=function(e){return e.getParam("theme_url")},hy=function(e){return e.getParam("inline")},CC=function(e){return e.getParam("hidden_input")},GT=function(e){return e.getParam("submit_patch")},SC=function(e){return e.getParam("encoding")==="xml"},kC=function(e){return e.getParam("add_form_submit_trigger")},py=function(e){return e.getParam("add_unload_trigger")},qT=function(e){return Vi(e)!==""},L1=function(e){return e.getParam("custom_undo_redo_levels",0,"number")},KT=function(e){return e.getParam("disable_nodechange")},xh=function(e){return e.getParam("readonly")},XT=function(e){return e.getParam("content_css_cors")},by=function(e){return e.getParam("plugins","","string")},YT=function(e){return e.getParam("external_plugins")},xC=function(e){return e.getParam("block_unsupported_drop",!0,"boolean")},JT=function(e){return e.getParam("visual",!0,"boolean")},fg=function(e){return e.getParam("visual_table_class","mce-item-table","string")},TC=function(e){return e.getParam("visual_anchor_class","mce-item-anchor","string")},ZT=function(e){return e.getParam("iframe_aria_text","Rich Text Area. Press ALT-0 for help.","string")},yy=Wn,wy=on,V1=function(e){var n=e.parentNode;n&&n.removeChild(e)},EC=function(e){var n=bc(e);return{count:e.length-n.length,text:n}},OC=function(e){for(var n;(n=e.data.lastIndexOf(ke))!==-1;)e.deleteData(n,1)},vg=function(e,n){return jd(e),n},AC=function(e,n){var a=EC(e.data.substr(0,n.offset())),i=EC(e.data.substr(n.offset())),l=a.text+i.text;return l.length>0?(OC(e),je(e,n.offset()-a.count)):n},DC=function(e,n){var a=n.container(),i=Pe(Lr(a.childNodes),e).map(function(l){return l<n.offset()?je(a,n.offset()-1):n}).getOr(n);return jd(e),i},QT=function(e,n){return wy(e)&&n.container()===e?AC(e,n):vg(e,n)},e3=function(e,n){return n.container()===e.parentNode?DC(e,n):vg(e,n)},Cy=function(e,n){return je.isTextPosition(n)?QT(e,n):e3(e,n)},jd=function(e){yy(e)&&Ju(e)&&(Mf(e)?e.removeAttribute("data-mce-caret"):V1(e)),wy(e)&&(OC(e),e.data.length===0&&V1(e))},H1=hn().browser,_C=Ia,U1=Ku,RC=Bm,t3="*[contentEditable=false],video,audio,embed,object",Sy=function(e,n,a){var i=ey(n.getBoundingClientRect(),a),l,f;if(e.tagName==="BODY"){var g=e.ownerDocument.documentElement;l=e.scrollLeft||g.scrollLeft,f=e.scrollTop||g.scrollTop}else{var b=e.getBoundingClientRect();l=e.scrollLeft-b.left,f=e.scrollTop-b.top}i.left+=l,i.right+=l,i.top+=f,i.bottom+=f,i.width=1;var w=n.offsetWidth-n.clientWidth;return w>0&&(a&&(w*=-1),i.left+=w,i.right+=w),i},n3=function(e){for(var n=Qu(k.fromDom(e),t3),a=0;a<n.length;a++){var i=n[a].dom,l=i.previousSibling;if(ih(l)){var f=l.data;f.length===1?l.parentNode.removeChild(l):l.deleteData(f.length-1,1)}if(l=i.nextSibling,oh(l)){var f=l.data;f.length===1?l.parentNode.removeChild(l):l.deleteData(0,1)}}},BC=function(e,n,a,i){var l=Ev(),f,g,b=Vi(e),w=b.length>0?b:"p",A=function(ee,re){var fe;if(F(),RC(re))return null;if(a(re)){g=$w(w,re,ee);var ce=Sy(n,re,ee);Zn(g).css("top",ce.top);var ye=Zn('<div class="mce-visual-caret" data-mce-bogus="all"></div>').css(Sn({},ce)).appendTo(n)[0];l.set({caret:ye,element:re,before:ee}),ee&&Zn(ye).addClass("mce-visual-caret-before"),I(),fe=re.ownerDocument.createRange(),fe.setStart(g,0),fe.setEnd(g,0)}else return g=p0(re,ee),fe=re.ownerDocument.createRange(),li(g.nextSibling)?(fe.setStart(g,0),fe.setEnd(g,0)):(fe.setStart(g,1),fe.setEnd(g,1)),fe;return fe},F=function(){n3(n),g&&(jd(g),g=null),l.on(function(ee){Zn(ee.caret).remove(),l.clear()}),f&&(Qi.clearInterval(f),f=void 0)},I=function(){f=Qi.setInterval(function(){i()?Zn("div.mce-visual-caret",n).toggleClass("mce-visual-caret-hidden"):Zn("div.mce-visual-caret",n).addClass("mce-visual-caret-hidden")},500)},V=function(){l.on(function(ee){var re=Sy(n,ee.element,ee.before);Zn(ee.caret).css(Sn({},re))})},Y=function(){return Qi.clearInterval(f)},X=function(){return".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}"};return{show:A,hide:F,getCss:X,reposition:V,destroy:Y}},Gd=function(){return H1.isIE()||H1.isEdge()||H1.isFirefox()},li=function(e){return _C(e)||U1(e)},Nv=function(e){return li(e)||xo(e)&&Gd()},W1=Ia,r3=Ku,MC=Mu("display","block table table-cell table-caption list-item"),PC=Ju,ky=pa,xy=Wn,xl=qc,Gf=function(e){return e>0},qd=function(e){return e<0},Th=function(e,n){for(var a;a=e(n);)if(!ky(a))return a;return null},Kd=function(e,n,a,i,l){var f=new Yr(e,i),g=W1(e)||ky(e);if(qd(n)){if(g&&(e=Th(f.prev.bind(f),!0),a(e)))return e;for(;e=Th(f.prev.bind(f),l);)if(a(e))return e}if(Gf(n)){if(g&&(e=Th(f.next.bind(f),!0),a(e)))return e;for(;e=Th(f.next.bind(f),l);)if(a(e))return e}return null},tf=function(e,n){for(;e&&e!==n;){if(MC(e))return e;e=e.parentNode}return null},Ys=function(e,n,a){return tf(e.container(),a)===tf(n.container(),a)},dg=function(e,n){if(!n)return null;var a=n.container(),i=n.offset();return xy(a)?a.childNodes[i+e]:null},Ty=function(e,n){var a=n.ownerDocument.createRange();return e?(a.setStartBefore(n),a.setEndBefore(n)):(a.setStartAfter(n),a.setEndAfter(n)),a},$C=function(e,n,a){return tf(n,e)===tf(a,e)},j1=function(e,n,a){for(var i=e?"previousSibling":"nextSibling";a&&a!==n;){var l=a[i];if(PC(l)&&(l=l[i]),W1(l)||r3(l)){if($C(n,l,a))return l;break}if(xl(l))break;a=a.parentNode}return null},Xd=j(Ty,!0),qf=j(Ty,!1),G1=function(e,n,a){var i,l=j(j1,!0,n),f=j(j1,!1,n),g=a.startContainer,b=a.startOffset;if(pa(g)){xy(g)||(g=g.parentNode);var w=g.getAttribute("data-mce-caret");if(w==="before"&&(i=g.nextSibling,Nv(i)))return Xd(i);if(w==="after"&&(i=g.previousSibling,Nv(i)))return qf(i)}if(!a.collapsed)return a;if(on(g)){if(PC(g)){if(e===1){if(i=f(g),i)return Xd(i);if(i=l(g),i)return qf(i)}if(e===-1){if(i=l(g),i)return qf(i);if(i=f(g),i)return Xd(i)}return a}if(ih(g)&&b>=g.data.length-1)return e===1&&(i=f(g),i)?Xd(i):a;if(oh(g)&&b<=1)return e===-1&&(i=l(g),i)?qf(i):a;if(b===g.data.length)return i=f(g),i?Xd(i):a;if(b===0)return i=l(g),i?qf(i):a}return a},Ey=function(e,n){return te.from(dg(e?0:-1,n)).filter(W1)},Oi=function(e,n,a){var i=G1(e,n,a);return e===-1?je.fromRangeStart(i):je.fromRangeEnd(i)},Fv=function(e){return te.from(e.getNode()).map(k.fromDom)},NC=function(e){return te.from(e.getNode(!0)).map(k.fromDom)},Oy=function(e,n){for(;n=e(n);)if(n.isVisible())return n;return n},q1=function(e,n){var a=Ys(e,n);return!a&&ha(e.getNode())?!0:a},Hi;(function(e){e[e.Backwards=-1]="Backwards",e[e.Forwards=1]="Forwards"})(Hi||(Hi={}));var a3=Ia,nf=on,FC=Wn,Ay=ha,zv=qc,zC=nT,K1=No,IC=function(e,n){for(var a=[];e&&e!==n;)a.push(e),e=e.parentNode;return a},Dy=function(e,n){return e.hasChildNodes()&&n<e.childNodes.length?e.childNodes[n]:null},LC=function(e,n){if(Gf(e)){if(zv(n.previousSibling)&&!nf(n.previousSibling))return je.before(n);if(nf(n))return je(n,0)}if(qd(e)){if(zv(n.nextSibling)&&!nf(n.nextSibling))return je.after(n);if(nf(n))return je(n,n.data.length)}return qd(e)?Ay(n)?je.before(n):je.after(n):je.before(n)},o3=function(e,n){var a=n.nextSibling;return a&&zv(a)?nf(a)?je(a,0):je.before(a):_y(Hi.Forwards,je.after(n),e)},_y=function(e,n,a){var i,l,f,g;if(!FC(a)||!n)return null;if(n.isEqual(je.after(a))&&a.lastChild){if(g=je.after(a.lastChild),qd(e)&&zv(a.lastChild)&&FC(a.lastChild))return Ay(a.lastChild)?je.before(a.lastChild):g}else g=n;var b=g.container(),w=g.offset();if(nf(b)){if(qd(e)&&w>0)return je(b,--w);if(Gf(e)&&w<b.length)return je(b,++w);i=b}else{if(qd(e)&&w>0&&(l=Dy(b,w-1),zv(l)))return!zC(l)&&(f=Kd(l,e,K1,l),f)?nf(f)?je(f,f.data.length):je.after(f):nf(l)?je(l,l.data.length):je.before(l);if(Gf(e)&&w<b.childNodes.length&&(l=Dy(b,w),zv(l)))return Ay(l)?o3(a,l):!zC(l)&&(f=Kd(l,e,K1,l),f)?nf(f)?je(f,0):je.before(f):nf(l)?je(l,0):je.after(l);i=l||g.getNode()}if((Gf(e)&&g.isAtEnd()||qd(e)&&g.isAtStart())&&(i=Kd(i,e,sn,a,!0),K1(i,a)))return LC(e,i);l=Kd(i,e,K1,a);var A=Ri(nn(IC(b,a),a3));return A&&(!l||!A.contains(l))?(Gf(e)?g=je.after(A):g=je.before(A),g):l?LC(e,l):null},xc=function(e){return{next:function(n){return _y(Hi.Forwards,n,e)},prev:function(n){return _y(Hi.Backwards,n,e)}}},X1=function(e,n,a){var i=e?je.before(a):je.after(a);return ru(e,n,i)},Lu=function(e){return ha(e)?je.before(e):je.after(e)},Eh=function(e){return je.isTextPosition(e)?e.offset()===0:qc(e.getNode())},Oh=function(e){if(je.isTextPosition(e)){var n=e.container();return e.offset()===n.data.length}else return qc(e.getNode(!0))},Ry=function(e,n){return!je.isTextPosition(e)&&!je.isTextPosition(n)&&e.getNode()===n.getNode(!0)},i3=function(e){return!je.isTextPosition(e)&&ha(e.getNode())},VC=function(e,n,a){return e?!Ry(n,a)&&!i3(n)&&Oh(n)&&Eh(a):!Ry(a,n)&&Eh(n)&&Oh(a)},ru=function(e,n,a){var i=xc(n);return te.from(e?i.next(a):i.prev(a))},Yd=function(e,n,a){return ru(e,n,a).bind(function(i){return Ys(a,i,n)&&VC(e,a,i)?ru(e,n,i):te.some(i)})},Ah=function(e,n,a,i){return Yd(e,n,a).bind(function(l){return i(l)?Ah(e,n,l,i):te.some(l)})},ps=function(e,n){var a=e?n.firstChild:n.lastChild;return on(a)?te.some(je(a,e?0:a.data.length)):a?qc(a)?te.some(e?je.before(a):Lu(a)):X1(e,n,a):te.none()},bs=j(ru,!0),ys=j(ru,!1),Vu=j(ps,!0),Tc=j(ps,!1),Y1="_mce_caret",ws=function(e){return Wn(e)&&e.id===Y1},Ec=function(e,n){for(;n&&n!==e;){if(n.id===Y1)return n;n=n.parentNode}return null},u3=function(e){return ht(e.start)},l3=function(e){return tr(e,"rng")},HC=function(e){return tr(e,"id")},UC=function(e){return tr(e,"name")},WC=function(e){return Ye.isArray(e.start)},jC=function(e,n){return Wn(n)&&e.isBlock(n)&&!n.innerHTML&&!On.ie&&(n.innerHTML='<br data-mce-bogus="1" />'),n},s3=function(e,n){var a,i=e.createRng();return a=sC(e.getRoot(),n.start),i.setStart(a.container(),a.offset()),a=sC(e.getRoot(),n.end),i.setEnd(a.container(),a.offset()),i},c3=function(e,n){var a=e.ownerDocument.createTextNode(ke);e.appendChild(a),n.setStart(a,0),n.setEnd(a,0)},GC=function(e){return e.hasChildNodes()===!1},f3=function(e,n){return Tc(e).fold(Mt,function(a){return n.setStart(a.container(),a.offset()),n.setEnd(a.container(),a.offset()),!0})},By=function(e,n,a){return GC(n)&&Ec(e,n)?(c3(n,a),!0):!1},qC=function(e,n,a,i){var l=a[n?"start":"end"],f,g,b,w,A=e.getRoot();if(l){for(b=l[0],g=A,f=l.length-1;f>=1;f--){if(w=g.childNodes,By(A,g,i))return!0;if(l[f]>w.length-1)return By(A,g,i)?!0:f3(g,i);g=w[l[f]]}g.nodeType===3&&(b=Math.min(l[0],g.nodeValue.length)),g.nodeType===1&&(b=Math.min(l[0],g.childNodes.length)),n?i.setStart(g,b):i.setEnd(g,b)}return!0},My=function(e){return on(e)&&e.data.length>0},KC=function(e,n,a){var i=e.get(a.id+"_"+n),l,f,g,b,w=a.keep,A,F;if(i){if(l=i.parentNode,n==="start"?(w?i.hasChildNodes()?(l=i.firstChild,f=1):My(i.nextSibling)?(l=i.nextSibling,f=0):My(i.previousSibling)?(l=i.previousSibling,f=i.previousSibling.data.length):(l=i.parentNode,f=e.nodeIndex(i)+1):f=e.nodeIndex(i),A=l,F=f):(w?i.hasChildNodes()?(l=i.firstChild,f=1):My(i.previousSibling)?(l=i.previousSibling,f=i.previousSibling.data.length):(l=i.parentNode,f=e.nodeIndex(i)):f=e.nodeIndex(i),A=l,F=f),!w){for(b=i.previousSibling,g=i.nextSibling,Ye.each(Ye.grep(i.childNodes),function(I){on(I)&&(I.nodeValue=I.nodeValue.replace(/\uFEFF/g,""))});i=e.get(a.id+"_"+n);)e.remove(i,!0);b&&g&&b.nodeType===g.nodeType&&on(b)&&!On.opera&&(f=b.nodeValue.length,b.appendData(g.nodeValue),e.remove(g),A=b,F=f)}return te.some(je(A,F))}else return te.none()},v3=function(e,n){var a=e.createRng();return qC(e,!0,n,a)&&qC(e,!1,n,a)?te.some(a):te.none()},d3=function(e,n){var a=KC(e,"start",n),i=KC(e,"end",n);return gu(a,i.or(a),function(l,f){var g=e.createRng();return g.setStart(jC(e,l.container()),l.offset()),g.setEnd(jC(e,f.container()),f.offset()),g})},m3=function(e,n){return te.from(e.select(n.name)[n.index]).map(function(a){var i=e.createRng();return i.selectNode(a),i})},Sr=function(e,n){var a=e.dom;if(n){if(WC(n))return v3(a,n);if(u3(n))return te.some(s3(a,n));if(HC(n))return d3(a,n);if(UC(n))return m3(a,n);if(l3(n))return te.some(n.rng)}return te.none()},Jd=function(e,n,a){return fC(e,n,a)},mg=function(e,n){Sr(e,n).each(function(a){e.setRng(a)})},Tl=function(e){return Wn(e)&&e.tagName==="SPAN"&&e.getAttribute("data-mce-type")==="bookmark"},g3=function(e){return function(n){return e===n}},Iv=g3(hl),gg=function(e){return e!==""&&` \f
\r	\v`.indexOf(e)!==-1},Dh=function(e){return!gg(e)&&!Iv(e)},hg=function(e){return!!e.nodeType},XC=function(e){return e&&/^(IMG)$/.test(e.nodeName)},YC=function(e,n,a){var i=a.startOffset,l=a.startContainer;if(!(l===a.endContainer&&XC(l.childNodes[i]))&&Wn(l)){var f=l.childNodes,g=void 0;i<f.length?(l=f[i],g=new Yr(l,e.getParent(l,e.isBlock))):(l=f[f.length-1],g=new Yr(l,e.getParent(l,e.isBlock)),g.next(!0));for(var b=g.current();b;b=g.next())if(on(b)&&!Ny(b)){a.setStart(b,0),n.setRng(a);return}}},Py=function(e,n,a){if(e){var i=n?"nextSibling":"previousSibling";for(e=a?e:e[i];e;e=e[i])if(Wn(e)||!Ny(e))return e}},$y=function(e,n){return hg(n)&&(n=n.nodeName),!!e.schema.getTextBlockElements()[n.toLowerCase()]},Zd=function(e,n,a){return e.schema.isValidChild(n,a)},Ny=function(e,n){if(n===void 0&&(n=!1),qt(e)&&on(e)){var a=n?e.data.replace(/ /g,"\xA0"):e.data;return Vs(a)}else return!1},h3=function(e){return qt(e)&&on(e)&&e.length===0},rf=function(e,n){return Nt(e)?e=e(n):qt(n)&&(e=e.replace(/%(\w+)/g,function(a,i){return n[i]||a})),e},Fy=function(e,n){return e=e||"",n=n||"",e=""+(e.nodeName||e),n=""+(n.nodeName||n),e.toLowerCase()===n.toLowerCase()},J1=function(e,n,a){return(a==="color"||a==="backgroundColor")&&(n=e.toHex(n)),a==="fontWeight"&&n===700&&(n="bold"),a==="fontFamily"&&(n=n.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),""+n},Z1=function(e,n,a){return J1(e,e.getStyle(n,a),a)},JC=function(e,n){var a;return e.getParent(n,function(i){return a=e.getStyle(i,"text-decoration"),a&&a!=="none"}),a},pg=function(e,n,a){return e.getParents(n,a,e.getRoot())},ZC=function(e,n){var a=function(i){var l=function(f){return f.length>1&&f.charAt(0)==="%"};return Qe(["styles","attributes"],function(f){return Pr(i,f).exists(function(g){var b=Wt(g)?g:ul(g);return Qe(b,l)})})};return Qe(e.formatter.get(n),a)},QC=function(e,n,a){var i=["inline","block","selector","attributes","styles","classes"],l=function(f){return Sa(f,function(g,b){return Qe(i,function(w){return w===b})})};return Qe(e.formatter.get(n),function(f){var g=l(f);return Qe(e.formatter.get(a),function(b){var w=l(b);return Bl(g,w)})})},Oc=function(e){return hi(e,"block")},Gl=function(e){return hi(e,"selector")},Ui=function(e){return hi(e,"inline")},eS=function(e){return Gl(e)&&Ui(e)&&pd(Pr(e,"mixed"),!0)},zy=function(e){return Gl(e)&&e.expand!==!1&&!Ui(e)},bg=Tl,tS=pg,nS=Ny,rS=$y,Q1=function(e){return ha(e)&&e.getAttribute("data-mce-bogus")&&!e.nextSibling},eb=function(e,n){for(var a=n;a;){if(Wn(a)&&e.getContentEditable(a))return e.getContentEditable(a)==="false"?a:n;a=a.parentNode}return n},aS=function(e,n,a,i){for(var l=n.data,f=a;e?f>=0:f<l.length;e?f--:f++)if(i(l.charAt(f)))return e?f+1:f;return-1},Xt=function(e,n,a){return aS(e,n,a,function(i){return Iv(i)||gg(i)})},si=function(e,n,a){return aS(e,n,a,Dh)},Qd=function(e,n,a,i,l,f){var g,b=e.getParent(a,e.isBlock)||n,w=function(F,I,V){var Y=h1(e),X=l?Y.backwards:Y.forwards;return te.from(X(F,I,function(ee,re){return bg(ee.parentNode)?-1:(g=ee,V(l,ee,re))},b))},A=w(a,i,Xt);return A.bind(function(F){return f?w(F.container,F.offset+(l?-1:0),si):te.some(F)}).orThunk(function(){return g?te.some({container:g,offset:l?0:g.length}):te.none()})},ci=function(e,n,a,i,l){on(i)&&ll(i.data)&&i[l]&&(i=i[l]);for(var f=tS(e,i),g=0;g<f.length;g++)for(var b=0;b<n.length;b++){var w=n[b];if(!(qt(w.collapsed)&&w.collapsed!==a.collapsed)&&Gl(w)&&e.is(f[g],w.selector))return f[g]}return i},Cs=function(e,n,a,i){var l=a,f=e.dom,g=f.getRoot(),b=n[0];if(Oc(b)&&(l=b.wrapper?null:f.getParent(a,b.block,g)),!l){var w=f.getParent(a,"LI,TD,TH");l=f.getParent(on(a)?a.parentNode:a,function(A){return A!==g&&rS(e,A)},w)}if(l&&Oc(b)&&b.wrapper&&(l=tS(f,l,"ul,ol").reverse()[0]||l),!l)for(l=a;l[i]&&!f.isBlock(l[i])&&(l=l[i],!Fy(l,"br")););return l||a},Iy=function(e,n,a,i){var l=a.parentNode;return qt(a[i])?!1:l===n||Ht(l)||e.isBlock(l)?!0:Iy(e,n,l,i)},em=function(e,n,a,i,l){var f=a,g=l?"previousSibling":"nextSibling",b=e.getRoot();if(on(a)&&!nS(a)&&(l?i>0:i<a.data.length))return a;for(;;){if(!n[0].block_expand&&e.isBlock(f))return f;for(var w=f[g];w;w=w[g]){var A=on(w)&&!Iy(e,b,w,g);if(!bg(w)&&!Q1(w)&&!nS(w,A))return f}if(f===b||f.parentNode===b){a=f;break}f=f.parentNode}return a},tb=function(e){return bg(e.parentNode)||bg(e)},yg=function(e,n,a,i){i===void 0&&(i=!1);var l=n.startContainer,f=n.startOffset,g=n.endContainer,b=n.endOffset,w=e.dom,A=a[0];if(Wn(l)&&l.hasChildNodes()&&(l=Iu(l,f),on(l)&&(f=0)),Wn(g)&&g.hasChildNodes()&&(g=Iu(g,n.collapsed?b:b-1),on(g)&&(b=g.nodeValue.length)),l=eb(w,l),g=eb(w,g),tb(l)&&(l=bg(l)?l:l.parentNode,n.collapsed?l=l.previousSibling||l:l=l.nextSibling||l,on(l)&&(f=n.collapsed?l.length:0)),tb(g)&&(g=bg(g)?g:g.parentNode,n.collapsed?g=g.nextSibling||g:g=g.previousSibling||g,on(g)&&(b=n.collapsed?0:g.length)),n.collapsed){var F=Qd(w,e.getBody(),l,f,!0,i);F.each(function(V){var Y=V.container,X=V.offset;l=Y,f=X});var I=Qd(w,e.getBody(),g,b,!1,i);I.each(function(V){var Y=V.container,X=V.offset;g=Y,b=X})}return(Ui(A)||A.block_expand)&&((!Ui(A)||!on(l)||f===0)&&(l=em(w,a,l,f,!0)),(!Ui(A)||!on(g)||b===g.nodeValue.length)&&(g=em(w,a,g,b,!1))),zy(A)&&(l=ci(w,a,n,l,"previousSibling"),g=ci(w,a,n,g,"nextSibling")),(Oc(A)||Gl(A))&&(l=Cs(e,a,l,"previousSibling"),g=Cs(e,a,g,"nextSibling"),Oc(A)&&(w.isBlock(l)||(l=em(w,a,l,f,!0)),w.isBlock(g)||(g=em(w,a,g,b,!1)))),Wn(l)&&(f=w.nodeIndex(l),l=l.parentNode),Wn(g)&&(b=w.nodeIndex(g)+1,g=g.parentNode),{startContainer:l,startOffset:f,endContainer:g,endOffset:b}},tm=function(e,n,a){var i=n.startOffset,l=Iu(n.startContainer,i),f=n.endOffset,g=Iu(n.endContainer,f-1),b=function(ee){var re=ee[0];on(re)&&re===l&&i>=re.data.length&&ee.splice(0,1);var fe=ee[ee.length-1];return f===0&&ee.length>0&&fe===g&&on(fe)&&ee.splice(ee.length-1,1),ee},w=function(ee,re,fe){for(var ce=[];ee&&ee!==fe;ee=ee[re])ce.push(ee);return ce},A=function(ee,re){return e.getParent(ee,function(fe){return fe.parentNode===re},re)},F=function(ee,re,fe){for(var ce=fe?"nextSibling":"previousSibling",ye=ee,De=ye.parentNode;ye&&ye!==re;ye=De){De=ye.parentNode;var he=w(ye===ee?ye:ye[ce],ce);he.length&&(fe||he.reverse(),a(b(he)))}};if(l===g)return a(b([l]));var I=e.findCommonAncestor(l,g);if(e.isChildOf(l,g))return F(l,I,!0);if(e.isChildOf(g,l))return F(g,I);var V=A(l,I)||l,Y=A(g,I)||g;F(l,V,!0);var X=w(V===l?V:V.nextSibling,"nextSibling",Y===g?Y.nextSibling:Y);X.length&&a(b(X)),F(g,Y)},_h=function(e){var n=[];if(e)for(var a=0;a<e.rangeCount;a++)n.push(e.getRangeAt(a));return n},p3=function(e){return uu(e,function(n){var a=b1(n);return a?[k.fromDom(a)]:[]})},b3=function(e){return _h(e).length>1},Ly=function(e){return nn(p3(e),pc)},Vy=function(e){return Qu(e,"td[data-mce-selected],th[data-mce-selected]")},oS=function(e,n){var a=Vy(n);return a.length>0?a:Ly(e)},nm=function(e){return oS(_h(e.selection.getSel()),k.fromDom(e.getBody()))},Js=function(e,n){return bd(e,"table",n)},Rh=function(e){var n=e.startContainer,a=e.startOffset;return on(n)?a===0?te.some(k.fromDom(n)):te.none():te.from(n.childNodes[a]).map(k.fromDom)},Hy=function(e){var n=e.endContainer,a=e.endOffset;return on(n)?a===n.data.length?te.some(k.fromDom(n)):te.none():te.from(n.childNodes[a-1]).map(k.fromDom)},rm=function(e){return $o(e).fold(Q([e]),function(n){return[e].concat(rm(n))})},Bh=function(e){return dl(e).fold(Q([e]),function(n){return ma(n)==="br"?Cf(n).map(function(a){return[e].concat(Bh(a))}).getOr([]):[e].concat(Bh(n))})},Mh=function(e,n){return gu(Rh(n),Hy(n),function(a,i){var l=Kr(rm(e),j(ra,a)),f=Kr(Bh(e),j(ra,i));return l.isSome()&&f.isSome()}).getOr(!1)},af=function(e,n,a,i){var l=a,f=new Yr(a,l),g=Sa(e.schema.getMoveCaretBeforeOnEnterElements(),function(b,w){return!Re(["td","th","table"],w.toLowerCase())});do{if(on(a)&&Ye.trim(a.nodeValue).length!==0){i?n.setStart(a,0):n.setEnd(a,a.nodeValue.length);return}if(g[a.nodeName]){i?n.setStartBefore(a):a.nodeName==="BR"?n.setEndBefore(a):n.setEndAfter(a);return}}while(a=i?f.next():f.prev());l.nodeName==="BODY"&&(i?n.setStart(l,0):n.setEnd(l,l.childNodes.length))},Ss=function(e){var n=e.selection.getSel();return n&&n.rangeCount>0},Lv=function(e,n){var a=nm(e);a.length>0?tt(a,function(i){var l=i.dom,f=e.dom.createRng();f.setStartBefore(l),f.setEndAfter(l),n(f,!0)}):n(e.selection.getRng(),!1)},am=function(e,n,a){var i=ug(e,n);a(i),e.moveToBookmark(i)},Ph=function(e,n){var a=function(f){if(!e(f))throw new Error("Can only get "+n+" value of a "+n+" node");return i(f).getOr("")},i=function(f){return e(f)?te.from(f.dom.nodeValue):te.none()},l=function(f,g){if(!e(f))throw new Error("Can only set raw "+n+" value of a "+n+" node");f.dom.nodeValue=g};return{get:a,getOption:i,set:l}},nb=Ph(Ka,"text"),$h=function(e){return nb.get(e)},Uy=function(e){return Ka(e)&&$h(e)===ke},y3=function(e,n,a,i){return eo(n).fold(function(){return"skipping"},function(l){return i==="br"||Uy(n)?"valid":Ii(n)?"existing":ws(n.dom)?"caret":!Zd(e,a,i)||!Zd(e,ma(l),a)?"invalid-child":"valid"})},rb=function(e,n){var a=yg(e,n,[{inline:"span"}]);n.setStart(a.startContainer,a.startOffset),n.setEnd(a.endContainer,a.endOffset),e.selection.setRng(n)},Ai=function(e,n,a,i){var l=n.uid,f=l===void 0?rg("mce-annotation"):l,g=Zl(n,["uid"]),b=k.fromTag("span",e);tg(b,zd()),O(b,""+el(),f),O(b,""+Qc(),a);var w=i(f,g),A=w.attributes,F=A===void 0?{}:A,I=w.classes,V=I===void 0?[]:I;return z(b,F),Q0(b,V),b},ql=function(e,n,a,i,l){var f=[],g=Ai(e.getDoc(),l,a,i),b=Ev(),w=function(){b.clear()},A=function(){return b.get().getOrThunk(function(){var Y=Ti(g);return f.push(Y),b.set(Y),Y})},F=function(Y){tt(Y,I)},I=function(Y){var X=y3(e,Y,"span",ma(Y));switch(X){case"invalid-child":{w();var ee=mu(Y);F(ee),w();break}case"valid":{var re=A();hd(Y,re);break}}},V=function(Y){var X=pt(Y,k.fromDom);F(X)};return tm(e.dom,n,function(Y){w(),V(Y)}),f},Zs=function(e,n,a,i){e.undoManager.transact(function(){var l=e.selection,f=l.getRng(),g=nm(e).length>0;if(f.collapsed&&!g&&rb(e,f),l.getRng().collapsed&&!g){var b=Ai(e.getDoc(),i,n,a.decorate);Jo(b,hl),l.getRng().insertNode(b.dom),l.select(b.dom)}else am(l,!1,function(){Lv(e,function(w){ql(e,w,n,a.decorate,i)})})})},Ac=function(e){var n=nC();Z0(e,n);var a=J0(e);return{register:function(i,l){n.register(i,l)},annotate:function(i,l){n.lookup(i).each(function(f){Zs(e,i,f,l)})},annotationChanged:function(i,l){a.addListener(i,l)},remove:function(i){tC(e,te.some(i)).each(function(l){var f=l.elements;tt(f,Tf)})},getAll:function(i){var l=Vf(e,i);return Co(l,function(f){return pt(f,function(g){return g.dom})})}}},of=function(e){return{getBookmark:j(Jd,e),moveToBookmark:j(mg,e)}};of.isBookmarkNode=Tl;var Vv=function(e,n){for(;n&&n!==e;){if(Fs(n)||Ia(n))return n;n=n.parentNode}return null},wg=function(e,n,a){if(a.collapsed)return!1;if(On.browser.isIE()&&a.startOffset===a.endOffset-1&&a.startContainer===a.endContainer){var i=a.startContainer.childNodes[a.startOffset];if(Wn(i))return Qe(i.getClientRects(),function(l){return aC(l,e,n)})}return Qe(a.getClientRects(),function(l){return aC(l,e,n)})},iS=function(e,n){return e.fire("PreProcess",n)},Nh=function(e,n){return e.fire("PostProcess",n)},w3=function(e){return e.fire("remove")},Wy=function(e){return e.fire("detach")},uS=function(e,n){return e.fire("SwitchMode",{mode:n})},lS=function(e,n,a,i,l){e.fire("ObjectResizeStart",{target:n,width:a,height:i,origin:l})},jy=function(e,n,a,i,l){e.fire("ObjectResized",{target:n,width:a,height:i,origin:l})},Gy=function(e){return e.fire("PreInit")},fa=function(e){return e.fire("PostRender")},uf=function(e){return e.fire("Init")},sS=function(e,n){return e.fire("PlaceholderToggle",{state:n})},qy=function(e,n,a){return e.fire(n,a)},Ky=function(e,n,a,i){return e.fire("FormatApply",{format:n,node:a,vars:i})},Fh=function(e,n,a,i){return e.fire("FormatRemove",{format:n,node:a,vars:i})},Mn={BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,ESC:27,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,modifierPressed:function(e){return e.shiftKey||e.ctrlKey||e.altKey||Mn.metaKeyPressed(e)},metaKeyPressed:function(e){return On.mac?e.metaKey:e.ctrlKey&&!e.altKey}},Xy=Ia,cS=function(e,n){var a="data-mce-selected",i=n.dom,l=Ye.each,f,g,b,w,A,F,I,V,Y,X,ee,re,fe,ce,ye,De=n.getDoc(),he=document,Be=Math.abs,qe=Math.round,Ct=n.getBody(),_n,en,wt={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]},Fn=function(Ve){return Ve&&(Ve.nodeName==="IMG"||n.dom.is(Ve,"figure.image"))},Dt=function(Ve){return Ku(Ve)||i.hasClass(Ve,"mce-preview-object")},tn=function(Ve,vn){if(Ve.type==="longpress"||Ve.type.indexOf("touch")===0){var Vt=Ve.touches[0];return Fn(Ve.target)&&!wg(Vt.clientX,Vt.clientY,vn)}else return Fn(Ve.target)&&!wg(Ve.clientX,Ve.clientY,vn)},At=function(Ve){var vn=Ve.target;tn(Ve,n.selection.getRng())&&!Ve.isDefaultPrevented()&&n.selection.select(vn)},jt=function(Ve){return i.is(Ve,"figure.image")?[Ve.querySelector("img")]:i.hasClass(Ve,"mce-preview-object")&&qt(Ve.firstElementChild)?[Ve,Ve.firstElementChild]:[Ve]},an=function(Ve){var vn=Xs(n);return!vn||Ve.getAttribute("data-mce-resize")==="false"||Ve===n.getBody()?!1:i.hasClass(Ve,"mce-preview-object")?na(k.fromDom(Ve.firstElementChild),vn):na(k.fromDom(Ve),vn)},bt=function(Ve){return Dt(Ve)?i.create("img",{src:On.transparentSrc}):Ve.cloneNode(!0)},ln=function(Ve,vn,Vt){if(qt(Vt)){var Pn=jt(Ve);tt(Pn,function(mr){mr.style[vn]||!n.schema.isValid(mr.nodeName.toLowerCase(),vn)?i.setStyle(mr,vn,Vt):i.setAttrib(mr,vn,""+Vt)})}},Yn=function(Ve,vn,Vt){ln(Ve,"width",vn),ln(Ve,"height",Vt)},oa=function(Ve){var vn,Vt,Pn,mr,Wa;vn=Ve.screenX-F,Vt=Ve.screenY-I,ce=vn*w[2]+X,ye=Vt*w[3]+ee,ce=ce<5?5:ce,ye=ye<5?5:ye,(Fn(f)||Dt(f))&&jf(n)!==!1?Pn=!Mn.modifierPressed(Ve):Pn=Mn.modifierPressed(Ve),Pn&&(Be(vn)>Be(Vt)?(ye=qe(ce*re),ce=qe(ye/re)):(ce=qe(ye/re),ye=qe(ce*re))),Yn(g,ce,ye),mr=w.startPos.x+vn,Wa=w.startPos.y+Vt,mr=mr>0?mr:0,Wa=Wa>0?Wa:0,i.setStyles(b,{left:mr,top:Wa,display:"block"}),b.innerHTML=ce+" &times; "+ye,w[2]<0&&g.clientWidth<=ce&&i.setStyle(g,"left",V+(X-ce)),w[3]<0&&g.clientHeight<=ye&&i.setStyle(g,"top",Y+(ee-ye)),vn=Ct.scrollWidth-_n,Vt=Ct.scrollHeight-en,vn+Vt!==0&&i.setStyles(b,{left:mr-vn,top:Wa-Vt}),fe||(lS(n,f,X,ee,"corner-"+w.name),fe=!0)},Dr=function(){var Ve=fe;fe=!1,Ve&&(ln(f,"width",ce),ln(f,"height",ye)),i.unbind(De,"mousemove",oa),i.unbind(De,"mouseup",Dr),he!==De&&(i.unbind(he,"mousemove",oa),i.unbind(he,"mouseup",Dr)),i.remove(g),i.remove(b),i.remove(A),Lo(f),Ve&&(jy(n,f,ce,ye,"corner-"+w.name),i.setAttrib(f,"style",i.getAttrib(f,"style"))),n.nodeChanged()},Lo=function(Ve){yt();var vn=i.getPos(Ve,Ct),Vt=vn.x,Pn=vn.y,mr=Ve.getBoundingClientRect(),Wa=mr.width||mr.right-mr.left,rl=mr.height||mr.bottom-mr.top;f!==Ve&&(yo(),f=Ve,ce=ye=0);var _l=n.fire("ObjectSelected",{target:Ve}),Pc=i.getAttrib(f,a,"1");an(Ve)&&!_l.isDefaultPrevented()?l(wt,function(al,ol){var di,Em=function(iu){var $c=jt(f)[0];F=iu.screenX,I=iu.screenY,X=$c.clientWidth,ee=$c.clientHeight,re=ee/X,w=al,w.name=ol,w.startPos={x:Wa*al[0]+Vt,y:rl*al[1]+Pn},_n=Ct.scrollWidth,en=Ct.scrollHeight,A=i.add(Ct,"div",{class:"mce-resize-backdrop","data-mce-bogus":"all"}),i.setStyles(A,{position:"fixed",left:"0",top:"0",width:"100%",height:"100%"}),g=bt(f),i.addClass(g,"mce-clonedresizable"),i.setAttrib(g,"data-mce-bogus","all"),g.contentEditable="false",i.setStyles(g,{left:Vt,top:Pn,margin:0}),Yn(g,Wa,rl),g.removeAttribute(a),Ct.appendChild(g),i.bind(De,"mousemove",oa),i.bind(De,"mouseup",Dr),he!==De&&(i.bind(he,"mousemove",oa),i.bind(he,"mouseup",Dr)),b=i.add(Ct,"div",{class:"mce-resize-helper","data-mce-bogus":"all"},X+" &times; "+ee)};di=i.get("mceResizeHandle"+ol),di&&i.remove(di),di=i.add(Ct,"div",{id:"mceResizeHandle"+ol,"data-mce-bogus":"all",class:"mce-resizehandle",unselectable:!0,style:"cursor:"+ol+"-resize; margin:0; padding:0"}),On.ie===11&&(di.contentEditable=!1),i.bind(di,"mousedown",function(iu){iu.stopImmediatePropagation(),iu.preventDefault(),Em(iu)}),al.elm=di,i.setStyles(di,{left:Wa*al[0]+Vt-di.offsetWidth/2,top:rl*al[1]+Pn-di.offsetHeight/2})}):yo(),i.getAttrib(f,a)||f.setAttribute(a,Pc)},yo=function(){yt(),f&&f.removeAttribute(a),hr(wt,function(Ve,vn){var Vt=i.get("mceResizeHandle"+vn);Vt&&(i.unbind(Vt),i.remove(Vt))})},Kl=function(Ve){var vn,Vt,Pn=function(mr,Wa){if(mr)do if(mr===Wa)return!0;while(mr=mr.parentNode)};if(!(fe||n.removed)){if(l(i.select("img[data-mce-selected],hr[data-mce-selected]"),function(mr){mr.removeAttribute(a)}),Vt=Ve.type==="mousedown"?Ve.target:e.getNode(),Vt=i.$(Vt).closest("table,img,figure.image,hr,video,span.mce-preview-object")[0],Pn(Vt,Ct)&&(Le(),vn=e.getStart(!0),Pn(vn,Vt)&&Pn(e.getEnd(!0),Vt))){Lo(Vt);return}yo()}},_s=function(Ve){return Xy(Vv(n.getBody(),Ve))},yt=function(){hr(wt,function(Ve){Ve.elm&&(i.unbind(Ve.elm),delete Ve.elm)})},Le=function(){try{n.getDoc().execCommand("enableObjectResizing",!1,"false")}catch(Ve){}};n.on("init",function(){if(Le(),On.browser.isIE()||On.browser.isEdge()){n.on("mousedown click",function(Vt){var Pn=Vt.target,mr=Pn.nodeName;!fe&&/^(TABLE|IMG|HR)$/.test(mr)&&!_s(Pn)&&(Vt.button!==2&&n.selection.select(Pn,mr==="TABLE"),Vt.type==="mousedown"&&n.nodeChanged())});var Ve=function(Vt){var Pn=function(mr){Qi.setEditorTimeout(n,function(){return n.selection.select(mr)})};if(_s(Vt.target)||Ku(Vt.target)){Vt.preventDefault(),Pn(Vt.target);return}/^(TABLE|IMG|HR)$/.test(Vt.target.nodeName)&&(Vt.preventDefault(),Vt.target.tagName==="IMG"&&Pn(Vt.target))};i.bind(Ct,"mscontrolselect",Ve),n.on("remove",function(){return i.unbind(Ct,"mscontrolselect",Ve)})}var vn=Qi.throttle(function(Vt){n.composing||Kl(Vt)});n.on("nodechange ResizeEditor ResizeWindow ResizeContent drop FullscreenStateChanged",vn),n.on("keyup compositionend",function(Vt){f&&f.nodeName==="TABLE"&&vn(Vt)}),n.on("hide blur",yo),n.on("contextmenu longpress",At,!0)}),n.on("remove",yt);var St=function(){f=g=A=null};return{isResizable:an,showResizeRect:Lo,hideResizeRect:yo,updateResizeRect:Kl,destroy:St}},C3=function(e){return Fs(e)||Ia(e)},fS=function(e,n,a){for(;e&&e!==n;){if(a(e))return e;e=e.parentNode}return null},vS=function(e,n,a){var i,l=a.elementFromPoint(e,n),f=a.body.createTextRange();if((!l||l.tagName==="HTML")&&(l=a.body),f.moveToElementText(l),i=Ye.toArray(f.getClientRects()),i=i.sort(function(g,b){return g=Math.abs(Math.max(g.top-n,g.bottom-n)),b=Math.abs(Math.max(b.top-n,b.bottom-n)),g-b}),i.length>0){n=(i[0].bottom+i[0].top)/2;try{return f.moveToPoint(e,n),f.collapse(!0),f}catch(g){}}return null},Yy=function(e,n){var a=e&&e.parentElement?e.parentElement():null;return Ia(fS(a,n,C3))?null:e},Jy=function(e,n,a){var i,l,f=a;if(f.caretPositionFromPoint)l=f.caretPositionFromPoint(e,n),l&&(i=a.createRange(),i.setStart(l.offsetNode,l.offset),i.collapse(!0));else if(f.caretRangeFromPoint)i=f.caretRangeFromPoint(e,n);else if(f.body.createTextRange){i=f.body.createTextRange();try{i.moveToPoint(e,n),i.collapse(!0)}catch(g){i=vS(e,n,a)}return Yy(i,a.body)}return i},ab=function(e,n){return e&&n&&e.startContainer===n.startContainer&&e.startOffset===n.startOffset&&e.endContainer===n.endContainer&&e.endOffset===n.endOffset},S3=function(e,n,a){for(;e&&e!==n;){if(a(e))return e;e=e.parentNode}return null},dS=function(e,n,a){return S3(e,n,a)!==null},k3=function(e,n,a){return dS(e,n,function(i){return i.nodeName===a})},El=function(e){return e&&e.nodeName==="TABLE"},Hu=function(e){return e&&/^(TD|TH|CAPTION)$/.test(e.nodeName)},Hv=function(e,n){return Ju(e)&&dS(e,n,ws)===!1},mS=function(e,n,a){for(var i=new Yr(n,e.getParent(n.parentNode,e.isBlock)||e.getRoot());n=i[a?"prev":"next"]();)if(ha(n))return!0},x3=function(e,n){return e.previousSibling&&e.previousSibling.nodeName===n},gS=function(e,n){for(;n&&n!==e;){if(Ia(n))return!0;n=n.parentNode}return!1},cr=function(e,n,a,i,l){var f,g=e.getRoot(),b,w=e.schema.getNonEmptyElements(),A=e.getParent(l.parentNode,e.isBlock)||g;if(i&&ha(l)&&n&&e.isEmpty(A))return te.some(je(l.parentNode,e.nodeIndex(l)));for(var F=new Yr(l,A);b=F[i?"prev":"next"]();){if(e.getContentEditableParent(b)==="false"||Hv(b,g))return te.none();if(on(b)&&b.nodeValue.length>0)return k3(b,g,"A")===!1?te.some(je(b,i?b.nodeValue.length:0)):te.none();if(e.isBlock(b)||w[b.nodeName.toLowerCase()])return te.none();f=b}return a&&f?te.some(je(f,0)):te.none()},hS=function(e,n,a,i){var l,f,g=e.getRoot(),b,w,A=!1;l=i[(a?"start":"end")+"Container"],f=i[(a?"start":"end")+"Offset"];var F=Wn(l)&&f===l.childNodes.length,I=e.schema.getNonEmptyElements();if(w=a,Ju(l))return te.none();if(Wn(l)&&f>l.childNodes.length-1&&(w=!1),Jg(l)&&(l=g,f=0),l===g){if(w&&(b=l.childNodes[f>0?f-1:0],b&&(Ju(b)||I[b.nodeName]||El(b))))return te.none();if(l.hasChildNodes()){if(f=Math.min(!w&&f>0?f-1:f,l.childNodes.length-1),l=l.childNodes[f],f=on(l)&&F?l.data.length:0,!n&&l===g.lastChild&&El(l)||gS(g,l)||Ju(l))return te.none();if(l.hasChildNodes()&&El(l)===!1){b=l;var V=new Yr(l,g);do{if(Ia(b)||Ju(b)){A=!1;break}if(on(b)&&b.nodeValue.length>0){f=w?0:b.nodeValue.length,l=b,A=!0;break}if(I[b.nodeName.toLowerCase()]&&!Hu(b)){f=e.nodeIndex(b),l=b.parentNode,w||f++,A=!0;break}}while(b=w?V.next():V.prev())}}}return n&&(on(l)&&f===0&&cr(e,F,n,!0,l).each(function(Y){l=Y.container(),f=Y.offset(),A=!0}),Wn(l)&&(b=l.childNodes[f],b||(b=l.childNodes[f-1]),b&&ha(b)&&!x3(b,"A")&&!mS(e,b,!1)&&!mS(e,b,!0)&&cr(e,F,n,!0,b).each(function(Y){l=Y.container(),f=Y.offset(),A=!0}))),w&&!n&&on(l)&&f===l.nodeValue.length&&cr(e,F,n,!1,l).each(function(Y){l=Y.container(),f=Y.offset(),A=!0}),A?te.some(je(l,f)):te.none()},zh=function(e,n){var a=n.collapsed,i=n.cloneRange(),l=je.fromRangeStart(n);return hS(e,a,!0,i).each(function(f){(!a||!je.isAbove(l,f))&&i.setStart(f.container(),f.offset())}),a||hS(e,a,!1,i).each(function(f){i.setEnd(f.container(),f.offset())}),a&&i.collapse(!0),ab(n,i)?te.none():te.some(i)},Cg=function(e,n){return e.splitText(n)},ob=function(e){var n=e.startContainer,a=e.startOffset,i=e.endContainer,l=e.endOffset;return n===i&&on(n)?a>0&&a<n.nodeValue.length&&(i=Cg(n,a),n=i.previousSibling,l>a?(l=l-a,n=i=Cg(i,l).previousSibling,l=i.nodeValue.length,a=0):l=0):(on(n)&&a>0&&a<n.nodeValue.length&&(n=Cg(n,a),a=0),on(i)&&l>0&&l<i.nodeValue.length&&(i=Cg(i,l).previousSibling,l=i.nodeValue.length)),{startContainer:n,startOffset:a,endContainer:i,endOffset:l}},Sg=function(e){var n=function(l,f){return tm(e,l,f)},a=ob,i=function(l){return zh(e,l).fold(Mt,function(f){return l.setStart(f.startContainer,f.startOffset),l.setEnd(f.endContainer,f.endOffset),!0})};return{walk:n,split:a,normalize:i}};Sg.compareRanges=ab,Sg.getCaretRangeFromPoint=Jy,Sg.getSelectedNode=b1,Sg.getNode=Iu;var kg=function(e,n){var a=function(b,w){if(!Zt(w)&&!w.match(/^[0-9]+$/))throw new Error(e+".set accepts only positive integer values. Value was "+w);var A=b.dom;Va(A)&&(A.style[e]=w+"px")},i=function(b){var w=n(b);if(w<=0||w===null){var A=ir(b,e);return parseFloat(A)||0}return w},l=i,f=function(b,w){return wr(w,function(A,F){var I=ir(b,F),V=I===void 0?0:parseInt(I,10);return isNaN(V)?A:A+V},0)},g=function(b,w,A){var F=f(b,A),I=w>F?w-F:0;return I};return{set:a,get:i,getOuter:l,aggregate:f,max:g}},T3=kg("height",function(e){var n=e.dom;return Ef(e)?n.getBoundingClientRect().height:n.offsetHeight}),E3=function(e){return T3.get(e)},Zy=function(e,n){var a=e.view(n);return a.fold(Q([]),function(i){var l=e.owner(i),f=Zy(e,l);return[i].concat(f)})},Qy=function(e,n){var a=n.owner(e);return Zy(n,a)},om=function(e){var n,a=e.dom===document?te.none():te.from((n=e.dom.defaultView)===null||n===void 0?void 0:n.frameElement);return a.map(k.fromDom)},ib=function(e){return In(e)},pS=Object.freeze({__proto__:null,view:om,owner:ib}),O3=function(e){var n=k.fromDom(document),a=Dm(n),i=Qy(e,pS),l=qu(e),f=Ln(i,function(g,b){var w=qu(b);return{left:g.left+w.left,top:g.top+w.top}},{left:0,top:0});return dc(f.left+l.left+a.left,f.top+l.top+a.top)},e2=function(e){return ma(e)==="textarea"},A3=function(e,n){var a=e.fire("ScrollIntoView",n);return a.isDefaultPrevented()},Ih=function(e,n){e.fire("AfterScrollIntoView",n)},t2=function(e,n){var a=mu(e);if(a.length===0||e2(e))return{element:e,offset:n};if(n<a.length&&!e2(a[n]))return{element:a[n],offset:0};var i=a[a.length-1];return e2(i)?{element:e,offset:n}:ma(i)==="img"?{element:i,offset:1}:Ka(i)?{element:i,offset:$h(i).length}:{element:i,offset:mu(i).length}},Tn=function(e,n){var a=La(e),i=E3(e);return{element:e,bottom:a.top+i,height:i,pos:a,cleanup:n}},bS=function(e,n){var a=t2(e,n),i=k.fromHtml('<span data-mce-bogus="all" style="display: inline-block;">'+ke+"</span>");return Pi(a.element,i),Tn(i,function(){return lo(i)})},D3=function(e){return Tn(k.fromDom(e),st)},yS=function(e,n,a,i){_3(e,function(l,f){return Uu(e,n,a,i)},a)},xg=function(e,n,a,i,l){var f={elm:i.element.dom,alignToTop:l};if(!A3(e,f)){var g=Dm(n).top;a(n,g,i,l),Ih(e,f)}},Uu=function(e,n,a,i){var l=k.fromDom(e.getBody()),f=k.fromDom(e.getDoc());Ux(l);var g=bS(k.fromDom(a.startContainer),a.startOffset);xg(e,f,n,g,i),g.cleanup()},Lh=function(e,n,a,i){var l=k.fromDom(e.getDoc());xg(e,l,a,D3(n),i)},_3=function(e,n,a){var i=a.startContainer,l=a.startOffset,f=a.endContainer,g=a.endOffset;n(k.fromDom(i),k.fromDom(f));var b=e.dom.createRng();b.setStart(i,l),b.setEnd(f,g),e.selection.setRng(a)},n2=function(e,n,a,i){var l=e.pos;if(a)ml(l.left,l.top,i);else{var f=l.top-n+e.height;ml(l.left,f,i)}},ub=function(e,n,a,i,l){var f=a+n,g=i.pos.top,b=i.bottom,w=b-g>=a;if(g<n)n2(i,a,l!==!1,e);else if(g>f){var A=w?l!==!1:l===!0;n2(i,a,A,e)}else b>f&&!w&&n2(i,a,l===!0,e)},wS=function(e,n,a,i){var l=e.dom.defaultView.innerHeight;ub(e,n,l,a,i)},CS=function(e,n,a,i){var l=e.dom.defaultView.innerHeight;ub(e,n,l,a,i);var f=O3(a.element),g=Af(window);f.top<g.y?_m(a.element,i!==!1):f.top>g.bottom&&_m(a.element,i===!0)},SS=function(e,n,a){return yS(e,wS,n,a)},kS=function(e,n,a){return Lh(e,n,wS,a)},Kf=function(e,n,a){return yS(e,CS,n,a)},R3=function(e,n,a){return Lh(e,n,CS,a)},B3=function(e,n,a){var i=e.inline?kS:R3;i(e,n,a)},Tg=function(e,n,a){var i=e.inline?SS:Kf;i(e,n,a)},M3=function(){return k.fromDom(document)},P3=function(e){return e.dom.focus()},Ur=function(e){var n=Ru(e).dom;return e.dom===n.activeElement},Eg=function(e){return e===void 0&&(e=M3()),te.from(e.dom.activeElement).map(k.fromDom)},Uv=function(e){return Eg(Ru(e)).filter(function(n){return e.dom.contains(n.dom)})},lf=function(e,n,a,i){return{start:e,soffset:n,finish:a,foffset:i}},Wv={create:lf},wu=kn.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),lb=function(e,n,a,i){return e.fold(n,a,i)},Vh=function(e){return e.fold(En,En,En)},Og=wu.before,jv=wu.on,$3=wu.after,xS={before:Og,on:jv,after:$3,cata:lb,getStart:Vh},sb=kn.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),N3=function(e){return sb.exact(e.start,e.soffset,e.finish,e.foffset)},br=function(e){return e.match({domRange:function(n){return k.fromDom(n.startContainer)},relative:function(n,a){return xS.getStart(n)},exact:function(n,a,i,l){return n}})},Qs=sb.domRange,Ag=sb.relative,TS=sb.exact,Hh=function(e){var n=br(e);return Qa(n)},kr=Wv.create,r2={domRange:Qs,relative:Ag,exact:TS,exactFromRange:N3,getWin:Hh,range:kr},ES=hn().browser,Uh=function(e,n){var a=Ka(n)?$h(n).length:mu(n).length+1;return e>a?a:e<0?0:e},OS=function(e){return r2.range(e.start,Uh(e.soffset,e.start),e.finish,Uh(e.foffset,e.finish))},Wh=function(e,n){return!Hc(n.dom)&&(Go(e,n)||ra(e,n))},Xf=function(e){return function(n){return Wh(e,n.start)&&Wh(e,n.finish)}},a2=function(e){return e.inline===!0||ES.isIE()},AS=function(e){return r2.range(k.fromDom(e.startContainer),e.startOffset,k.fromDom(e.endContainer),e.endOffset)},F3=function(e){var n=e.getSelection(),a=!n||n.rangeCount===0?te.none():te.from(n.getRangeAt(0));return a.map(AS)},z3=function(e){var n=Qa(e);return F3(n.dom).filter(Xf(e))},Gv=function(e,n){return te.from(n).filter(Xf(e)).map(OS)},im=function(e){var n=document.createRange();try{return n.setStart(e.start.dom,e.soffset),n.setEnd(e.finish.dom,e.foffset),te.some(n)}catch(a){return te.none()}},Dg=function(e){var n=a2(e)?z3(k.fromDom(e.getBody())):te.none();e.bookmark=n.isSome()?n:e.bookmark},DS=function(e,n){var a=k.fromDom(e.getBody()),i=a2(e)?te.from(n):te.none(),l=i.map(AS).filter(Xf(a));e.bookmark=l.isSome()?l:e.bookmark},o2=function(e){var n=e.bookmark?e.bookmark:te.none();return n.bind(function(a){return Gv(k.fromDom(e.getBody()),a)}).bind(im)},I3=function(e){o2(e).each(function(n){return e.selection.setRng(n)})},cb=function(e){var n=e.className.toString();return n.indexOf("tox-")!==-1||n.indexOf("mce-")!==-1},fb={isEditorUIElement:cb},i2=function(e){return e.type==="nodechange"&&e.selectionChange},L3=function(e,n){var a=function(){n.throttle()};Na.DOM.bind(document,"mouseup",a),e.on("remove",function(){Na.DOM.unbind(document,"mouseup",a)})},u2=function(e){e.on("focusout",function(){Dg(e)})},vb=function(e,n){e.on("mouseup touchend",function(a){n.throttle()})},db=function(e,n){var a=hn().browser;a.isIE()?u2(e):vb(e,n),e.on("keyup NodeChange",function(i){i2(i)||Dg(e)})},l2=function(e){var n=ca(function(){Dg(e)},0);e.on("init",function(){e.inline&&L3(e,n),db(e,n)}),e.on("remove",function(){n.cancel()})},um,mb=Na.DOM,s2=function(e){return fb.isEditorUIElement(e)},gb=function(e){var n=e.classList;return n!==void 0?n.contains("tox-edit-area")||n.contains("tox-edit-area__iframe")||n.contains("mce-content-body"):!1},jh=function(e,n){var a=cg(e),i=mb.getParent(n,function(l){return s2(l)||(a?e.dom.is(l,a):!1)});return i!==null},_S=function(e){try{var n=Ru(k.fromDom(e.getElement()));return Eg(n).fold(function(){return document.body},function(a){return a.dom})}catch(a){return document.body}},V3=function(e,n){var a=n.editor;l2(a),a.on("focusin",function(){var i=e.focusedEditor;i!==a&&(i&&i.fire("blur",{focusedEditor:a}),e.setActive(a),e.focusedEditor=a,a.fire("focus",{blurredEditor:i}),a.focus(!0))}),a.on("focusout",function(){Qi.setEditorTimeout(a,function(){var i=e.focusedEditor;!jh(a,_S(a))&&i===a&&(a.fire("blur",{focusedEditor:null}),e.focusedEditor=null)})}),um||(um=function(i){var l=e.activeEditor;l&&Yi(i).each(function(f){f.ownerDocument===document&&f!==document.body&&!jh(l,f)&&e.focusedEditor===l&&(l.fire("blur",{focusedEditor:null}),e.focusedEditor=null)})},mb.bind(document,"focusin",um))},RS=function(e,n){e.focusedEditor===n.editor&&(e.focusedEditor=null),e.activeEditor||(mb.unbind(document,"focusin",um),um=null)},BS=function(e){e.on("AddEditor",j(V3,e)),e.on("RemoveEditor",j(RS,e))},c2=function(e,n){return e.dom.getParent(n,function(a){return e.dom.getContentEditable(a)==="true"})},MS=function(e){return e.collapsed?te.from(Iu(e.startContainer,e.startOffset)).map(k.fromDom):te.none()},PS=function(e,n){return MS(n).bind(function(a){return Hr(a)?te.some(a):Go(e,a)===!1?te.some(e):te.none()})},f2=function(e,n){PS(k.fromDom(e.getBody()),n).bind(function(a){return Vu(a.dom)}).fold(function(){e.selection.normalize()},function(a){return e.selection.setRng(a.toRange())})},v2=function(e){if(e.setActive)try{e.setActive()}catch(n){e.focus()}else e.focus()},H3=function(e){return Ur(e)||Uv(e).isSome()},U3=function(e){return e.iframeElement&&Ur(k.fromDom(e.iframeElement))},_g=function(e){var n=e.getBody();return n&&H3(k.fromDom(n))},W3=function(e){var n=Ru(k.fromDom(e.getElement()));return Eg(n).filter(function(a){return!gb(a.dom)&&jh(e,a.dom)}).isSome()},qv=function(e){return e.inline?_g(e):U3(e)},$S=function(e){return qv(e)||W3(e)},lm=function(e){var n=e.selection,a=e.getBody(),i=n.getRng();e.quirks.refreshContentEditable(),e.bookmark!==void 0&&qv(e)===!1&&o2(e).each(function(f){e.selection.setRng(f),i=f});var l=c2(e,n.getNode());if(e.$.contains(a,l)){v2(l),f2(e,i),hb(e);return}e.inline||(On.opera||v2(a),e.getWin().focus()),(On.gecko||e.inline)&&(v2(a),f2(e,i)),hb(e)},hb=function(e){return e.editorManager.setActive(e)},NS=function(e,n){e.removed||(n?hb(e):lm(e))},d2=function(e,n,a,i,l){var f=a?n.startContainer:n.endContainer,g=a?n.startOffset:n.endOffset;return te.from(f).map(k.fromDom).map(function(b){return!i||!n.collapsed?fc(b,l(b,g)).getOr(b):b}).bind(function(b){return za(b)?te.some(b):eo(b).filter(za)}).map(function(b){return b.dom}).getOr(e)},Gh=function(e,n,a){return d2(e,n,!0,a,function(i,l){return Math.min(Vp(i),l)})},m2=function(e,n,a){return d2(e,n,!1,a,function(i,l){return l>0?l-1:l})},sm=function(e,n){for(var a=e;e&&on(e)&&e.length===0;)e=n?e.nextSibling:e.previousSibling;return e||a},qh=function(e,n){var a,i,l;if(!n)return e;i=n.startContainer,l=n.endContainer;var f=n.startOffset,g=n.endOffset;return a=n.commonAncestorContainer,!n.collapsed&&(i===l&&g-f<2&&i.hasChildNodes()&&(a=i.childNodes[f]),i.nodeType===3&&l.nodeType===3&&(i.length===f?i=sm(i.nextSibling,!0):i=i.parentNode,g===0?l=sm(l.previousSibling,!1):l=l.parentNode,i&&i===l))?i:a&&a.nodeType===3?a.parentNode:a},j3=function(e,n,a,i){var l,f=[],g=e.getRoot();if(a=e.getParent(a||Gh(g,n,n.collapsed),e.isBlock),i=e.getParent(i||m2(g,n,n.collapsed),e.isBlock),a&&a!==g&&f.push(a),a&&i&&a!==i){l=a;for(var b=new Yr(a,g);(l=b.next())&&l!==i;)e.isBlock(l)&&f.push(l)}return i&&a!==i&&i!==g&&f.push(i),f},FS=function(e,n,a){return te.from(n).map(function(i){var l=e.nodeIndex(i),f=e.createRng();return f.setStart(i.parentNode,l),f.setEnd(i.parentNode,l+1),a&&(af(e,f,i,!0),af(e,f,i,!1)),f})},Rg=function(e,n){return pt(n,function(a){var i=e.fire("GetSelectionRange",{range:a});return i.range!==a?i.range:a})},G3={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11},Kh=function(e,n,a){var i=a?"lastChild":"firstChild",l=a?"prev":"next";if(e[i])return e[i];if(e!==n){var f=e[l];if(f)return f;for(var g=e.parent;g&&g!==n;g=g.parent)if(f=g[l],f)return f}},Xh=function(e){if(!Vs(e.value))return!1;var n=e.parent;return!(n&&(n.name!=="span"||n.attr("style"))&&/^[ ]+$/.test(e.value))},zS=function(e){var n=e.name==="a"&&!e.attr("href")&&e.attr("id");return e.attr("name")||e.attr("id")&&!e.firstChild||e.attr("data-mce-bookmark")||n},ks=function(){function e(n,a){this.name=n,this.type=a,a===1&&(this.attributes=[],this.attributes.map={})}return e.create=function(n,a){var i=new e(n,G3[n]||1);return a&&hr(a,function(l,f){i.attr(f,l)}),i},e.prototype.replace=function(n){var a=this;return n.parent&&n.remove(),a.insert(n,a),a.remove(),a},e.prototype.attr=function(n,a){var i=this,l;if(typeof n!="string")return n!=null&&hr(n,function(g,b){i.attr(b,g)}),i;if(l=i.attributes){if(a!==void 0){if(a===null){if(n in l.map){delete l.map[n];for(var f=l.length;f--;)if(l[f].name===n)return l.splice(f,1),i}return i}if(n in l.map){for(var f=l.length;f--;)if(l[f].name===n){l[f].value=a;break}}else l.push({name:n,value:a});return l.map[n]=a,i}return l.map[n]}},e.prototype.clone=function(){var n=this,a=new e(n.name,n.type),i;if(i=n.attributes){var l=[];l.map={};for(var f=0,g=i.length;f<g;f++){var b=i[f];b.name!=="id"&&(l[l.length]={name:b.name,value:b.value},l.map[b.name]=b.value)}a.attributes=l}return a.value=n.value,a.shortEnded=n.shortEnded,a},e.prototype.wrap=function(n){var a=this;return a.parent.insert(n,a),n.append(a),a},e.prototype.unwrap=function(){for(var n=this,a=n.firstChild;a;){var i=a.next;n.insert(a,n,!0),a=i}n.remove()},e.prototype.remove=function(){var n=this,a=n.parent,i=n.next,l=n.prev;return a&&(a.firstChild===n?(a.firstChild=i,i&&(i.prev=null)):l.next=i,a.lastChild===n?(a.lastChild=l,l&&(l.next=null)):i.prev=l,n.parent=n.next=n.prev=null),n},e.prototype.append=function(n){var a=this;n.parent&&n.remove();var i=a.lastChild;return i?(i.next=n,n.prev=i,a.lastChild=n):a.lastChild=a.firstChild=n,n.parent=a,n},e.prototype.insert=function(n,a,i){n.parent&&n.remove();var l=a.parent||this;return i?(a===l.firstChild?l.firstChild=n:a.prev.next=n,n.prev=a.prev,n.next=a,a.prev=n):(a===l.lastChild?l.lastChild=n:a.next.prev=n,n.next=a.next,n.prev=a,a.next=n),n.parent=l,n},e.prototype.getAll=function(n){for(var a=this,i=[],l=a.firstChild;l;l=Kh(l,a))l.name===n&&i.push(l);return i},e.prototype.children=function(){for(var n=this,a=[],i=n.firstChild;i;i=i.next)a.push(i);return a},e.prototype.empty=function(){var n=this;if(n.firstChild){for(var a=[],i=n.firstChild;i;i=Kh(i,n))a.push(i);for(var l=a.length;l--;){var i=a[l];i.parent=i.firstChild=i.lastChild=i.next=i.prev=null}}return n.firstChild=n.lastChild=null,n},e.prototype.isEmpty=function(n,a,i){a===void 0&&(a={});var l=this,f=l.firstChild;if(zS(l))return!1;if(f)do{if(f.type===1){if(f.attr("data-mce-bogus"))continue;if(n[f.name]||zS(f))return!1}if(f.type===8||f.type===3&&!Xh(f)||f.type===3&&f.parent&&a[f.parent.name]&&Vs(f.value)||i&&i(f))return!1}while(f=Kh(f,l));return!0},e.prototype.walk=function(n){return Kh(this,null,n)},e}(),g2=function(e){for(var n=/data:[^;]+;base64,([a-z0-9\+\/=\s]+)/gi,a=[],i={},l=rg("img"),f,g=0,b=0;f=n.exec(e);){var w=f[0],A=l+"_"+b++;i[A]=w,g<f.index&&a.push(e.substr(g,f.index-g)),a.push(A),g=f.index+w.length}var F=new RegExp(l+"_[0-9]+","g");return g===0?{prefix:l,uris:i,html:e,re:F}:(g<e.length&&a.push(e.substr(g)),{prefix:l,uris:i,html:a.join(""),re:F})},pb=function(e,n){return e.replace(n.re,function(a){return Pr(n.uris,a).getOr(a)})},q3=function(e){var n=/data:([^;]+);base64,([a-z0-9\+\/=\s]+)/i.exec(e);return n?te.some({type:n[1],data:decodeURIComponent(n[2])}):te.none()},h2=Ye.each,IS=Ye.trim,bb="source protocol authority userInfo user password host port relative path directory file query anchor".split(" "),Yh={ftp:21,http:80,https:443,mailto:25},p2=["img","video"],LS=function(e,n){return qt(e)?!e:qt(n)?!Re(p2,n):!0},VS=function(e,n,a){return e.allow_html_data_urls?!1:/^data:image\//i.test(n)?LS(e.allow_svg_data_urls,a)&&/^data:image\/svg\+xml/i.test(n):/^data:/i.test(n)},Yf=function(){function e(n,a){n=IS(n),this.settings=a||{};var i=this.settings.base_uri,l=this;if(/^([\w\-]+):([^\/]{2})/i.test(n)||/^\s*#/.test(n)){l.source=n;return}var f=n.indexOf("//")===0;if(n.indexOf("/")===0&&!f&&(n=(i&&i.protocol||"http")+"://mce_host"+n),!/^[\w\-]*:?\/\//.test(n)){var g=this.settings.base_uri?this.settings.base_uri.path:new e(document.location.href).directory;if(this.settings.base_uri&&this.settings.base_uri.protocol=="")n="//mce_host"+l.toAbsPath(g,n);else{var b=/([^#?]*)([#?]?.*)/.exec(n);n=(i&&i.protocol||"http")+"://mce_host"+l.toAbsPath(g,b[1])+b[2]}}n=n.replace(/@@/g,"(mce_at)");var w=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?(\[[a-zA-Z0-9:.%]+\]|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(n);h2(bb,function(A,F){var I=w[F];I&&(I=I.replace(/\(mce_at\)/g,"@@")),l[A]=I}),i&&(l.protocol||(l.protocol=i.protocol),l.userInfo||(l.userInfo=i.userInfo),!l.port&&l.host==="mce_host"&&(l.port=i.port),(!l.host||l.host==="mce_host")&&(l.host=i.host),l.source=""),f&&(l.protocol="")}return e.parseDataUri=function(n){var a,i=decodeURIComponent(n).split(","),l=/data:([^;]+)/.exec(i[0]);return l&&(a=l[1]),{type:a,data:i[1]}},e.isDomSafe=function(n,a,i){if(i===void 0&&(i={}),i.allow_script_urls)return!0;var l=Ul.decode(n).replace(/[\s\u0000-\u001F]+/g,"");try{l=decodeURIComponent(l)}catch(f){l=unescape(l)}return/((java|vb)script|mhtml):/i.test(l)?!1:!VS(i,l,a)},e.getDocumentBaseUrl=function(n){var a;return n.protocol.indexOf("http")!==0&&n.protocol!=="file:"?a=n.href:a=n.protocol+"//"+n.host+n.pathname,/^[^:]+:\/\/\/?[^\/]+\//.test(a)&&(a=a.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(a)||(a+="/")),a},e.prototype.setPath=function(n){var a=/^(.*?)\/?(\w+)?$/.exec(n);this.path=a[0],this.directory=a[1],this.file=a[2],this.source="",this.getURI()},e.prototype.toRelative=function(n){var a;if(n==="./")return n;var i=new e(n,{base_uri:this});if(i.host!=="mce_host"&&this.host!==i.host&&i.host||this.port!==i.port||this.protocol!==i.protocol&&i.protocol!=="")return i.getURI();var l=this.getURI(),f=i.getURI();return l===f||l.charAt(l.length-1)==="/"&&l.substr(0,l.length-1)===f?l:(a=this.toRelPath(this.path,i.path),i.query&&(a+="?"+i.query),i.anchor&&(a+="#"+i.anchor),a)},e.prototype.toAbsolute=function(n,a){var i=new e(n,{base_uri:this});return i.getURI(a&&this.isSameOrigin(i))},e.prototype.isSameOrigin=function(n){if(this.host==n.host&&this.protocol==n.protocol){if(this.port==n.port)return!0;var a=Yh[this.protocol];if(a&&(this.port||a)==(n.port||a))return!0}return!1},e.prototype.toRelPath=function(n,a){var i=0,l="",f,g,b=n.substring(0,n.lastIndexOf("/")).split("/"),w=a.split("/");if(b.length>=w.length){for(f=0,g=b.length;f<g;f++)if(f>=w.length||b[f]!==w[f]){i=f+1;break}}if(b.length<w.length){for(f=0,g=w.length;f<g;f++)if(f>=b.length||b[f]!==w[f]){i=f+1;break}}if(i===1)return a;for(f=0,g=b.length-(i-1);f<g;f++)l+="../";for(f=i-1,g=w.length;f<g;f++)f!==i-1?l+="/"+w[f]:l+=w[f];return l},e.prototype.toAbsPath=function(n,a){var i,l=0,f=[],g,b=/\/$/.test(a)?"/":"",w=n.split("/"),A=a.split("/");for(h2(w,function(F){F&&f.push(F)}),w=f,i=A.length-1,f=[];i>=0;i--)if(!(A[i].length===0||A[i]===".")){if(A[i]===".."){l++;continue}if(l>0){l--;continue}f.push(A[i])}return i=w.length-l,i<=0?g=Bo(f).join("/"):g=w.slice(0,i).join("/")+"/"+Bo(f).join("/"),g.indexOf("/")!==0&&(g="/"+g),b&&g.lastIndexOf("/")!==g.length-1&&(g+=b),g},e.prototype.getURI=function(n){n===void 0&&(n=!1);var a;return(!this.source||n)&&(a="",n||(this.protocol?a+=this.protocol+"://":a+="//",this.userInfo&&(a+=this.userInfo+"@"),this.host&&(a+=this.host),this.port&&(a+=":"+this.port)),this.path&&(a+=this.path),this.query&&(a+="?"+this.query),this.anchor&&(a+="#"+this.anchor),this.source=a),this.source},e}(),yb=Ye.makeMap("button,fieldset,form,iframe,img,image,input,object,output,select,textarea"),K3=function(e){return e.indexOf("data-")===0||e.indexOf("aria-")===0},b2=function(e,n,a){for(var i=/<([!?\/])?([A-Za-z0-9\-_:.]+)/g,l=/(?:\s(?:[^'">]+(?:"[^"]*"|'[^']*'))*[^"'>]*(?:"[^">]*|'[^'>]*)?|\s*|\/)>/g,f=e.getShortEndedElements(),g=1,b=a;g!==0;)for(i.lastIndex=b;;){var w=i.exec(n);if(w===null)return b;if(w[1]==="!"){gr(w[2],"--")?b=y2(n,!1,w.index+"!--".length):b=y2(n,!0,w.index+1);break}else{l.lastIndex=i.lastIndex;var A=l.exec(n);if(K(A)||A.index!==i.lastIndex)continue;w[1]==="/"?g-=1:tr(f,w[2])||(g+=1),b=i.lastIndex+A[0].length;break}}return b},X3=function(e,n){return/^\s*\[if [\w\W]+\]>.*<!\[endif\](--!?)?>/.test(e.substr(n))},y2=function(e,n,a){a===void 0&&(a=0);var i=e.toLowerCase();if(i.indexOf("[if ",a)!==-1&&X3(i,a)){var l=i.indexOf("[endif]",a);return i.indexOf(">",l)}else if(n){var f=i.indexOf(">",a);return f!==-1?f:i.length}else{var g=/--!?>/g;g.lastIndex=a;var b=g.exec(e);return b?b.index+b[0].length:i.length}},Bg=function(e,n){var a=e.exec(n);if(a){var i=a[1],l=a[2];return typeof i=="string"&&i.toLowerCase()==="data-mce-bogus"?l:null}else return null},wb=function(e,n){var a;n===void 0&&(n=dr()),e=e||{};var i=(a=e.document)!==null&&a!==void 0?a:document,l=i.createElement("form");e.fix_self_closing!==!1&&(e.fix_self_closing=!0);var f=e.comment?e.comment:st,g=e.cdata?e.cdata:st,b=e.text?e.text:st,w=e.start?e.start:st,A=e.end?e.end:st,F=e.pi?e.pi:st,I=e.doctype?e.doctype:st,V=function(X,ee){ee===void 0&&(ee="html");for(var re=X.html,fe,ce=0,ye,De,he=[],Be,qe,Ct,_n,en,wt,Fn,Dt,tn,At,jt,an,bt,ln,Yn,oa,Dr,Lo=0,yo=Ul.decode,Kl=Ye.makeMap("src,href,data,background,action,formaction,poster,xlink:href"),_s=ee==="html"?0:1,yt=function(ro){var _a,ti;for(_a=he.length;_a--&&he[_a].name!==ro;);if(_a>=0){for(ti=he.length-1;ti>=_a;ti--)ro=he[ti],ro.valid&&A(ro.name);he.length=_a}},Le=function(ro,_a){return b(pb(ro,X),_a)},St=function(ro){ro!==""&&(ro.charAt(0)===">"&&(ro=" "+ro),!e.allow_conditional_comments&&ro.substr(0,3).toLowerCase()==="[if"&&(ro=" "+ro),f(pb(ro,X)))},Ve=function(ro){return pb(ro,X)},vn=function(ro,_a){var ti=ro||"",hf=!gr(ti,"--"),ld=y2(re,hf,_a);return ro=re.substr(_a,ld-_a),St(hf?ti+ro:ro),ld+1},Vt=function(ro,_a,ti,hf,ld){if(_a=_a.toLowerCase(),ti=Ve(_a in _l?_a:yo(ti||hf||ld||"")),Pc&&!en&&K3(_a)===!1){var pf=jt[_a];if(!pf&&an){for(var iv=an.length;iv--&&(pf=an[iv],!pf.pattern.test(_a)););iv===-1&&(pf=null)}if(!pf||pf.validValues&&!(ti in pf.validValues))return}var Sw=_a==="name"||_a==="id";Sw&&ro in yb&&(ti in i||ti in l)||Kl[_a]&&!Yf.isDomSafe(ti,ro,e)||en&&(_a in Kl||_a.indexOf("on")===0)||(Be.map[_a]=ti,Be.push({name:_a,value:ti}))},Pn=new RegExp(`<(?:(?:!--([\\w\\W]*?)--!?>)|(?:!\\[CDATA\\[([\\w\\W]*?)\\]\\]>)|(?:![Dd][Oo][Cc][Tt][Yy][Pp][Ee]([\\w\\W]*?)>)|(?:!(--)?)|(?:\\?([^\\s\\/<>]+) ?([\\w\\W]*?)[?/]>)|(?:\\/([A-Za-z][A-Za-z0-9\\-_\\:\\.]*)>)|(?:([A-Za-z][A-Za-z0-9\\-_:.]*)(\\s(?:[^'">]+(?:"[^"]*"|'[^']*'))*[^"'>]*(?:"[^">]*|'[^'>]*)?|\\s*|\\/)>))`,"g"),mr=/([\w:\-]+)(?:\s*=\s*(?:(?:\"((?:[^\"])*)\")|(?:\'((?:[^\'])*)\')|([^>\s]+)))?/g,Wa=n.getShortEndedElements(),rl=e.self_closing_elements||n.getSelfClosingElements(),_l=n.getBoolAttrs(),Pc=e.validate,al=e.remove_internals,ol=e.fix_self_closing,di=n.getSpecialElements(),Em=re+">";fe=Pn.exec(Em);){var iu=fe[0];if(ce<fe.index&&Le(yo(re.substr(ce,fe.index-ce))),ye=fe[7])ye=ye.toLowerCase(),ye.charAt(0)===":"&&(ye=ye.substr(1)),yt(ye);else if(ye=fe[8]){if(fe.index+iu.length>re.length){Le(yo(re.substr(fe.index))),ce=fe.index+iu.length;continue}ye=ye.toLowerCase(),ye.charAt(0)===":"&&(ye=ye.substr(1)),wt=ye in Wa,ol&&rl[ye]&&he.length>0&&he[he.length-1].name===ye&&yt(ye);var $c=Bg(mr,fe[9]);if($c!==null){if($c==="all"){ce=b2(n,re,Pn.lastIndex),Pn.lastIndex=ce;continue}Dt=!1}if(!Pc||(Fn=n.getElementRule(ye))){if(Dt=!0,Pc&&(jt=Fn.attributes,an=Fn.attributePatterns),(At=fe[9])?(en=At.indexOf("data-mce-type")!==-1,en&&al&&(Dt=!1),Be=[],Be.map={},At.replace(mr,function(ro,_a,ti,hf,ld){return Vt(ye,_a,ti,hf,ld),""})):(Be=[],Be.map={}),Pc&&!en){if(bt=Fn.attributesRequired,ln=Fn.attributesDefault,Yn=Fn.attributesForced,oa=Fn.removeEmptyAttrs,oa&&!Be.length&&(Dt=!1),Yn)for(qe=Yn.length;qe--;)tn=Yn[qe],_n=tn.name,Dr=tn.value,Dr==="{$uid}"&&(Dr="mce_"+Lo++),Be.map[_n]=Dr,Be.push({name:_n,value:Dr});if(ln)for(qe=ln.length;qe--;)tn=ln[qe],_n=tn.name,_n in Be.map||(Dr=tn.value,Dr==="{$uid}"&&(Dr="mce_"+Lo++),Be.map[_n]=Dr,Be.push({name:_n,value:Dr}));if(bt){for(qe=bt.length;qe--&&!(bt[qe]in Be.map););qe===-1&&(Dt=!1)}if(tn=Be.map["data-mce-bogus"]){if(tn==="all"){ce=b2(n,re,Pn.lastIndex),Pn.lastIndex=ce;continue}Dt=!1}}Dt&&w(ye,Be,wt)}else Dt=!1;if(De=di[ye]){De.lastIndex=ce=fe.index+iu.length,(fe=De.exec(re))?(Dt&&(Ct=re.substr(ce,fe.index-ce)),ce=fe.index+fe[0].length):(Ct=re.substr(ce),ce=re.length),Dt&&(Ct.length>0&&Le(Ct,!0),A(ye)),Pn.lastIndex=ce;continue}wt||(!At||At.indexOf("/")!==At.length-1?he.push({name:ye,valid:Dt}):Dt&&A(ye))}else if(ye=fe[1])St(ye);else if(ye=fe[2]){var ud=_s===1||e.preserve_cdata||he.length>0&&n.isValidChild(he[he.length-1].name,"#cdata");if(ud)g(ye);else{ce=vn("",fe.index+2),Pn.lastIndex=ce;continue}}else if(ye=fe[3])I(ye);else if((ye=fe[4])||iu==="<!"){ce=vn(ye,fe.index+iu.length),Pn.lastIndex=ce;continue}else if(ye=fe[5])if(_s===1)F(ye,fe[6]);else{ce=vn("?",fe.index+2),Pn.lastIndex=ce;continue}ce=fe.index+iu.length}for(ce<re.length&&Le(yo(re.substr(ce))),qe=he.length-1;qe>=0;qe--)ye=he[qe],ye.valid&&A(ye.name)},Y=function(X,ee){ee===void 0&&(ee="html"),V(g2(X),ee)};return{parse:Y}};wb.findEndTag=b2;var Y3=function(e,n){var a=new RegExp(["\\s?("+e.join("|")+')="[^"]+"'].join("|"),"gi");return n.replace(a,"")},HS=function(e,n){for(var a=/<(\w+) [^>]*data-mce-bogus="all"[^>]*>/g,i=e.schema,l=Y3(e.getTempAttrs(),n),f=i.getShortEndedElements(),g;g=a.exec(l);){var b=a.lastIndex,w=g[0].length,A=void 0;f[g[1]]?A=b:A=wb.findEndTag(i,l,b),l=l.substring(0,b-w)+l.substring(A),a.lastIndex=b-w}return bc(l)},w2=HS,C2=function(e,n){var a=Vi(e),i=new RegExp("^(<"+a+"[^>]*>(&nbsp;|&#160;|\\s|\xA0|<br \\/>|)<\\/"+a+`>[\r
]*|<br \\/>[\r
]*)$`);return n.replace(i,"")},J3=function(e,n){return Sn(Sn({},e),{format:n,get:!0,getInner:!0})},Cb=function(e,n,a,i){var l=J3(n,a),f=n.no_events?l:e.fire("BeforeGetContent",l),g;return f.format==="raw"?g=Ye.trim(w2(e.serializer,i.innerHTML)):f.format==="text"?g=e.dom.isEmpty(i)?"":bc(i.innerText||i.textContent):f.format==="tree"?g=e.serializer.serialize(i,f):g=C2(e,e.serializer.serialize(i,f)),!Re(["text","tree"],f.format)&&!yd(k.fromDom(i))?f.content=Ye.trim(g):f.content=g,f.no_events?f.content:e.fire("GetContent",f).content},US=function(e,n,a){return te.from(e.getBody()).fold(Q(n.format==="tree"?new ks("body",11):""),function(i){return Cb(e,n,a,i)})},WS=Ye.each,jS=function(e){var n=function(a,i){if(a.nodeName!==i.nodeName)return!1;var l=function(g){var b={};return WS(e.getAttribs(g),function(w){var A=w.nodeName.toLowerCase();A.indexOf("_")!==0&&A!=="style"&&A.indexOf("data-")!==0&&(b[A]=e.getAttrib(g,A))}),b},f=function(g,b){var w,A;for(A in g)if(tr(g,A)){if(w=b[A],typeof w=="undefined"||g[A]!==w)return!1;delete b[A]}for(A in b)if(tr(b,A))return!1;return!0};return!f(l(a),l(i))||!f(e.parseStyle(e.getAttrib(a,"style")),e.parseStyle(e.getAttrib(i,"style")))?!1:!Tl(a)&&!Tl(i)};return{compare:n}},Jh=Ye.makeMap,Zh=function(e){var n=[];e=e||{};var a=e.indent,i=Jh(e.indent_before||""),l=Jh(e.indent_after||""),f=Ul.getEncodeFunc(e.entity_encoding||"raw",e.entities),g=e.element_format==="html";return{start:function(b,w,A){var F,I,V,Y;if(a&&i[b]&&n.length>0&&(Y=n[n.length-1],Y.length>0&&Y!==`
`&&n.push(`
`)),n.push("<",b),w)for(F=0,I=w.length;F<I;F++)V=w[F],n.push(" ",V.name,'="',f(V.value,!0),'"');!A||g?n[n.length]=">":n[n.length]=" />",A&&a&&l[b]&&n.length>0&&(Y=n[n.length-1],Y.length>0&&Y!==`
`&&n.push(`
`))},end:function(b){var w;n.push("</",b,">"),a&&l[b]&&n.length>0&&(w=n[n.length-1],w.length>0&&w!==`
`&&n.push(`
`))},text:function(b,w){b.length>0&&(n[n.length]=w?b:f(b))},cdata:function(b){n.push("<![CDATA[",b,"]]>")},comment:function(b){n.push("<!--",b,"-->")},pi:function(b,w){w?n.push("<?",b," ",f(w),"?>"):n.push("<?",b,"?>"),a&&n.push(`
`)},doctype:function(b){n.push("<!DOCTYPE",b,">",a?`
`:"")},reset:function(){n.length=0},getContent:function(){return n.join("").replace(/\n$/,"")}}},cm=function(e,n){n===void 0&&(n=dr());var a=Zh(e);e=e||{},e.validate="validate"in e?e.validate:!0;var i=function(l){var f=e.validate,g={3:function(w){a.text(w.value,w.raw)},8:function(w){a.comment(w.value)},7:function(w){a.pi(w.name,w.value)},10:function(w){a.doctype(w.value)},4:function(w){a.cdata(w.value)},11:function(w){if(w=w.firstChild)do b(w);while(w=w.next)}};a.reset();var b=function(w){var A=g[w.type];if(A)A(w);else{var F=w.name,I=w.shortEnded,V=w.attributes;if(f&&V&&V.length>1){var Y=[];Y.map={};var X=n.getElementRule(w.name);if(X){for(var ee=0,re=X.attributesOrder.length;ee<re;ee++){var fe=X.attributesOrder[ee];if(fe in V.map){var ce=V.map[fe];Y.map[fe]=ce,Y.push({name:fe,value:ce})}}for(var ee=0,re=V.length;ee<re;ee++){var fe=V[ee].name;if(!(fe in Y.map)){var ce=V.map[fe];Y.map[fe]=ce,Y.push({name:fe,value:ce})}}V=Y}}if(a.start(w.name,V,I),!I){if(w=w.firstChild)do b(w);while(w=w.next);a.end(F)}}};return l.type===1&&!e.inner?b(l):g[11](l),a.getContent()};return{serialize:i}},GS=new Set;(function(){var e=["margin","margin-left","margin-right","margin-top","margin-bottom","padding","padding-left","padding-right","padding-top","padding-bottom","border","border-width","border-style","border-color","background","background-attachment","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","float","position","left","right","top","bottom","z-index","display","transform","width","max-width","min-width","height","max-height","min-height","overflow","overflow-x","overflow-y","text-overflow","vertical-align","transition","transition-delay","transition-duration","transition-property","transition-timing-function"];tt(e,function(n){GS.add(n)})})();var qS=["font","text-decoration","text-emphasis"],Sb=function(e,n){return ni(e.parseStyle(e.getAttrib(n,"style")))},kb=function(e){return GS.has(e)},S2=function(e,n){return lu(Sb(e,n),function(a){return!kb(a)})},k2=function(e){return nn(e,function(n){return Qe(qS,function(a){return gr(n,a)})})},KS=function(e,n,a){var i=Sb(e,n),l=Sb(e,a),f=function(g){var b=e.getStyle(n,g),w=e.getStyle(a,g);return Ou(b)&&Ou(w)&&b!==w};return Qe(i,function(g){var b=function(A){return Qe(A,function(F){return F===g})};if(!b(l)&&b(qS)){var w=k2(l);return Qe(w,f)}else return f(g)})},sf=function(e,n,a){return te.from(a.container()).filter(on).exists(function(i){var l=e?0:-1;return n(i.data.charAt(a.offset()+l))})},x2=j(sf,!0,gg),ec=j(sf,!1,gg),Z3=function(e){var n=e.container();return on(n)&&(n.data.length===0||$u(n.data)&&of.isBookmarkNode(n.parentNode))},Jf=function(e,n){return function(a){return te.from(dg(e?0:-1,a)).filter(n).isSome()}},XS=function(e){return Rm(e)&&ir(k.fromDom(e),"display")==="block"},YS=function(e){return Ia(e)&&!Xo(e)},Q3=Jf(!0,XS),e4=Jf(!1,XS),Mg=Jf(!0,Ku),Pg=Jf(!1,Ku),xb=Jf(!0,xo),JS=Jf(!1,xo),Kv=Jf(!0,YS),Xv=Jf(!1,YS),ZS=function(e){for(var n=[],a=e.dom;a;)n.push(k.fromDom(a)),a=a.lastChild;return n},Qh=function(e){var n=Qu(e,"br"),a=nn(ZS(e).slice(-1),Im);n.length===a.length&&tt(a,lo)},fm=function(e){xf(e),Ko(e,k.fromHtml('<br data-mce-bogus="1">'))},Bn=function(e){dl(e).each(function(n){Cf(n).each(function(a){Il(e)&&Im(n)&&Il(a)&&lo(n)})})},T2=function(e){return e.slice(0,-1)},Tb=function(e,n,a){return Go(n,e)?T2(qo(e,function(i){return a(i)||ra(i,n)})):[]},E2=function(e,n){return Tb(e,n,Mt)},Zf=function(e,n){return[e].concat(E2(e,n))},Eb=function(e,n,a){return Ah(e,n,a,Z3)},ep=function(e,n){return Kr(Zf(k.fromDom(n.container()),e),Il)},Ob=function(e,n,a){return Eb(e,n.dom,a).forall(function(i){return ep(n,a).fold(function(){return Ys(i,a,n.dom)===!1},function(l){return Ys(i,a,n.dom)===!1&&Go(l,k.fromDom(i.container()))})})},O2=function(e,n,a){return ep(n,a).fold(function(){return Eb(e,n.dom,a).forall(function(i){return Ys(i,a,n.dom)===!1})},function(i){return Eb(e,i.dom,a).isNone()})},A2=j(O2,!1),Kn=j(O2,!0),QS=j(Ob,!1),ar=j(Ob,!0),ek=function(e){return Fv(e).exists(Im)},tp=function(e,n,a){var i=nn(Zf(k.fromDom(a.container()),n),Il),l=oo(i).getOr(n);return ru(e,l.dom,a).filter(ek)},Ab=function(e,n){return Fv(n).exists(Im)||tp(!0,e,n).isSome()},Yv=function(e,n){return NC(n).exists(Im)||tp(!1,e,n).isSome()},D2=j(tp,!1),Db=j(tp,!0),np=function(e){return je.isTextPosition(e)&&!e.isAtStart()&&!e.isAtEnd()},tk=function(e,n){var a=nn(Zf(k.fromDom(n.container()),e),Il);return oo(a).getOr(e)},Vn=function(e,n){return np(n)?ec(n):ec(n)||ys(tk(e,n).dom,n).exists(ec)},nk=function(e,n){return np(n)?x2(n):x2(n)||bs(tk(e,n).dom,n).exists(x2)},rk=function(e){return Re(["pre","pre-wrap"],e)},$g=function(e){return Fv(e).bind(function(n){return Nm(n,za)}).exists(function(n){return rk(ir(n,"white-space"))})},vm=function(e,n){return ys(e.dom,n).isNone()},ak=function(e,n){return bs(e.dom,n).isNone()},ok=function(e,n){return vm(e,n)||ak(e,n)||A2(e,n)||Kn(e,n)||Yv(e,n)||Ab(e,n)},_2=function(e,n){return $g(n)?!1:ok(e,n)||Vn(e,n)||nk(e,n)},_b=function(e,n){return $g(n)?!1:A2(e,n)||QS(e,n)||Yv(e,n)||Vn(e,n)},ik=function(e){var n=e.container(),a=e.offset();return on(n)&&a<n.data.length?je(n,a+1):e},Rb=function(e,n){return $g(n)?!1:Kn(e,n)||ar(e,n)||Ab(e,n)||nk(e,n)},uk=function(e,n){return _b(e,n)||Rb(e,ik(n))},lk=function(e,n){return Iv(e.charAt(n))},t4=function(e){var n=e.container();return on(n)&&Rr(n.data,hl)},n4=function(e){var n=e.split("");return pt(n,function(a,i){return Iv(a)&&i>0&&i<n.length-1&&Dh(n[i-1])&&Dh(n[i+1])?" ":a}).join("")},r4=function(e,n){var a=n.data,i=je(n,0);return lk(a,0)&&!uk(e,i)?(n.data=" "+a.slice(1),!0):!1},a4=function(e){var n=e.data,a=n4(n);return a!==n?(e.data=a,!0):!1},sk=function(e,n){var a=n.data,i=je(n,a.length-1);return lk(a,a.length-1)&&!uk(e,i)?(n.data=a.slice(0,-1)+" ",!0):!1},R2=function(e,n){return te.some(n).filter(t4).bind(function(a){var i=a.container(),l=r4(e,i)||a4(i)||sk(e,i);return l?te.some(a):te.none()})},xr=function(e){var n=k.fromDom(e.getBody());e.selection.isCollapsed()&&R2(n,je.fromRangeStart(e.selection.getRng())).each(function(a){e.selection.setRng(a.toRange())})},ck=function(e,n,a){var i=wr(e,function(l,f){return gg(f)||Iv(f)?l.previousCharIsSpace||l.str===""&&n||l.str.length===e.length-1&&a?{previousCharIsSpace:!1,str:l.str+hl}:{previousCharIsSpace:!0,str:l.str+" "}:{previousCharIsSpace:!1,str:l.str+f}},{previousCharIsSpace:!1,str:""});return i.str},rp=function(e,n,a){if(a!==0){var i=k.fromDom(e),l=fv(i,Il).getOr(i),f=e.data.slice(n,n+a),g=n+a>=e.data.length&&Rb(l,je(e,e.data.length)),b=n===0&&_b(l,je(e,0));e.replaceData(n,a,ck(f,b,g))}},ap=function(e,n){var a=e.data.slice(n),i=a.length-Eu(a).length;rp(e,n,i)},Bb=function(e,n){var a=e.data.slice(0,n),i=a.length-So(a).length;rp(e,n-i,i)},Mb=function(e,n,a,i){i===void 0&&(i=!0);var l=So(e.data).length,f=i?e:n,g=i?n:e;return i?f.appendData(g.data):f.insertData(0,g.data),lo(k.fromDom(g)),a&&ap(f,l),f},fk=function(e,n){var a=e.container(),i=e.offset();return je.isTextPosition(e)===!1&&a===n.parentNode&&i>je.before(n).offset()},vk=function(e,n){return fk(n,e)?je(n.container(),n.offset()-1):n},u=function(e){return on(e)?je(e,0):je.before(e)},c=function(e){return on(e)?je(e,e.data.length):je.after(e)},d=function(e){return qc(e.previousSibling)?te.some(c(e.previousSibling)):e.previousSibling?Tc(e.previousSibling):te.none()},h=function(e){return qc(e.nextSibling)?te.some(u(e.nextSibling)):e.nextSibling?Vu(e.nextSibling):te.none()},y=function(e,n){var a=je.before(n.previousSibling?n.previousSibling:n.parentNode);return ys(e,a).fold(function(){return bs(e,je.after(n))},te.some)},T=function(e,n){return bs(e,je.after(n)).fold(function(){return ys(e,je.before(n))},te.some)},D=function(e,n){return d(n).orThunk(function(){return h(n)}).orThunk(function(){return y(e,n)})},N=function(e,n){return h(n).orThunk(function(){return d(n)}).orThunk(function(){return T(e,n)})},q=function(e,n,a){return e?N(n,a):D(n,a)},ne=function(e,n,a){return q(e,n,a).map(j(vk,a))},be=function(e,n,a){a.fold(function(){e.focus()},function(i){e.selection.setRng(i.toRange(),n)})},Ke=function(e){return function(n){return n.dom===e}},xt=function(e,n){return n&&tr(e.schema.getBlockElements(),ma(n))},lt=function(e){if(Fi(e)){var n=k.fromHtml('<br data-mce-bogus="1">');return xf(e),Ko(e,n),te.some(je.before(n.dom))}else return te.none()},Xe=function(e,n,a){var i=Cf(e).filter(Ka),l=Nl(e).filter(Ka);return lo(e),v0(i,l,n,function(f,g,b){var w=f.dom,A=g.dom,F=w.data.length;return Mb(w,A,a),b.container()===A?je(w,F):b}).orThunk(function(){return a&&(i.each(function(f){return Bb(f.dom,f.dom.length)}),l.each(function(f){return ap(f.dom,0)})),n})},Ft=function(e,n){return tr(e.schema.getTextInlineElements(),ma(n))},Pt=function(e,n,a,i){i===void 0&&(i=!0);var l=ne(n,e.getBody(),a.dom),f=fv(a,j(xt,e),Ke(e.getBody())),g=Xe(a,l,Ft(e,a));e.dom.isEmpty(e.getBody())?(e.setContent(""),e.selection.setCursorLocation()):f.bind(lt).fold(function(){i&&be(e,n,g)},function(b){i&&be(e,n,te.some(b))})},yn=function(e){return function(n){return ra(e,n)}},Br=function(e){return Qu(e,"td,th")},An=function(e,n){var a=function(A){return Js(k.fromDom(A),n)},i=a(e.startContainer),l=a(e.endContainer),f=i.isSome(),g=l.isSome(),b=gu(i,l,ra).getOr(!1),w=!b&&f&&g;return{startTable:i,endTable:l,isStartInTable:f,isEndInTable:g,isSameTable:b,isMultiTable:w}},Hn=function(e,n){return{start:e,end:n}},yr=function(e,n,a){return{rng:e,table:n,cells:a}},ur=kn.generate([{singleCellTable:["rng","cell"]},{fullTable:["table"]},{partialTable:["cells","outsideDetails"]},{multiTable:["startTableCells","endTableCells","betweenRng"]}]),co=function(e,n){return go(k.fromDom(e),"td,th",n)},fi=function(e){return!ra(e.start,e.end)},Cu=function(e,n){return Js(e.start,n).bind(function(a){return Js(e.end,n).bind(function(i){return d0(ra(a,i),a)})})},zr=function(e,n){return!fi(e)&&Cu(e,n).exists(function(a){var i=a.dom.rows;return i.length===1&&i[0].cells.length===1})},Xn=function(e,n){var a=co(e.startContainer,n),i=co(e.endContainer,n);return gu(a,i,Hn)},Tr=function(e){return function(n){return Js(n,e).bind(function(a){return ta(Br(a)).map(function(i){return Hn(n,i)})})}},aa=function(e){return function(n){return Js(n,e).bind(function(a){return oo(Br(a)).map(function(i){return Hn(i,n)})})}},Ua=function(e){return function(n){return Cu(n,e).map(function(a){return yr(n,a,Br(a))})}},cf=function(e,n,a,i){if(a.collapsed||!e.forall(fi))return te.none();if(n.isSameTable){var l=e.bind(Ua(i));return te.some({start:l,end:l})}else{var f=co(a.startContainer,i),g=co(a.endContainer,i),b=f.bind(Tr(i)).bind(Ua(i)),w=g.bind(aa(i)).bind(Ua(i));return te.some({start:b,end:w})}},Jr=function(e,n){return Ro(e,function(a){return ra(a,n)})},Ol=function(e){return gu(Jr(e.cells,e.rng.start),Jr(e.cells,e.rng.end),function(n,a){return e.cells.slice(n,a+1)})},Wi=function(e,n,a){return e.exists(function(i){return zr(i,a)&&Mh(i.start,n)})},op=function(e,n){var a=n.startTable,i=n.endTable,l=e.cloneRange();return a.each(function(f){return l.setStartAfter(f.dom)}),i.each(function(f){return l.setEndBefore(f.dom)}),l},dm=function(e,n,a,i){return cf(e,n,a,i).bind(function(l){var f=l.start,g=l.end;return f.or(g)}).bind(function(l){var f=n.isSameTable,g=Ol(l).getOr([]);if(f&&l.cells.length===g.length)return te.some(ur.fullTable(l.table));if(g.length>0){if(f)return te.some(ur.partialTable(g,te.none()));var b=op(a,n);return te.some(ur.partialTable(g,te.some(Sn(Sn({},n),{rng:b}))))}else return te.none()})},Dc=function(e,n,a,i){return cf(e,n,a,i).bind(function(l){var f=l.start,g=l.end,b=f.bind(Ol).getOr([]),w=g.bind(Ol).getOr([]);if(b.length>0&&w.length>0){var A=op(a,n);return te.some(ur.multiTable(b,w,A))}else return te.none()})},xs=function(e,n){var a=yn(e),i=Xn(n,a),l=An(n,a);return Wi(i,n,a)?i.map(function(f){return ur.singleCellTable(n,f.start)}):l.isMultiTable?Dc(i,l,n,a):dm(i,l,n,a)},_c=function(e){var n=fl(e)?Cf(e):dl(e);return n.bind(_c).orThunk(function(){return te.some(e)})},ip=function(e){return tt(e,function(n){Je(n,"contenteditable"),fm(n)})},Ng=function(e,n){return te.from(e.dom.getParent(n,e.dom.isBlock)).map(k.fromDom)},up=function(e,n,a){a.each(function(i){n?lo(i):(fm(i),e.selection.setCursorLocation(i.dom,0))})},mm=function(e,n,a,i){var l=a.cloneRange();i?(l.setStart(a.startContainer,a.startOffset),l.setEndAfter(n.dom.lastChild)):(l.setStartBefore(n.dom.firstChild),l.setEnd(a.endContainer,a.endOffset)),$b(e,l,n,!1)},tc=function(e){var n=nm(e),a=k.fromDom(e.selection.getNode());Bm(a.dom)&&Fi(a)?e.selection.setCursorLocation(a.dom,0):e.selection.collapse(!0),n.length>1&&Qe(n,function(i){return ra(i,a)})&&O(a,"data-mce-selected","1")},gm=function(e,n,a){var i=e.selection.getRng(),l=a.bind(function(f){var g=f.rng,b=f.isStartInTable,w=Ng(e,b?g.endContainer:g.startContainer);g.deleteContents(),up(e,b,w.filter(Fi));var A=b?n[0]:n[n.length-1];return mm(e,A,i,b),Fi(A)?te.none():te.some(b?n.slice(1):n.slice(0,-1))}).getOr(n);return ip(l),tc(e),!0},Pb=function(e,n,a,i){var l=e.selection.getRng(),f=n[0],g=a[a.length-1];mm(e,f,l,!0),mm(e,g,l,!1);var b=Fi(f)?n:n.slice(1),w=Fi(g)?a:a.slice(0,-1);return ip(b.concat(w)),i.deleteContents(),tc(e),!0},$b=function(e,n,a,i){i===void 0&&(i=!0),n.deleteContents();var l=_c(a).getOr(a),f=k.fromDom(e.dom.getParent(l.dom,e.dom.isBlock));if(Fi(f)&&(fm(f),i&&e.selection.setCursorLocation(f.dom,0)),!ra(a,f)){var g=pd(eo(f),a)?[]:ko(f);tt(g.concat(mu(a)),function(b){!ra(b,f)&&!Go(b,f)&&Fi(b)&&lo(b)})}return!0},lp=function(e,n){return Pt(e,!1,n),!0},ZO=function(e,n,a){return xs(n,a).map(function(i){return i.fold(j($b,e),j(lp,e),j(gm,e),j(Pb,e))})},eB=function(e,n){return nc(e,n)},tB=function(e,n,a,i){return Wu(n,i).fold(function(){return ZO(e,n,a)},function(l){return eB(e,l)}).getOr(!1)},hm=function(e,n,a){var i=k.fromDom(e.getBody()),l=e.selection.getRng();return a.length!==0?gm(e,a,te.none()):tB(e,i,l,n)},QO=function(e,n){return Kr(Zf(n,e),pc)},Wu=function(e,n){return Kr(Zf(n,e),Xg("caption"))},qr=function(e,n,a,i,l){return Yd(a,e.getBody(),l).bind(function(f){return QO(n,k.fromDom(f.getNode())).map(function(g){return ra(g,i)===!1})})},nc=function(e,n){return fm(n),e.selection.setCursorLocation(n.dom,0),te.some(!0)},nB=function(e,n,a,i){return Vu(e.dom).bind(function(l){return Tc(e.dom).map(function(f){return n?a.isEqual(l)&&i.isEqual(f):a.isEqual(f)&&i.isEqual(l)})}).getOr(!0)},eA=function(e,n){return nc(e,n)},o4=function(e,n,a){return Wu(e,k.fromDom(a.getNode())).map(function(i){return ra(i,n)===!1})},i4=function(e,n,a,i,l){return Yd(a,e.getBody(),l).bind(function(f){return nB(i,a,l,f)?eA(e,i):o4(n,i,f)}).or(te.some(!0))},tA=function(e,n,a,i){var l=je.fromRangeStart(e.selection.getRng());return QO(a,i).bind(function(f){return Fi(f)?nc(e,f):qr(e,a,n,f,l)}).getOr(!1)},nA=function(e,n,a,i){var l=je.fromRangeStart(e.selection.getRng());return Fi(i)?nc(e,i):i4(e,a,n,i,l)},rA=function(e,n){return e?xb(n):JS(n)},rB=function(e,n){var a=je.fromRangeStart(e.selection.getRng());return rA(n,a)||ru(n,e.getBody(),a).exists(function(i){return rA(n,i)})},u4=function(e,n,a){var i=k.fromDom(e.getBody());return Wu(i,a).fold(function(){return tA(e,n,i,a)||rB(e,n)},function(l){return nA(e,n,i,l).getOr(!1)})},B2=function(e,n){var a=k.fromDom(e.selection.getStart(!0)),i=nm(e);return e.selection.isCollapsed()&&i.length===0?u4(e,n,a):hm(e,a,i)},Qf=function(e,n,a,i){var l=document.createRange();return l.setStart(e,n),l.setEnd(a,i),l},aB=function(e){var n=je.fromRangeStart(e),a=je.fromRangeEnd(e),i=e.commonAncestorContainer;return ru(!1,i,a).map(function(l){return!Ys(n,a,i)&&Ys(n,l,i)?Qf(n.container(),n.offset(),l.container(),l.offset()):e}).getOr(e)},l4=function(e){return e.collapsed?e:aB(e)},oB=function(e){return e.firstChild&&e.firstChild===e.lastChild},s4=function(e){return e.name==="br"||e.value===hl},iB=function(e,n){var a=e.getBlockElements();return a[n.name]&&oB(n)&&s4(n.firstChild)},uB=function(e,n){var a=e.getNonEmptyElements();return n&&(n.isEmpty(a)||iB(e,n))},c4=function(e,n){var a=n.firstChild,i=n.lastChild;return a&&a.name==="meta"&&(a=a.next),i&&i.attr("id")==="mce_marker"&&(i=i.prev),uB(e,i)&&(i=i.prev),!a||a!==i?!1:a.name==="ul"||a.name==="ol"},lB=function(e){var n=e.firstChild,a=e.lastChild;return n&&n.nodeName==="META"&&n.parentNode.removeChild(n),a&&a.id==="mce_marker"&&a.parentNode.removeChild(a),e},sB=function(e,n,a){var i=n.serialize(a),l=e.createFragment(i);return lB(l)},aA=function(e){return nn(e.childNodes,function(n){return n.nodeName==="LI"})},cB=function(e){return e.data===hl||ha(e)},fB=function(e){return e&&e.firstChild&&e.firstChild===e.lastChild&&cB(e.firstChild)},dk=function(e){return!e.firstChild||fB(e)},vB=function(e){return e.length>0&&dk(e[e.length-1])?e.slice(0,-1):e},mk=function(e,n){var a=e.getParent(n,e.isBlock);return a&&a.nodeName==="LI"?a:null},oA=function(e,n){return!!mk(e,n)},f4=function(e,n){var a=n.cloneRange(),i=n.cloneRange();return a.setStartBefore(e),i.setEndAfter(e),[a.cloneContents(),i.cloneContents()]},dB=function(e,n){var a=je.before(e),i=xc(n),l=i.next(a);return l?l.toRange():null},iA=function(e,n){var a=je.after(e),i=xc(n),l=i.prev(a);return l?l.toRange():null},v4=function(e,n,a,i){var l=f4(e,i),f=e.parentNode;return f.insertBefore(l[0],e),Ye.each(n,function(g){f.insertBefore(g,e)}),f.insertBefore(l[1],e),f.removeChild(e),iA(n[n.length-1],a)},mB=function(e,n,a){var i=e.parentNode;return Ye.each(n,function(l){i.insertBefore(l,e)}),dB(e,a)},gB=function(e,n,a,i){return i.insertAfter(n.reverse(),e),iA(n[0],a)},M2=function(e,n,a,i){var l=sB(n,e,i),f=mk(n,a.startContainer),g=vB(aA(l.firstChild)),b=1,w=2,A=n.getRoot(),F=function(I){var V=je.fromRangeStart(a),Y=xc(n.getRoot()),X=I===b?Y.prev(V):Y.next(V);return X?mk(n,X.getNode())!==f:!0};return F(b)?mB(f,g,A):F(w)?gB(f,g,A,n):v4(f,g,A,a)},d4=function(e,n,a){var i=k.fromDom(e.getRoot());return _b(i,je.fromRangeStart(n))?a=a.replace(/^ /,"&nbsp;"):a=a.replace(/^&nbsp;/," "),Rb(i,je.fromRangeEnd(n))?a=a.replace(/(&nbsp;| )(<br( \/)>)?$/,"&nbsp;"):a=a.replace(/&nbsp;(<br( \/)?>)?$/," "),a},m4=Bm,hB=function(e,n,a){if(a!==null){var i=e.getParent(n.endContainer,m4);return a===i&&Mh(k.fromDom(a),n)}else return!1},uA=function(e,n,a){if(a.getAttribute("data-mce-bogus")==="all")a.parentNode.insertBefore(e.dom.createFragment(n),a);else{var i=a.firstChild,l=a.lastChild;!i||i===l&&i.nodeName==="BR"?e.dom.setHTML(a,n):e.selection.setContent(n)}},lA=function(e,n){te.from(e.getParent(n,"td,th")).map(k.fromDom).each(Bn)},pB=function(e,n){var a=e.schema.getTextInlineElements(),i=e.dom;if(n){var l=e.getBody(),f=jS(i);Ye.each(i.select("*[data-mce-fragment]"),function(g){var b=qt(a[g.nodeName.toLowerCase()]);if(b&&S2(i,g))for(var w=g.parentNode;qt(w)&&w!==l;w=w.parentNode){var A=KS(i,g,w);if(A)break;if(f.compare(w,g)){i.remove(g,!0);break}}})}},bB=function(e){for(var n=e;n=n.walk();)n.type===1&&n.attr("data-mce-fragment","1")},yB=function(e){Ye.each(e.getElementsByTagName("*"),function(n){n.removeAttribute("data-mce-fragment")})},wB=function(e){return!!e.getAttribute("data-mce-fragment")},sA=function(e,n){return n&&!e.schema.getShortEndedElements()[n.nodeName]},cA=function(e,n){var a,i=e.dom,l=e.selection;if(!!n){l.scrollIntoView(n);var f=Vv(e.getBody(),n);if(i.getContentEditable(f)==="false"){i.remove(n),l.select(f);return}var g=i.createRng(),b=n.previousSibling;if(on(b)){if(g.setStart(b,b.nodeValue.length),!On.ie){var w=n.nextSibling;on(w)&&(b.appendData(w.data),w.parentNode.removeChild(w))}}else g.setStartBefore(n),g.setEndBefore(n);var A=function(I){var V=je.fromRangeStart(I),Y=xc(e.getBody());if(V=Y.next(V),V)return V.toRange()},F=i.getParent(n,i.isBlock);i.remove(n),F&&i.isEmpty(F)&&(e.$(F).empty(),g.setStart(F,0),g.setEnd(F,0),!m4(F)&&!wB(F)&&(a=A(g))?(g=a,i.remove(F)):i.add(F,i.create("br",{"data-mce-bogus":"1"}))),l.setRng(g)}},CB=function(e){var n=e.dom,a=l4(e.selection.getRng());e.selection.setRng(a);var i=n.getParent(a.startContainer,m4);hB(n,a,i)?$b(e,a,k.fromDom(i)):e.getDoc().execCommand("Delete",!1,null)},SB=function(e,n,a){var i,l,f,g=e.selection,b=e.dom;/^ | $/.test(n)&&(n=d4(b,g.getRng(),n));var w=e.parser,A=a.merge,F=cm({validate:wC(e)},e.schema),I='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;</span>',V=e.fire("BeforeSetContent",{content:n,format:"html",selection:!0,paste:a.paste});if(V.isDefaultPrevented()){e.fire("SetContent",{content:V.content,format:"html",selection:!0,paste:a.paste});return}n=V.content,n.indexOf("{$caret}")===-1&&(n+="{$caret}"),n=n.replace(/\{\$caret\}/,I),l=g.getRng();var Y=l.startContainer||(l.parentElement?l.parentElement():null),X=e.getBody();Y===X&&g.isCollapsed()&&b.isBlock(X.firstChild)&&sA(e,X.firstChild)&&b.isEmpty(X.firstChild)&&(l=b.createRng(),l.setStart(X.firstChild,0),l.setEnd(X.firstChild,0),g.setRng(l)),g.isCollapsed()||CB(e),i=g.getNode();var ee={context:i.nodeName.toLowerCase(),data:a.data,insert:!0},re=w.parse(n,ee);if(a.paste===!0&&c4(e.schema,re)&&oA(b,i)){l=M2(F,b,g.getRng(),re),g.setRng(l),e.fire("SetContent",V);return}if(bB(re),f=re.lastChild,f.attr("id")==="mce_marker"){var fe=f;for(f=f.prev;f;f=f.walk(!0))if(f.type===3||!b.isBlock(f.name)){e.schema.isValidChild(f.parent.name,"span")&&f.parent.insert(fe,f,f.name==="br");break}}if(e._selectionOverrides.showBlockCaretContainer(i),!ee.invalid)n=F.serialize(re),uA(e,n,i);else{e.selection.setContent(I),i=g.getNode();var ce=e.getBody();for(i.nodeType===9?i=f=ce:f=i;f!==ce;)i=f,f=f.parentNode;n=i===ce?ce.innerHTML:b.getOuterHTML(i),n=F.serialize(w.parse(n.replace(/<span (id="mce_marker"|id=mce_marker).+?<\/span>/i,function(){return F.serialize(re)}))),i===ce?b.setHTML(ce,n):b.setOuterHTML(i,n)}pB(e,A),cA(e,b.get("mce_marker")),yB(e.getBody()),lA(b,g.getStart()),e.fire("SetContent",V),e.addVisual()},g4=function(e,n){n(e),e.firstChild&&g4(e.firstChild,n),e.next&&g4(e.next,n)},kB=function(e,n,a){var i={},l={},f=[];a.firstChild&&g4(a.firstChild,function(w){tt(e,function(A){A.name===w.name&&(i[A.name]?i[A.name].nodes.push(w):i[A.name]={filter:A,nodes:[w]})}),tt(n,function(A){typeof w.attr(A.name)=="string"&&(l[A.name]?l[A.name].nodes.push(w):l[A.name]={filter:A,nodes:[w]})})});for(var g in i)tr(i,g)&&f.push(i[g]);for(var b in l)tr(l,b)&&f.push(l[b]);return f},xB=function(e,n,a){var i=kB(e,n,a);tt(i,function(l){tt(l.filter.callbacks,function(f){f(l.nodes,l.filter.name,{})})})},TB="html",sp=function(e){return e instanceof ks},EB=function(e){qv(e)&&Vu(e.getBody()).each(function(n){var a=n.getNode(),i=xo(a)?Vu(a).getOr(n):n;e.selection.setRng(i.toRange())})},gk=function(e,n,a){e.dom.setHTML(e.getBody(),n),a!==!0&&EB(e)},h4=function(e,n,a,i){if(a.length===0||/^\s+$/.test(a)){var l='<br data-mce-bogus="1">';n.nodeName==="TABLE"?a="<tr><td>"+l+"</td></tr>":/^(UL|OL)$/.test(n.nodeName)&&(a="<li>"+l+"</li>");var f=Vi(e);f&&e.schema.isValidChild(n.nodeName.toLowerCase(),f.toLowerCase())?(a=l,a=e.dom.createHTML(f,Hd(e),a)):a||(a='<br data-mce-bogus="1">'),gk(e,a,i.no_selection),e.fire("SetContent",i)}else i.format!=="raw"&&(a=cm({validate:e.validate},e.schema).serialize(e.parser.parse(a,{isRootContent:!0,insert:!0}))),i.content=yd(k.fromDom(n))?a:Ye.trim(a),gk(e,i.content,i.no_selection),i.no_events||e.fire("SetContent",i);return i.content},OB=function(e,n,a,i){xB(e.parser.getNodeFilters(),e.parser.getAttributeFilters(),a);var l=cm({validate:e.validate},e.schema).serialize(a);return i.content=yd(k.fromDom(n))?l:Ye.trim(l),gk(e,i.content,i.no_selection),i.no_events||e.fire("SetContent",i),a},fA=function(e,n){return Sn(Sn({format:TB},e),{set:!0,content:sp(n)?"":n})},vA=function(e,n,a){var i=fA(a,n),l=a.no_events?i:e.fire("BeforeSetContent",i);return sp(n)||(n=l.content),te.from(e.getBody()).fold(Q(n),function(f){return sp(n)?OB(e,f,n,l):h4(e,f,n,l)})},AB=function(e,n){return h0(e,n).isSome()},dA=function(e){return Nt(e)?e:Mt},DB=function(e,n,a){for(var i=e.dom,l=dA(a);i.parentNode;){i=i.parentNode;var f=k.fromDom(i),g=n(f);if(g.isSome())return g;if(l(f))break}return te.none()},p4=function(e,n,a){var i=n(e),l=dA(a);return i.orThunk(function(){return l(e)?te.none():DB(e,n,l)})},b4=Fy,mA=function(e,n,a){var i=e.formatter.get(a);if(i)for(var l=0;l<i.length;l++){var f=i[l];if(Gl(f)&&f.inherit===!1&&e.dom.is(n,f.selector))return!0}return!1},y4=function(e,n,a,i,l){var f=e.dom.getRoot();return n===f?!1:(n=e.dom.getParent(n,function(g){return mA(e,g,a)?!0:g.parentNode===f||!!Jv(e,g,a,i,!0)}),!!Jv(e,n,a,i,l))},gA=function(e,n,a){if(b4(n,a.inline)||b4(n,a.block))return!0;if(a.selector)return n.nodeType===1&&e.is(n,a.selector)},hA=function(e,n,a,i,l,f){var g=a[i];if(Nt(a.onmatch))return a.onmatch(n,a,i);if(g){if(Oe(g.length)){for(var b in g)if(tr(g,b)){var w=i==="attributes"?e.getAttrib(n,b):Z1(e,n,b),A=rf(g[b],f),F=Ht(w)||ll(w);if(F&&Ht(A))continue;if(l&&F&&!a.exact||(!l||a.exact)&&!b4(w,J1(e,A,b)))return!1}}else for(var I=0;I<g.length;I++)if(i==="attributes"?e.getAttrib(n,g[I]):Z1(e,n,g[I]))return!0}return!0},Jv=function(e,n,a,i,l){var f=e.formatter.get(a),g=e.dom;if(f&&n)for(var b=0;b<f.length;b++){var w=f[b];if(gA(e.dom,n,w)&&hA(g,n,w,"attributes",l,i)&&hA(g,n,w,"styles",l,i)){var A=w.classes;if(A){for(var F=0;F<A.length;F++)if(!e.dom.hasClass(n,rf(A[F],i)))return}return w}}},w4=function(e,n,a,i,l){if(i)return y4(e,i,n,a,l);if(i=e.selection.getNode(),y4(e,i,n,a,l))return!0;var f=e.selection.getStart();return!!(f!==i&&y4(e,f,n,a,l))},C4=function(e,n,a){var i=[],l={},f=e.selection.getStart();return e.dom.getParent(f,function(g){for(var b=0;b<n.length;b++){var w=n[b];!l[w]&&Jv(e,g,w,a)&&(l[w]=!0,i.push(w))}},e.dom.getRoot()),i},ev=function(e,n){var a=function(l){return ra(l,k.fromDom(e.getBody()))},i=function(l,f){return Jv(e,l.dom,f)?te.some(f):te.none()};return te.from(e.selection.getStart(!0)).bind(function(l){return p4(k.fromDom(l),function(f){return Uo(n,function(g){return i(f,g)})},a)}).getOrNull()},S4=function(e,n){var a=e.formatter.get(n),i=e.dom;if(a)for(var l=e.selection.getStart(),f=pg(i,l),g=a.length-1;g>=0;g--){var b=a[g];if(!Gl(b)||qt(b.defaultBlock))return!0;for(var w=f.length-1;w>=0;w--)if(i.is(f[w],b.selector))return!0}return!1},k4=function(e,n,a){return wr(a,function(i,l){var f=ZC(e,l);return e.formatter.matchNode(n,l,{},f)?i.concat([l]):i},[])},Fg=ke,pA="_mce_caret",bA=function(e,n){return e.importNode(n,!0)},_B=function(e){for(var n=[];e;){if(e.nodeType===3&&e.nodeValue!==Fg||e.childNodes.length>1)return[];e.nodeType===1&&n.push(e),e=e.firstChild}return n},x4=function(e){return _B(e).length>0},hk=function(e){if(e){var n=new Yr(e,e);for(e=n.current();e;e=n.next())if(on(e))return e}return null},T4=function(e){var n=k.fromTag("span");return z(n,{id:pA,"data-mce-bogus":"1","data-mce-type":"format-caret"}),e&&Ko(n,k.fromText(Fg)),n},yA=function(e){var n=hk(e);return n&&n.nodeValue.charAt(0)===Fg&&n.deleteData(0,1),n},E4=function(e,n,a){a===void 0&&(a=!0);var i=e.dom,l=e.selection;if(x4(n))Pt(e,!1,k.fromDom(n),a);else{var f=l.getRng(),g=i.getParent(n,i.isBlock),b=f.startContainer,w=f.startOffset,A=f.endContainer,F=f.endOffset,I=yA(n);i.remove(n,!0),b===I&&w>0&&f.setStart(I,w-1),A===I&&F>0&&f.setEnd(I,F-1),g&&i.isEmpty(g)&&fm(k.fromDom(g)),l.setRng(f)}},cp=function(e,n,a){a===void 0&&(a=!0);var i=e.dom,l=e.selection;if(n)E4(e,n,a);else if(n=Ec(e.getBody(),l.getStart()),!n)for(;n=i.get(pA);)E4(e,n,!1)},wA=function(e,n,a){var i=e.dom,l=i.getParent(a,j($y,e));l&&i.isEmpty(l)?a.parentNode.replaceChild(n,a):(Qh(k.fromDom(a)),i.isEmpty(a)?a.parentNode.replaceChild(n,a):i.insertAfter(n,a))},CA=function(e,n){return e.appendChild(n),n},O4=function(e,n){var a=Ln(e,function(i,l){return CA(i,l.cloneNode(!1))},n);return CA(a,a.ownerDocument.createTextNode(Fg))},RB=function(e,n,a,i,l,f){var g=e.formatter,b=e.dom,w=nn(ni(g.get()),function(V){return V!==i&&!Rr(V,"removeformat")}),A=k4(e,a,w),F=nn(A,function(V){return!QC(e,V,i)});if(F.length>0){var I=a.cloneNode(!1);return b.add(n,I),g.remove(i,l,I,f),b.remove(I),te.some(I)}else return te.none()},BB=function(e,n,a){var i,l,f=e.selection,g=f.getRng(),b=g.startOffset,w=g.startContainer,A=w.nodeValue;i=Ec(e.getBody(),f.getStart()),i&&(l=hk(i));var F=/[^\s\u00a0\u00ad\u200b\ufeff]/;if(A&&b>0&&b<A.length&&F.test(A.charAt(b))&&F.test(A.charAt(b-1))){var I=f.getBookmark();g.collapse(!0);var V=yg(e,g,e.formatter.get(n));V=ob(V),e.formatter.apply(n,a,V),f.moveToBookmark(I)}else(!i||l.nodeValue!==Fg)&&(i=bA(e.getDoc(),T4(!0).dom),l=i.firstChild,g.insertNode(i),b=1),e.formatter.apply(n,a,i),f.setCursorLocation(l,b)},MB=function(e,n,a,i){var l=e.dom,f=e.selection,g,b,w,A=[],F=f.getRng(),I=F.startContainer,V=F.startOffset;for(b=I,I.nodeType===3&&(V!==I.nodeValue.length&&(g=!0),b=b.parentNode);b;){if(Jv(e,b,n,a,i)){w=b;break}b.nextSibling&&(g=!0),A.push(b),b=b.parentNode}if(!!w)if(g){var Y=f.getBookmark();F.collapse(!0);var X=yg(e,F,e.formatter.get(n),!0);X=ob(X),e.formatter.remove(n,a,X,i),f.moveToBookmark(Y)}else{var ee=Ec(e.getBody(),w),re=T4(!1).dom;wA(e,re,ee!==null?ee:w);var fe=RB(e,re,w,n,a,i),ce=O4(A.concat(fe.toArray()),re);E4(e,ee,!1),f.setCursorLocation(ce,1),l.isEmpty(w)&&l.remove(w)}},PB=function(e,n){var a=e.selection,i=e.getBody();cp(e,null,!1),(n===8||n===46)&&a.isCollapsed()&&a.getStart().innerHTML===Fg&&cp(e,Ec(i,a.getStart())),(n===37||n===39)&&cp(e,Ec(i,a.getStart()))},$B=function(e){e.on("mouseup keydown",function(n){PB(e,n.keyCode)})},SA=function(e,n){var a=T4(!1),i=O4(n,a.dom);return Pi(k.fromDom(e),a),lo(k.fromDom(e)),je(i,0)},NB=function(e,n){var a=e.schema.getTextInlineElements();return tr(a,ma(n))&&!ws(n.dom)&&!mo(n.dom)},A4=function(e){return ws(e.dom)&&x4(e.dom)},pm={},kA=qi,xA=su,pk=function(e,n){var a=pm[e];a||(pm[e]=[]),pm[e].push(n)},D4=function(e,n){xA(pm[e],function(a){a(n)})};pk("pre",function(e){var n=e.selection.getRng(),a,i=function(g){return f(g.previousSibling)&&oi(a,g.previousSibling)!==-1},l=function(g,b){Zn(b).remove(),Zn(g).append("<br><br>").append(b.childNodes)},f=Fl(["pre"]);n.collapsed||(a=e.selection.getSelectedBlocks(),xA(kA(kA(a,f),i),function(g){l(g.previousSibling,g)}))});var _4=Ye.each,R4=function(e){return Wn(e)&&!Tl(e)&&!ws(e)&&!mo(e)},B4=function(e,n){for(var a=e;a;a=a[n]){if(on(a)&&Ou(a.data))return e;if(Wn(a)&&!Tl(a))return a}return e},bk=function(e,n,a){var i=jS(e);if(n&&a&&(n=B4(n,"previousSibling"),a=B4(a,"nextSibling"),i.compare(n,a))){for(var l=n.nextSibling;l&&l!==a;){var f=l;l=l.nextSibling,n.appendChild(f)}return e.remove(a),Ye.each(Ye.grep(a.childNodes),function(g){n.appendChild(g)}),n}return a},TA=function(e,n,a,i){if(i&&n.merge_siblings!==!1){var l=bk(e,Py(i),i);bk(e,l,Py(l,!0))}},yk=function(e,n,a){if(n.clear_child_styles){var i=n.links?"*:not(a)":"*";_4(e.select(i,a),function(l){R4(l)&&_4(n.styles,function(f,g){e.setStyle(l,g,"")})})}},tv=function(e,n,a){_4(e.childNodes,function(i){R4(i)&&(n(i)&&a(i),i.hasChildNodes()&&tv(i,n,a))})},FB=function(e,n){n.nodeName==="SPAN"&&e.getAttribs(n).length===0&&e.remove(n,!0)},wk=function(e,n){return function(a){return!!(a&&Z1(e,a,n))}},EA=function(e,n,a){return function(i){e.setStyle(i,n,a),i.getAttribute("style")===""&&i.removeAttribute("style"),FB(e,i)}},P2=kn.generate([{keep:[]},{rename:["name"]},{removed:[]}]),zB=/^(src|href|style)$/,M4=Ye.each,fp=Fy,IB=function(e){return/^(TR|TH|TD)$/.test(e.nodeName)},vp=function(e,n,a){return e.isChildOf(n,a)&&n!==a&&!e.isBlock(a)},OA=function(e,n,a){var i=n[a?"startContainer":"endContainer"],l=n[a?"startOffset":"endOffset"];if(Wn(i)){var f=i.childNodes.length-1;!a&&l&&l--,i=i.childNodes[l>f?f:l]}return on(i)&&a&&l>=i.nodeValue.length&&(i=new Yr(i,e.getBody()).next()||i),on(i)&&!a&&l===0&&(i=new Yr(i,e.getBody()).prev()||i),i},AA=function(e,n){var a=n?"firstChild":"lastChild";if(IB(e)&&e[a]){var i=e[a];return e.nodeName==="TR"&&i[a]||i}return e},P4=function(e,n,a,i){var l=e.create(a,i);return n.parentNode.insertBefore(l,n),l.appendChild(n),l},DA=function(e,n,a,i,l){var f=k.fromDom(n),g=k.fromDom(e.create(i,l)),b=a?Da(f):Vr(f);return kf(g,b),a?(Pi(f,g),cs(g,f)):(cv(f,g),Ko(g,f)),g.dom},_A=function(e,n,a){if(Ui(a)&&fp(n,a.inline)||Oc(a)&&fp(n,a.block))return!0;if(Gl(a))return Wn(n)&&e.is(n,a.selector)},LB=function(e,n){return n.links&&e.nodeName==="A"},Ck=function(e,n,a,i){var l=Py(n,a,i);return Ht(l)||l.nodeName==="BR"||e.isBlock(l)},VB=function(e,n,a){var i=n.parentNode,l,f=e.dom,g=Vi(e);Oc(a)&&(g?i===f.getRoot()&&(!a.list_block||!fp(n,a.list_block))&&tt(Lr(n.childNodes),function(b){Zd(e,g,b.nodeName.toLowerCase())?l?l.appendChild(b):(l=P4(f,b,g),f.setAttribs(l,e.settings.forced_root_block_attrs)):l=null}):f.isBlock(n)&&!f.isBlock(i)&&(!Ck(f,n,!1)&&!Ck(f,n.firstChild,!0,!0)&&n.insertBefore(f.create("br"),n.firstChild),!Ck(f,n,!0)&&!Ck(f,n.lastChild,!1,!0)&&n.appendChild(f.create("br")))),!(eS(a)&&!fp(a.inline,n))&&f.remove(n,!0)},RA=function(e,n,a,i,l){var f,g=e.dom;if(!_A(g,i,n)&&!LB(i,n))return P2.keep();var b=i;if(Ui(n)&&n.remove==="all"&&Wt(n.preserve_attributes)){var w=nn(g.getAttribs(b),function(V){return Re(n.preserve_attributes,V.name.toLowerCase())});if(g.removeAllAttribs(b),tt(w,function(V){return g.setAttrib(b,V.name,V.value)}),w.length>0)return P2.rename("span")}if(n.remove!=="all"){M4(n.styles,function(V,Y){V=J1(g,rf(V,a),Y+""),Zt(Y)&&(Y=V,l=null),(n.remove_similar||!l||fp(Z1(g,l,Y),V))&&g.setStyle(b,Y,""),f=!0}),f&&g.getAttrib(b,"style")===""&&(b.removeAttribute("style"),b.removeAttribute("data-mce-style")),M4(n.attributes,function(V,Y){var X;if(V=rf(V,a),Zt(Y)&&(Y=V,l=null),n.remove_similar||!l||fp(g.getAttrib(l,Y),V)){if(Y==="class"&&(V=g.getAttrib(b,Y),V&&(X="",tt(V.split(/\s+/),function(ee){/mce\-\w+/.test(ee)&&(X+=(X?" ":"")+ee)}),X))){g.setAttrib(b,Y,X);return}if(zB.test(Y)&&b.removeAttribute("data-mce-"+Y),Y==="style"&&Fl(["li"])(b)&&g.getStyle(b,"list-style-type")==="none"){b.removeAttribute(Y),g.setStyle(b,"list-style-type","none");return}Y==="class"&&b.removeAttribute("className"),b.removeAttribute(Y)}}),M4(n.classes,function(V){V=rf(V,a),(!l||g.hasClass(l,V))&&g.removeClass(b,V)});for(var A=g.getAttribs(b),F=0;F<A.length;F++){var I=A[F].nodeName;if(I.indexOf("_")!==0&&I.indexOf("data-")!==0)return P2.keep()}}return n.remove!=="none"?(VB(e,b,n),P2.removed()):P2.keep()},Nb=function(e,n,a,i,l){return RA(e,n,a,i,l).fold(Mt,function(f){return e.dom.rename(i,f),!0},sn)},HB=function(e,n,a,i,l){var f;return tt(pg(e.dom,n.parentNode).reverse(),function(g){if(!f&&g.id!=="_start"&&g.id!=="_end"){var b=Jv(e,g,a,i,l);b&&b.split!==!1&&(f=g)}}),f},UB=function(e,n,a,i){return RA(e,n,a,i,i).fold(Q(i),function(l){var f=e.dom.createFragment();return f.appendChild(i),e.dom.rename(i,l)},Q(null))},WB=function(e,n,a,i,l,f,g,b){var w,A,F,I=e.dom;if(a){for(var V=a.parentNode,Y=i.parentNode;Y&&Y!==V;Y=Y.parentNode){w=I.clone(Y,!1);for(var X=0;X<n.length&&(w=UB(e,n[X],b,w),w!==null);X++);w&&(A&&w.appendChild(A),F||(F=w),A=w)}f&&(!g.mixed||!I.isBlock(a))&&(i=I.split(a,i)),A&&(l.parentNode.insertBefore(A,l),F.appendChild(l),Ui(g)&&TA(I,g,b,A))}return i},BA=function(e,n,a,i,l){var f=e.formatter.get(n),g=f[0],b=!0,w=e.dom,A=e.selection,F=function(ce){var ye=HB(e,ce,n,a,l);return WB(e,f,ye,ce,ce,!0,g,a)},I=function(ce){return Tl(ce)&&Wn(ce)&&(ce.id==="_start"||ce.id==="_end")},V=function(ce){return Qe(f,function(ye){return Nb(e,ye,a,ce,ce)})},Y=function(ce){var ye=!0,De=!1;Wn(ce)&&w.getContentEditable(ce)&&(ye=b,b=w.getContentEditable(ce)==="true",De=!0);var he=Lr(ce.childNodes);if(b&&!De){var Be=V(ce),qe=ce.parentNode;!Be&&qt(qe)&&zy(g)&&V(qe)}if(g.deep&&he.length){for(var Ct=0;Ct<he.length;Ct++)Y(he[Ct]);De&&(b=ye)}var _n=["underline","line-through","overline"];tt(_n,function(en){Wn(ce)&&e.dom.getStyle(ce,"text-decoration")===en&&ce.parentNode&&JC(w,ce.parentNode)===en&&Nb(e,{deep:!1,exact:!0,inline:"span",styles:{textDecoration:en}},null,ce)})},X=function(ce){var ye=w.get(ce?"_start":"_end"),De=ye[ce?"firstChild":"lastChild"];return I(De)&&(De=De[ce?"firstChild":"lastChild"]),on(De)&&De.data.length===0&&(De=ce?ye.previousSibling||ye.nextSibling:ye.nextSibling||ye.previousSibling),w.remove(ye,!0),De},ee=function(ce){var ye,De,he=yg(e,ce,f,ce.collapsed);if(g.split){if(he=ob(he),ye=OA(e,he,!0),De=OA(e,he),ye!==De){if(ye=AA(ye,!0),De=AA(De,!1),vp(w,ye,De)){var Be=te.from(ye.firstChild).getOr(ye);F(DA(w,Be,!0,"span",{id:"_start","data-mce-type":"bookmark"})),X(!0);return}if(vp(w,De,ye)){var Be=te.from(De.lastChild).getOr(De);F(DA(w,Be,!1,"span",{id:"_end","data-mce-type":"bookmark"})),X(!1);return}ye=P4(w,ye,"span",{id:"_start","data-mce-type":"bookmark"}),De=P4(w,De,"span",{id:"_end","data-mce-type":"bookmark"});var qe=w.createRng();qe.setStartAfter(ye),qe.setEndBefore(De),tm(w,qe,function(Ct){tt(Ct,function(_n){!Tl(_n)&&!Tl(_n.parentNode)&&F(_n)})}),F(ye),F(De),ye=X(!0),De=X()}else ye=De=F(ye);he.startContainer=ye.parentNode?ye.parentNode:ye,he.startOffset=w.nodeIndex(ye),he.endContainer=De.parentNode?De.parentNode:De,he.endOffset=w.nodeIndex(De)+1}tm(w,he,function(Ct){tt(Ct,Y)})};if(i){if(hg(i)){var re=w.createRng();re.setStartBefore(i),re.setEndAfter(i),ee(re)}else ee(i);Fh(e,n,i,a);return}if(w.getContentEditable(A.getNode())==="false"){i=A.getNode();for(var fe=0;fe<f.length&&!(f[fe].ceFalseOverride&&Nb(e,f[fe],a,i,i));fe++);Fh(e,n,i,a);return}!A.isCollapsed()||!Ui(g)||nm(e).length?(am(A,!0,function(){Lv(e,ee)}),Ui(g)&&w4(e,n,a,A.getStart())&&YC(w,A,A.getRng()),e.nodeChanged()):MB(e,n,a,l),Fh(e,n,i,a)},MA=Ye.each,$4=function(e,n,a,i){var l=function(f){if(f.nodeType===1&&f.parentNode&&f.parentNode.nodeType===1){var g=JC(e,f.parentNode);e.getStyle(f,"color")&&g?e.setStyle(f,"text-decoration",g):e.getStyle(f,"text-decoration")===g&&e.setStyle(f,"text-decoration",null)}};n.styles&&(n.styles.color||n.styles.textDecoration)&&(Ye.walk(i,l,"childNodes"),l(i))},PA=function(e,n,a,i){n.styles&&n.styles.backgroundColor&&tv(i,wk(e,"fontSize"),EA(e,"backgroundColor",rf(n.styles.backgroundColor,a)))},jB=function(e,n,a,i){Ui(n)&&(n.inline==="sub"||n.inline==="sup")&&(tv(i,wk(e,"fontSize"),EA(e,"fontSize","")),e.remove(e.select(n.inline==="sup"?"sub":"sup",i),!0))},Sk=function(e,n,a,i){MA(n,function(l){Ui(l)&&MA(e.dom.select(l.inline,i),function(f){!R4(f)||Nb(e,l,a,f,l.exact?f:null)}),yk(e.dom,l,i)})},$A=function(e,n,a,i,l){Jv(e,l.parentNode,a,i)&&Nb(e,n,i,l)||n.merge_with_parents&&e.dom.getParent(l.parentNode,function(f){if(Jv(e,f,a,i))return Nb(e,n,i,l),!0})},zg=Ye.each,$2=function(e){return Wn(e)&&!Tl(e)&&!ws(e)&&!mo(e)},NA=function(e,n,a,i){if(jT(e)&&Ui(n)){var l=Sn(Sn({},e.schema.getTextBlockElements()),{td:{},th:{},li:{},dt:{},dd:{},figcaption:{},caption:{},details:{},summary:{}}),f=AB(k.fromDom(a),function(g){return ws(g.dom)});return hi(l,i)&&Fi(k.fromDom(a.parentNode),!1)&&!f}else return!1},N4=function(e,n,a,i){var l=e.formatter.get(n),f=l[0],g=!i&&e.selection.isCollapsed(),b=e.dom,w=e.selection,A=function(ye,De){if(De===void 0&&(De=f),Nt(De.onformat)&&De.onformat(ye,De,a,i),zg(De.styles,function(Be,qe){b.setStyle(ye,qe,rf(Be,a))}),De.styles){var he=b.getAttrib(ye,"style");he&&b.setAttrib(ye,"data-mce-style",he)}zg(De.attributes,function(Be,qe){b.setAttrib(ye,qe,rf(Be,a))}),zg(De.classes,function(Be){Be=rf(Be,a),b.hasClass(ye,Be)||b.addClass(ye,Be)})},F=function(ye,De){var he=!1;return zg(ye,function(Be){if(!Gl(Be))return!1;if(!(qt(Be.collapsed)&&Be.collapsed!==g)&&b.is(De,Be.selector)&&!ws(De))return A(De,Be),he=!0,!1}),he},I=function(ye){if(ht(ye)){var De=b.create(ye);return A(De),De}else return null},V=function(ye,De,he){var Be=[],qe=!0,Ct=f.inline||f.block,_n=I(Ct);tm(ye,De,function(en){var wt,Fn=function(Dt){var tn=!1,At=qe,jt=Dt.nodeName.toLowerCase(),an=Dt.parentNode,bt=an.nodeName.toLowerCase();if(Wn(Dt)&&ye.getContentEditable(Dt)&&(At=qe,qe=ye.getContentEditable(Dt)==="true",tn=!0),ha(Dt)&&!NA(e,f,Dt,bt)){wt=null,Oc(f)&&ye.remove(Dt);return}if(Oc(f)&&f.wrapper&&Jv(e,Dt,n,a)){wt=null;return}if(qe&&!tn&&Oc(f)&&!f.wrapper&&$y(e,jt)&&Zd(e,bt,Ct)){var ln=ye.rename(Dt,Ct);A(ln),Be.push(ln),wt=null;return}if(Gl(f)){var Yn=F(l,Dt);if(!Yn&&qt(an)&&zy(f)&&(Yn=F(l,an)),!Ui(f)||Yn){wt=null;return}}qe&&!tn&&Zd(e,Ct,jt)&&Zd(e,bt,Ct)&&!(!he&&on(Dt)&&$u(Dt.data))&&!ws(Dt)&&(!Ui(f)||!ye.isBlock(Dt))?(wt||(wt=ye.clone(_n,!1),Dt.parentNode.insertBefore(wt,Dt),Be.push(wt)),wt.appendChild(Dt)):(wt=null,tt(Lr(Dt.childNodes),Fn),tn&&(qe=At),wt=null)};tt(en,Fn)}),f.links===!0&&tt(Be,function(en){var wt=function(Fn){Fn.nodeName==="A"&&A(Fn,f),tt(Lr(Fn.childNodes),wt)};wt(en)}),tt(Be,function(en){var wt=function(tn){var At=0;return tt(tn.childNodes,function(jt){!h3(jt)&&!Tl(jt)&&At++}),At},Fn=function(tn){var At=Kr(tn.childNodes,$2).filter(function(jt){return gA(ye,jt,f)});return At.map(function(jt){var an=ye.clone(jt,!1);return A(an),ye.replace(an,tn,!0),ye.remove(jt,!0),an}).getOr(tn)},Dt=wt(en);if((Be.length>1||!ye.isBlock(en))&&Dt===0){ye.remove(en,!0);return}(Ui(f)||Oc(f)&&f.wrapper)&&(!f.exact&&Dt===1&&(en=Fn(en)),Sk(e,l,a,en),$A(e,f,n,a,en),PA(ye,f,a,en),$4(ye,f,a,en),jB(ye,f,a,en),TA(ye,f,a,en))})};if(b.getContentEditable(w.getNode())==="false"){i=w.getNode();for(var Y=0,X=l.length;Y<X;Y++){var ee=l[Y];if(ee.ceFalseOverride&&Gl(ee)&&b.is(i,ee.selector)){A(i,ee);break}}Ky(e,n,i,a);return}if(f){if(i)if(hg(i)){if(!F(l,i)){var re=b.createRng();re.setStartBefore(i),re.setEndAfter(i),V(b,yg(e,re,l),!0)}}else V(b,i,!0);else if(!g||!Ui(f)||nm(e).length){var fe=w.getNode(),ce=l[0];!e.settings.forced_root_block&&ce.defaultBlock&&!b.getParent(fe,b.isBlock)&&N4(e,ce.defaultBlock),w.setRng(l4(w.getRng())),am(w,!0,function(){Lv(e,function(ye,De){var he=De?ye:yg(e,ye,l);V(b,he,!1)})}),YC(b,w,w.getRng()),e.nodeChanged()}else BB(e,n,a);D4(n,e)}Ky(e,n,i,a)},FA=function(e){return tr(e,"vars")},GB=function(e,n){e.set({}),n.on("NodeChange",function(a){VA(n,a.element,e.get())}),n.on("FormatApply FormatRemove",function(a){var i=te.from(a.node).map(function(l){return hg(l)?l:l.startContainer}).bind(function(l){return Wn(l)?te.some(l):te.from(l.parentElement)}).getOrThunk(function(){return zA(n)});VA(n,i,e.get())})},zA=function(e){return e.selection.getStart()},IA=function(e,n,a,i,l){var f=function(b){var w=e.formatter.matchNode(b,a,l!=null?l:{},i);return!Oe(w)},g=function(b){return mA(e,b,a)?!0:i?!1:qt(e.formatter.matchNode(b,a,l,!0))};return Cn(n,f,g)},LA=function(e,n){var a=n!=null?n:zA(e);return nn(pg(e.dom,a),function(i){return Wn(i)&&!mo(i)})},VA=function(e,n,a){var i=LA(e,n);hr(a,function(l,f){var g=function(b){var w=IA(e,i,f,b.similar,FA(b)?b.vars:void 0),A=w.isSome();if(b.state.get()!==A){b.state.set(A);var F=w.getOr(n);FA(b)?b.callback(A,{node:F,format:f,parents:i}):tt(b.callbacks,function(I){return I(A,{node:F,format:f,parents:i})})}};tt([l.withSimilar,l.withoutSimilar],g),tt(l.withVars,g)})},HA=function(e,n,a,i,l,f){var g=n.get();tt(a.split(","),function(b){var w=Pr(g,b).getOrThunk(function(){var I={withSimilar:{state:zu(!1),similar:!0,callbacks:[]},withoutSimilar:{state:zu(!1),similar:!1,callbacks:[]},withVars:[]};return g[b]=I,I}),A=function(){var I=LA(e);return IA(e,I,b,l,f).isSome()};if(Oe(f)){var F=l?w.withSimilar:w.withoutSimilar;F.callbacks.push(i),F.callbacks.length===1&&F.state.set(A())}else w.withVars.push({state:zu(A()),similar:l,vars:f,callback:i})}),n.set(g)},qB=function(e,n,a){var i=e.get();tt(n.split(","),function(l){return Pr(i,l).each(function(f){i[l]={withSimilar:Sn(Sn({},f.withSimilar),{callbacks:nn(f.withSimilar.callbacks,function(g){return g!==a})}),withoutSimilar:Sn(Sn({},f.withoutSimilar),{callbacks:nn(f.withoutSimilar.callbacks,function(g){return g!==a})}),withVars:nn(f.withVars,function(g){return g.callback!==a})}})}),e.set(i)},N2=function(e,n,a,i,l,f){return n.get()===null&&GB(n,e),HA(e,n,a,i,l,f),{unbind:function(){return qB(n,a,i)}}},KB=function(e,n,a,i){var l=e.formatter.get(n);w4(e,n,a,i)&&(!("toggle"in l[0])||l[0].toggle)?BA(e,n,a,i):N4(e,n,a,i)},F4=function(e,n){var a=n||document,i=a.createDocumentFragment();return tt(e,function(l){i.appendChild(l.dom)}),k.fromDom(i)},z4=function(e,n,a){return{element:e,width:n,rows:a}},UA=function(e,n){return{element:e,cells:n}},WA=function(e,n){return{x:e,y:n}},I4=function(e,n){var a=parseInt(U(e,n),10);return isNaN(a)?1:a},jA=function(e,n,a,i,l){for(var f=I4(l,"rowspan"),g=I4(l,"colspan"),b=e.rows,w=a;w<a+f;w++){b[w]||(b[w]=UA(tl(i),[]));for(var A=n;A<n+g;A++){var F=b[w].cells;F[A]=w===a&&A===n?l:Ti(l)}}},GA=function(e,n,a){var i=e.rows,l=i[a]?i[a].cells:[];return!!l[n]},L4=function(e,n,a){for(;GA(e,n,a);)n++;return n},V4=function(e){return wr(e,function(n,a){return a.cells.length>n?a.cells.length:n},0)},qA=function(e,n){for(var a=e.rows,i=0;i<a.length;i++)for(var l=a[i].cells,f=0;f<l.length;f++)if(ra(l[f],n))return te.some(WA(f,i));return te.none()},KA=function(e,n,a,i,l){for(var f=[],g=e.rows,b=a;b<=l;b++){var w=g[b].cells,A=n<i?w.slice(n,i+1):w.slice(i,n+1);f.push(UA(g[b].element,A))}return f},XB=function(e,n,a){var i=n.x,l=n.y,f=a.x,g=a.y,b=l<g?KA(e,i,l,f,g):KA(e,i,g,f,l);return z4(e.element,V4(b),b)},YB=function(e,n){var a=Ti(e.element),i=k.fromTag("tbody");return kf(i,n),Ko(a,i),a},JB=function(e){return pt(e.rows,function(n){var a=pt(n.cells,function(l){var f=tl(l);return Je(f,"colspan"),Je(f,"rowspan"),f}),i=Ti(n.element);return kf(i,a),i})},H4=function(e){var n=z4(Ti(e),0,[]);return tt(Qu(e,"tr"),function(a,i){tt(Qu(a,"td,th"),function(l,f){jA(n,L4(n,f,i),i,a,l)})}),z4(n.element,V4(n.rows),n.rows)},U4=function(e){return YB(e,JB(e))},XA=function(e,n,a){return qA(e,n).bind(function(i){return qA(e,a).map(function(l){return XB(e,i,l)})})},kk=function(e){return Kr(e,function(n){return ma(n)==="ul"||ma(n)==="ol"})},rc=function(e,n){return Kr(e,function(a){return ma(a)==="li"&&Mh(a,n)}).fold(Q([]),function(a){return kk(e).map(function(i){var l=k.fromTag(ma(i)),f=Sa(to(i),function(g,b){return gr(b,"list-style")});return pr(l,f),[k.fromTag("li"),l]}).getOr([])})},F2=function(e,n){var a=wr(n,function(i,l){return Ko(l,i),l},e);return n.length>0?F4([a]):a},dp=function(e){return eu(e)?eo(e).filter(Ls).fold(Q([]),function(n){return[e,n]}):Ls(e)?[e]:[]},ZB=function(e,n){var a=k.fromDom(n.commonAncestorContainer),i=Zf(a,e),l=nn(i,function(b){return hu(b)||jn(b)}),f=rc(i,n),g=l.concat(f.length?f:dp(a));return pt(g,Ti)},W4=function(){return F4([])},YA=function(e,n){return F2(k.fromDom(n.cloneContents()),ZB(e,n))},QB=function(e,n){return bd(n,"table",j(ra,e))},e8=function(e,n){return QB(e,n[0]).bind(function(a){var i=n[0],l=n[n.length-1],f=H4(a);return XA(f,i,l).map(function(g){return F4([U4(g)])})}).getOrThunk(W4)},t8=function(e,n){return n.length>0&&n[0].collapsed?W4():YA(e,n[0])},JA=function(e,n){var a=oS(n,e);return a.length>0?e8(e,a):t8(e,n)},xk=function(e){return e.replace(/^[ \f\n\r\t\v]+/,"")},z2=function(e,n){return n>=0&&n<e.length&&gg(e.charAt(n))},j4=function(e,n){var a=bc(e.innerText);return n?xk(a):a},Tk=function(e){return e.map(function(n){return n.nodeName}).getOr("div").toLowerCase()},n8=function(e){return te.from(e.selection.getRng()).map(function(n){var a=te.from(e.dom.getParent(n.commonAncestorContainer,e.dom.isBlock)),i=e.getBody(),l=Tk(a),f=On.browser.isIE()&&l!=="pre",g=e.dom.add(i,l,{"data-mce-bogus":"all",style:"overflow: hidden; opacity: 0;"},n.cloneContents()),b=j4(g,f),w=bc(g.textContent);if(e.dom.remove(g),z2(w,0)||z2(w,w.length-1)){var A=a.getOr(i),F=j4(A,f),I=F.indexOf(b);if(I===-1)return b;var V=z2(F,I-1),Y=z2(F,I+b.length);return(V?" ":"")+b+(Y?" ":"")}else return b}).getOr("")},r8=function(e,n){var a=e.selection.getRng(),i=e.dom.create("body"),l=e.selection.getSel(),f=Rg(e,_h(l)),g=n.contextual?JA(k.fromDom(e.getBody()),f).dom:a.cloneContents();return g&&i.appendChild(g),e.selection.serializer.serialize(i,n)},a8=function(e,n){return Sn(Sn({},e),{format:n,get:!0,selection:!0})},o8=function(e,n,a){a===void 0&&(a={});var i=a8(a,n),l=e.fire("BeforeGetContent",i);if(l.isDefaultPrevented())return e.fire("GetContent",l),l.content;if(l.format==="text")return n8(e);l.getInner=!0;var f=r8(e,l);return l.format==="tree"?f:(l.content=e.selection.isCollapsed()?"":f,e.fire("GetContent",l),l.content)},G4=0,ZA=1,QA=2,i8=function(e,n){var a=e.length+n.length+2,i=new Array(a),l=new Array(a),f=function(F,I,V){return{start:F,end:I,diag:V}},g=function(F,I,V,Y,X){var ee=w(F,I,V,Y);if(ee===null||ee.start===I&&ee.diag===I-Y||ee.end===F&&ee.diag===F-V)for(var re=F,fe=V;re<I||fe<Y;)re<I&&fe<Y&&e[re]===n[fe]?(X.push([G4,e[re]]),++re,++fe):I-F>Y-V?(X.push([QA,e[re]]),++re):(X.push([ZA,n[fe]]),++fe);else{g(F,ee.start,V,ee.start-ee.diag,X);for(var ce=ee.start;ce<ee.end;++ce)X.push([G4,e[ce]]);g(ee.end,I,ee.end-ee.diag,Y,X)}},b=function(F,I,V,Y){for(var X=F;X-I<Y&&X<V&&e[X]===n[X-I];)++X;return f(F,X,I)},w=function(F,I,V,Y){var X=I-F,ee=Y-V;if(X===0||ee===0)return null;var re=X-ee,fe=ee+X,ce=(fe%2==0?fe:fe+1)/2;i[1+ce]=F,l[1+ce]=I+1;var ye,De,he,Be,qe;for(ye=0;ye<=ce;++ye){for(De=-ye;De<=ye;De+=2){for(he=De+ce,De===-ye||De!==ye&&i[he-1]<i[he+1]?i[he]=i[he+1]:i[he]=i[he-1]+1,Be=i[he],qe=Be-F+V-De;Be<I&&qe<Y&&e[Be]===n[qe];)i[he]=++Be,++qe;if(re%2!=0&&re-ye<=De&&De<=re+ye&&l[he-re]<=i[he])return b(l[he-re],De+F-V,I,Y)}for(De=re-ye;De<=re+ye;De+=2){for(he=De+ce-re,De===re-ye||De!==re+ye&&l[he+1]<=l[he-1]?l[he]=l[he+1]-1:l[he]=l[he-1],Be=l[he]-1,qe=Be-F+V-De;Be>=F&&qe>=V&&e[Be]===n[qe];)l[he]=Be--,qe--;if(re%2==0&&-ye<=De&&De<=ye&&l[he]<=i[he+re])return b(l[he],De+F-V,I,Y)}}},A=[];return g(0,e.length,0,n.length,A),A},eD=function(e){return Wn(e)?e.outerHTML:on(e)?Ul.encodeRaw(e.data,!1):_f(e)?"<!--"+e.data+"-->":""},u8=function(e){var n,a=document.createElement("div"),i=document.createDocumentFragment();for(e&&(a.innerHTML=e);n=a.firstChild;)i.appendChild(n);return i},l8=function(e,n,a){var i=u8(n);if(e.hasChildNodes()&&a<e.childNodes.length){var l=e.childNodes[a];l.parentNode.insertBefore(i,l)}else e.appendChild(i)},s8=function(e,n){if(e.hasChildNodes()&&n<e.childNodes.length){var a=e.childNodes[n];a.parentNode.removeChild(a)}},q4=function(e,n){var a=0;tt(e,function(i){i[0]===G4?a++:i[0]===ZA?(l8(n,i[1],a),a++):i[0]===QA&&s8(n,a)})},c8=function(e){return nn(pt(Lr(e.childNodes),eD),function(n){return n.length>0})},Fb=function(e,n){var a=pt(Lr(n.childNodes),eD);return q4(i8(a,e),n),n},tD=cu(function(){return document.implementation.createHTMLDocument("undo")}),vi=function(e){return e.indexOf("</iframe>")!==-1},f8=function(e){return{type:"fragmented",fragments:e,content:"",bookmark:null,beforeBookmark:null}},v8=function(e){return{type:"complete",fragments:null,content:e,bookmark:null,beforeBookmark:null}},K4=function(e){var n=c8(e.getBody()),a=uu(n,function(l){var f=HS(e.serializer,l);return f.length>0?[f]:[]}),i=a.join("");return vi(i)?f8(a):v8(i)},X4=function(e,n,a){var i=a?n.beforeBookmark:n.bookmark;n.type==="fragmented"?Fb(n.fragments,e.getBody()):e.setContent(n.content,{format:"raw",no_selection:qt(i)&&WC(i)?!i.isFakeCaret:!0}),e.selection.moveToBookmark(i)},ac=function(e){return e.type==="fragmented"?e.fragments.join(""):e.content},I2=function(e){var n=k.fromTag("body",tD());return Jo(n,ac(e)),tt(Qu(n,"*[data-mce-bogus]"),Tf),nu(n)},L2=function(e,n){return ac(e)===ac(n)},V2=function(e,n){return I2(e)===I2(n)},zb=function(e,n){return!e||!n?!1:L2(e,n)?!0:V2(e,n)},Y4=function(e){return e.get()===0},Ek=function(e,n,a){Y4(a)&&(e.typing=n)},mp=function(e,n){e.typing&&(Ek(e,!1,n),e.add())},Ib=function(e){e.typing&&(e.typing=!1,e.add())},Lb=function(e,n,a){Y4(n)&&a.set(vC(e.selection))},J4=function(e,n,a,i,l,f,g){var b=K4(e);if(f=f||{},f=Ye.extend(f,b),Y4(i)===!1||e.removed)return null;var w=n.data[a.get()];if(e.fire("BeforeAddUndo",{level:f,lastLevel:w,originalEvent:g}).isDefaultPrevented()||w&&zb(w,f))return null;n.data[a.get()]&&l.get().each(function(V){n.data[a.get()].beforeBookmark=V});var A=L1(e);if(A&&n.data.length>A){for(var F=0;F<n.data.length-1;F++)n.data[F]=n.data[F+1];n.data.length--,a.set(n.data.length)}f.bookmark=vC(e.selection),a.get()<n.data.length-1&&(n.data.length=a.get()+1),n.data.push(f),a.set(n.data.length-1);var I={level:f,lastLevel:w,originalEvent:g};return a.get()>0?(e.setDirty(!0),e.fire("AddUndo",I),e.fire("change",I)):e.fire("AddUndo",I),f},d8=function(e,n,a){n.data=[],a.set(0),n.typing=!1,e.fire("ClearUndos")},Z4=function(e,n,a,i,l){if(n.transact(i)){var f=n.data[a.get()].bookmark,g=n.data[a.get()-1];X4(e,g,!0),n.transact(l)&&(n.data[a.get()-1].beforeBookmark=f)}},nD=function(e,n,a){var i;return n.get()<a.length-1&&(n.set(n.get()+1),i=a[n.get()],X4(e,i,!1),e.setDirty(!0),e.fire("Redo",{level:i})),i},rD=function(e,n,a,i){var l;return n.typing&&(n.add(),n.typing=!1,Ek(n,!1,a)),i.get()>0&&(i.set(i.get()-1),l=n.data[i.get()],X4(e,l,!0),e.setDirty(!0),e.fire("Undo",{level:l})),l},m8=function(e){e.clear(),e.add()},g8=function(e,n,a){return a.get()>0||n.typing&&n.data[0]&&!zb(K4(e),n.data[0])},aD=function(e,n){return n.get()<e.data.length-1&&!e.typing},h8=function(e,n,a){return mp(e,n),e.beforeChange(),e.ignore(a),e.add()},p8=function(e,n){try{e.set(e.get()+1),n()}finally{e.set(e.get()-1)}},b8=function(e,n){var a=e.dom,i=qt(n)?n:e.getBody();Oe(e.hasVisual)&&(e.hasVisual=JT(e)),tt(a.select("table,a",i),function(l){switch(l.nodeName){case"TABLE":var f=fg(e),g=a.getAttrib(l,"border");(!g||g==="0")&&e.hasVisual?a.addClass(l,f):a.removeClass(l,f);break;case"A":if(!a.getAttrib(l,"href")){var b=a.getAttrib(l,"name")||l.id,w=TC(e);b&&e.hasVisual?a.addClass(l,w):a.removeClass(l,w)}break}}),e.fire("VisualAid",{element:n,hasVisual:e.hasVisual})},oD=function(e){return{undoManager:{beforeChange:function(n,a){return Lb(e,n,a)},add:function(n,a,i,l,f,g){return J4(e,n,a,i,l,f,g)},undo:function(n,a,i){return rD(e,n,a,i)},redo:function(n,a){return nD(e,n,a)},clear:function(n,a){return d8(e,n,a)},reset:function(n){return m8(n)},hasUndo:function(n,a){return g8(e,n,a)},hasRedo:function(n,a){return aD(n,a)},transact:function(n,a,i){return h8(n,a,i)},ignore:function(n,a){return p8(n,a)},extra:function(n,a,i,l){return Z4(e,n,a,i,l)}},formatter:{match:function(n,a,i,l){return w4(e,n,a,i,l)},matchAll:function(n,a){return C4(e,n,a)},matchNode:function(n,a,i,l){return Jv(e,n,a,i,l)},canApply:function(n){return S4(e,n)},closest:function(n){return ev(e,n)},apply:function(n,a,i){return N4(e,n,a,i)},remove:function(n,a,i,l){return BA(e,n,a,i,l)},toggle:function(n,a,i){return KB(e,n,a,i)},formatChanged:function(n,a,i,l,f){return N2(e,n,a,i,l,f)}},editor:{getContent:function(n,a){return US(e,n,a)},setContent:function(n,a){return vA(e,n,a)},insertContent:function(n,a){return SB(e,n,a)},addVisual:function(n){return b8(e,n)}},selection:{getContent:function(n,a){return o8(e,n,a)}},raw:{getModel:function(){return te.none()}}}},y8=function(e){var n=function(b){return Ue(b)?b:{}},a=e.undoManager,i=e.formatter,l=e.editor,f=e.selection,g=e.raw;return{undoManager:{beforeChange:a.beforeChange,add:a.add,undo:a.undo,redo:a.redo,clear:a.clear,reset:a.reset,hasUndo:a.hasUndo,hasRedo:a.hasRedo,transact:function(b,w,A){return a.transact(A)},ignore:function(b,w){return a.ignore(w)},extra:function(b,w,A,F){return a.extra(A,F)}},formatter:{match:function(b,w,A,F){return i.match(b,n(w),F)},matchAll:i.matchAll,matchNode:i.matchNode,canApply:function(b){return i.canApply(b)},closest:function(b){return i.closest(b)},apply:function(b,w,A){return i.apply(b,n(w))},remove:function(b,w,A,F){return i.remove(b,n(w))},toggle:function(b,w,A){return i.toggle(b,n(w))},formatChanged:function(b,w,A,F,I){return i.formatChanged(w,A,F,I)}},editor:{getContent:function(b,w){return l.getContent(b)},setContent:function(b,w){return l.setContent(b,w)},insertContent:function(b,w){return l.insertContent(b)},addVisual:l.addVisual},selection:{getContent:function(b,w){return f.getContent(w)}},raw:{getModel:function(){return te.some(g.getRawModel())}}}},iD=function(){var e=Q(null),n=Q("");return{undoManager:{beforeChange:st,add:e,undo:e,redo:e,clear:st,reset:st,hasUndo:Mt,hasRedo:Mt,transact:e,ignore:st,extra:st},formatter:{match:Mt,matchAll:Q([]),matchNode:Q(void 0),canApply:Mt,closest:n,apply:st,remove:st,toggle:st,formatChanged:Q({unbind:st})},editor:{getContent:n,setContent:n,insertContent:st,addVisual:st},selection:{getContent:n},raw:{getModel:Q(te.none())}}},bm=function(e){return tr(e.plugins,"rtc")},H2=function(e){return Pr(e.plugins,"rtc").bind(function(n){return te.from(n.setup)})},uD=function(e){var n=e;return H2(e).fold(function(){return n.rtcInstance=oD(e),te.none()},function(a){return n.rtcInstance=iD(),te.some(function(){return a().then(function(i){return n.rtcInstance=y8(i),i.rtc.isRemote})})})},Q4=function(e){return e.rtcInstance?e.rtcInstance:oD(e)},Di=function(e){var n=e.rtcInstance;if(n)return n;throw new Error("Failed to get RTC instance not yet initialized.")},w8=function(e,n,a){Di(e).undoManager.beforeChange(n,a)},lD=function(e,n,a,i,l,f,g){return Di(e).undoManager.add(n,a,i,l,f,g)},C8=function(e,n,a,i){return Di(e).undoManager.undo(n,a,i)},S8=function(e,n,a){return Di(e).undoManager.redo(n,a)},sD=function(e,n,a){Di(e).undoManager.clear(n,a)},cD=function(e,n){Di(e).undoManager.reset(n)},fD=function(e,n,a){return Di(e).undoManager.hasUndo(n,a)},vD=function(e,n,a){return Di(e).undoManager.hasRedo(n,a)},dD=function(e,n,a,i){return Di(e).undoManager.transact(n,a,i)},k8=function(e,n,a){Di(e).undoManager.ignore(n,a)},x8=function(e,n,a,i,l){Di(e).undoManager.extra(n,a,i,l)},T8=function(e,n,a,i,l){return Di(e).formatter.match(n,a,i,l)},E8=function(e,n,a){return Di(e).formatter.matchAll(n,a)},eE=function(e,n,a,i,l){return Di(e).formatter.matchNode(n,a,i,l)},U2=function(e,n){return Di(e).formatter.canApply(n)},mD=function(e,n){return Di(e).formatter.closest(n)},gD=function(e,n,a,i){Di(e).formatter.apply(n,a,i)},Ok=function(e,n,a,i,l){Di(e).formatter.remove(n,a,i,l)},O8=function(e,n,a,i){Di(e).formatter.toggle(n,a,i)},A8=function(e,n,a,i,l,f){return Di(e).formatter.formatChanged(n,a,i,l,f)},Ig=function(e,n,a){return Q4(e).editor.getContent(n,a)},tE=function(e,n,a){return Q4(e).editor.setContent(n,a)},hD=function(e,n,a){return Q4(e).editor.insertContent(n,a)},W2=function(e,n,a){return Di(e).selection.getContent(n,a)},pD=function(e,n){return Di(e).editor.addVisual(n)},bD=function(e,n){n===void 0&&(n={});var a=n.format?n.format:"html";return W2(e,a,n)},nE=function(e){return e.dom.length===0?(lo(e),te.none()):te.some(e)},yD=function(e,n){return e.filter(function(a){return of.isBookmarkNode(a.dom)}).bind(n?Nl:Cf)},D8=function(e,n,a,i){var l=e.dom,f=n.dom,g=i?l.length:f.length;i?(Mb(l,f,!1,!i),a.setStart(f,g)):(Mb(f,l,!1,!i),a.setEnd(f,g))},_8=function(e,n){eo(e).each(function(a){var i=e.dom;n&&_b(a,je(i,0))?ap(i,0):!n&&Rb(a,je(i,i.length))&&Bb(i,i.length)})},wD=function(e,n,a,i){e.bind(function(l){var f=i?Bb:ap;return f(l.dom,i?l.dom.length:0),n.filter(Ka).map(function(g){return D8(l,g,a,i)})}).orThunk(function(){var l=yD(n,i).or(n).filter(Ka);return l.map(function(f){return _8(f,i)})})},rE=function(e,n){var a=te.from(n.firstChild).map(k.fromDom),i=te.from(n.lastChild).map(k.fromDom);e.deleteContents(),e.insertNode(n);var l=a.bind(Cf).filter(Ka).bind(nE),f=i.bind(Nl).filter(Ka).bind(nE);wD(l,a,e,!0),wD(f,i,e,!1),e.collapse(!1)},R8=function(e,n){return Sn(Sn({format:"html"},e),{set:!0,selection:!0,content:n})},B8=function(e,n){if(n.format!=="raw"){var a=e.selection.getRng(),i=e.dom.getParent(a.commonAncestorContainer,e.dom.isBlock),l=i?{context:i.nodeName.toLowerCase()}:{},f=e.parser.parse(n.content,Sn(Sn({isRootContent:!0,forced_root_block:!1},l),n));return cm({validate:e.validate},e.schema).serialize(f)}else return n.content},j2=function(e,n,a){a===void 0&&(a={});var i=R8(a,n),l=i;if(!i.no_events){var f=e.fire("BeforeSetContent",i);if(f.isDefaultPrevented()){e.fire("SetContent",f);return}else l=f}l.content=B8(e,l);var g=e.selection.getRng();rE(g,g.createContextualFragment(l.content)),e.selection.setRng(g),Tg(e,g),l.no_events||e.fire("SetContent",l)},Ak=function(e,n,a){if(e&&tr(e,n)){var i=nn(e[n],function(l){return l!==a});i.length===0?delete e[n]:e[n]=i}};function M8(e,n){var a,i,l=function(g,b){return Kr(b,function(w){return e.is(w,g)})},f=function(g){return e.getParents(g,null,e.getRoot())};return{selectorChangedWithUnbind:function(g,b){return a||(a={},i={},n.on("NodeChange",function(w){var A=w.element,F=f(A),I={};Ye.each(a,function(V,Y){l(Y,F).each(function(X){i[Y]||(tt(V,function(ee){ee(!0,{node:X,selector:Y,parents:F})}),i[Y]=V),I[Y]=V})}),Ye.each(i,function(V,Y){I[Y]||(delete i[Y],Ye.each(V,function(X){X(!1,{node:A,selector:Y,parents:F})}))})})),a[g]||(a[g]=[]),a[g].push(b),l(g,f(n.selection.getStart())).each(function(){i[g]=a[g]}),{unbind:function(){Ak(a,g,b),Ak(i,g,b)}}}}}var aE=function(e){return!!e.select},CD=function(e){return!!(e&&e.ownerDocument)&&Go(k.fromDom(e.ownerDocument),k.fromDom(e))},Dk=function(e){return e?aE(e)?!0:CD(e.startContainer)&&CD(e.endContainer):!1},oE=function(e,n,a,i){var l,f,g=M8(e,i).selectorChangedWithUnbind,b=function(bt,ln){var Yn=e.createRng();qt(bt)&&qt(ln)?(Yn.setStart(bt,ln),Yn.setEnd(bt,ln),ye(Yn),re(!1)):(af(e,Yn,i.getBody(),!0),ye(Yn))},w=function(bt){return bD(i,bt)},A=function(bt,ln){return j2(i,bt,ln)},F=function(bt){return Gh(i.getBody(),ce(),bt)},I=function(bt){return m2(i.getBody(),ce(),bt)},V=function(bt,ln){return jt.getBookmark(bt,ln)},Y=function(bt){return jt.moveToBookmark(bt)},X=function(bt,ln){return FS(e,bt,ln).each(ye),bt},ee=function(){var bt=ce(),ln=fe();return!bt||bt.item?!1:bt.compareEndPoints?bt.compareEndPoints("StartToEnd",bt)===0:!ln||bt.collapsed},re=function(bt){var ln=ce();ln.collapse(!!bt),ye(ln)},fe=function(){return n.getSelection?n.getSelection():n.document.selection},ce=function(){var bt,ln,Yn,oa=function(yo,Kl,_s){try{return Kl.compareBoundaryPoints(yo,_s)}catch(yt){return-1}},Dr=n.document;if(i.bookmark!==void 0&&qv(i)===!1){var Lo=o2(i);if(Lo.isSome())return Lo.map(function(yo){return Rg(i,[yo])[0]}).getOr(Dr.createRange())}try{(bt=fe())&&!Hc(bt.anchorNode)&&(bt.rangeCount>0?ln=bt.getRangeAt(0):ln=bt.createRange?bt.createRange():Dr.createRange(),ln=Rg(i,[ln])[0])}catch(yo){}return ln||(ln=Dr.createRange?Dr.createRange():Dr.body.createTextRange()),ln.setStart&&ln.startContainer.nodeType===9&&ln.collapsed&&(Yn=e.getRoot(),ln.setStart(Yn,0),ln.setEnd(Yn,0)),l&&f&&(oa(ln.START_TO_START,ln,l)===0&&oa(ln.END_TO_END,ln,l)===0?ln=f:(l=null,f=null)),ln},ye=function(bt,ln){var Yn;if(!!Dk(bt)){var oa=aE(bt)?bt:null;if(oa){f=null;try{oa.select()}catch(yo){}return}var Dr=fe(),Lo=i.fire("SetSelectionRange",{range:bt,forward:ln});if(bt=Lo.range,Dr){f=bt;try{Dr.removeAllRanges(),Dr.addRange(bt)}catch(yo){}ln===!1&&Dr.extend&&(Dr.collapse(bt.endContainer,bt.endOffset),Dr.extend(bt.startContainer,bt.startOffset)),l=Dr.rangeCount>0?Dr.getRangeAt(0):null}!bt.collapsed&&bt.startContainer===bt.endContainer&&Dr.setBaseAndExtent&&!On.ie&&bt.endOffset-bt.startOffset<2&&bt.startContainer.hasChildNodes()&&(Yn=bt.startContainer.childNodes[bt.startOffset],Yn&&Yn.tagName==="IMG"&&(Dr.setBaseAndExtent(bt.startContainer,bt.startOffset,bt.endContainer,bt.endOffset),(Dr.anchorNode!==bt.startContainer||Dr.focusNode!==bt.endContainer)&&Dr.setBaseAndExtent(Yn,0,Yn,1))),i.fire("AfterSetSelectionRange",{range:bt,forward:ln})}},De=function(bt){return A(e.getOuterHTML(bt)),bt},he=function(){return qh(i.getBody(),ce())},Be=function(bt,ln){return j3(e,ce(),bt,ln)},qe=function(){var bt=fe(),ln=bt==null?void 0:bt.anchorNode,Yn=bt==null?void 0:bt.focusNode;if(!bt||!ln||!Yn||Hc(ln)||Hc(Yn))return!0;var oa=e.createRng();oa.setStart(ln,bt.anchorOffset),oa.collapse(!0);var Dr=e.createRng();return Dr.setStart(Yn,bt.focusOffset),Dr.collapse(!0),oa.compareBoundaryPoints(oa.START_TO_START,Dr)<=0},Ct=function(){var bt=ce(),ln=fe();if(!b3(ln)&&Ss(i)){var Yn=zh(e,bt);return Yn.each(function(oa){ye(oa,qe())}),Yn.getOr(bt)}return bt},_n=function(bt,ln){return g(bt,ln),At},en=function(){for(var bt,ln=e.getRoot();ln&&ln.nodeName!=="BODY";){if(ln.scrollHeight>ln.clientHeight){bt=ln;break}ln=ln.parentNode}return bt},wt=function(bt,ln){qt(bt)?B3(i,bt,ln):Tg(i,ce(),ln)},Fn=function(bt,ln){return ye(Jy(bt,ln,i.getDoc()))},Dt=function(){var bt=ce();return bt.collapsed?je.fromRangeStart(bt).getClientRects()[0]:bt.getBoundingClientRect()},tn=function(){n=l=f=null,an.destroy()},At={bookmarkManager:null,controlSelection:null,dom:e,win:n,serializer:a,editor:i,collapse:re,setCursorLocation:b,getContent:w,setContent:A,getBookmark:V,moveToBookmark:Y,select:X,isCollapsed:ee,isForward:qe,setNode:De,getNode:he,getSel:fe,setRng:ye,getRng:ce,getStart:F,getEnd:I,getSelectedBlocks:Be,normalize:Ct,selectorChanged:_n,selectorChangedWithUnbind:g,getScrollContainer:en,scrollIntoView:wt,placeCaretAt:Fn,getBoundingClientRect:Dt,destroy:tn},jt=of(At),an=cS(At,i);return At.bookmarkManager=jt,At.controlSelection=an,At},P8=function(e,n){tt(n,function(a){e.attr(a,null)})},_i=function(e,n,a){e.addNodeFilter("font",function(i){tt(i,function(l){var f=n.parse(l.attr("style")),g=l.attr("color"),b=l.attr("face"),w=l.attr("size");g&&(f.color=g),b&&(f["font-family"]=b),w&&(f["font-size"]=a[parseInt(l.attr("size"),10)-1]),l.name="span",l.attr("style",n.serialize(f)),P8(l,["color","face","size"])})})},$8=function(e,n){e.addNodeFilter("strike",function(a){tt(a,function(i){var l=n.parse(i.attr("style"));l["text-decoration"]="line-through",i.name="span",i.attr("style",n.serialize(l))})})},SD=function(e,n){var a=Ff();n.convert_fonts_to_spans&&_i(e,a,Ye.explode(n.font_size_legacy_values)),$8(e,a)},N8=function(e,n){n.inline_styles&&SD(e,n)},F8=function(e){return new yi(function(n,a){var i=function(){a("Cannot convert "+e+" to Blob. Resource might not exist or is inaccessible.")};try{var l=new XMLHttpRequest;l.open("GET",e,!0),l.responseType="blob",l.onload=function(){l.status===200?n(l.response):i()},l.onerror=i,l.send()}catch(f){i()}})},_k=function(e){var n,a=decodeURIComponent(e).split(","),i=/data:([^;]+)/.exec(a[0]);return i&&(n=i[1]),{type:n,data:a[1]}},kD=function(e,n){var a;try{a=atob(n)}catch(f){return te.none()}for(var i=new Uint8Array(a.length),l=0;l<i.length;l++)i[l]=a.charCodeAt(l);return te.some(new Blob([i],{type:e}))},iE=function(e){return new yi(function(n){var a=_k(e),i=a.type,l=a.data;kD(i,l).fold(function(){return n(new Blob([]))},n)})},xD=function(e){return e.indexOf("blob:")===0?F8(e):e.indexOf("data:")===0?iE(e):null},TD=function(e){return new yi(function(n){var a=new FileReader;a.onloadend=function(){n(a.result)},a.readAsDataURL(e)})},uE=0,lE=function(e){return(e||"blobid")+uE++},z8=function(e,n,a,i){var l,f;if(n.src.indexOf("blob:")===0){f=e.getByUri(n.src),f?a({image:n,blobInfo:f}):xD(n.src).then(function(A){TD(A).then(function(F){l=_k(F).data,f=e.create(lE(),A,l),e.add(f),a({image:n,blobInfo:f})})},function(A){i(A)});return}var g=_k(n.src),b=g.data,w=g.type;l=b,f=e.getByData(l,w),f?a({image:n,blobInfo:f}):xD(n.src).then(function(A){f=e.create(lE(),A,l),e.add(f),a({image:n,blobInfo:f})},function(A){i(A)})},I8=function(e){return e?Lr(e.getElementsByTagName("img")):[]},L8=function(e,n){var a={},i=function(l,f){f||(f=sn);var g=nn(I8(l),function(w){var A=w.src;return!On.fileApi||w.hasAttribute("data-mce-bogus")||w.hasAttribute("data-mce-placeholder")||!A||A===On.transparentSrc?!1:A.indexOf("blob:")===0?!e.isUploaded(A)&&f(w):A.indexOf("data:")===0?f(w):!1}),b=pt(g,function(w){if(a[w.src]!==void 0)return new yi(function(F){a[w.src].then(function(I){if(typeof I=="string")return I;F({image:w,blobInfo:I.blobInfo})})});var A=new yi(function(F,I){z8(n,w,F,I)}).then(function(F){return delete a[F.image.src],F}).catch(function(F){return delete a[w.src],F});return a[w.src]=A,A});return yi.all(b)};return{findAll:i}},ED=function(e,n,a,i){var l=e.padd_empty_with_br||n.insert;l&&a[i.name]?i.empty().append(new ks("br",1)).shortEnded=!0:i.empty().append(new ks("#text",3)).value=hl},OD=function(e){return sE(e,"#text")&&e.firstChild.value===hl},sE=function(e,n){return e&&e.firstChild&&e.firstChild===e.lastChild&&e.firstChild.name===n},cE=function(e,n){var a=e.getElementRule(n.name);return a&&a.paddEmpty},Vb=function(e,n,a,i){return i.isEmpty(n,a,function(l){return cE(e,l)})},AD=function(e,n){return e&&(tr(n,e.name)||e.name==="br")},DD=function(e){return qt(e.attr("data-mce-bogus"))},_D=function(e){return e.attr("src")===On.transparentSrc||qt(e.attr("data-mce-placeholder"))},RD=function(e,n){if(n.images_dataimg_filter){var a=new Image;return a.src=e.attr("src"),hr(e.attributes.map,function(i,l){a.setAttribute(l,i)}),n.images_dataimg_filter(a)}else return!0},BD=function(e,n){var a=n.blob_cache,i=function(l){var f=l.attr("src");_D(l)||DD(l)||q3(f).filter(function(){return RD(l,n)}).bind(function(g){var b=g.type,w=g.data;return te.from(a.getByData(w,b)).orThunk(function(){return kD(b,w).map(function(A){var F=a.create(lE(),A,w);return a.add(F),F})})}).each(function(g){l.attr("src",g.blobUri())})};a&&e.addAttributeFilter("src",function(l){return tt(l,i)})},V8=function(e,n){var a=e.schema;n.remove_trailing_brs&&e.addNodeFilter("br",function(i,l,f){var g,b=i.length,w,A=Ye.extend({},a.getBlockElements()),F=a.getNonEmptyElements(),I,V,Y,X,ee=a.getWhiteSpaceElements(),re,fe;for(A.body=1,g=0;g<b;g++)if(w=i[g],I=w.parent,A[w.parent.name]&&w===I.lastChild){for(Y=w.prev;Y;){if(X=Y.name,X!=="span"||Y.attr("data-mce-type")!=="bookmark"){X==="br"&&(w=null);break}Y=Y.prev}w&&(w.remove(),Vb(a,F,ee,I)&&(re=a.getElementRule(I.name),re&&(re.removeEmpty?I.remove():re.paddEmpty&&ED(n,f,A,I))))}else{for(V=w;I&&I.firstChild===V&&I.lastChild===V&&(V=I,!A[I.name]);)I=I.parent;V===I&&n.padd_empty_with_br!==!0&&(fe=new ks("#text",3),fe.value=hl,w.replace(fe))}}),e.addAttributeFilter("href",function(i){var l=i.length,f=function(w){var A=w.split(" ").filter(function(F){return F.length>0});return A.concat(["noopener"]).sort().join(" ")},g=function(w){var A=w?Ye.trim(w):"";return/\b(noopener)\b/g.test(A)?A:f(A)};if(!n.allow_unsafe_link_target)for(;l--;){var b=i[l];b.name==="a"&&b.attr("target")==="_blank"&&b.attr("rel",g(b.attr("rel")))}}),n.allow_html_in_named_anchor||e.addAttributeFilter("id,name",function(i){for(var l=i.length,f,g,b,w;l--;)if(w=i[l],w.name==="a"&&w.firstChild&&!w.attr("href")){b=w.parent,f=w.lastChild;do g=f.prev,b.insert(f,w),f=g;while(f)}}),n.fix_list_elements&&e.addNodeFilter("ul,ol",function(i){for(var l=i.length,f,g;l--;)if(f=i[l],g=f.parent,g.name==="ul"||g.name==="ol")if(f.prev&&f.prev.name==="li")f.prev.append(f);else{var b=new ks("li",1);b.attr("style","list-style-type: none"),f.wrap(b)}}),n.validate&&a.getValidClasses()&&e.addAttributeFilter("class",function(i){for(var l=a.getValidClasses(),f=i.length;f--;){for(var g=i[f],b=g.attr("class").split(" "),w="",A=0;A<b.length;A++){var F=b[A],I=!1,V=l["*"];V&&V[F]&&(I=!0),V=l[g.name],!I&&V&&V[F]&&(I=!0),I&&(w&&(w+=" "),w+=F)}w.length||(w=null),g.attr("class",w)}}),BD(e,n)},Rk=Ye.makeMap,MD=Ye.each,G2=Ye.explode,H8=Ye.extend,fE=function(e,n){n===void 0&&(n=dr());var a={},i=[],l={},f={};e=e||{},e.validate="validate"in e?e.validate:!0,e.root_name=e.root_name||"body";var g=function(X){for(var ee=Rk("tr,td,th,tbody,thead,tfoot,table"),re=n.getNonEmptyElements(),fe=n.getWhiteSpaceElements(),ce=n.getTextBlockElements(),ye=n.getSpecialElements(),De=function(jt,an){if(an===void 0&&(an=jt.parent),ye[jt.name])jt.empty().remove();else{for(var bt=jt.children(),ln=0,Yn=bt;ln<Yn.length;ln++){var oa=Yn[ln];n.isValidChild(an.name,oa.name)||De(oa,an)}jt.unwrap()}},he=0;he<X.length;he++){var Be=X[he],qe=void 0,Ct=void 0,_n=void 0;if(!(!Be.parent||Be.fixed)){if(ce[Be.name]&&Be.parent.name==="li"){for(var en=Be.next;en&&ce[en.name];){en.name="li",en.fixed=!0,Be.parent.insert(en,Be.parent);en=en.next}Be.unwrap();continue}var wt=[Be];for(qe=Be.parent;qe&&!n.isValidChild(qe.name,Be.name)&&!ee[qe.name];qe=qe.parent)wt.push(qe);if(qe&&wt.length>1)if(n.isValidChild(qe.name,Be.name)){wt.reverse(),Ct=b(wt[0].clone());for(var Fn=Ct,Dt=0;Dt<wt.length-1;Dt++){n.isValidChild(Fn.name,wt[Dt].name)?(_n=b(wt[Dt].clone()),Fn.append(_n)):_n=Fn;for(var tn=wt[Dt].firstChild;tn&&tn!==wt[Dt+1];){var At=tn.next;_n.append(tn),tn=At}Fn=_n}Vb(n,re,fe,Ct)?qe.insert(Be,wt[0],!0):(qe.insert(Ct,wt[0],!0),qe.insert(Be,Ct)),qe=wt[0],(Vb(n,re,fe,qe)||sE(qe,"br"))&&qe.empty().remove()}else De(Be);else if(Be.parent){if(Be.name==="li"){var en=Be.prev;if(en&&(en.name==="ul"||en.name==="ol")){en.append(Be);continue}if(en=Be.next,en&&(en.name==="ul"||en.name==="ol")){en.insert(Be,en.firstChild,!0);continue}Be.wrap(b(new ks("ul",1)));continue}n.isValidChild(Be.parent.name,"div")&&n.isValidChild("div",Be.name)?Be.wrap(b(new ks("div",1))):De(Be)}}}},b=function(X){var ee=X.name;if(ee in a){var re=l[ee];re?re.push(X):l[ee]=[X]}for(var fe=i.length;fe--;){var ce=i[fe].name;if(ce in X.attributes.map){var re=f[ce];re?re.push(X):f[ce]=[X]}}return X},w=function(X,ee){MD(G2(X),function(re){var fe=a[re];fe||(a[re]=fe=[]),fe.push(ee)})},A=function(){var X=[];for(var ee in a)tr(a,ee)&&X.push({name:ee,callbacks:a[ee]});return X},F=function(X,ee){MD(G2(X),function(re){var fe;for(fe=0;fe<i.length;fe++)if(i[fe].name===re){i[fe].callbacks.push(ee);return}i.push({name:re,callbacks:[ee]})})},I=function(){return[].concat(i)},V=function(X,ee){var re,fe,ce,ye,De,he,Be,qe=[],Ct,_n=function(Le){return Le===!1?"":Le===!0?"p":Le};ee=ee||{},l={},f={};var en=H8(Rk("script,style,head,html,body,title,meta,param"),n.getBlockElements()),wt=n.getNonEmptyElements(),Fn=n.children,Dt=e.validate,tn="forced_root_block"in ee?ee.forced_root_block:e.forced_root_block,At=_n(tn),jt=n.getWhiteSpaceElements(),an=/^[ \t\r\n]+/,bt=/[ \t\r\n]+$/,ln=/[ \t\r\n]+/g,Yn=/^[ \t\r\n]+$/,oa=tr(jt,ee.context)||tr(jt,e.root_name),Dr=function(){var Le=yt.firstChild,St=null,Ve=function(Vt){Vt&&(Le=Vt.firstChild,Le&&Le.type===3&&(Le.value=Le.value.replace(an,"")),Le=Vt.lastChild,Le&&Le.type===3&&(Le.value=Le.value.replace(bt,"")))};if(!!n.isValidChild(yt.name,At.toLowerCase())){for(;Le;){var vn=Le.next;Le.type===3||Le.type===1&&Le.name!=="p"&&!en[Le.name]&&!Le.attr("data-mce-type")?(St||(St=Lo(At,1),St.attr(e.forced_root_block_attrs),yt.insert(St,Le)),St.append(Le)):(Ve(St),St=null),Le=vn}Ve(St)}},Lo=function(Le,St){var Ve=new ks(Le,St),vn;return Le in a&&(vn=l[Le],vn?vn.push(Ve):l[Le]=[Ve]),Ve},yo=function(Le){for(var St=n.getBlockElements(),Ve=Le.prev;Ve&&Ve.type===3;){var vn=Ve.value.replace(bt,"");if(vn.length>0){Ve.value=vn;return}var Vt=Ve.next;if(Vt){if(Vt.type===3&&Vt.value.length){Ve=Ve.prev;continue}if(!St[Vt.name]&&Vt.name!=="script"&&Vt.name!=="style"){Ve=Ve.prev;continue}}var Pn=Ve.prev;Ve.remove(),Ve=Pn}},Kl=function(Le){var St={};for(var Ve in Le)Ve!=="li"&&Ve!=="p"&&(St[Ve]=Le[Ve]);return St},_s=wb({validate:Dt,document:e.document,allow_html_data_urls:e.allow_html_data_urls,allow_svg_data_urls:e.allow_svg_data_urls,allow_script_urls:e.allow_script_urls,allow_conditional_comments:e.allow_conditional_comments,preserve_cdata:e.preserve_cdata,self_closing_elements:Kl(n.getSelfClosingElements()),cdata:function(Le){Ct.append(Lo("#cdata",4)).value=Le},text:function(Le,St){var Ve;oa||(Le=Le.replace(ln," "),AD(Ct.lastChild,en)&&(Le=Le.replace(an,""))),Le.length!==0&&(Ve=Lo("#text",3),Ve.raw=!!St,Ct.append(Ve).value=Le)},comment:function(Le){Ct.append(Lo("#comment",8)).value=Le},pi:function(Le,St){Ct.append(Lo(Le,7)).value=St,yo(Ct)},doctype:function(Le){var St=Ct.append(Lo("#doctype",10));St.value=Le,yo(Ct)},start:function(Le,St,Ve){var vn=Dt?n.getElementRule(Le):{};if(vn){var Vt=Lo(vn.outputName||Le,1);Vt.attributes=St,Vt.shortEnded=Ve,Ct.append(Vt);var Pn=Fn[Ct.name];Pn&&Fn[Vt.name]&&!Pn[Vt.name]&&qe.push(Vt);for(var mr=i.length;mr--;){var Wa=i[mr].name;Wa in St.map&&(he=f[Wa],he?he.push(Vt):f[Wa]=[Vt])}en[Le]&&yo(Vt),Ve||(Ct=Vt),!oa&&jt[Le]&&(oa=!0)}},end:function(Le){var St,Ve,vn,Vt,Pn=Dt?n.getElementRule(Le):{};if(Pn){if(en[Le]&&!oa){if(St=Ct.firstChild,St&&St.type===3)if(Ve=St.value.replace(an,""),Ve.length>0)St.value=Ve,St=St.next;else for(vn=St.next,St.remove(),St=vn;St&&St.type===3;)Ve=St.value,vn=St.next,(Ve.length===0||Yn.test(Ve))&&(St.remove(),St=vn),St=vn;if(St=Ct.lastChild,St&&St.type===3)if(Ve=St.value.replace(bt,""),Ve.length>0)St.value=Ve,St=St.prev;else for(vn=St.prev,St.remove(),St=vn;St&&St.type===3;)Ve=St.value,vn=St.prev,(Ve.length===0||Yn.test(Ve))&&(St.remove(),St=vn),St=vn}if(oa&&jt[Le]&&(oa=!1),Pn.removeEmpty&&Vb(n,wt,jt,Ct)){Vt=Ct.parent,en[Ct.name]?Ct.empty().remove():Ct.unwrap(),Ct=Vt;return}Pn.paddEmpty&&(OD(Ct)||Vb(n,wt,jt,Ct))&&ED(e,ee,en,Ct),Ct=Ct.parent}}},n),yt=Ct=new ks(ee.context||e.root_name,11);if(_s.parse(X,ee.format),Dt&&qe.length&&(ee.context?ee.invalid=!0:g(qe)),At&&(yt.name==="body"||ee.isRootContent)&&Dr(),!ee.invalid){for(Be in l)if(!!tr(l,Be)){for(he=a[Be],re=l[Be],ye=re.length;ye--;)re[ye].parent||re.splice(ye,1);for(fe=0,ce=he.length;fe<ce;fe++)he[fe](re,Be,ee)}for(fe=0,ce=i.length;fe<ce;fe++)if(he=i[fe],he.name in f){for(re=f[he.name],ye=re.length;ye--;)re[ye].parent||re.splice(ye,1);for(ye=0,De=he.callbacks.length;ye<De;ye++)he.callbacks[ye](re,he.name,ee)}}return yt},Y={schema:n,addAttributeFilter:F,getAttributeFilters:I,addNodeFilter:w,getNodeFilters:A,filterNode:b,parse:V};return V8(Y,e),N8(Y,e),Y},U8=function(e,n,a){e.addAttributeFilter("data-mce-tabindex",function(i,l){for(var f=i.length;f--;){var g=i[f];g.attr("tabindex",g.attr("data-mce-tabindex")),g.attr(l,null)}}),e.addAttributeFilter("src,href,style",function(i,l){for(var f="data-mce-"+l,g=n.url_converter,b=n.url_converter_scope,w=i.length;w--;){var A=i[w],F=A.attr(f);F!==void 0?(A.attr(l,F.length>0?F:null),A.attr(f,null)):(F=A.attr(l),l==="style"?F=a.serializeStyle(a.parseStyle(F),A.name):g&&(F=g.call(b,F,l,A.name)),A.attr(l,F.length>0?F:null))}}),e.addAttributeFilter("class",function(i){for(var l=i.length;l--;){var f=i[l],g=f.attr("class");g&&(g=f.attr("class").replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),f.attr("class",g.length>0?g:null))}}),e.addAttributeFilter("data-mce-type",function(i,l,f){for(var g=i.length;g--;){var b=i[g];if(b.attr("data-mce-type")==="bookmark"&&!f.cleanup){var w=te.from(b.firstChild).exists(function(A){return!$u(A.value)});w?b.unwrap():b.remove()}}}),e.addNodeFilter("noscript",function(i){for(var l=i.length;l--;){var f=i[l].firstChild;f&&(f.value=Ul.decode(f.value))}}),e.addNodeFilter("script,style",function(i,l){for(var f=function(F){return F.replace(/(<!--\[CDATA\[|\]\]-->)/g,`
`).replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"")},g=i.length;g--;){var b=i[g],w=b.firstChild?b.firstChild.value:"";if(l==="script"){var A=b.attr("type");A&&b.attr("type",A==="mce-no/type"?null:A.replace(/^mce\-/,"")),n.element_format==="xhtml"&&w.length>0&&(b.firstChild.value=`// <![CDATA[
`+f(w)+`
// ]]>`)}else n.element_format==="xhtml"&&w.length>0&&(b.firstChild.value=`<!--
`+f(w)+`
-->`)}}),e.addNodeFilter("#comment",function(i){for(var l=i.length;l--;){var f=i[l];n.preserve_cdata&&f.value.indexOf("[CDATA[")===0?(f.name="#cdata",f.type=4,f.value=a.decode(f.value.replace(/^\[CDATA\[|\]\]$/g,""))):f.value.indexOf("mce:protected ")===0&&(f.name="#text",f.type=3,f.raw=!0,f.value=unescape(f.value).substr(14))}}),e.addNodeFilter("xml:namespace,input",function(i,l){for(var f=i.length;f--;){var g=i[f];g.type===7?g.remove():g.type===1&&l==="input"&&!g.attr("type")&&g.attr("type","text")}}),e.addAttributeFilter("data-mce-type",function(i){tt(i,function(l){l.attr("data-mce-type")==="format-caret"&&(l.isEmpty(e.schema.getNonEmptyElements())?l.remove():l.unwrap())})}),e.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-type,data-mce-resize,data-mce-placeholder",function(i,l){for(var f=i.length;f--;)i[f].attr(l,null)})},PD=function(e){var n=function(l){return l&&l.name==="br"},a=e.lastChild;if(n(a)){var i=a.prev;n(i)&&(a.remove(),i.remove())}},$D=function(e,n,a){var i,l=e.dom,f=n.cloneNode(!0),g=document.implementation;if(g.createHTMLDocument){var b=g.createHTMLDocument("");Ye.each(f.nodeName==="BODY"?f.childNodes:[f],function(w){b.body.appendChild(b.importNode(w,!0))}),f.nodeName!=="BODY"?f=b.body.firstChild:f=b.body,i=l.doc,l.doc=b}return iS(e,Sn(Sn({},a),{node:f})),i&&(l.doc=i),f},W8=function(e,n){return e&&e.hasEventListeners("PreProcess")&&!n.no_events},j8=function(e,n,a){return W8(e,a)?$D(e,n,a):n},G8=function(e,n,a){Ye.inArray(n,a)===-1&&(e.addAttributeFilter(a,function(i,l){for(var f=i.length;f--;)i[f].attr(l,null)}),n.push(a))},q8=function(e,n,a){if(!n.no_events&&e){var i=Nh(e,Sn(Sn({},n),{content:a}));return i.content}else return a},ND=function(e,n,a){var i=bc(a.getInner?n.innerHTML:e.getOuterHTML(n));return a.selection||yd(k.fromDom(n))?i:Ye.trim(i)},K8=function(e,n,a){var i=a.selection?Sn({forced_root_block:!1},a):a,l=e.parse(n,i);return PD(l),l},X8=function(e,n,a){var i=cm(e,n);return i.serialize(a)},Y8=function(e,n,a,i,l){var f=X8(n,a,i);return q8(e,l,f)},J8=function(e,n){var a=["data-mce-selected"],i=n&&n.dom?n.dom:Na.DOM,l=n&&n.schema?n.schema:dr(e);e.entity_encoding=e.entity_encoding||"named",e.remove_trailing_brs="remove_trailing_brs"in e?e.remove_trailing_brs:!0;var f=fE(e,l);U8(f,e,i);var g=function(b,w){w===void 0&&(w={});var A=Sn({format:"html"},w),F=j8(n,b,A),I=ND(i,F,A),V=K8(f,I,A);return A.format==="tree"?V:Y8(n,e,l,V,A)};return{schema:l,addNodeFilter:f.addNodeFilter,addAttributeFilter:f.addAttributeFilter,serialize:g,addRules:l.addValidElements,setRules:l.setValidElements,addTempAttr:j(G8,f,a),getTempAttrs:Q(a),getNodeFilters:f.getNodeFilters,getAttributeFilters:f.getAttributeFilters}},FD=function(e,n){var a=J8(e,n);return{schema:a.schema,addNodeFilter:a.addNodeFilter,addAttributeFilter:a.addAttributeFilter,serialize:a.serialize,addRules:a.addRules,setRules:a.setRules,addTempAttr:a.addTempAttr,getTempAttrs:a.getTempAttrs,getNodeFilters:a.getNodeFilters,getAttributeFilters:a.getAttributeFilters}},Z8="html",Q8=function(e,n){n===void 0&&(n={});var a=n.format?n.format:Z8;return Ig(e,n,a)},vE=function(e,n,a){return a===void 0&&(a={}),tE(e,n,a)},q2=Na.DOM,e6=function(e){q2.setStyle(e.id,"display",e.orgDisplay)},Bk=function(e){return te.from(e).each(function(n){return n.destroy()})},t6=function(e){e.contentAreaContainer=e.formElement=e.container=e.editorContainer=null,e.bodyElement=e.contentDocument=e.contentWindow=null,e.iframeElement=e.targetElm=null,e.selection&&(e.selection=e.selection.win=e.selection.dom=e.selection.dom.doc=null)},n6=function(e){var n=e.formElement;n&&(n._mceOldSubmit&&(n.submit=n._mceOldSubmit,n._mceOldSubmit=null),q2.unbind(n,"submit reset",e.formEventDelegate))},r6=function(e){if(!e.removed){var n=e._selectionOverrides,a=e.editorUpload,i=e.getBody(),l=e.getElement();i&&e.save({is_removing:!0}),e.removed=!0,e.unbindAllNativeEvents(),e.hasHiddenInput&&l&&q2.remove(l.nextSibling),w3(e),e.editorManager.remove(e),!e.inline&&i&&e6(e),Wy(e),q2.remove(e.getContainer()),Bk(n),Bk(a),e.destroy()}},K2=function(e,n){var a=e.selection,i=e.dom;if(!e.destroyed){if(!n&&!e.removed){e.remove();return}n||(e.editorManager.off("beforeunload",e._beforeUnload),e.theme&&e.theme.destroy&&e.theme.destroy(),Bk(a),Bk(i)),n6(e),t6(e),e.destroyed=!0}},a6=function(e,n){var a=Ue(e)&&Ue(n);return a?dE(e,n):n},o6=function(e){return function(){for(var n=[],a=0;a<arguments.length;a++)n[a]=arguments[a];if(n.length===0)throw new Error("Can't merge zero objects");for(var i={},l=0;l<n.length;l++){var f=n[l];for(var g in f)tr(f,g)&&(i[g]=e(i[g],f[g]))}return i}},dE=o6(a6),zD="autoresize_on_init,content_editable_state,convert_fonts_to_spans,inline_styles,padd_empty_with_br,block_elements,boolean_attributes,editor_deselector,editor_selector,elements,file_browser_callback_types,filepicker_validator_handler,force_hex_style_colors,force_p_newlines,gecko_spellcheck,images_dataimg_filter,media_scripts,mode,move_caret_before_on_enter_elements,non_empty_elements,self_closing_elements,short_ended_elements,special,spellchecker_select_languages,spellchecker_whitelist,tab_focus,table_responsive_width,text_block_elements,text_inline_elements,toolbar_drawer,types,validate,whitespace_elements,paste_word_valid_elements,paste_retain_style_properties,paste_convert_word_fake_lists".split(","),i6="bbcode,colorpicker,contextmenu,fullpage,legacyoutput,spellchecker,textcolor".split(","),u6="imagetools,toc".split(","),l6=function(e){var n=nn(zD,function(i){return tr(e,i)}),a=e.forced_root_block;return(a===!1||a==="")&&n.push("forced_root_block (false only)"),la(n)},X2=function(e){var n=Ye.makeMap(e.plugins," "),a=function(l){return tr(n,l)},i=ii(ii([],nn(i6,a),!0),uu(u6,function(l){return a(l)?[l+" (moving to premium)"]:[]}),!0);return la(i)},ID=function(e,n){var a=l6(e),i=X2(n),l=i.length>0,f=a.length>0,g=n.theme==="mobile";if(l||f||g){var b=`
- `,w=g?`

Themes:`+b+"mobile":"",A=l?`

Plugins:`+b+i.join(b):"",F=f?`

Settings:`+b+a.join(b):"";console.warn("The following deprecated features are currently enabled, these will be removed in TinyMCE 6.0. See https://www.tiny.cloud/docs/release-notes/6.0-upcoming-changes/ for more information."+w+A+F)}},LD=function(e,n){return{sections:Q(e),settings:Q(n)}},mE=hn().deviceType,VD=mE.isTouch(),HD=mE.isPhone(),s6=mE.isTablet(),c6=["lists","autolink","autosave"],gE={table_grid:!1,object_resizing:!1,resize:!1},Y2=function(e){var n=Wt(e)?e.join(" "):e,a=pt(ht(n)?n.split(" "):[],ka);return nn(a,function(i){return i.length>0})},f6=function(e){return nn(e,j(Re,c6))},v6=function(e,n){var a=Cr(n,function(i,l){return Re(e,l)});return LD(a.t,a.f)},UD=function(e,n,a){a===void 0&&(a={});var i=e.sections(),l=Pr(i,n).getOr({});return Ye.extend({},a,l)},Mk=function(e,n){return tr(e.sections(),n)},d6=function(e,n,a){var i=e.sections();return Mk(e,n)&&i[n].theme===a},J2=function(e,n){return Mk(e,n)?e.sections()[n]:{}},hE=function(e,n){return Pr(e,"toolbar_mode").orThunk(function(){return Pr(e,"toolbar_drawer").map(function(a){return a===!1?"wrap":a})}).getOr(n)},WD=function(e,n,a,i,l){var f={id:n,theme:"silver",toolbar_mode:hE(e,"floating"),plugins:"",document_base_url:a,add_form_submit_trigger:!0,submit_patch:!0,add_unload_trigger:!0,convert_urls:!0,relative_urls:!0,remove_script_host:!0,object_resizing:!0,doctype:"<!DOCTYPE html>",visual:!0,font_size_legacy_values:"xx-small,small,medium,large,x-large,xx-large,300%",forced_root_block:"p",hidden_input:!0,inline_styles:!0,convert_fonts_to_spans:!0,indent:!0,indent_before:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",indent_after:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",entity_encoding:"named",url_converter:l.convertURL,url_converter_scope:l};return Sn(Sn({},f),i?gE:{})},m6=function(e,n){var a={resize:!1,toolbar_mode:hE(e,"scrolling"),toolbar_sticky:!1},i={menubar:!1};return Sn(Sn(Sn({},gE),a),n?i:{})},g6=function(e,n){var a=n.external_plugins?n.external_plugins:{};return e&&e.external_plugins?Ye.extend({},e.external_plugins,a):a},h6=function(e,n){return[].concat(Y2(e)).concat(Y2(n))},jD=function(e,n,a,i){return e&&d6(n,"mobile","mobile")?f6(i):e&&Mk(n,"mobile")?i:a},p6=function(e,n,a,i){var l=Y2(a.forced_plugins),f=Y2(i.plugins),g=J2(n,"mobile"),b=g.plugins?Y2(g.plugins):f,w=jD(e,n,f,b),A=h6(l,w);if(On.browser.isIE()&&Re(A,"rtc"))throw new Error("RTC plugin is not supported on IE 11.");return Ye.extend(i,{plugins:A.join(" ")})},b6=function(e,n){return e&&Mk(n,"mobile")},y6=function(e,n,a,i,l){var f=e?{mobile:m6(l.mobile||{},n)}:{},g=v6(["mobile"],dE(f,l)),b=Ye.extend(a,i,g.settings(),b6(e,g)?UD(g,"mobile"):{},{validate:!0,external_plugins:g6(i,g.settings())});return p6(e,g,i,b)},w6=function(e,n,a,i,l){var f=WD(l,n,a,VD,e),g=y6(HD||s6,HD,f,i,l);return g.deprecation_warnings!==!1&&ID(l,g),g},gp=function(e,n,a){return te.from(n.settings[a]).filter(e)},ju=function(e){var n={};return typeof e=="string"?tt(e.indexOf("=")>0?e.split(/[;,](?![^=;,]*(?:[;,]|$))/):e.split(","),function(a){var i=a.split("=");i.length>1?n[Ye.trim(i[0])]=Ye.trim(i[1]):n[Ye.trim(i[0])]=Ye.trim(i[0])}):n=e,n},GD=function(e){return function(n){return Wt(n)&&lu(n,e)}},C6=function(e,n,a,i){var l=n in e.settings?e.settings[n]:a;return i==="hash"?ju(l):i==="string"?gp(ht,e,n).getOr(a):i==="number"?gp(Zt,e,n).getOr(a):i==="boolean"?gp(dt,e,n).getOr(a):i==="object"?gp(Ue,e,n).getOr(a):i==="array"?gp(Wt,e,n).getOr(a):i==="string[]"?gp(GD(ht),e,n).getOr(a):i==="function"?gp(Nt,e,n).getOr(a):l},S6=function(){var e={},n=function(l,f){e[l]=f},a=function(l){return e[l]?e[l]:{icons:{}}},i=function(l){return tr(e,l)};return{add:n,get:a,has:i}},Pk=S6(),qD=function(e,n){var a=n.dom;return a[e]},Ir=function(e,n){return parseInt(ir(n,e),10)},k6=j(qD,"clientWidth"),x6=j(qD,"clientHeight"),T6=j(Ir,"margin-top"),Oo=j(Ir,"margin-left"),E6=function(e){return e.dom.getBoundingClientRect()},Z2=function(e,n,a){var i=k6(e),l=x6(e);return n>=0&&a>=0&&n<=i&&a<=l},O6=function(e,n,a,i){var l=E6(n),f=e?l.left+n.dom.clientLeft+Oo(n):0,g=e?l.top+n.dom.clientTop+T6(n):0,b=a-f,w=i-g;return{x:b,y:w}},KD=function(e,n,a){var i=k.fromDom(e.getBody()),l=e.inline?i:vl(i),f=O6(e.inline,l,n,a);return Z2(l,f.x,f.y)},A6=function(e){return te.from(e).map(k.fromDom)},XD=function(e){var n=e.inline?e.getBody():e.getContentAreaContainer();return A6(n).map(Ef).getOr(!1)},Lg=function(){var e=function(){throw new Error("Theme did not provide a NotificationManager implementation.")};return{open:e,close:e,reposition:e,getArgs:e}},Ts=function(e){var n=[],a=function(){var V=e.theme;return V&&V.getNotificationManagerImpl?V.getNotificationManagerImpl():Lg()},i=function(){return te.from(n[0])},l=function(V,Y){return V.type===Y.type&&V.text===Y.text&&!V.progressBar&&!V.timeout&&!Y.progressBar&&!Y.timeout},f=function(){n.length>0&&a().reposition(n)},g=function(V){n.push(V)},b=function(V){Ro(n,function(Y){return Y===V}).each(function(Y){n.splice(Y,1)})},w=function(V,Y){if(Y===void 0&&(Y=!0),!(e.removed||!XD(e)))return Y&&e.fire("BeforeOpenNotification",{notification:V}),Kr(n,function(X){return l(a().getArgs(X),V)}).getOrThunk(function(){e.editorManager.setActive(e);var X=a().open(V,function(){b(X),f(),i().fold(function(){return e.focus()},function(ee){return P3(k.fromDom(ee.getEl()))})});return g(X),f(),e.fire("OpenNotification",{notification:Sn({},X)}),X})},A=function(){i().each(function(V){a().close(V),b(V),f()})},F=Q(n),I=function(V){V.on("SkinLoaded",function(){var Y=gy(V);Y&&w({text:Y,type:"warning",timeout:0},!1),f()}),V.on("show ResizeEditor ResizeWindow NodeChange",function(){Qi.requestAnimationFrame(f)}),V.on("remove",function(){tt(n.slice(),function(Y){a().close(Y)})})};return I(e),{open:w,close:A,getNotifications:F}},Es=ba.PluginManager,oc=ba.ThemeManager;function Zv(){var e=function(){throw new Error("Theme did not provide a WindowManager implementation.")};return{open:e,openUrl:e,alert:e,confirm:e,close:e,getParams:e,setParams:e}}var Hb=function(e){var n=[],a=function(){var ee=e.theme;return ee&&ee.getWindowManagerImpl?ee.getWindowManagerImpl():Zv()},i=function(ee,re){return function(){for(var fe=[],ce=0;ce<arguments.length;ce++)fe[ce]=arguments[ce];return re?re.apply(ee,fe):void 0}},l=function(ee){e.fire("OpenWindow",{dialog:ee})},f=function(ee){e.fire("CloseWindow",{dialog:ee})},g=function(ee){n.push(ee),l(ee)},b=function(ee){f(ee),n=nn(n,function(re){return re!==ee}),n.length===0&&e.focus()},w=function(){return te.from(n[n.length-1])},A=function(ee){e.editorManager.setActive(e),Dg(e);var re=ee();return g(re),re},F=function(ee,re){return A(function(){return a().open(ee,re,b)})},I=function(ee){return A(function(){return a().openUrl(ee,b)})},V=function(ee,re,fe){var ce=a();ce.alert(ee,i(fe||ce,re))},Y=function(ee,re,fe){var ce=a();ce.confirm(ee,i(fe||ce,re))},X=function(){w().each(function(ee){a().close(ee),b(ee)})};return e.on("remove",function(){tt(n,function(ee){a().close(ee)})}),{open:F,openUrl:I,alert:V,confirm:Y,close:X}},$k=function(e,n){e.notificationManager.open({type:"error",text:n})},Ub=function(e,n){e._skinLoaded?$k(e,n):e.on("SkinLoaded",function(){$k(e,n)})},YD=function(e,n){Ub(e,sr.translate(["Failed to upload image: {0}",n]))},Nk=function(e,n,a){qy(e,n,{message:a}),console.error(a)},pE=function(e,n,a){return a?"Failed to load "+e+": "+a+" from url "+n:"Failed to load "+e+" url: "+n},Fk=function(e,n,a){Nk(e,"PluginLoadError",pE("plugin",n,a))},JD=function(e,n,a){Nk(e,"IconsLoadError",pE("icons",n,a))},D6=function(e,n,a){Nk(e,"LanguageLoadError",pE("language",n,a))},ZD=function(e,n,a){var i=sr.translate(["Failed to initialize plugin: {0}",n]);qy(e,"PluginLoadError",{message:i}),zk(i,a),Ub(e,i)},zk=function(e){for(var n=[],a=1;a<arguments.length;a++)n[a-1]=arguments[a];var i=window.console;i&&(i.error?i.error.apply(i,ii([e],n,!1)):i.log.apply(i,ii([e],n,!1)))},Q2=function(e){return/^[a-z0-9\-]+$/i.test(e)},QD=function(e){return Qv(e,LT(e))},e_=function(e){return Qv(e,I1(e))},Qv=function(e,n){var a=e.editorManager.baseURL+"/skins/content",i=e.editorManager.suffix,l="content"+i+".css",f=e.inline===!0;return pt(n,function(g){return Q2(g)&&!f?a+"/"+g+"/"+l:e.documentBaseURI.toAbsolute(g)})},bE=function(e){e.contentCSS=e.contentCSS.concat(QD(e),e_(e))},t_=function(){var e=1,n=2,a={},i=function(V,Y){return{status:V,resultUri:Y}},l=function(V){return V in a},f=function(V){var Y=a[V];return Y?Y.resultUri:null},g=function(V){return l(V)?a[V].status===e:!1},b=function(V){return l(V)?a[V].status===n:!1},w=function(V){a[V]=i(e,null)},A=function(V,Y){a[V]=i(n,Y)},F=function(V){delete a[V]},I=function(){a={}};return{hasBlobUri:l,getResultUri:f,isPending:g,isUploaded:b,markPending:w,markUploaded:A,removeFailed:F,destroy:I}},_6=0,R6=function(){var e=function(){return Math.round(Math.random()*4294967295).toString(36)},n=new Date().getTime();return"s"+n.toString(36)+e()+e()+e()},hp=function(e){return e+_6+++R6()},B6=function(){var e=[],n=function(I){var V={"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png","image/apng":"apng","image/avif":"avif","image/svg+xml":"svg","image/webp":"webp","image/bmp":"bmp","image/tiff":"tiff"};return V[I.toLowerCase()]||"dat"},a=function(I,V,Y,X,ee){if(ht(I)){var re=I;return i({id:re,name:X,filename:ee,blob:V,base64:Y})}else{if(Ue(I))return i(I);throw new Error("Unknown input type")}},i=function(I){if(!I.blob||!I.base64)throw new Error("blob and base64 representations of the image are required for BlobInfo to be created");var V=I.id||hp("blobid"),Y=I.name||V,X=I.blob;return{id:Q(V),name:Q(Y),filename:Q(I.filename||Y+"."+n(X.type)),blob:Q(X),base64:Q(I.base64),blobUri:Q(I.blobUri||URL.createObjectURL(X)),uri:Q(I.uri)}},l=function(I){g(I.id())||e.push(I)},f=function(I){return Kr(e,I).getOrUndefined()},g=function(I){return f(function(V){return V.id()===I})},b=function(I){return f(function(V){return V.blobUri()===I})},w=function(I,V){return f(function(Y){return Y.base64()===I&&Y.blob().type===V})},A=function(I){e=nn(e,function(V){return V.blobUri()===I?(URL.revokeObjectURL(V.blobUri()),!1):!0})},F=function(){tt(e,function(I){URL.revokeObjectURL(I.blobUri())}),e=[]};return{create:a,add:l,get:g,getByUri:b,getByData:w,findFirst:f,removeByUri:A,destroy:F}},M6=function(e,n){var a={},i=function(X,ee){return X?X.replace(/\/$/,"")+"/"+ee.replace(/^\//,""):ee},l=function(X,ee,re,fe){var ce=new XMLHttpRequest;ce.open("POST",n.url),ce.withCredentials=n.credentials,ce.upload.onprogress=function(De){fe(De.loaded/De.total*100)},ce.onerror=function(){re("Image upload failed due to a XHR Transport error. Code: "+ce.status)},ce.onload=function(){if(ce.status<200||ce.status>=300){re("HTTP Error: "+ce.status);return}var De=JSON.parse(ce.responseText);if(!De||typeof De.location!="string"){re("Invalid JSON: "+ce.responseText);return}ee(i(n.basePath,De.location))};var ye=new FormData;ye.append("file",X.blob(),X.filename()),ce.send(ye)},f=function(){return new yi(function(X){X([])})},g=function(X,ee){return{url:ee,blobInfo:X,status:!0}},b=function(X,ee,re){return{url:"",blobInfo:X,status:!1,error:{message:ee,options:re}}},w=function(X,ee){Ye.each(a[X],function(re){re(ee)}),delete a[X]},A=function(X,ee,re){return e.markPending(X.blobUri()),new yi(function(fe){var ce,ye;try{var De=function(){ce&&(ce.close(),ye=st)},he=function(qe){De(),e.markUploaded(X.blobUri(),qe),w(X.blobUri(),g(X,qe)),fe(g(X,qe))},Be=function(qe,Ct){var _n=Ct||{};De(),e.removeFailed(X.blobUri()),w(X.blobUri(),b(X,qe,_n)),fe(b(X,qe,_n))};ye=function(qe){qe<0||qe>100||te.from(ce).orThunk(function(){return te.from(re).map(_)}).each(function(Ct){ce=Ct,Ct.progressBar.value(qe)})},ee(X,he,Be,ye)}catch(qe){fe(b(X,qe.message,{}))}})},F=function(X){return X===l},I=function(X){var ee=X.blobUri();return new yi(function(re){a[ee]=a[ee]||[],a[ee].push(re)})},V=function(X,ee){return X=Ye.grep(X,function(re){return!e.isUploaded(re.blobUri())}),yi.all(Ye.map(X,function(re){return e.isPending(re.blobUri())?I(re):A(re,n.handler,ee)}))},Y=function(X,ee){return!n.url&&F(n.handler)?f():V(X,ee)};return Nt(n.handler)===!1&&(n.handler=l),{upload:Y}},au=function(e){return function(){return e.notificationManager.open({text:e.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0})}},n_=function(e,n){return M6(n,{url:Wf(e),basePath:F1(e),credentials:IT(e),handler:Pv(e)})},r_=function(e){var n=t_(),a=n_(e,n);return{upload:function(i,l){return l===void 0&&(l=!0),a.upload(i,l?au(e):void 0)}}},a_=function(e){var n=zu(null);e.on("change AddUndo",function(i){n.set(Sn({},i.level))});var a=function(){var i=e.undoManager.data;ta(i).filter(function(l){return!zb(n.get(),l)}).each(function(l){e.setDirty(!0),e.fire("change",{level:l,lastLevel:Xr(i,i.length-2).getOrNull()})})};return{fireIfChanged:a}},o_=function(e){var n=B6(),a,i,l=t_(),f=[],g=a_(e),b=function(De){return function(he){return e.selection?De(he):[]}},w=function(De){return De+(De.indexOf("?")===-1?"?":"&")+new Date().getTime()},A=function(De,he,Be){var qe=0;do qe=De.indexOf(he,qe),qe!==-1&&(De=De.substring(0,qe)+Be+De.substr(qe+he.length),qe+=Be.length-he.length+1);while(qe!==-1);return De},F=function(De,he,Be){var qe='src="'+Be+'"'+(Be===On.transparentSrc?' data-mce-placeholder="1"':"");return De=A(De,'src="'+he+'"',qe),De=A(De,'data-mce-src="'+he+'"','data-mce-src="'+Be+'"'),De},I=function(De,he){tt(e.undoManager.data,function(Be){Be.type==="fragmented"?Be.fragments=pt(Be.fragments,function(qe){return F(qe,De,he)}):Be.content=F(Be.content,De,he)})},V=function(De,he){var Be=e.convertURL(he,"src");I(De.src,he),e.$(De).attr({src:P1(e)?w(he):he,"data-mce-src":Be})},Y=function(De){return a||(a=n_(e,l)),fe().then(b(function(he){var Be=pt(he,function(qe){return qe.blobInfo});return a.upload(Be,au(e)).then(b(function(qe){var Ct=[],_n=pt(qe,function(en,wt){var Fn=he[wt].blobInfo,Dt=he[wt].image;return en.status&&$1(e)?(n.removeByUri(Dt.src),bm(e)||V(Dt,en.url)):en.error&&(en.error.options.remove&&(I(Dt.getAttribute("src"),On.transparentSrc),Ct.push(Dt)),YD(e,en.error.message)),{element:Dt,status:en.status,uploadUri:en.url,blobInfo:Fn}});return _n.length>0&&g.fireIfChanged(),Ct.length>0&&(bm(e)?console.error("Removing images on failed uploads is currently unsupported for RTC"):e.undoManager.transact(function(){tt(Ct,function(en){e.dom.remove(en),n.removeByUri(en.src)})})),De&&De(_n),_n}))}))},X=function(De){if(Mv(e))return Y(De)},ee=function(De){if(lu(f,function(Be){return Be(De)})===!1)return!1;if(De.getAttribute("src").indexOf("data:")===0){var he=Sh(e);return he(De)}return!0},re=function(De){f.push(De)},fe=function(){return i||(i=L8(l,n)),i.findAll(e.getBody(),ee).then(b(function(De){return De=nn(De,function(he){return typeof he=="string"?(Ub(e,he),!1):!0}),bm(e)||tt(De,function(he){I(he.image.src,he.blobInfo.blobUri()),he.image.src=he.blobInfo.blobUri(),he.image.removeAttribute("data-mce-src")}),De}))},ce=function(){n.destroy(),l.destroy(),i=a=null},ye=function(De){return De.replace(/src="(blob:[^"]+)"/g,function(he,Be){var qe=l.getResultUri(Be);if(qe)return'src="'+qe+'"';var Ct=n.getByUri(Be);if(Ct||(Ct=wr(e.editorManager.get(),function(en,wt){return en||wt.editorUpload&&wt.editorUpload.blobCache.getByUri(Be)},null)),Ct){var _n=Ct.blob();return'src="data:'+_n.type+";base64,"+Ct.base64()+'"'}return he})};return e.on("SetContent",function(){Mv(e)?X():fe()}),e.on("RawSaveContent",function(De){De.content=ye(De.content)}),e.on("GetContent",function(De){De.source_view||De.format==="raw"||De.format==="tree"||(De.content=ye(De.content))}),e.on("PostRender",function(){e.parser.addNodeFilter("img",function(De){tt(De,function(he){var Be=he.attr("src");if(!n.getByUri(Be)){var qe=l.getResultUri(Be);qe&&he.attr("src",qe)}})})}),{blobCache:n,addFilter:re,uploadImages:Y,uploadImagesAuto:X,scanForImages:fe,destroy:ce}},i_=function(e){var n={valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"left"},inherit:!1,preview:!1,defaultBlock:"div"},{selector:"img,table,audio,video",collapsed:!1,styles:{float:"left"},preview:"font-family font-size"}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"center"},inherit:!1,preview:"font-family font-size",defaultBlock:"div"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size",defaultBlock:"div"},{selector:"img,table,audio,video",collapsed:!1,styles:{float:"right"},preview:"font-family font-size"}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"justify"},inherit:!1,defaultBlock:"div",preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all",preserve_attributes:["class","style"]}],italic:[{inline:"em",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all",preserve_attributes:["class","style"]}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all",preserve_attributes:["class","style"]}],strikethrough:[{inline:"span",styles:{textDecoration:"line-through"},exact:!0},{inline:"strike",remove:"all",preserve_attributes:["class","style"]},{inline:"s",remove:"all",preserve_attributes:["class","style"]}],forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},fontname:{inline:"span",toggle:!1,styles:{fontFamily:"%value"},clear_child_styles:!0},fontsize:{inline:"span",toggle:!1,styles:{fontSize:"%value"},clear_child_styles:!0},lineheight:{selector:"h1,h2,h3,h4,h5,h6,p,li,td,th,div",defaultBlock:"p",styles:{lineHeight:"%value"}},fontsize_class:{inline:"span",attributes:{class:"%value"}},blockquote:{block:"blockquote",wrapper:!0,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:function(a,i,l){return Wn(a)&&a.hasAttribute("href")},onformat:function(a,i,l){Ye.each(l,function(f,g){e.setAttrib(a,g,f)})}},lang:{inline:"span",clear_child_styles:!0,remove_similar:!0,attributes:{lang:"%value","data-mce-lang":function(a){var i;return(i=a==null?void 0:a.customValue)!==null&&i!==void 0?i:null}}},removeformat:[{selector:"b,strong,em,i,font,u,strike,s,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins,small",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]};return Ye.each("p h1 h2 h3 h4 h5 h6 div address pre dt dd samp".split(/\s/),function(a){n[a]={block:a,remove:"all"}}),n},yE=function(e){var n={},a=function(g){return qt(g)?n[g]:n},i=function(g){return tr(n,g)},l=function(g,b){g&&(ht(g)?(Wt(b)||(b=[b]),tt(b,function(w){Oe(w.deep)&&(w.deep=!Gl(w)),Oe(w.split)&&(w.split=!Gl(w)||Ui(w)),Oe(w.remove)&&Gl(w)&&!Ui(w)&&(w.remove="none"),Gl(w)&&Ui(w)&&(w.mixed=!0,w.block_expand=!0),ht(w.classes)&&(w.classes=w.classes.split(/\s+/))}),n[g]=b):hr(g,function(w,A){l(A,w)}))},f=function(g){return g&&n[g]&&delete n[g],n};return l(i_(e.dom)),l(UT(e)),{get:a,has:i,register:l,unregister:f}},Ik=Ye.each,Al=Na.DOM,u_=function(e,n){var a,i,l,f=n&&n.schema||dr({}),g=function(F,I){I.classes.length&&Al.addClass(F,I.classes.join(" ")),Al.setAttribs(F,I.attrs)},b=function(F){i=typeof F=="string"?{name:F,classes:[],attrs:{}}:F;var I=Al.create(i.name);return g(I,i),I},w=function(F,I){var V=typeof F!="string"?F.nodeName.toLowerCase():F,Y=f.getElementRule(V),X=Y&&Y.parentsRequired;return X&&X.length?I&&Ye.inArray(X,I)!==-1?I:X[0]:!1},A=function(F,I,V){var Y,X,ee=I.length>0&&I[0],re=ee&&ee.name,fe=w(F,re);if(fe)re===fe?(X=I[0],I=I.slice(1)):X=fe;else if(ee)X=I[0],I=I.slice(1);else if(!V)return F;return X&&(Y=b(X),Y.appendChild(F)),V&&(Y||(Y=Al.create("div"),Y.appendChild(F)),Ye.each(V,function(ce){var ye=b(ce);Y.insertBefore(ye,F)})),A(Y,I,X&&X.siblings)};return e&&e.length?(i=e[0],a=b(i),l=Al.create("div"),l.appendChild(A(a,e.slice(1),i.siblings)),l):""},P6=function(e){var n,a={classes:[],attrs:{}};return e=a.selector=Ye.trim(e),e!=="*"&&(n=e.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,function(i,l,f,g,b){switch(l){case"#":a.attrs.id=f;break;case".":a.classes.push(f);break;case":":Ye.inArray("checked disabled enabled read-only required".split(" "),f)!==-1&&(a.attrs[f]=f);break}if(g==="["){var w=b.match(/([\w\-]+)(?:\=\"([^\"]+))?/);w&&(a.attrs[w[1]]=w[2])}return""})),a.name=n||"div",a},$6=function(e){return!e||typeof e!="string"?[]:(e=e.split(/\s*,\s*/)[0],e=e.replace(/\s*(~\+|~|\+|>)\s*/g,"$1"),Ye.map(e.split(/(?:>|\s+(?![^\[\]]+\]))/),function(n){var a=Ye.map(n.split(/(?:~\+|~|\+)/),P6),i=a.pop();return a.length&&(i.siblings=a),i}).reverse())},ed=function(e,n){var a,i,l="",f,g=WT(e);if(g==="")return"";var b=function(I){return I.replace(/%(\w+)/g,"")};if(typeof n=="string"){if(n=e.formatter.get(n),!n)return;n=n[0]}if("preview"in n){var w=Pr(n,"preview");if(pd(w,!1))return"";g=w.getOr(g)}a=n.block||n.inline||"span";var A=$6(n.selector);A.length?(A[0].name||(A[0].name=a),a=n.selector,i=u_(A,e)):i=u_([a],e);var F=Al.select(a,i)[0]||i.firstChild;return Ik(n.styles,function(I,V){var Y=b(I);Y&&Al.setStyle(F,V,Y)}),Ik(n.attributes,function(I,V){var Y=b(I);Y&&Al.setAttrib(F,V,Y)}),Ik(n.classes,function(I){var V=b(I);Al.hasClass(F,V)||Al.addClass(F,V)}),e.fire("PreviewFormats"),Al.setStyles(i,{position:"absolute",left:-65535}),e.getBody().appendChild(i),f=Al.getStyle(e.getBody(),"fontSize",!0),f=/px$/.test(f)?parseInt(f,10):0,Ik(g.split(" "),function(I){var V=Al.getStyle(F,I,!0);if(!(I==="background-color"&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(V)&&(V=Al.getStyle(e.getBody(),I,!0),Al.toHex(V).toLowerCase()==="#ffffff"))&&!(I==="color"&&Al.toHex(V).toLowerCase()==="#000000")){if(I==="font-size"&&/em|%$/.test(V)){if(f===0)return;var Y=parseFloat(V)/(/%$/.test(V)?100:1);V=Y*f+"px"}I==="border"&&V&&(l+="padding:0 2px;"),l+=I+":"+V+";"}}),e.fire("AfterPreviewFormats"),Al.remove(i),l},N6=function(e){e.addShortcut("meta+b","","Bold"),e.addShortcut("meta+i","","Italic"),e.addShortcut("meta+u","","Underline");for(var n=1;n<=6;n++)e.addShortcut("access+"+n,"",["FormatBlock",!1,"h"+n]);e.addShortcut("access+7","",["FormatBlock",!1,"p"]),e.addShortcut("access+8","",["FormatBlock",!1,"div"]),e.addShortcut("access+9","",["FormatBlock",!1,"address"])},l_=function(e){var n=yE(e),a=zu(null);return N6(e),$B(e),{get:n.get,has:n.has,register:n.register,unregister:n.unregister,apply:function(i,l,f){gD(e,i,l,f)},remove:function(i,l,f,g){Ok(e,i,l,f,g)},toggle:function(i,l,f){O8(e,i,l,f)},match:function(i,l,f,g){return T8(e,i,l,f,g)},closest:function(i){return mD(e,i)},matchAll:function(i,l){return E8(e,i,l)},matchNode:function(i,l,f,g){return eE(e,i,l,f,g)},canApply:function(i){return U2(e,i)},formatChanged:function(i,l,f,g){return A8(e,a,i,l,f,g)},getCssText:j(ed,e)}},s_=function(e){switch(e.toLowerCase()){case"undo":case"redo":case"mcerepaint":case"mcefocus":return!0;default:return!1}},F6=function(e,n,a){var i=zu(!1),l=function(w){Ek(n,!1,a),n.add({},w)};e.on("init",function(){n.add()}),e.on("BeforeExecCommand",function(w){var A=w.command;s_(A)||(mp(n,a),n.beforeChange())}),e.on("ExecCommand",function(w){var A=w.command;s_(A)||l(w)}),e.on("ObjectResizeStart cut",function(){n.beforeChange()}),e.on("SaveContent ObjectResized blur",l),e.on("dragend",l),e.on("keyup",function(w){var A=w.keyCode;w.isDefaultPrevented()||((A>=33&&A<=36||A>=37&&A<=40||A===45||w.ctrlKey)&&(l(),e.nodeChanged()),(A===46||A===8)&&e.nodeChanged(),i.get()&&n.typing&&zb(K4(e),n.data[0])===!1&&(e.isDirty()===!1&&(e.setDirty(!0),e.fire("change",{level:n.data[0],lastLevel:null})),e.fire("TypingUndo"),i.set(!1),e.nodeChanged()))}),e.on("keydown",function(w){var A=w.keyCode;if(!w.isDefaultPrevented()){if(A>=33&&A<=36||A>=37&&A<=40||A===45){n.typing&&l(w);return}var F=w.ctrlKey&&!w.altKey||w.metaKey;(A<16||A>20)&&A!==224&&A!==91&&!n.typing&&!F&&(n.beforeChange(),Ek(n,!0,a),n.add({},w),i.set(!0))}}),e.on("mousedown",function(w){n.typing&&l(w)});var f=function(w){return w.inputType==="insertReplacementText"},g=function(w){return w.inputType==="insertText"&&w.data===null},b=function(w){return w.inputType==="insertFromPaste"||w.inputType==="insertFromDrop"};e.on("input",function(w){w.inputType&&(f(w)||g(w)||b(w))&&l(w)}),e.on("AddUndo Undo Redo ClearUndos",function(w){w.isDefaultPrevented()||e.nodeChanged()})},z6=function(e){e.addShortcut("meta+z","","Undo"),e.addShortcut("meta+y,meta+shift+z","","Redo")},Ao=function(e){var n=Ev(),a=zu(0),i=zu(0),l={data:[],typing:!1,beforeChange:function(){w8(e,a,n)},add:function(f,g){return lD(e,l,i,a,n,f,g)},undo:function(){return C8(e,l,a,i)},redo:function(){return S8(e,i,l.data)},clear:function(){sD(e,l,i)},reset:function(){cD(e,l)},hasUndo:function(){return fD(e,l,i)},hasRedo:function(){return vD(e,l,i)},transact:function(f){return dD(e,l,a,f)},ignore:function(f){k8(e,a,f)},extra:function(f,g){x8(e,l,i,f,g)}};return bm(e)||F6(e,l,a),z6(e),l},c_=[9,27,Mn.HOME,Mn.END,19,20,44,144,145,33,34,45,16,17,18,91,92,93,Mn.DOWN,Mn.UP,Mn.LEFT,Mn.RIGHT].concat(On.browser.isFirefox()?[224]:[]),wE="data-mce-placeholder",ff=function(e){return e.type==="keydown"||e.type==="keyup"},CE=function(e){var n=e.keyCode;return n===Mn.BACKSPACE||n===Mn.DELETE},I6=function(e){if(ff(e)){var n=e.keyCode;return!CE(e)&&(Mn.metaKeyPressed(e)||e.altKey||n>=112&&n<=123||Re(c_,n))}else return!1},L6=function(e){return ff(e)&&!(CE(e)||e.type==="keyup"&&e.keyCode===229)},SE=function(e,n,a){if(Fi(k.fromDom(n),!1)){var i=a==="",l=n.firstElementChild;return l?e.getStyle(n.firstElementChild,"padding-left")||e.getStyle(n.firstElementChild,"padding-right")?!1:i?!e.isBlock(l):a===l.nodeName.toLowerCase():!0}else return!1},V6=function(e){var n=e.dom,a=Vi(e),i=HT(e),l=function(f,g){if(!I6(f)){var b=e.getBody(),w=L6(f)?!1:SE(n,b,a),A=n.getAttrib(b,wE)!=="";(A!==w||g)&&(n.setAttrib(b,wE,w?i:null),n.setAttrib(b,"aria-placeholder",w?i:null),sS(e,w),e.on(w?"keydown":"keyup",l),e.off(w?"keyup":"keydown",l))}};i&&e.on("init",function(f){l(f,!0),e.on("change SetContent ExecCommand",l),e.on("paste",function(g){return Qi.setEditorTimeout(e,function(){return l(g)})})})},Wb=/[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/,H6=function(e){return Wb.test(e)},Vg=function(e,n){return na(k.fromDom(n),VT(e))},f_=function(e){return Na.DOM.getStyle(e,"direction",!0)==="rtl"||H6(e.textContent)},kE=function(e,n,a){return nn(Na.DOM.getParents(a.container(),"*",n),e)},ym=function(e,n,a){var i=kE(e,n,a);return te.from(i[i.length-1])},xE=function(e,n,a){var i=tf(n,e),l=tf(a,e);return i&&i===l},U6=function(e){return Dn(e)||qp(e)},Rc=function(e,n){if(!n)return n;var a=n.container(),i=n.offset();return e?Ea(a)?on(a.nextSibling)?je(a.nextSibling,0):je.after(a):Dn(n)?je(a,i+1):n:Ea(a)?on(a.previousSibling)?je(a.previousSibling,a.previousSibling.data.length):je.before(a):qp(n)?je(a,i-1):n},v_=j(Rc,!0),Bc=j(Rc,!1),W6=function(e){return function(n){return ra(e,k.fromDom(n.dom.parentNode))}},j6=function(e){return jc(e)||eu(e)},Lk=function(e,n){return Go(e,n)?Nm(n,j6,W6(e)):te.none()},ew=function(e){var n=e.getBody(),a=n.firstChild&&e.dom.isBlock(n.firstChild)?n.firstChild:n;e.selection.setCursorLocation(a,0)},d_=function(e){e.dom.isEmpty(e.getBody())&&(e.setContent(""),ew(e))},m_=function(e,n,a){return gu(Vu(a),Tc(a),function(i,l){var f=Rc(!0,i),g=Rc(!1,l),b=Rc(!1,n);return e?bs(a,b).exists(function(w){return w.isEqual(g)&&n.isEqual(f)}):ys(a,b).exists(function(w){return w.isEqual(f)&&n.isEqual(g)})}).getOr(!0)},g_=function(e,n){return{block:e,position:n}},h_=function(e,n){return{from:e,to:n}},TE=function(e,n){var a=k.fromDom(e),i=k.fromDom(n.container());return Lk(a,i).map(function(l){return g_(l,n)})},G6=function(e){return ra(e.from.block,e.to.block)===!1},Hg=function(e){return eo(e.from.block).bind(function(n){return eo(e.to.block).filter(function(a){return ra(n,a)})}).isSome()},q6=function(e){return Ia(e.from.block.dom)===!1&&Ia(e.to.block.dom)===!1},K6=function(e,n,a){return ha(a.position.getNode())&&Fi(a.block)===!1?ps(!1,a.block.dom).bind(function(i){return i.isEqual(a.position)?ru(n,e,i).bind(function(l){return TE(e,l)}):te.some(a)}).getOr(a):a},X6=function(e,n,a){var i=TE(e,je.fromRangeStart(a)),l=i.bind(function(f){return ru(n,e,f.position).bind(function(g){return TE(e,g).map(function(b){return K6(e,n,b)})})});return gu(i,l,h_).filter(function(f){return G6(f)&&Hg(f)&&q6(f)})},Y6=function(e,n,a){return a.collapsed?X6(e,n,a):te.none()},J6=function(e){var n=mu(e);return Ro(n,Il).fold(Q(n),function(a){return n.slice(0,a)})},p_=function(e){var n=J6(e);return tt(n,lo),n},b_=function(e,n){var a=Zf(n,e);return Kr(a.reverse(),function(i){return Fi(i)}).each(lo)},Z6=function(e){return nn(Vr(e),function(n){return!Fi(n)}).length===0},Q6=function(e,n,a,i){if(Fi(a))return fm(a),Vu(a.dom);Z6(i)&&Fi(n)&&Pi(i,k.fromTag("br"));var l=ys(a.dom,je.before(i.dom));return tt(p_(n),function(f){Pi(i,f)}),b_(e,n),l},eM=function(e,n,a){if(Fi(a))return lo(a),Fi(n)&&fm(n),Vu(n.dom);var i=Tc(a.dom);return tt(p_(n),function(l){Ko(a,l)}),b_(e,n),i},tM=function(e,n){var a=Zf(n,e);return te.from(a[a.length-1])},nM=function(e,n){return Go(n,e)?tM(n,e):te.none()},jb=function(e,n){ps(e,n.dom).map(function(a){return a.getNode()}).map(k.fromDom).filter(Im).each(lo)},y_=function(e,n,a){return jb(!0,n),jb(!1,a),nM(n,a).fold(j(eM,e,n,a),j(Q6,e,n,a))},Vk=function(e,n,a,i){return n?y_(e,i,a):y_(e,a,i)},Hk=function(e,n){var a=k.fromDom(e.getBody()),i=Y6(a.dom,n,e.selection.getRng()).bind(function(l){return Vk(a,n,l.from.block,l.to.block)});return i.each(function(l){e.selection.setRng(l.toRange())}),i.isSome()},rM=function(e,n){var a=n.getRng();return gu(Lk(e,k.fromDom(a.startContainer)),Lk(e,k.fromDom(a.endContainer)),function(i,l){return ra(i,l)===!1?(a.deleteContents(),Vk(e,!0,i,l).each(function(f){n.setRng(f.toRange())}),!0):!1}).getOr(!1)},w_=function(e,n){var a=k.fromDom(n),i=j(ra,e);return fv(a,pc,i).isSome()},aM=function(e,n){return w_(e,n.startContainer)||w_(e,n.endContainer)},pp=function(e,n){var a=ys(e.dom,je.fromRangeStart(n)).isNone(),i=bs(e.dom,je.fromRangeEnd(n)).isNone();return!aM(e,n)&&a&&i},bp=function(e){return e.setContent(""),e.selection.setCursorLocation(),!0},Uk=function(e){var n=k.fromDom(e.getBody()),a=e.selection.getRng();return pp(n,a)?bp(e):rM(n,e.selection)},yp=function(e,n){return e.selection.isCollapsed()?!1:Uk(e)},wp=Fs,Cp=Ia,vf=function(e,n,a,i,l){return te.from(n._selectionOverrides.showCaret(e,a,i,l))},Wk=function(e){var n=e.ownerDocument.createRange();return n.selectNode(e),n},Sp=function(e,n){var a=e.fire("BeforeObjectSelected",{target:n});return a.isDefaultPrevented()?te.none():te.some(Wk(n))},jk=function(e,n,a){var i=G1(1,e.getBody(),n),l=je.fromRangeStart(i),f=l.getNode();if(li(f))return vf(1,e,f,!l.isAtEnd(),!1);var g=l.getNode(!0);if(li(g))return vf(1,e,g,!1,!1);var b=e.dom.getParent(l.getNode(),function(w){return Cp(w)||wp(w)});return li(b)?vf(1,e,b,!1,a):te.none()},tw=function(e,n,a){return n.collapsed?jk(e,n,a).getOr(n):n},C_=function(e){return Kv(e)||Mg(e)},S_=function(e){return Xv(e)||Pg(e)},Gb=function(e,n){on(n)&&n.data.length===0&&e.remove(n)},EE=function(e,n,a,i,l,f){return vf(i,e,f.getNode(!l),l,!0).each(function(g){if(n.collapsed){var b=n.cloneRange();l?b.setEnd(g.startContainer,g.startOffset):b.setStart(g.endContainer,g.endOffset),b.deleteContents()}else n.deleteContents();e.selection.setRng(g)}),Gb(e.dom,a),!0},k_=function(e,n){var a=e.selection.getRng();if(!on(a.commonAncestorContainer))return!1;var i=n?Hi.Forwards:Hi.Backwards,l=xc(e.getBody()),f=j(Oy,n?l.next:l.prev),g=n?C_:S_,b=Oi(i,e.getBody(),a),w=Rc(n,f(b));if(!w||!q1(b,w))return!1;if(g(w))return EE(e,a,b.getNode(),i,n,w);var A=f(w);return A&&g(A)&&q1(w,A)?EE(e,a,b.getNode(),i,n,A):!1},nw=function(e,n){return k_(e,n)},Gk=function(e){return pc(k.fromDom(e))||eu(k.fromDom(e))},Os=kn.generate([{remove:["element"]},{moveToElement:["element"]},{moveToPosition:["position"]}]),x_=function(e,n){var a=n.getNode(e===!1),i=e?"after":"before";return Wn(a)&&a.getAttribute("data-mce-caret")===i},T_=function(e,n,a,i){var l=function(f){return hu(k.fromDom(f))&&!Ys(a,i,e)};return Ey(!n,a).fold(function(){return Ey(n,i).fold(Mt,l)},l)},OE=function(e,n,a,i){var l=i.getNode(n===!1);return Lk(k.fromDom(e),k.fromDom(a.getNode())).map(function(f){return Fi(f)?Os.remove(f.dom):Os.moveToElement(l)}).orThunk(function(){return te.some(Os.moveToElement(l))})},td=function(e,n,a){return ru(n,e,a).bind(function(i){return Gk(i.getNode())||T_(e,n,a,i)?te.none():n&&Ia(i.getNode())||n===!1&&Ia(i.getNode(!0))?OE(e,n,a,i):n&&Xv(a)||n===!1&&Kv(a)?te.some(Os.moveToPosition(i)):te.none()})},E_=function(e,n){return e&&Ia(n.nextSibling)?te.some(Os.moveToElement(n.nextSibling)):e===!1&&Ia(n.previousSibling)?te.some(Os.moveToElement(n.previousSibling)):te.none()},O_=function(e,n,a){return a.fold(function(i){return te.some(Os.remove(i))},function(i){return te.some(Os.moveToElement(i))},function(i){return Ys(n,i,e)?te.none():te.some(Os.moveToPosition(i))})},Ug=function(e,n,a){return x_(n,a)?E_(n,a.getNode(n===!1)).fold(function(){return td(e,n,a)},te.some):td(e,n,a).bind(function(i){return O_(e,a,i)})},df=function(e,n,a){var i=G1(n?1:-1,e,a),l=je.fromRangeStart(i),f=k.fromDom(e);return n===!1&&Xv(l)?te.some(Os.remove(l.getNode(!0))):n&&Kv(l)?te.some(Os.remove(l.getNode())):n===!1&&Kv(l)&&Yv(f,l)?D2(f,l).map(function(g){return Os.remove(g.getNode())}):n&&Xv(l)&&Ab(f,l)?Db(f,l).map(function(g){return Os.remove(g.getNode())}):Ug(e,n,l)},oM=function(e,n){return function(a){return e._selectionOverrides.hideFakeCaret(),Pt(e,n,k.fromDom(a)),!0}},iM=function(e,n){return function(a){var i=n?je.before(a):je.after(a);return e.selection.setRng(i.toRange()),!0}},uM=function(e){return function(n){return e.selection.setRng(n.toRange()),!0}},A_=function(e,n){return te.from(Vv(e.getBody(),n))},lM=function(e,n){var a=e.selection.getNode();return A_(e,a).filter(Ia).fold(function(){return df(e.getBody(),n,e.selection.getRng()).exists(function(i){return i.fold(oM(e,n),iM(e,n),uM(e))})},sn)},sM=function(e){tt(Qu(e,".mce-offscreen-selection"),lo)},cM=function(e,n){var a=e.selection.getNode();if(Ia(a)&&!Bm(a)){var i=A_(e,a.parentNode).filter(Ia);return i.fold(function(){return sM(k.fromDom(e.getBody())),Pt(e,n,k.fromDom(e.selection.getNode())),d_(e),!0},sn)}return!1},D_=function(e){var n=e.dom,a=e.selection,i=Vv(e.getBody(),a.getNode());if(Fs(i)&&n.isBlock(i)&&n.isEmpty(i)){var l=n.create("br",{"data-mce-bogus":"1"});n.setHTML(i,""),i.appendChild(l),a.setRng(je.before(l).toRange())}return!0},qk=function(e,n){return e.selection.isCollapsed()?lM(e,n):cM(e,n)},fM=function(e,n){var a=je.fromRangeStart(e.selection.getRng());return ru(n,e.getBody(),a).filter(function(i){return n?Q3(i):e4(i)}).bind(function(i){return te.from(dg(n?0:-1,i))}).exists(function(i){return e.selection.select(i),!0})},Kk=function(e,n){return e.selection.isCollapsed()?fM(e,n):!1},qb=on,Xk=function(e){return qb(e)&&e.data[0]===ke},Yk=function(e){return qb(e)&&e.data[e.data.length-1]===ke},AE=function(e){return e.ownerDocument.createTextNode(ke)},vM=function(e){if(qb(e.previousSibling))return Yk(e.previousSibling)||e.previousSibling.appendData(ke),e.previousSibling;if(qb(e))return Xk(e)||e.insertData(0,ke),e;var n=AE(e);return e.parentNode.insertBefore(n,e),n},dM=function(e){if(qb(e.nextSibling))return Xk(e.nextSibling)||e.nextSibling.insertData(0,ke),e.nextSibling;if(qb(e))return Yk(e)||e.appendData(ke),e;var n=AE(e);return e.nextSibling?e.parentNode.insertBefore(n,e.nextSibling):e.parentNode.appendChild(n),n},rw=function(e,n){return e?vM(n):dM(n)},__=j(rw,!0),DE=j(rw,!1),_E=function(e,n){return on(e.container())?rw(n,e.container()):rw(n,e.getNode())},RE=function(e,n){var a=n.get();return a&&e.container()===a&&Ea(a)},aw=function(e,n){return n.fold(function(a){jd(e.get());var i=__(a);return e.set(i),te.some(je(i,i.length-1))},function(a){return Vu(a).map(function(i){if(RE(i,e))return je(e.get(),1);jd(e.get());var l=_E(i,!0);return e.set(l),je(l,1)})},function(a){return Tc(a).map(function(i){if(RE(i,e))return je(e.get(),e.get().length-1);jd(e.get());var l=_E(i,!1);return e.set(l),je(l,l.length-1)})},function(a){jd(e.get());var i=DE(a);return e.set(i),te.some(je(i,1))})},R_=function(e,n){for(var a=0;a<e.length;a++){var i=e[a].apply(null,n);if(i.isSome())return i}return te.none()},Dl=kn.generate([{before:["element"]},{start:["element"]},{end:["element"]},{after:["element"]}]),nv=function(e,n){var a=tf(n,e);return a||e},mf=function(e,n,a){var i=v_(a),l=nv(n,i.container());return ym(e,l,i).fold(function(){return bs(l,i).bind(j(ym,e,l)).map(function(f){return Dl.before(f)})},te.none)},Jk=function(e,n){return Ec(e,n)===null},BE=function(e,n,a){return ym(e,n,a).filter(j(Jk,n))},Zk=function(e,n,a){var i=Bc(a);return BE(e,n,i).bind(function(l){var f=ys(l,i);return f.isNone()?te.some(Dl.start(l)):te.none()})},B_=function(e,n,a){var i=v_(a);return BE(e,n,i).bind(function(l){var f=bs(l,i);return f.isNone()?te.some(Dl.end(l)):te.none()})},M_=function(e,n,a){var i=Bc(a),l=nv(n,i.container());return ym(e,l,i).fold(function(){return ys(l,i).bind(j(ym,e,l)).map(function(f){return Dl.after(f)})},te.none)},ME=function(e){return f_(Qk(e))===!1},rv=function(e,n,a){var i=R_([mf,Zk,B_,M_],[e,n,a]);return i.filter(ME)},Qk=function(e){return e.fold(En,En,En,En)},PE=function(e){return e.fold(Q("before"),Q("start"),Q("end"),Q("after"))},kp=function(e){return e.fold(Dl.before,Dl.before,Dl.after,Dl.after)},Kb=function(e){return e.fold(Dl.start,Dl.start,Dl.end,Dl.end)},$E=function(e,n){return PE(e)===PE(n)&&Qk(e)===Qk(n)},mM=function(e,n,a,i,l,f){return gu(ym(n,a,i),ym(n,a,l),function(g,b){return g!==b&&xE(a,g,b)?Dl.after(e?g:b):f}).getOr(f)},gM=function(e,n){return e.fold(sn,function(a){return!$E(a,n)})},hM=function(e,n,a,i,l){var f=Rc(e,l),g=ru(e,a,f).map(j(Rc,e)),b=g.fold(function(){return i.map(kp)},function(w){return rv(n,a,w).map(j(mM,e,n,a,f,w)).filter(j(gM,i))});return b.filter(ME)},pM=function(e,n){return e?n.fold(jr(te.some,Dl.start),te.none,jr(te.some,Dl.after),te.none):n.fold(te.none,jr(te.some,Dl.before),te.none,jr(te.some,Dl.end))},ex=function(e,n,a,i){var l=Rc(e,i),f=rv(n,a,l);return rv(n,a,l).bind(j(pM,e)).orThunk(function(){return hM(e,n,a,f,i)})};j(ex,!1),j(ex,!0);var bM=function(e){return Nt(e.selection.getSel().modify)},P_=function(e,n,a){var i=e?1:-1;return n.setRng(je(a.container(),a.offset()+i).toRange()),n.getSel().modify("move",e?"forward":"backward","word"),!0},NE=function(e,n){var a=n.selection.getRng(),i=e?je.fromRangeEnd(a):je.fromRangeStart(a);return bM(n)?e&&Dn(i)?P_(!0,n.selection,i):!e&&qp(i)?P_(!1,n.selection,i):!1:!1},nd;(function(e){e[e.Br=0]="Br",e[e.Block=1]="Block",e[e.Wrap=2]="Wrap",e[e.Eol=3]="Eol"})(nd||(nd={}));var tx=function(e,n){return e===Hi.Backwards?Bo(n):n},yM=function(e,n,a){return e===Hi.Forwards?n.next(a):n.prev(a)},wM=function(e,n,a,i){return ha(i.getNode(n===Hi.Forwards))?nd.Br:Ys(a,i)===!1?nd.Block:nd.Wrap},$_=function(e,n,a,i){for(var l=xc(a),f=i,g=[];f;){var b=yM(n,l,f);if(!b)break;if(ha(b.getNode(!1)))return n===Hi.Forwards?{positions:tx(n,g).concat([b]),breakType:nd.Br,breakAt:te.some(b)}:{positions:tx(n,g),breakType:nd.Br,breakAt:te.some(b)};if(!b.isVisible()){f=b;continue}if(e(f,b)){var w=wM(a,n,f,b);return{positions:tx(n,g),breakType:w,breakAt:te.some(b)}}g.push(b),f=b}return{positions:tx(n,g),breakType:nd.Eol,breakAt:te.none()}},N_=function(e,n,a,i){return n(a,i).breakAt.map(function(l){var f=n(a,l).positions;return e===Hi.Backwards?f.concat(l):[l].concat(f)}).getOr([])},FE=function(e,n){return wr(e,function(a,i){return a.fold(function(){return te.some(i)},function(l){return gu(oo(l.getClientRects()),oo(i.getClientRects()),function(f,g){var b=Math.abs(n-f.left),w=Math.abs(n-g.left);return w<=b?i:l}).or(a)})},te.none())},ow=function(e,n){return oo(n.getClientRects()).bind(function(a){return FE(e,a.left)})},Wg=j($_,je.isAbove,-1),xp=j($_,je.isBelow,1),CM=j(N_,-1,Wg),SM=j(N_,1,xp),kM=function(e,n){return Wg(e,n).breakAt.isNone()},xM=function(e,n){return xp(e,n).breakAt.isNone()},F_=function(e){return Vu(e).map(function(n){return[n].concat(xp(e,n).positions)}).getOr([])},TM=function(e){return Tc(e).map(function(n){return Wg(e,n).positions.concat(n)}).getOr([])},EM=function(e){var n=function(i){return pt(i,function(l){var f=Dv(l);return f.node=e,f})};if(Wn(e))return n(e.getClientRects());if(on(e)){var a=e.ownerDocument.createRange();return a.setStart(e,0),a.setEnd(e,e.data.length),n(a.getClientRects())}},iw=function(e){return uu(e,EM)},Tp;(function(e){e[e.Up=-1]="Up",e[e.Down=1]="Down"})(Tp||(Tp={}));var OM=function(e,n,a,i){for(;i=Kd(i,e,No,n);)if(a(i))return},z_=function(e,n,a,i,l,f){var g=0,b=[],w=function(I){var V=iw([I]);e===-1&&(V=V.reverse());for(var Y=0;Y<V.length;Y++){var X=V[Y];if(!a(X,A)){if(b.length>0&&n(X,Ri(b))&&g++,X.line=g,l(X))return!0;b.push(X)}}},A=Ri(f.getClientRects());if(!A)return b;var F=f.getNode();return w(F),OM(e,i,w,F),b},AM=function(e,n){return n.line>e},DM=function(e,n){return n.line===e},_M=j(z_,Tp.Up,Hf,_v),RM=j(z_,Tp.Down,_v,Hf),nx=function(e,n,a,i){var l=xc(n),f,g,b,w,A=[],F=0,I=function(ee){return Ri(ee.getClientRects())};e===1?(f=l.next,g=_v,b=Hf,w=je.after(i)):(f=l.prev,g=Hf,b=_v,w=je.before(i));var V=I(w);do if(!!w.isVisible()){var Y=I(w);if(!b(Y,V)){A.length>0&&g(Y,Ri(A))&&F++;var X=Dv(Y);if(X.position=w,X.line=F,a(X))return A;A.push(X)}}while(w=f(w));return A},uw=function(e){return function(n){return AM(e,n)}},zE=function(e){return function(n){return DM(e,n)}},BM=Ia,lw=Kd,IE=function(e,n){return Math.abs(e.left-n)},LE=function(e,n){return Math.abs(e.right-n)},I_=function(e,n){return e>=n.left&&e<=n.right},MM=function(e,n){return e>=n.top&&e<=n.bottom},PM=function(e){return hi(e,"node")},rx=function(e,n,a){return a===void 0&&(a=sn),Tu(e,function(i,l){if(I_(n,l))return a(l)?l:i;if(I_(n,i))return a(i)?i:l;var f=Math.min(IE(i,n),LE(i,n)),g=Math.min(IE(l,n),LE(l,n));return g===f&&PM(l)&&BM(l.node)||g<f?l:i})},L_=function(e,n,a,i,l){var f=lw(i,e,No,n,!l);do if(!f||a(f))return;while(f=lw(f,e,No,n))},$M=function(e,n,a){a===void 0&&(a=!0);var i=[],l=function(f,g){var b=nn(iw([g]),function(w){return!f(w,n)});return i=i.concat(b),b.length===0};return i.push(n),L_(Tp.Up,e,j(l,Hf),n.node,a),L_(Tp.Down,e,j(l,_v),n.node,a),i},NM=function(e){return nn(Lr(e.getElementsByTagName("*")),Nv)},FM=function(e,n){return{node:e.node,before:IE(e,n)<LE(e,n)}},zM=function(e,n,a){var i=iw(NM(e)),l=nn(i,j(MM,a)),f=function(w){return!xo(w.node)&&!Ku(w.node)},g=rx(l,n,f);if(g){var b=f(g);if(g=rx($M(e,g,b),n,f),g&&Nv(g.node))return FM(g,n)}return null},wm=function(e,n){e.selection.setRng(n),Tg(e,e.selection.getRng())},ic=function(e,n,a){return te.some(tw(e,n,a))},ax=function(e,n,a,i,l,f){var g=n===Hi.Forwards,b=xc(e.getBody()),w=j(Oy,g?b.next:b.prev),A=g?i:l;if(!a.collapsed){var F=b1(a);if(f(F))return vf(n,e,F,n===Hi.Backwards,!1)}var I=Oi(n,e.getBody(),a);if(A(I))return Sp(e,I.getNode(!g));var V=Rc(g,w(I)),Y=Gc(a);if(!V)return Y?te.some(a):te.none();if(A(V))return vf(n,e,V.getNode(!g),g,!1);var X=w(V);return X&&A(X)&&q1(V,X)?vf(n,e,X.getNode(!g),g,!1):Y?ic(e,V.toRange(),!1):te.none()},VE=function(e,n,a,i,l,f){var g=Oi(n,e.getBody(),a),b=Ri(g.getClientRects()),w=n===Tp.Down;if(!b)return te.none();var A=w?RM:_M,F=A(e.getBody(),uw(1),g),I=nn(F,zE(1)),V=b.left,Y=rx(I,V);if(Y&&f(Y.node)){var X=Math.abs(V-Y.left),ee=Math.abs(V-Y.right);return vf(n,e,Y.node,X<ee,!1)}var re;if(i(g)?re=g.getNode():l(g)?re=g.getNode(!0):re=b1(a),re){var fe=nx(n,e.getBody(),uw(1),re),ce=rx(nn(fe,zE(1)),V);if(ce||(ce=Ri(nn(fe,zE(0))),ce))return ic(e,ce.position.toRange(),!1)}return I.length===0?ox(e,w).filter(w?l:i).map(function(ye){return tw(e,ye.toRange(),!1)}):te.none()},ox=function(e,n){var a=e.selection.getRng(),i=e.getBody();if(n){var l=je.fromRangeEnd(a),f=xp(i,l);return ta(f.positions)}else{var l=je.fromRangeStart(a),f=Wg(i,l);return oo(f.positions)}},V_=function(e,n,a){return ox(e,n).filter(a).exists(function(i){return e.selection.setRng(i.toRange()),!0})},sw=function(e,n){var a=e.dom.createRng();a.setStart(n.container(),n.offset()),a.setEnd(n.container(),n.offset()),e.selection.setRng(a)},H_=function(e,n){e?n.setAttribute("data-mce-selected","inline-boundary"):n.removeAttribute("data-mce-selected")},HE=function(e,n,a){return aw(n,a).map(function(i){return sw(e,i),a})},IM=function(e,n,a){var i=e.getBody(),l=je.fromRangeStart(e.selection.getRng()),f=j(Vg,e),g=ex(a,f,i,l);return g.bind(function(b){return HE(e,n,b)})},LM=function(e,n,a){var i=pt(Qu(k.fromDom(n.getRoot()),'*[data-mce-selected="inline-boundary"]'),function(g){return g.dom}),l=nn(i,e),f=nn(a,e);tt(ku(l,f),j(H_,!1)),tt(ku(f,l),j(H_,!0))},VM=function(e,n){if(e.selection.isCollapsed()&&e.composing!==!0&&n.get()){var a=je.fromRangeStart(e.selection.getRng());je.isTextPosition(a)&&U6(a)===!1&&(sw(e,Cy(n.get(),a)),n.set(null))}},Xb=function(e,n,a,i){if(n.selection.isCollapsed()){var l=nn(i,e);tt(l,function(f){var g=je.fromRangeStart(n.selection.getRng());rv(e,n.getBody(),g).bind(function(b){return HE(n,a,b)})})}},UE=function(e,n,a){return sg(e)?IM(e,n,a).isSome():!1},WE=function(e,n,a){return sg(n)?NE(e,n):!1},U_=function(e){var n=zu(null),a=j(Vg,e);return e.on("NodeChange",function(i){sg(e)&&!(On.browser.isIE()&&i.initial)&&(LM(a,e.dom,i.parents),VM(e,n),Xb(a,e,n,i.parents))}),n},jE=j(WE,!0),HM=j(WE,!1),ix=function(e,n,a){if(sg(e)){var i=ox(e,n).getOrThunk(function(){var l=e.selection.getRng();return n?je.fromRangeEnd(l):je.fromRangeStart(l)});return rv(j(Vg,e),e.getBody(),i).exists(function(l){var f=kp(l);return aw(a,f).exists(function(g){return sw(e,g),!0})})}else return!1},UM=function(e,n){var a=document.createRange();return a.setStart(e.container(),e.offset()),a.setEnd(n.container(),n.offset()),a},WM=function(e){return gu(Vu(e),Tc(e),function(n,a){var i=Rc(!0,n),l=Rc(!1,a);return bs(e,i).forall(function(f){return f.isEqual(l)})}).getOr(!0)},W_=function(e,n){return function(a){return aw(n,a).exists(function(i){return sw(e,i),!0})}},j_=function(e,n,a,i){var l=e.getBody(),f=j(Vg,e);e.undoManager.ignore(function(){e.selection.setRng(UM(a,i)),e.execCommand("Delete"),rv(f,l,je.fromRangeStart(e.selection.getRng())).map(Kb).map(W_(e,n))}),e.nodeChanged()},av=function(e,n){var a=tf(n,e);return a||e},jM=function(e,n,a,i){var l=av(e.getBody(),i.container()),f=j(Vg,e),g=rv(f,l,i);return g.bind(function(b){return a?b.fold(Q(te.some(Kb(b))),te.none,Q(te.some(kp(b))),te.none):b.fold(te.none,Q(te.some(kp(b))),te.none,Q(te.some(Kb(b))))}).map(W_(e,n)).getOrThunk(function(){var b=Yd(a,l,i),w=b.bind(function(A){return rv(f,l,A)});return gu(g,w,function(){return ym(f,l,i).exists(function(A){return WM(A)?(Pt(e,a,k.fromDom(A)),!0):!1})}).orThunk(function(){return w.bind(function(A){return b.map(function(F){return a?j_(e,n,i,F):j_(e,n,F,i),!0})})}).getOr(!1)})},ux=function(e,n,a){if(e.selection.isCollapsed()&&sg(e)){var i=je.fromRangeStart(e.selection.getRng());return jM(e,n,a,i)}return!1},GM=function(e,n){var a=Zf(n,e);return Ro(a,Il).fold(Q(a),function(i){return a.slice(0,i)})},qM=function(e){return Vp(e)===1},KM=function(e,n,a,i){var l=j(NB,n),f=pt(nn(i,l),function(b){return b.dom});if(f.length===0)Pt(n,e,a);else{var g=SA(a.dom,f);n.selection.setRng(g.toRange())}},XM=function(e,n){var a=k.fromDom(e.getBody()),i=k.fromDom(e.selection.getStart()),l=nn(GM(a,i),qM);return ta(l).exists(function(f){var g=je.fromRangeStart(e.selection.getRng());return m_(n,g,f.dom)&&!A4(f)?(KM(n,e,f,l),!0):!1})},lx=function(e,n){return e.selection.isCollapsed()?XM(e,n):!1},rd=function(e,n,a){return e._selectionOverrides.hideFakeCaret(),Pt(e,n,k.fromDom(a)),!0},YM=function(e,n){var a=n?Mg:Pg,i=n?Hi.Forwards:Hi.Backwards,l=Oi(i,e.getBody(),e.selection.getRng());return a(l)?rd(e,n,l.getNode(!n)):te.from(Rc(n,l)).filter(function(f){return a(f)&&q1(l,f)}).exists(function(f){return rd(e,n,f.getNode(!n))})},JM=function(e,n){var a=e.selection.getNode();return Ku(a)?rd(e,n,a):!1},cw=function(e,n){return e.selection.isCollapsed()?YM(e,n):JM(e,n)},GE=function(e){return Nm(e,function(n){return Fs(n.dom)||Ia(n.dom)}).exists(function(n){return Fs(n.dom)})},qE=function(e){var n=parseInt(e,10);return isNaN(n)?0:n},G_=function(e,n){var a=e||Jx(n)?"margin":"padding",i=ir(n,"direction")==="rtl"?"-right":"-left";return a+i},ZM=function(e,n,a,i,l,f){var g=G_(a,k.fromDom(f));if(n==="outdent"){var b=Math.max(0,qE(f.style[g])-i);e.setStyle(f,g,b?b+l:"")}else{var b=qE(f.style[g])+i+l;e.setStyle(f,g,b)}},Ep=function(e,n){return lu(n,function(a){var i=G_(z1(e),a),l=Ni(a,i).map(qE).getOr(0),f=e.dom.getContentEditable(a.dom);return f!=="false"&&l>0})},q_=function(e){var n=X_(e);return!e.mode.isReadOnly()&&(n.length>1||Ep(e,n))},K_=function(e){return Ls(e)||eu(e)},QM=function(e){return eo(e).exists(K_)},X_=function(e){return nn(AT(e.selection.getSelectedBlocks()),function(n){return!K_(n)&&!QM(n)&&GE(n)})},sx=function(e,n){var a=e.dom,i=e.selection,l=e.formatter,f=Ei(e),g=/[a-z%]+$/i.exec(f)[0],b=parseInt(f,10),w=z1(e),A=Vi(e);!e.queryCommandState("InsertUnorderedList")&&!e.queryCommandState("InsertOrderedList")&&A===""&&!a.getParent(i.getNode(),a.isBlock)&&l.apply("div"),tt(X_(e),function(F){ZM(a,n,w,b,g,F.dom)})},cx=function(e,n){if(e.selection.isCollapsed()&&q_(e)){var a=e.dom,i=e.selection.getRng(),l=je.fromRangeStart(i),f=a.getParent(i.startContainer,a.isBlock);if(f!==null&&A2(k.fromDom(f),l))return sx(e,"outdent"),!0}return!1},KE=function(e,n){e.getDoc().execCommand(n,!1,null)},Y_=function(e,n){if(!cx(e)){if(qk(e,!1))return;if(nw(e,!1))return;if(ux(e,n,!1))return;if(Hk(e,!1))return;if(B2(e))return;if(Kk(e,!1))return;if(cw(e,!1))return;if(yp(e))return;if(lx(e,!1))return;KE(e,"Delete"),d_(e)}},J_=function(e,n){if(!qk(e,!0)){if(nw(e,!0))return;if(ux(e,n,!0))return;if(Hk(e,!0))return;if(B2(e))return;if(Kk(e,!0))return;if(cw(e,!0))return;if(yp(e))return;if(lx(e,!0))return;KE(e,"ForwardDelete")}},eP=function(e,n){e.addCommand("delete",function(){Y_(e,n)}),e.addCommand("forwardDelete",function(){J_(e,n)})},Yb=5,tP=400,Z_=function(e){return e.touches===void 0||e.touches.length!==1?te.none():te.some(e.touches[0])},nP=function(e,n){var a=Math.abs(e.clientX-n.x),i=Math.abs(e.clientY-n.y);return a>Yb||i>Yb},Jb=function(e){var n=Ev(),a=zu(!1),i=s1(function(l){e.fire("longpress",Sn(Sn({},l),{type:"longpress"})),a.set(!0)},tP);e.on("touchstart",function(l){Z_(l).each(function(f){i.cancel();var g={x:f.clientX,y:f.clientY,target:l.target};i.throttle(l),a.set(!1),n.set(g)})},!0),e.on("touchmove",function(l){i.cancel(),Z_(l).each(function(f){n.on(function(g){nP(f,g)&&(n.clear(),a.set(!1),e.fire("longpresscancel"))})})},!0),e.on("touchend touchcancel",function(l){i.cancel(),l.type!=="touchcancel"&&n.get().filter(function(f){return f.target.isEqualNode(l.target)}).each(function(){a.get()?l.preventDefault():e.fire("tap",Sn(Sn({},l),{type:"tap"}))})},!0)},XE=function(e,n){return tr(e,n.nodeName)},Cm=function(e,n){return on(n)?!0:Wn(n)?!XE(e,n)&&!Tl(n):!1},rP=function(e,n,a){return Qe(E2(k.fromDom(a),k.fromDom(n)),function(i){return XE(e,i.dom)})},YE=function(e,n){if(on(n)){if(n.nodeValue.length===0)return!0;if(/^\s+$/.test(n.nodeValue)&&(!n.nextSibling||XE(e,n.nextSibling)))return!0}return!1},JE=function(e){var n=e.dom,a=e.selection,i=e.schema,l=i.getBlockElements(),f=a.getStart(),g=e.getBody(),b,w,A,F=Vi(e);if(!(!f||!Wn(f)||!F)){var I=g.nodeName.toLowerCase();if(!(!i.isValidChild(I,F.toLowerCase())||rP(l,g,f))){var V=a.getRng(),Y=V.startContainer,X=V.startOffset,ee=V.endContainer,re=V.endOffset,fe=qv(e);for(f=g.firstChild;f;)if(Cm(l,f)){if(YE(l,f)){w=f,f=f.nextSibling,n.remove(w);continue}b||(b=n.create(F,Hd(e)),f.parentNode.insertBefore(b,f),A=!0),w=f,f=f.nextSibling,b.appendChild(w)}else b=null,f=f.nextSibling;A&&fe&&(V.setStart(Y,X),V.setEnd(ee,re),a.setRng(V),e.nodeChanged())}}},aP=function(e){Vi(e)&&e.on("NodeChange",j(JE,e))},oP=function(e){return Fm(k.fromDom(e.getBody()),"*[data-mce-caret]").map(function(n){return n.dom}).getOrNull()},iP=function(e){e.selection.setRng(e.selection.getRng())},ZE=function(e,n){n.hasAttribute("data-mce-caret")&&(y0(n),iP(e),e.selection.scrollIntoView(n))},uP=function(e,n){var a=oP(e);if(!!a){if(n.type==="compositionstart"){n.preventDefault(),n.stopPropagation(),ZE(e,a);return}Mf(a)&&(ZE(e,a),e.undoManager.add())}},lP=function(e){e.on("keyup compositionstart",j(uP,e))},Q_=Ia,sP=function(e,n,a){return ax(n,e,a,Kv,Xv,Q_)},e5=function(e,n,a){var i=function(f){return Kv(f)||xb(f)},l=function(f){return Xv(f)||JS(f)};return VE(n,e,a,i,l,Q_)},cP=function(e){var n=e.dom.create(Vi(e));return(!On.ie||On.ie>=11)&&(n.innerHTML='<br data-mce-bogus="1">'),n},jg=function(e,n,a){var i=xc(e.getBody()),l=j(Oy,n===1?i.next:i.prev);if(a.collapsed&&qT(e)){var f=e.dom.getParent(a.startContainer,"PRE");if(!f)return;var g=l(je.fromRangeStart(a));if(!g){var b=cP(e);n===1?e.$(f).after(b):e.$(f).before(b),e.selection.select(b,!0),e.selection.collapse()}}},fP=function(e,n){var a=n?Hi.Forwards:Hi.Backwards,i=e.selection.getRng();return sP(a,e,i).orThunk(function(){return jg(e,a,i),te.none()})},fw=function(e,n){var a=n?1:-1,i=e.selection.getRng();return e5(a,e,i).orThunk(function(){return jg(e,a,i),te.none()})},QE=function(e,n){return fP(e,n).exists(function(a){return wm(e,a),!0})},fx=function(e,n){return fw(e,n).exists(function(a){return wm(e,a),!0})},vx=function(e,n){var a=n?Xv:Kv;return V_(e,n,a)},vP=function(e){return Re(["figcaption"],ma(e))},t5=function(e){var n=document.createRange();return n.setStartBefore(e.dom),n.setEndBefore(e.dom),n},n5=function(e,n,a){a?Ko(e,n):cs(e,n)},eO=function(e,n){var a=k.fromTag("br");return n5(e,a,n),t5(a)},dP=function(e,n,a,i){var l=k.fromTag(a),f=k.fromTag("br");return z(l,i),Ko(l,f),n5(e,l,n),t5(f)},mP=function(e,n,a,i){return n===""?eO(e,i):dP(e,i,n,a)},gP=function(e,n){var a=j(ra,n);return Nm(k.fromDom(e.container()),Il,a).filter(vP)},hP=function(e,n,a){return n?xM(e.dom,a):kM(e.dom,a)},r5=function(e,n){var a=k.fromDom(e.getBody()),i=je.fromRangeStart(e.selection.getRng()),l=Vi(e),f=Hd(e);return gP(i,a).exists(function(){if(hP(a,n,i)){var g=mP(a,l,f,n);return e.selection.setRng(g),!0}else return!1})},a5=function(e,n){return e.selection.isCollapsed()?r5(e,n):!1},pP=function(e){return pt(e,function(n){return Sn({shiftKey:!1,altKey:!1,ctrlKey:!1,metaKey:!1,keyCode:0,action:st},n)})},bP=function(e,n){return n.keyCode===e.keyCode&&n.shiftKey===e.shiftKey&&n.altKey===e.altKey&&n.ctrlKey===e.ctrlKey&&n.metaKey===e.metaKey},yP=function(e,n){return uu(pP(e),function(a){return bP(a,n)?[a]:[]})},Mr=function(e){for(var n=[],a=1;a<arguments.length;a++)n[a-1]=arguments[a];return function(){return e.apply(null,n)}},Zb=function(e,n){return Kr(yP(e,n),function(a){return a.action()})},o5=function(e,n){var a=n?Hi.Forwards:Hi.Backwards,i=e.selection.getRng();return ax(e,a,i,Mg,Pg,Ku).exists(function(l){return wm(e,l),!0})},i5=function(e,n){var a=n?1:-1,i=e.selection.getRng();return VE(e,a,i,Mg,Pg,Ku).exists(function(l){return wm(e,l),!0})},tO=function(e,n){var a=n?Pg:Mg;return V_(e,n,a)},wP=function(e,n){return{left:e.left-n,top:e.top-n,right:e.right+n*2,bottom:e.bottom+n*2,width:e.width+n,height:e.height+n}},u5=function(e,n){return uu(n,function(a){var i=wP(Dv(a.getBoundingClientRect()),-1);return[{x:i.left,y:e(i),cell:a},{x:i.right,y:e(i),cell:a}]})},CP=function(e,n,a){return wr(e,function(i,l){return i.fold(function(){return te.some(l)},function(f){var g=Math.sqrt(Math.abs(f.x-n)+Math.abs(f.y-a)),b=Math.sqrt(Math.abs(l.x-n)+Math.abs(l.y-a));return te.some(b<g?l:f)})},te.none())},l5=function(e,n,a,i,l){var f=Qu(k.fromDom(a),"td,th,caption").map(function(b){return b.dom}),g=nn(u5(e,f),function(b){return n(b,l)});return CP(g,i,l).map(function(b){return b.cell})},SP=function(e){return e.bottom},kP=function(e){return e.top},xP=function(e,n){return e.y<n},TP=function(e,n){return e.y>n},EP=j(l5,SP,xP),OP=j(l5,kP,TP),AP=function(e,n){return oo(n.getClientRects()).bind(function(a){return EP(e,a.left,a.top)}).bind(function(a){return ow(TM(a),n)})},DP=function(e,n){return ta(n.getClientRects()).bind(function(a){return OP(e,a.left,a.top)}).bind(function(a){return ow(F_(a),n)})},_P=function(e,n,a){return a.breakAt.exists(function(i){return e(n,i).breakAt.isSome()})},RP=function(e){return e.breakType===nd.Wrap&&e.positions.length===0},BP=function(e){return e.breakType===nd.Br&&e.positions.length===1},nO=function(e,n,a){var i=e(n,a);return RP(i)||!ha(a.getNode())&&BP(i)?!_P(e,n,i):i.breakAt.isNone()},MP=j(nO,Wg),PP=j(nO,xp),s5=function(e,n,a){var i=je.fromRangeStart(n);return ps(!e,a).exists(function(l){return l.isEqual(i)})},c5=function(e,n,a,i){var l=e.selection.getRng(),f=n?1:-1;return Gd()&&s5(n,l,a)?(vf(f,e,a,!n,!1).each(function(g){wm(e,g)}),!0):!1},dx=function(e,n,a){return AP(n,a).orThunk(function(){return oo(a.getClientRects()).bind(function(i){return FE(CM(e,je.before(n)),i.left)})}).getOr(je.before(n))},f5=function(e,n,a){return DP(n,a).orThunk(function(){return oo(a.getClientRects()).bind(function(i){return FE(SM(e,je.after(n)),i.left)})}).getOr(je.after(n))},mx=function(e,n){var a=n.getNode(e);return Wn(a)&&a.nodeName==="TABLE"?te.some(a):te.none()},rO=function(e,n,a,i){var l=Vi(n);l?n.undoManager.transact(function(){var f=k.fromTag(l);z(f,Hd(n)),Ko(f,k.fromTag("br")),e?cv(k.fromDom(a),f):Pi(k.fromDom(a),f);var g=n.dom.createRng();g.setStart(f.dom,0),g.setEnd(f.dom,0),wm(n,g)}):wm(n,i.toRange())},aO=function(e,n,a){var i=mx(!!n,a),l=n===!1;i.fold(function(){return wm(e,a.toRange())},function(f){return ps(l,e.getBody()).filter(function(g){return g.isEqual(a)}).fold(function(){return wm(e,a.toRange())},function(g){return rO(n,e,f,a)})})},$P=function(e,n,a,i){var l=e.selection.getRng(),f=je.fromRangeStart(l),g=e.getBody();if(!n&&MP(i,f)){var b=dx(g,a,f);return aO(e,n,b),!0}else if(n&&PP(i,f)){var b=f5(g,a,f);return aO(e,n,b),!0}else return!1},oO=function(e,n,a){return te.from(e.dom.getParent(e.selection.getNode(),"td,th")).bind(function(i){return te.from(e.dom.getParent(i,"table")).map(function(l){return a(e,n,l,i)})}).getOr(!1)},Op=function(e,n){return oO(e,n,c5)},iO=function(e,n){return oO(e,n,$P)},uO=function(e,n,a){var i=hn().os;Zb([{keyCode:Mn.RIGHT,action:Mr(QE,e,!0)},{keyCode:Mn.LEFT,action:Mr(QE,e,!1)},{keyCode:Mn.UP,action:Mr(fx,e,!1)},{keyCode:Mn.DOWN,action:Mr(fx,e,!0)},{keyCode:Mn.RIGHT,action:Mr(Op,e,!0)},{keyCode:Mn.LEFT,action:Mr(Op,e,!1)},{keyCode:Mn.UP,action:Mr(iO,e,!1)},{keyCode:Mn.DOWN,action:Mr(iO,e,!0)},{keyCode:Mn.RIGHT,action:Mr(o5,e,!0)},{keyCode:Mn.LEFT,action:Mr(o5,e,!1)},{keyCode:Mn.UP,action:Mr(i5,e,!1)},{keyCode:Mn.DOWN,action:Mr(i5,e,!0)},{keyCode:Mn.RIGHT,action:Mr(UE,e,n,!0)},{keyCode:Mn.LEFT,action:Mr(UE,e,n,!1)},{keyCode:Mn.RIGHT,ctrlKey:!i.isOSX(),altKey:i.isOSX(),action:Mr(jE,e,n)},{keyCode:Mn.LEFT,ctrlKey:!i.isOSX(),altKey:i.isOSX(),action:Mr(HM,e,n)},{keyCode:Mn.UP,action:Mr(a5,e,!1)},{keyCode:Mn.DOWN,action:Mr(a5,e,!0)}],a).each(function(l){a.preventDefault()})},NP=function(e,n){e.on("keydown",function(a){a.isDefaultPrevented()===!1&&uO(e,n,a)})},lO=function(e,n,a){Zb([{keyCode:Mn.BACKSPACE,action:Mr(cx,e,!1)},{keyCode:Mn.BACKSPACE,action:Mr(qk,e,!1)},{keyCode:Mn.DELETE,action:Mr(qk,e,!0)},{keyCode:Mn.BACKSPACE,action:Mr(nw,e,!1)},{keyCode:Mn.DELETE,action:Mr(nw,e,!0)},{keyCode:Mn.BACKSPACE,action:Mr(ux,e,n,!1)},{keyCode:Mn.DELETE,action:Mr(ux,e,n,!0)},{keyCode:Mn.BACKSPACE,action:Mr(B2,e,!1)},{keyCode:Mn.DELETE,action:Mr(B2,e,!0)},{keyCode:Mn.BACKSPACE,action:Mr(Kk,e,!1)},{keyCode:Mn.DELETE,action:Mr(Kk,e,!0)},{keyCode:Mn.BACKSPACE,action:Mr(cw,e,!1)},{keyCode:Mn.DELETE,action:Mr(cw,e,!0)},{keyCode:Mn.BACKSPACE,action:Mr(yp,e,!1)},{keyCode:Mn.DELETE,action:Mr(yp,e,!0)},{keyCode:Mn.BACKSPACE,action:Mr(Hk,e,!1)},{keyCode:Mn.DELETE,action:Mr(Hk,e,!0)},{keyCode:Mn.BACKSPACE,action:Mr(lx,e,!1)},{keyCode:Mn.DELETE,action:Mr(lx,e,!0)}],a).each(function(i){a.preventDefault()})},FP=function(e,n){Zb([{keyCode:Mn.BACKSPACE,action:Mr(D_,e)},{keyCode:Mn.DELETE,action:Mr(D_,e)}],n)},zP=function(e,n){e.on("keydown",function(a){a.isDefaultPrevented()===!1&&lO(e,n,a)}),e.on("keyup",function(a){a.isDefaultPrevented()===!1&&FP(e,a)})},IP=function(e){for(;e;){if(e.nodeType===1||e.nodeType===3&&e.data&&/[\r\n\s]/.test(e.data))return e;e=e.nextSibling}},vw=function(e,n){var a,i=n,l=e.dom,f=e.schema.getMoveCaretBeforeOnEnterElements();if(!!n){if(/^(LI|DT|DD)$/.test(n.nodeName)){var g=IP(n.firstChild);g&&/^(UL|OL|DL)$/.test(g.nodeName)&&n.insertBefore(l.doc.createTextNode(hl),n.firstChild)}var b=l.createRng();if(n.normalize(),n.hasChildNodes()){for(var w=new Yr(n,n);a=w.current();){if(on(a)){b.setStart(a,0),b.setEnd(a,0);break}if(f[a.nodeName.toLowerCase()]){b.setStartBefore(a),b.setEndBefore(a);break}i=a,a=w.next()}a||(b.setStart(i,0),b.setEnd(i,0))}else ha(n)?n.nextSibling&&l.isBlock(n.nextSibling)?(b.setStartBefore(n),b.setEndBefore(n)):(b.setStartAfter(n),b.setEndAfter(n)):(b.setStart(n,0),b.setEnd(n,0));e.selection.setRng(b),Tg(e,b)}},LP=function(e,n){var a=e.getRoot(),i,l;for(i=n;i!==a&&e.getContentEditable(i)!=="false";)e.getContentEditable(i)==="true"&&(l=i),i=i.parentNode;return i!==a?l:a},sO=function(e){return te.from(e.dom.getParent(e.selection.getStart(!0),e.dom.isBlock))},v5=function(e){return sO(e).fold(Q(""),function(n){return n.nodeName.toUpperCase()})},Qb=function(e){return sO(e).filter(function(n){return eu(k.fromDom(n))}).isSome()},VP=function(e,n){return e.firstChild&&e.firstChild.nodeName===n},cO=function(e){var n;return((n=e.parentNode)===null||n===void 0?void 0:n.firstChild)===e},d5=function(e,n){return e&&e.parentNode&&e.parentNode.nodeName===n},fO=function(e){return e&&/^(OL|UL|LI)$/.test(e.nodeName)},m5=function(e){return fO(e)&&fO(e.parentNode)},dw=function(e){var n=e.parentNode;return/^(LI|DT|DD)$/.test(n.nodeName)?n:e},mw=function(e,n,a){for(var i=e[a?"firstChild":"lastChild"];i&&!Wn(i);)i=i[a?"nextSibling":"previousSibling"];return i===n},vO=function(e,n,a,i,l){var f=e.dom,g=e.selection.getRng();if(a!==e.getBody()){m5(a)&&(l="LI");var b=l?n(l):f.create("BR");if(mw(a,i,!0)&&mw(a,i,!1))if(d5(a,"LI")){var w=dw(a);f.insertAfter(b,w),cO(a)?f.remove(w):f.remove(a)}else f.replace(b,a);else if(mw(a,i,!0))d5(a,"LI")?(f.insertAfter(b,dw(a)),b.appendChild(f.doc.createTextNode(" ")),b.appendChild(a)):a.parentNode.insertBefore(b,a),f.remove(i);else if(mw(a,i,!1))f.insertAfter(b,dw(a)),f.remove(i);else{a=dw(a);var A=g.cloneRange();A.setStartAfter(i),A.setEndAfter(a);var F=A.extractContents();l==="LI"&&VP(F,"LI")?(b=F.firstChild,f.insertAfter(F,a)):(f.insertAfter(F,a),f.insertAfter(b,a)),f.remove(i)}vw(e,b)}},g5=function(e){tt(m1(k.fromDom(e),Ka),function(n){var a=n.dom;a.nodeValue=bc(a.nodeValue)})},HP=function(e,n){return n&&n.nodeName==="A"&&e.isEmpty(n)},UP=function(e){return e&&/^(TD|TH|CAPTION)$/.test(e.nodeName)},e0=function(e){e.innerHTML='<br data-mce-bogus="1">'},dO=function(e,n){return e.nodeName===n||e.previousSibling&&e.previousSibling.nodeName===n},h5=function(e,n){return n&&e.isBlock(n)&&!/^(TD|TH|CAPTION|FORM)$/.test(n.nodeName)&&!/^(fixed|absolute)/i.test(n.style.position)&&e.getContentEditable(n)!=="true"},WP=function(e,n,a){var i=a,l=[],f;if(!!i){for(;i=i.firstChild;){if(e.isBlock(i))return;Wn(i)&&!n[i.nodeName.toLowerCase()]&&l.push(i)}for(f=l.length;f--;)i=l[f],(!i.hasChildNodes()||i.firstChild===i.lastChild&&i.firstChild.nodeValue===""||HP(e,i))&&e.remove(i)}},gx=function(e,n,a){return on(n)===!1?a:e?a===1&&n.data.charAt(a-1)===ke?0:a:a===n.data.length-1&&n.data.charAt(a)===ke?n.data.length:a},jP=function(e){var n=e.cloneRange();return n.setStart(e.startContainer,gx(!0,e.startContainer,e.startOffset)),n.setEnd(e.endContainer,gx(!1,e.endContainer,e.endOffset)),n},GP=function(e){do on(e)&&(e.nodeValue=e.nodeValue.replace(/^[\r\n]+/,"")),e=e.firstChild;while(e)},As=function(e,n){var a=e.getRoot(),i,l;for(i=n;i!==a&&e.getContentEditable(i)!=="false";)e.getContentEditable(i)==="true"&&(l=i),i=i.parentNode;return i!==a?l:a},qP=function(e,n,a){var i=e.dom;te.from(a.style).map(i.parseStyle).each(function(w){var A=to(k.fromDom(n)),F=Sn(Sn({},A),w);i.setStyles(n,F)});var l=te.from(a.class).map(function(w){return w.split(/\s+/)}),f=te.from(n.className).map(function(w){return nn(w.split(/\s+/),function(A){return A!==""})});gu(l,f,function(w,A){var F=nn(A,function(V){return!Re(w,V)}),I=ii(ii([],w,!0),F,!0);i.setAttrib(n,"class",I.join(" "))});var g=["style","class"],b=Sa(a,function(w,A){return!Re(g,A)});i.setAttribs(n,b)},Ap=function(e,n){var a=Vi(e);if(a&&a.toLowerCase()===n.tagName.toLowerCase()){var i=Hd(e);qP(e,n,i)}},p5=function(e,n,a,i,l){var f,g,b,w,A,F,I=n||"P",V=e.dom,Y=As(V,i);if(g=V.getParent(i,V.isBlock),!g||!h5(V,g)){if(g=g||Y,g===e.getBody()||UP(g)?F=g.nodeName.toLowerCase():F=g.parentNode.nodeName.toLowerCase(),!g.hasChildNodes())return f=V.create(I),Ap(e,f),g.appendChild(f),a.setStart(f,0),a.setEnd(f,0),f;for(w=i;w.parentNode!==g;)w=w.parentNode;for(;w&&!V.isBlock(w);)b=w,w=w.previousSibling;if(b&&e.schema.isValidChild(F,I.toLowerCase())){for(f=V.create(I),Ap(e,f),b.parentNode.insertBefore(f,b),w=b;w&&!V.isBlock(w);)A=w.nextSibling,f.appendChild(w),w=A;a.setStart(i,l),a.setEnd(i,l)}}return i},mO=function(e,n){n.normalize();var a=n.lastChild;(!a||/^(left|right)$/gi.test(e.getStyle(a,"float",!0)))&&e.add(n,"br")},KP=function(e,n){var a,i,l,f,g,b,w,A,F,I,V=e.dom,Y=e.schema,X=Y.getNonEmptyElements(),ee=e.selection.getRng(),re=function(qe){var Ct=i,_n,en,wt,Fn=Y.getTextInlineElements();if(qe||A==="TABLE"||A==="HR"?_n=V.create(qe||F):_n=f.cloneNode(!1),wt=_n,lg(e)===!1)V.setAttrib(_n,"style",null),V.setAttrib(_n,"class",null);else do if(Fn[Ct.nodeName]){if(ws(Ct)||Tl(Ct))continue;en=Ct.cloneNode(!1),V.setAttrib(en,"id",""),_n.hasChildNodes()?(en.appendChild(_n.firstChild),_n.appendChild(en)):(wt=en,_n.appendChild(en))}while((Ct=Ct.parentNode)&&Ct!==he);return Ap(e,_n),e0(wt),_n},fe=function(qe){var Ct,_n,en=gx(qe,i,l);if(on(i)&&(qe?en>0:en<i.nodeValue.length))return!1;if(i.parentNode===f&&I&&!qe||qe&&Wn(i)&&i===f.firstChild)return!0;if(dO(i,"TABLE")||dO(i,"HR"))return I&&!qe||!I&&qe;var wt=new Yr(i,f);for(on(i)&&(qe&&en===0?wt.prev():!qe&&en===i.nodeValue.length&&wt.next());Ct=wt.current();){if(Wn(Ct)){if(!Ct.getAttribute("data-mce-bogus")&&(_n=Ct.nodeName.toLowerCase(),X[_n]&&_n!=="br"))return!1}else if(on(Ct)&&!Vs(Ct.nodeValue))return!1;qe?wt.prev():wt.next()}return!0},ce=function(){/^(H[1-6]|PRE|FIGURE)$/.test(A)&&Be!=="HGROUP"?g=re(F):g=re(),pC(e)&&h5(V,w)&&V.isEmpty(f)?g=V.split(w,f):V.insertAfter(g,f),vw(e,g)};zh(V,ee).each(function(qe){ee.setStart(qe.startContainer,qe.startOffset),ee.setEnd(qe.endContainer,qe.endOffset)}),i=ee.startContainer,l=ee.startOffset,F=Vi(e);var ye=!!(n&&n.shiftKey),De=!!(n&&n.ctrlKey);Wn(i)&&i.hasChildNodes()&&(I=l>i.childNodes.length-1,i=i.childNodes[Math.min(l,i.childNodes.length-1)]||i,I&&on(i)?l=i.nodeValue.length:l=0);var he=As(V,i);if(!!he){(F&&!ye||!F&&ye)&&(i=p5(e,F,ee,i,l)),f=V.getParent(i,V.isBlock),w=f?V.getParent(f.parentNode,V.isBlock):null,A=f?f.nodeName.toUpperCase():"";var Be=w?w.nodeName.toUpperCase():"";if(Be==="LI"&&!De&&(f=w,w=w.parentNode,A=Be),/^(LI|DT|DD)$/.test(A)&&V.isEmpty(f)){vO(e,re,w,f,F);return}F&&f===e.getBody()||(F=F||"P",pa(f)?(g=y0(f),V.isEmpty(f)&&e0(f),Ap(e,g),vw(e,g)):fe()?ce():fe(!0)?(g=f.parentNode.insertBefore(re(),f),vw(e,dO(f,"HR")?g:f)):(a=jP(ee).cloneRange(),a.setEndAfter(f),b=a.extractContents(),g5(b),GP(b),g=b.firstChild,V.insertAfter(b,f),WP(V,X,g),mO(V,f),V.isEmpty(f)&&e0(f),g.normalize(),V.isEmpty(g)?(V.remove(g),ce()):(Ap(e,g),vw(e,g))),V.setAttrib(g,"id",""),e.fire("NewBlock",{newBlock:g}))}},XP=function(e,n,a){for(var i=new Yr(n,a),l,f=e.getNonEmptyElements();l=i.next();)if(f[l.nodeName.toLowerCase()]||l.length>0)return!0},gO=function(e,n,a){var i=e.dom.createRng();a?(i.setStartBefore(n),i.setEndBefore(n)):(i.setStartAfter(n),i.setEndAfter(n)),e.selection.setRng(i),Tg(e,i)},YP=function(e,n){var a=e.selection,i=e.dom,l=a.getRng(),f,g;zh(i,l).each(function(X){l.setStart(X.startContainer,X.startOffset),l.setEnd(X.endContainer,X.endOffset)});var b=l.startOffset,w=l.startContainer;if(w.nodeType===1&&w.hasChildNodes()){var A=b>w.childNodes.length-1;w=w.childNodes[Math.min(b,w.childNodes.length-1)]||w,A&&w.nodeType===3?b=w.nodeValue.length:b=0}var F=i.getParent(w,i.isBlock),I=F?i.getParent(F.parentNode,i.isBlock):null,V=I?I.nodeName.toUpperCase():"",Y=!!(n&&n.ctrlKey);V==="LI"&&!Y&&(F=I),w&&w.nodeType===3&&b>=w.nodeValue.length&&(XP(e.schema,w,F)||(f=i.create("br"),l.insertNode(f),l.setStartAfter(f),l.setEndAfter(f),g=!0)),f=i.create("br"),Bv(i,l,f),gO(e,f,g),e.undoManager.add()},JP=function(e,n){var a=k.fromTag("br");Pi(k.fromDom(n),a),e.undoManager.add()},ZP=function(e,n){e$(e.getBody(),n)||cv(k.fromDom(n),k.fromTag("br"));var a=k.fromTag("br");cv(k.fromDom(n),a),gO(e,a.dom,!1),e.undoManager.add()},QP=function(e){return ha(e.getNode())},e$=function(e,n){return QP(je.after(n))?!0:bs(e,je.after(n)).map(function(a){return ha(a.getNode())}).getOr(!1)},b5=function(e){return e&&e.nodeName==="A"&&"href"in e},t$=function(e){return e.fold(Mt,b5,b5,Mt)},n$=function(e){var n=j(Vg,e),a=je.fromRangeStart(e.selection.getRng());return rv(n,e.getBody(),a).filter(t$)},r$=function(e,n){n.fold(st,j(JP,e),j(ZP,e),st)},Su=function(e,n){var a=n$(e);a.isSome()?a.each(j(r$,e)):YP(e,n)},y5=function(e,n){return sO(e).filter(function(a){return n.length>0&&na(k.fromDom(a),n)}).isSome()},a$=function(e){return y5(e,vy(e))},o$=function(e){return y5(e,hC(e))},fo=kn.generate([{br:[]},{block:[]},{none:[]}]),i$=function(e,n){return o$(e)},hx=function(e){return function(n,a){var i=Vi(n)==="";return i===e}},w5=function(e){return function(n,a){return Qb(n)===e}},Dp=function(e,n){return function(a,i){var l=v5(a)===e.toUpperCase();return l===n}},px=function(e){return Dp("pre",e)},u$=function(){return Dp("summary",!0)},t0=function(e){return function(n,a){return NT(n)===e}},l$=function(e,n){return a$(e)},gw=function(e,n){return n},C5=function(e){var n=Vi(e),a=LP(e.dom,e.selection.getStart());return a&&e.schema.isValidChild(a.nodeName,n||"P")},Mc=function(e,n){return function(a,i){var l=wr(e,function(f,g){return f&&g(a,i)},!0);return l?te.some(n):te.none()}},s$=function(e,n){return R_([Mc([i$],fo.none()),Mc([u$()],fo.br()),Mc([px(!0),t0(!1),gw],fo.br()),Mc([px(!0),t0(!1)],fo.block()),Mc([px(!0),t0(!0),gw],fo.block()),Mc([px(!0),t0(!0)],fo.br()),Mc([w5(!0),gw],fo.br()),Mc([w5(!0)],fo.block()),Mc([hx(!0),gw,C5],fo.block()),Mc([hx(!0)],fo.br()),Mc([l$],fo.br()),Mc([hx(!1),gw],fo.br()),Mc([C5],fo.block())],[e,!!(n&&n.shiftKey)]).getOr(fo.none())},S5=function(e,n){s$(e,n).fold(function(){Su(e,n)},function(){KP(e,n)},st)},bx=function(e,n){n.isDefaultPrevented()||(n.preventDefault(),Ib(e.undoManager),e.undoManager.transact(function(){e.selection.isCollapsed()===!1&&e.execCommand("Delete"),S5(e,n)}))},k5=function(e){e.on("keydown",function(n){n.keyCode===Mn.ENTER&&bx(e,n)})},c$=function(e,n,a){Zb([{keyCode:Mn.END,action:Mr(vx,e,!0)},{keyCode:Mn.HOME,action:Mr(vx,e,!1)},{keyCode:Mn.END,action:Mr(tO,e,!0)},{keyCode:Mn.HOME,action:Mr(tO,e,!1)},{keyCode:Mn.END,action:Mr(ix,e,!0,n)},{keyCode:Mn.HOME,action:Mr(ix,e,!1,n)}],a).each(function(i){a.preventDefault()})},f$=function(e,n){e.on("keydown",function(a){a.isDefaultPrevented()===!1&&c$(e,n,a)})},v$=hn().browser,d$=function(e){var n=ca(function(){e.composing||xr(e)},0);v$.isIE()&&(e.on("keypress",function(a){n.throttle()}),e.on("remove",function(a){n.cancel()}))},m$=function(e){d$(e),e.on("input",function(n){n.isComposing===!1&&xr(e)})},hO=hn(),x5=function(e,n,a){Zb([{keyCode:Mn.PAGE_UP,action:Mr(ix,e,!1,n)},{keyCode:Mn.PAGE_DOWN,action:Mr(ix,e,!0,n)}],a)},pO=function(e){return e.stopImmediatePropagation()},bO=function(e){return e.keyCode===Mn.PAGE_UP||e.keyCode===Mn.PAGE_DOWN},T5=function(e,n,a){a&&!e.get()?n.on("NodeChange",pO,!0):!a&&e.get()&&n.off("NodeChange",pO),e.set(a)},g$=function(e,n){if(!hO.os.isOSX()){var a=zu(!1);e.on("keydown",function(i){bO(i)&&T5(a,e,!0)}),e.on("keyup",function(i){i.isDefaultPrevented()===!1&&x5(e,n,i),bO(i)&&a.get()&&(T5(a,e,!1),e.nodeChanged())})}},E5=function(e,n){var a=n.container(),i=n.offset();return on(a)?(a.insertData(i,e),te.some(je(a,i+e.length))):Fv(n).map(function(l){var f=k.fromText(e);return n.isAtEnd()?cv(l,f):Pi(l,f),je(f.dom,e.length)})},h$=j(E5,hl),p$=j(E5," "),b$=function(e){return function(n){return n.fold(function(a){return ys(e.dom,je.before(a))},function(a){return Vu(a)},function(a){return Tc(a)},function(a){return bs(e.dom,je.after(a))})}},O5=function(e,n){return function(a){return _2(e,a)?h$(n):p$(n)}},y$=function(e){return function(n){return e.selection.setRng(n.toRange()),e.nodeChanged(),!0}},w$=function(e){var n=je.fromRangeStart(e.selection.getRng()),a=k.fromDom(e.getBody());if(e.selection.isCollapsed()){var i=j(Vg,e),l=je.fromRangeStart(e.selection.getRng());return rv(i,e.getBody(),l).bind(b$(a)).bind(O5(a,n)).exists(y$(e))}else return!1},C$=function(e,n){Zb([{keyCode:Mn.SPACEBAR,action:Mr(w$,e)}],n).each(function(a){n.preventDefault()})},S$=function(e){e.on("keydown",function(n){n.isDefaultPrevented()===!1&&C$(e,n)})},A5=function(e){var n=U_(e);return lP(e),NP(e,n),zP(e,n),k5(e),S$(e),m$(e),f$(e,n),g$(e,n),n},k$=function(e){return bm(e)?zu(null):A5(e)},x$=function(){function e(n){this.lastPath=[],this.editor=n;var a,i=this;"onselectionchange"in n.getDoc()||n.on("NodeChange click mouseup keyup focus",function(l){var f=n.selection.getRng(),g={startContainer:f.startContainer,startOffset:f.startOffset,endContainer:f.endContainer,endOffset:f.endOffset};(l.type==="nodechange"||!ab(g,a))&&n.fire("SelectionChange"),a=g}),n.on("contextmenu",function(){n.fire("SelectionChange")}),n.on("SelectionChange",function(){var l=n.selection.getStart(!0);!l||!On.range&&n.selection.isCollapsed()||Ss(n)&&!i.isSameElementPath(l)&&n.dom.isChildOf(l,n.getBody())&&n.nodeChanged({selectionChange:!0})}),n.on("mouseup",function(l){!l.isDefaultPrevented()&&Ss(n)&&(n.selection.getNode().nodeName==="IMG"?Qi.setEditorTimeout(n,function(){n.nodeChanged()}):n.nodeChanged())})}return e.prototype.nodeChanged=function(n){var a=this.editor.selection,i,l,f;this.editor.initialized&&a&&!KT(this.editor)&&!this.editor.mode.isReadOnly()&&(f=this.editor.getBody(),i=a.getStart(!0)||f,(i.ownerDocument!==this.editor.getDoc()||!this.editor.dom.isChildOf(i,f))&&(i=f),l=[],this.editor.dom.getParent(i,function(g){if(g===f)return!0;l.push(g)}),n=n||{},n.element=i,n.parents=l,this.editor.fire("NodeChange",n))},e.prototype.isSameElementPath=function(n){var a,i=this.editor.$(n).parentsUntil(this.editor.getBody()).add(n);if(i.length===this.lastPath.length){for(a=i.length;a>=0&&i[a]===this.lastPath[a];a--);if(a===-1)return this.lastPath=i,!0}return this.lastPath=i,!1},e}(),T$=function(e){e.on("click",function(n){e.dom.getParent(n.target,"details")&&n.preventDefault()})},E$=function(e){e.parser.addNodeFilter("details",function(n){tt(n,function(a){a.attr("data-mce-open",a.attr("open")),a.attr("open","open")})}),e.serializer.addNodeFilter("details",function(n){tt(n,function(a){var i=a.attr("data-mce-open");a.attr("open",ht(i)?i:null),a.attr("data-mce-open",null)})})},D5=function(e){T$(e),E$(e)},hw=function(e){return Wn(e)&&jc(k.fromDom(e))},_5=function(e){var n=e.selection.getRng(),a=je.fromRangeStart(n),i=je.fromRangeEnd(n);if(je.isElementPosition(a)){var l=a.container();hw(l)&&Vu(l).each(function(f){return n.setStart(f.container(),f.offset())})}if(je.isElementPosition(i)){var l=a.container();hw(l)&&Tc(l).each(function(g){return n.setEnd(g.container(),g.offset())})}e.selection.setRng(l4(n))},R5=function(e){e.on("click",function(n){n.detail>=3&&_5(e)})},B5=function(e){var n=e.getBoundingClientRect(),a=e.ownerDocument,i=a.documentElement,l=a.defaultView;return{top:n.top+l.pageYOffset-i.clientTop,left:n.left+l.pageXOffset-i.clientLeft}},O$=function(e){return e.inline?B5(e.getBody()):{left:0,top:0}},yO=function(e){var n=e.getBody();return e.inline?{left:n.scrollLeft,top:n.scrollTop}:{left:0,top:0}},A$=function(e){var n=e.getBody(),a=e.getDoc().documentElement,i={left:n.scrollLeft,top:n.scrollTop},l={left:n.scrollLeft||a.scrollLeft,top:n.scrollTop||a.scrollTop};return e.inline?i:l},D$=function(e,n){if(n.target.ownerDocument!==e.getDoc()){var a=B5(e.getContentAreaContainer()),i=A$(e);return{left:n.pageX-a.left+i.left,top:n.pageY-a.top+i.top}}return{left:n.pageX,top:n.pageY}},_$=function(e,n,a){return{pageX:a.left-e.left+n.left,pageY:a.top-e.top+n.top}},R$=function(e,n){return _$(O$(e),yO(e),D$(e,n))},Ds=Ia,M5=Fs,P5=function(e,n){return Ds(n)&&n!==e},B$=function(e,n,a){return n===a||e.dom.isChildOf(n,a)?!1:!Ds(n)},M$=function(e){var n=e.cloneNode(!0);return n.removeAttribute("data-mce-selected"),n},P$=function(e,n,a,i){var l=e.dom,f=n.cloneNode(!0);l.setStyles(f,{width:a,height:i}),l.setAttrib(f,"data-mce-selected",null);var g=l.create("div",{class:"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});return l.setStyles(g,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:a,height:i}),l.setStyles(f,{margin:0,boxSizing:"border-box"}),g.appendChild(f),g},$$=function(e,n){e.parentNode!==n&&n.appendChild(e)},N$=function(e,n,a,i,l,f){var g=0,b=0;e.style.left=n.pageX+"px",e.style.top=n.pageY+"px",n.pageX+a>l&&(g=n.pageX+a-l),n.pageY+i>f&&(b=n.pageY+i-f),e.style.width=a-g+"px",e.style.height=i-b+"px"},$5=function(e){e&&e.parentNode&&e.parentNode.removeChild(e)},F$=function(e){return e.button===0},wO=function(e,n){return{pageX:n.pageX-e.relX,pageY:n.pageY+5}},z$=function(e,n){return function(a){if(F$(a)){var i=Kr(n.dom.getParents(a.target),_T(Ds,M5)).getOr(null);if(P5(n.getBody(),i)){var l=n.dom.getPos(i),f=n.getBody(),g=n.getDoc().documentElement;e.set({element:i,dragging:!1,screenX:a.screenX,screenY:a.screenY,maxX:(n.inline?f.scrollWidth:g.offsetWidth)-2,maxY:(n.inline?f.scrollHeight:g.offsetHeight)-2,relX:a.pageX-l.x,relY:a.pageY-l.y,width:i.offsetWidth,height:i.offsetHeight,ghost:P$(n,i,i.offsetWidth,i.offsetHeight)})}}}},I$=function(e,n){var a=Qi.throttle(function(i,l){n._selectionOverrides.hideFakeCaret(),n.selection.placeCaretAt(i,l)},0);return n.on("remove",a.stop),function(i){return e.on(function(l){var f=Math.max(Math.abs(i.screenX-l.screenX),Math.abs(i.screenY-l.screenY));if(!l.dragging&&f>10){var g=n.fire("dragstart",{target:l.element});if(g.isDefaultPrevented())return;l.dragging=!0,n.focus()}if(l.dragging){var b=wO(l,R$(n,i));$$(l.ghost,n.getBody()),N$(l.ghost,b,l.width,l.height,l.maxX,l.maxY),a(i.clientX,i.clientY)}})}},N5=function(e){var n=e.getSel().getRangeAt(0),a=n.startContainer;return a.nodeType===3?a.parentNode:a},L$=function(e,n){return function(a){e.on(function(i){if(i.dragging){if(B$(n,N5(n.selection),i.element)){var l=M$(i.element),f=n.fire("drop",{clientX:a.clientX,clientY:a.clientY});f.isDefaultPrevented()||n.undoManager.transact(function(){$5(i.element),n.insertContent(n.dom.getOuterHTML(l)),n._selectionOverrides.hideFakeCaret()})}n.fire("dragend")}}),F5(e)}},V$=function(e,n){return function(){e.on(function(a){a.dragging&&n.fire("dragend")}),F5(e)}},F5=function(e){e.on(function(n){$5(n.ghost)}),e.clear()},H$=function(e){var n=Ev(),a=Na.DOM,i=document,l=z$(n,e),f=I$(n,e),g=L$(n,e),b=V$(n,e);e.on("mousedown",l),e.on("mousemove",f),e.on("mouseup",g),a.bind(i,"mousemove",f),a.bind(i,"mouseup",b),e.on("remove",function(){a.unbind(i,"mousemove",f),a.unbind(i,"mouseup",b)}),e.on("keydown",function(w){w.keyCode===Mn.ESC&&b()})},U$=function(e){e.on("drop",function(n){var a=typeof n.clientX!="undefined"?e.getDoc().elementFromPoint(n.clientX,n.clientY):null;(Ds(a)||e.dom.getContentEditableParent(a)==="false")&&n.preventDefault()})},W$=function(e){var n=function(l){if(!l.isDefaultPrevented()){var f=l.dataTransfer;f&&(Re(f.types,"Files")||f.files.length>0)&&(l.preventDefault(),l.type==="drop"&&Ub(e,"Dropped file type is not supported"))}},a=function(l){jh(e,l.target)&&n(l)},i=function(){var l=Na.DOM,f=e.dom,g=document,b=e.inline?e.getBody():e.getDoc(),w=["drop","dragover"];tt(w,function(A){l.bind(g,A,a),f.bind(b,A,n)}),e.on("remove",function(){tt(w,function(A){l.unbind(g,A,a),f.unbind(b,A,n)})})};e.on("init",function(){Qi.setEditorTimeout(e,i,0)})},CO=function(e){H$(e),U$(e),xC(e)&&W$(e)},j$=function(e){var n=ca(function(){if(!e.removed&&e.getBody().contains(document.activeElement)){var a=e.selection.getRng();if(a.collapsed){var i=tw(e,a,!1);e.selection.setRng(i)}}},0);e.on("focus",function(){n.throttle()}),e.on("blur",function(){n.cancel()})},z5=function(e){e.on("init",function(){e.on("focusin",function(n){var a=n.target;if(Ku(a)){var i=Vv(e.getBody(),a),l=Ia(i)?i:a;e.selection.getNode()!==l&&Sp(e,l).each(function(f){return e.selection.setRng(f)})}})})},I5=Fs,_p=Ia,yx=function(e,n){return Vv(e.getBody(),n)},G$=function(e){var n=e.selection,a=e.dom,i=a.isBlock,l=e.getBody(),f=BC(e,l,i,function(){return qv(e)}),g="sel-"+a.uniqueId(),b="data-mce-selected",w,A=function(wt){return a.hasClass(wt,"mce-offscreen-selection")},F=function(wt){return wt!==l&&(_p(wt)||Ku(wt))&&a.isChildOf(wt,l)},I=function(wt){return Kv(wt)||Xv(wt)||Mg(wt)||Pg(wt)},V=function(){var wt=a.get(g);return wt&&wt.getElementsByTagName("*")[0]},Y=function(wt){wt&&n.setRng(wt)},X=n.getRng,ee=function(wt,Fn,Dt,tn){tn===void 0&&(tn=!0);var At=e.fire("ShowCaret",{target:Fn,direction:wt,before:Dt});return At.isDefaultPrevented()?null:(tn&&n.scrollIntoView(Fn,wt===-1),f.show(Dt,Fn))},re=function(wt){wt.hasAttribute("data-mce-caret")&&(y0(wt),Y(X()),n.scrollIntoView(wt))},fe=function(){e.on("mouseup",function(At){var jt=X();jt.collapsed&&KD(e,At.clientX,At.clientY)&&jk(e,jt,!1).each(Y)}),e.on("click",function(At){var jt=yx(e,At.target);jt&&(_p(jt)&&(At.preventDefault(),e.focus()),I5(jt)&&a.isChildOf(jt,n.getNode())&&Ct())}),e.on("blur NewBlock",Ct),e.on("ResizeWindow FullscreenStateChanged",f.reposition);var wt=function(At){var jt=At.firstChild;if(Ht(jt))return!1;var an=je.before(jt);if(ha(an.getNode())&&At.childNodes.length===1)return!I(an);var bt=xc(At),ln=bt.next(an);return ln&&!I(ln)},Fn=function(At,jt){var an=a.getParent(At,i),bt=a.getParent(jt,i);return an===bt},Dt=function(At,jt){var an=a.getParent(At,i),bt=a.getParent(jt,i);return Ht(an)?!1:At!==bt&&a.isChildOf(an,bt)&&_p(yx(e,an))===!1?!0:!a.isChildOf(bt,an)&&!Fn(an,bt)&&wt(an)};e.on("tap",function(At){var jt=At.target,an=yx(e,jt);_p(an)?(At.preventDefault(),Sp(e,an).each(qe)):F(jt)&&Sp(e,jt).each(qe)},!0),e.on("mousedown",function(At){var jt=At.target;if(!(jt!==l&&jt.nodeName!=="HTML"&&!a.isChildOf(jt,l))&&KD(e,At.clientX,At.clientY)!==!1){var an=yx(e,jt);if(an)_p(an)?(At.preventDefault(),Sp(e,an).each(qe)):(Ct(),!(I5(an)&&At.shiftKey)&&!wg(At.clientX,At.clientY,n.getRng())&&(en(),n.placeCaretAt(At.clientX,At.clientY)));else if(F(jt))Sp(e,jt).each(qe);else if(Nv(jt)===!1){Ct(),en();var bt=zM(l,At.clientX,At.clientY);if(bt&&!Dt(jt,bt.node)){At.preventDefault();var ln=ee(1,bt.node,bt.before,!1);Y(ln),e.getBody().focus()}}}}),e.on("keypress",function(At){Mn.modifierPressed(At)||_p(n.getNode())&&At.preventDefault()}),e.on("GetSelectionRange",function(At){var jt=At.range;if(w){if(!w.parentNode){w=null;return}jt=jt.cloneRange(),jt.selectNode(w),At.range=jt}}),e.on("SetSelectionRange",function(At){At.range=De(At.range);var jt=qe(At.range,At.forward);jt&&(At.range=jt)});var tn=function(At){return At.id==="mcepastebin"};e.on("AfterSetSelectionRange",function(At){var jt=At.range,an=jt.startContainer.parentNode;!ye(jt)&&!tn(an)&&en(),A(an)||Ct()}),e.on("copy",function(At){var jt=At.clipboardData;if(!At.isDefaultPrevented()&&At.clipboardData&&!On.ie){var an=V();an&&(At.preventDefault(),jt.clearData(),jt.setData("text/html",an.outerHTML),jt.setData("text/plain",an.outerText||an.innerText))}}),CO(e),j$(e),z5(e)},ce=function(wt){return Ju(wt)||oh(wt)||ih(wt)},ye=function(wt){return ce(wt.startContainer)||ce(wt.endContainer)},De=function(wt){var Fn=e.schema.getShortEndedElements(),Dt=a.createRng(),tn=wt.startContainer,At=wt.startOffset,jt=wt.endContainer,an=wt.endOffset;return tr(Fn,tn.nodeName.toLowerCase())?At===0?Dt.setStartBefore(tn):Dt.setStartAfter(tn):Dt.setStart(tn,At),tr(Fn,jt.nodeName.toLowerCase())?an===0?Dt.setEndBefore(jt):Dt.setEndAfter(jt):Dt.setEnd(jt,an),Dt},he=function(wt,Fn,Dt){var tn=e.$,At=Fm(k.fromDom(e.getBody()),"#"+g).fold(function(){return tn([])},function(bt){return tn([bt.dom])});At.length===0&&(At=tn('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>').attr("id",g),At.appendTo(e.getBody()));var jt=a.createRng();Fn===Dt&&On.ie?(At.empty().append('<p style="font-size: 0" data-mce-bogus="all">\xA0</p>').append(Fn),jt.setStartAfter(At[0].firstChild.firstChild),jt.setEndAfter(Fn)):(At.empty().append(hl).append(Fn).append(hl),jt.setStart(At[0].firstChild,1),jt.setEnd(At[0].lastChild,0)),At.css({top:a.getPos(wt,e.getBody()).y}),At[0].focus();var an=n.getSel();return an.removeAllRanges(),an.addRange(jt),jt},Be=function(wt){var Fn=wt.cloneNode(!0),Dt=e.fire("ObjectSelected",{target:wt,targetClone:Fn});if(Dt.isDefaultPrevented())return null;var tn=he(wt,Dt.targetClone,Fn),At=k.fromDom(wt);return tt(Qu(k.fromDom(e.getBody()),"*[data-mce-selected]"),function(jt){ra(At,jt)||Je(jt,b)}),a.getAttrib(wt,b)||wt.setAttribute(b,"1"),w=wt,en(),tn},qe=function(wt,Fn){if(!wt)return null;if(wt.collapsed){if(!ye(wt)){var Dt=Fn?1:-1,tn=Oi(Dt,l,wt),At=tn.getNode(!Fn);if(Nv(At))return ee(Dt,At,Fn?!tn.isAtEnd():!1,!1);var jt=tn.getNode(Fn);if(Nv(jt))return ee(Dt,jt,Fn?!1:!tn.isAtEnd(),!1)}return null}var an=wt.startContainer,bt=wt.startOffset,ln=wt.endOffset;if(an.nodeType===3&&bt===0&&_p(an.parentNode)&&(an=an.parentNode,bt=a.nodeIndex(an),an=an.parentNode),an.nodeType!==1)return null;if(ln===bt+1&&an===wt.endContainer){var Yn=an.childNodes[bt];if(F(Yn))return Be(Yn)}return null},Ct=function(){w&&w.removeAttribute(b),Fm(k.fromDom(e.getBody()),"#"+g).each(lo),w=null},_n=function(){f.destroy(),w=null},en=function(){f.hide()};return On.ceFalse&&!bm(e)&&fe(),{showCaret:ee,showBlockCaretContainer:re,hideFakeCaret:en,destroy:_n}},ji=function(e){var n=Ye.each,a=Mn.BACKSPACE,i=Mn.DELETE,l=e.dom,f=e.selection,g=e.parser,b=On.gecko,w=On.ie,A=On.webkit,F="data:text/mce-internal,",I=w?"Text":"URL",V=function(yt,Le){try{e.getDoc().execCommand(yt,!1,Le)}catch(St){}},Y=function(yt){return yt.isDefaultPrevented()},X=function(yt){var Le,St;yt.dataTransfer&&(e.selection.isCollapsed()&&yt.target.tagName==="IMG"&&f.select(yt.target),Le=e.selection.getContent(),Le.length>0&&(St=F+escape(e.id)+","+escape(Le),yt.dataTransfer.setData(I,St)))},ee=function(yt){var Le;return yt.dataTransfer&&(Le=yt.dataTransfer.getData(I),Le&&Le.indexOf(F)>=0)?(Le=Le.substr(F.length).split(","),{id:unescape(Le[0]),html:unescape(Le[1])}):null},re=function(yt,Le){e.queryCommandSupported("mceInsertClipboardContent")?e.execCommand("mceInsertClipboardContent",!1,{content:yt,internal:Le}):e.execCommand("mceInsertContent",!1,yt)},fe=function(){var yt=function(St){var Ve=l.create("body"),vn=St.cloneContents();return Ve.appendChild(vn),f.serializer.serialize(Ve,{format:"html"})},Le=function(St){var Ve=yt(St),vn=l.createRng();vn.selectNode(e.getBody());var Vt=yt(vn);return Ve===Vt};e.on("keydown",function(St){var Ve=St.keyCode,vn,Vt;if(!Y(St)&&(Ve===i||Ve===a)){if(vn=e.selection.isCollapsed(),Vt=e.getBody(),vn&&!l.isEmpty(Vt)||!vn&&!Le(e.selection.getRng()))return;St.preventDefault(),e.setContent(""),Vt.firstChild&&l.isBlock(Vt.firstChild)?e.selection.setCursorLocation(Vt.firstChild,0):e.selection.setCursorLocation(Vt,0),e.nodeChanged()}})},ce=function(){e.shortcuts.add("meta+a",null,"SelectAll")},ye=function(){e.inline||l.bind(e.getDoc(),"mousedown mouseup",function(yt){var Le;if(yt.target===e.getDoc().documentElement)if(Le=f.getRng(),e.getBody().focus(),yt.type==="mousedown"){if(Ju(Le.startContainer))return;f.placeCaretAt(yt.clientX,yt.clientY)}else f.setRng(Le)})},De=function(){e.on("keydown",function(yt){if(!Y(yt)&&yt.keyCode===a){if(!e.getBody().getElementsByTagName("hr").length)return;if(f.isCollapsed()&&f.getRng().startOffset===0){var Le=f.getNode(),St=Le.previousSibling;if(Le.nodeName==="HR"){l.remove(Le),yt.preventDefault();return}St&&St.nodeName&&St.nodeName.toLowerCase()==="hr"&&(l.remove(St),yt.preventDefault())}}})},he=function(){Range.prototype.getClientRects||e.on("mousedown",function(yt){if(!Y(yt)&&yt.target.nodeName==="HTML"){var Le=e.getBody();Le.blur(),Qi.setEditorTimeout(e,function(){Le.focus()})}})},Be=function(){e.on("click",function(yt){var Le=yt.target;/^(IMG|HR)$/.test(Le.nodeName)&&l.getContentEditableParent(Le)!=="false"&&(yt.preventDefault(),e.selection.select(Le),e.nodeChanged()),Le.nodeName==="A"&&l.hasClass(Le,"mce-item-anchor")&&(yt.preventDefault(),f.select(Le))})},qe=function(){var yt=function(){var St=l.getAttribs(f.getStart().cloneNode(!1));return function(){var Ve=f.getStart();Ve!==e.getBody()&&(l.setAttrib(Ve,"style",null),n(St,function(vn){Ve.setAttributeNode(vn.cloneNode(!0))}))}},Le=function(){return!f.isCollapsed()&&l.getParent(f.getStart(),l.isBlock)!==l.getParent(f.getEnd(),l.isBlock)};e.on("keypress",function(St){var Ve;if(!Y(St)&&(St.keyCode===8||St.keyCode===46)&&Le())return Ve=yt(),e.getDoc().execCommand("delete",!1,null),Ve(),St.preventDefault(),!1}),l.bind(e.getDoc(),"cut",function(St){var Ve;!Y(St)&&Le()&&(Ve=yt(),Qi.setEditorTimeout(e,function(){Ve()}))})},Ct=function(){e.on("keydown",function(yt){if(!Y(yt)&&yt.keyCode===a&&f.isCollapsed()&&f.getRng().startOffset===0){var Le=f.getNode().previousSibling;if(Le&&Le.nodeName&&Le.nodeName.toLowerCase()==="table")return yt.preventDefault(),!1}})},_n=function(){e.on("keydown",function(yt){var Le,St;if(!(Y(yt)||yt.keyCode!==Mn.BACKSPACE)){Le=f.getRng();var Ve=Le.startContainer,vn=Le.startOffset,Vt=l.getRoot();if(St=Ve,!(!Le.collapsed||vn!==0)){for(;St&&St.parentNode&&St.parentNode.firstChild===St&&St.parentNode!==Vt;)St=St.parentNode;St.tagName==="BLOCKQUOTE"&&(e.formatter.toggle("blockquote",null,St),Le=l.createRng(),Le.setStart(Ve,0),Le.setEnd(Ve,0),f.setRng(Le))}}})},en=function(){var yt=function(){V("StyleWithCSS",!1),V("enableInlineTableEditing",!1),Xs(e)||V("enableObjectResizing",!1)};xh(e)||e.on("BeforeExecCommand mousedown",yt)},wt=function(){var yt=function(){n(l.select("a"),function(Le){var St=Le.parentNode,Ve=l.getRoot();if(St.lastChild===Le){for(;St&&!l.isBlock(St);){if(St.parentNode.lastChild!==St||St===Ve)return;St=St.parentNode}l.add(St,"br",{"data-mce-bogus":1})}})};e.on("SetContent ExecCommand",function(Le){(Le.type==="setcontent"||Le.command==="mceInsertLink")&&yt()})},Fn=function(){Vi(e)&&e.on("init",function(){V("DefaultParagraphSeparator",Vi(e))})},Dt=function(){e.on("keyup focusin mouseup",function(yt){Mn.modifierPressed(yt)||f.normalize()},!0)},tn=function(){e.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}")},At=function(){e.inline||e.on("keydown",function(){document.activeElement===document.body&&e.getWin().focus()})},jt=function(){e.inline||(e.contentStyles.push("body {min-height: 150px}"),e.on("click",function(yt){var Le;if(yt.target.nodeName==="HTML"){if(On.ie>11){e.getBody().focus();return}Le=e.selection.getRng(),e.getBody().focus(),e.selection.setRng(Le),e.selection.normalize(),e.nodeChanged()}}))},an=function(){On.mac&&e.on("keydown",function(yt){if(Mn.metaKeyPressed(yt)&&!yt.shiftKey&&(yt.keyCode===37||yt.keyCode===39)){yt.preventDefault();var Le=e.selection.getSel();Le.modify("move",yt.keyCode===37?"backward":"forward","lineboundary")}})},bt=function(){V("AutoUrlDetect",!1)},ln=function(){e.on("click",function(yt){var Le=yt.target;do if(Le.tagName==="A"){yt.preventDefault();return}while(Le=Le.parentNode)}),e.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")},Yn=function(){e.on("init",function(){e.dom.bind(e.getBody(),"submit",function(yt){yt.preventDefault()})})},oa=function(){g.addNodeFilter("br",function(yt){for(var Le=yt.length;Le--;)yt[Le].attr("class")==="Apple-interchange-newline"&&yt[Le].remove()})},Dr=function(){e.on("dragstart",function(yt){X(yt)}),e.on("drop",function(yt){if(!Y(yt)){var Le=ee(yt);if(Le&&Le.id!==e.id){yt.preventDefault();var St=Jy(yt.x,yt.y,e.getDoc());f.setRng(St),re(Le.html,!0)}}})},Lo=st,yo=function(){if(!b||e.removed)return!1;var yt=e.selection.getSel();return!yt||!yt.rangeCount||yt.rangeCount===0},Kl=function(){A&&(ye(),Be(),Yn(),ce(),On.iOS&&(At(),jt(),ln())),b&&(he(),en(),tn(),an())},_s=function(){_n(),fe(),On.windowsPhone||Dt(),A&&(ye(),Be(),Fn(),Yn(),Ct(),oa(),On.iOS?(At(),jt(),ln()):ce()),On.ie>=11&&(jt(),Ct()),On.ie&&(ce(),bt(),Dr()),b&&(De(),he(),qe(),en(),wt(),tn(),an(),Ct())};return bm(e)?Kl():_s(),{refreshContentEditable:Lo,isHidden:yo}},SO=Na.DOM,q$=function(e,n){var a=k.fromDom(e.getBody()),i=uo(Ru(a)),l=k.fromTag("style");O(l,"type","text/css"),Ko(l,k.fromText(n)),Ko(i,l),e.on("remove",function(){lo(l)})},K$=function(e){return e.inline?e.getElement().nodeName.toLowerCase():void 0},kO=function(e){return Sa(e,function(n){return Oe(n)===!1})},wx=function(e){var n=e.settings,a=e.editorUpload.blobCache;return kO({allow_conditional_comments:n.allow_conditional_comments,allow_html_data_urls:n.allow_html_data_urls,allow_svg_data_urls:n.allow_svg_data_urls,allow_html_in_named_anchor:n.allow_html_in_named_anchor,allow_script_urls:n.allow_script_urls,allow_unsafe_link_target:n.allow_unsafe_link_target,convert_fonts_to_spans:n.convert_fonts_to_spans,fix_list_elements:n.fix_list_elements,font_size_legacy_values:n.font_size_legacy_values,forced_root_block:n.forced_root_block,forced_root_block_attrs:n.forced_root_block_attrs,padd_empty_with_br:n.padd_empty_with_br,preserve_cdata:n.preserve_cdata,remove_trailing_brs:n.remove_trailing_brs,inline_styles:n.inline_styles,root_name:K$(e),validate:!0,blob_cache:a,document:e.getDoc(),images_dataimg_filter:n.images_dataimg_filter})},X$=function(e){var n=e.settings;return Sn(Sn({},wx(e)),kO({url_converter:n.url_converter,url_converter_scope:n.url_converter_scope,element_format:n.element_format,entities:n.entities,entity_encoding:n.entity_encoding,indent:n.indent,indent_after:n.indent_after,indent_before:n.indent_before,block_elements:n.block_elements,boolean_attributes:n.boolean_attributes,custom_elements:n.custom_elements,extended_valid_elements:n.extended_valid_elements,invalid_elements:n.invalid_elements,invalid_styles:n.invalid_styles,move_caret_before_on_enter_elements:n.move_caret_before_on_enter_elements,non_empty_elements:n.non_empty_elements,schema:n.schema,self_closing_elements:n.self_closing_elements,short_ended_elements:n.short_ended_elements,special:n.special,text_block_elements:n.text_block_elements,text_inline_elements:n.text_inline_elements,valid_children:n.valid_children,valid_classes:n.valid_classes,valid_elements:n.valid_elements,valid_styles:n.valid_styles,verify_html:n.verify_html,whitespace_elements:n.whitespace_elements}))},L5=function(e){var n=fE(wx(e),e.schema);return n.addAttributeFilter("src,href,style,tabindex",function(a,i){for(var l=a.length,f,g,b=e.dom,w="data-mce-"+i;l--;)if(f=a[l],g=f.attr(i),g&&!f.attr(w)){if(g.indexOf("data:")===0||g.indexOf("blob:")===0)continue;i==="style"?(g=b.serializeStyle(b.parseStyle(g),f.name),g.length||(g=null),f.attr(w,g),f.attr(i,g)):i==="tabindex"?(f.attr(w,g),f.attr(i,null)):f.attr(w,e.convertURL(g,i,f.name))}}),n.addNodeFilter("script",function(a){for(var i=a.length;i--;){var l=a[i],f=l.attr("type")||"no/type";f.indexOf("mce-")!==0&&l.attr("type","mce-"+f)}}),e.settings.preserve_cdata&&n.addNodeFilter("#cdata",function(a){for(var i=a.length;i--;){var l=a[i];l.type=8,l.name="#comment",l.value="[CDATA["+e.dom.encode(l.value)+"]]"}}),n.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",function(a){for(var i=a.length,l=e.schema.getNonEmptyElements();i--;){var f=a[i];f.isEmpty(l)&&f.getAll("br").length===0&&(f.append(new ks("br",1)).shortEnded=!0)}}),n},Y$=function(e){e.settings.auto_focus&&Qi.setEditorTimeout(e,function(){var n;e.settings.auto_focus===!0?n=e:n=e.editorManager.get(e.settings.auto_focus),n.destroyed||n.focus()},100)},J$=function(e){var n=e.dom.getRoot();!e.inline&&(!Ss(e)||e.selection.getStart(!0)===n)&&Vu(n).each(function(a){var i=a.getNode(),l=xo(i)?Vu(i).getOr(a):a;On.browser.isIE()?DS(e,l.toRange()):e.selection.setRng(l.toRange())})},Z$=function(e){e.bindPendingEventDelegates(),e.initialized=!0,uf(e),e.focus(!0),J$(e),e.nodeChanged({initial:!0}),e.execCallback("init_instance_callback",e),Y$(e)},V5=function(e){return e.inline?e.ui.styleSheetLoader:e.dom.styleSheetLoader},Q$=function(e,n,a){var i=[new yi(function(l,f){return V5(e).loadAll(n,l,f)})];return e.inline?i:i.concat([new yi(function(l,f){return e.ui.styleSheetLoader.loadAll(a,l,f)})])},H5=function(e){var n=V5(e),a=I1(e),i=e.contentCSS,l=function(){n.unloadAll(i),e.inline||e.ui.styleSheetLoader.unloadAll(a)},f=function(){e.removed?l():e.on("remove",l)};if(e.contentStyles.length>0){var g="";Ye.each(e.contentStyles,function(w){g+=w+`\r
`}),e.dom.addStyle(g)}var b=yi.all(Q$(e,i,a)).then(f).catch(f);return e.settings.content_style&&q$(e,e.settings.content_style),b},eN=function(e){var n=e.settings,a=e.getDoc(),i=e.getBody();Gy(e),!n.browser_spellcheck&&!n.gecko_spellcheck&&(a.body.spellcheck=!1,SO.setAttrib(i,"spellcheck","false")),e.quirks=ji(e),fa(e);var l=yC(e);l!==void 0&&(i.dir=l),n.protect&&e.on("BeforeSetContent",function(f){Ye.each(n.protect,function(g){f.content=f.content.replace(g,function(b){return"<!--mce:protected "+escape(b)+"-->"})})}),e.on("SetContent",function(){e.addVisual(e.getBody())}),e.on("compositionstart compositionend",function(f){e.composing=f.type==="compositionstart"})},tN=function(e){bm(e)||e.load({initial:!0,format:"html"}),e.startContent=e.getContent({format:"raw"})},xO=function(e){e.removed!==!0&&(tN(e),Z$(e))},TO=function(e,n){var a=e.settings,i=e.getElement(),l=e.getDoc();a.inline||(e.getElement().style.visibility=e.orgVisibility),!n&&!e.inline&&(l.open(),l.write(e.iframeHTML),l.close()),e.inline&&(SO.addClass(i,"mce-content-body"),e.contentDocument=l=document,e.contentWindow=window,e.bodyElement=i,e.contentAreaContainer=i);var f=e.getBody();f.disabled=!0,e.readonly=!!a.readonly,e.readonly||(e.inline&&SO.getStyle(f,"position",!0)==="static"&&(f.style.position="relative"),f.contentEditable=e.getParam("content_editable_state",!0)),f.disabled=!1,e.editorUpload=o_(e),e.schema=dr(a),e.dom=Na(l,{keep_values:!0,url_converter:e.convertURL,url_converter_scope:e,hex_colors:a.force_hex_style_colors,update_styles:!0,root_element:e.inline?e.getBody():null,collect:function(){return e.inline},schema:e.schema,contentCssCors:$v(e),referrerPolicy:bC(e),onSetAttrib:function(w){e.fire("SetAttrib",w)}}),e.parser=L5(e),e.serializer=FD(X$(e),e),e.selection=oE(e.dom,e.getWin(),e.serializer,e),e.annotator=Ac(e),e.formatter=l_(e),e.undoManager=Ao(e),e._nodeChangeDispatcher=new x$(e),e._selectionOverrides=G$(e),Jb(e),D5(e),bm(e)||R5(e);var g=k$(e);eP(e,g),aP(e),V6(e);var b=uD(e);eN(e),b.fold(function(){H5(e).then(function(){return xO(e)})},function(w){e.setProgressState(!0),H5(e).then(function(){w().then(function(A){e.setProgressState(!1),xO(e)},function(A){e.notificationManager.open({type:"error",text:String(A)}),xO(e)})})})},pw=Na.DOM,nN=function(e,n){if(document.domain!==window.location.hostname&&On.browser.isIE()){var a=hp("mce");e[a]=function(){TO(e)};var i='javascript:(function(){document.open();document.domain="'+document.domain+'";var ed = window.parent.tinymce.get("'+e.id+'");document.write(ed.iframeHTML);document.close();ed.'+a+"(true);})()";return pw.setAttrib(n,"src",i),!0}return!1},rN=function(e,n,a,i){var l=k.fromTag("iframe");return z(l,i),z(l,{id:e+"_ifr",frameBorder:"0",allowTransparency:"true",title:n}),tg(l,"tox-edit-area__iframe"),l},U5=function(e){var n=M1(e)+"<html><head>";$T(e)!==e.documentBaseUrl&&(n+='<base href="'+e.documentBaseURI.getURI()+'" />'),n+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />';var a=mC(e),i=fy(e),l=e.translate(ZT(e));return gC(e)&&(n+='<meta http-equiv="Content-Security-Policy" content="'+gC(e)+'" />'),n+="</head>"+('<body id="'+a+'" class="mce-content-body '+i+'" data-id="'+e.id+'" aria-label="'+l+'">')+"<br></body></html>",n},aN=function(e,n){var a=e.translate("Rich Text Area"),i=rN(e.id,a,n.height,B1(e)).dom;i.onload=function(){i.onload=null,e.fire("load")};var l=nN(e,i);return e.contentAreaContainer=n.iframeContainer,e.iframeElement=i,e.iframeHTML=U5(e),pw.add(n.iframeContainer,i),l},oN=function(e,n){var a=aN(e,n);n.editorContainer&&(pw.get(n.editorContainer).style.display=e.orgDisplay,e.hidden=pw.isHidden(n.editorContainer)),e.getElement().style.display="none",pw.setAttrib(e.id,"aria-hidden","true"),a||TO(e)},W5=Na.DOM,j5=function(e,n,a){var i=Es.get(a),l=Es.urls[a]||e.documentBaseUrl.replace(/\/$/,"");if(a=Ye.trim(a),i&&Ye.inArray(n,a)===-1){if(Ye.each(Es.dependencies(a),function(g){j5(e,n,g)}),e.plugins[a])return;try{var f=new i(e,l,e.$);e.plugins[a]=f,f.init&&(f.init(e,l),n.push(a))}catch(g){ZD(e,a,g)}}},EO=function(e){return e.replace(/^\-/,"")},iN=function(e){var n=[];Ye.each(by(e).split(/[ ,]/),function(a){j5(e,n,EO(a))})},G5=function(e){var n=Ye.trim(N1(e)),a=e.ui.registry.getAll().icons,i=Sn(Sn({},Pk.get("default").icons),Pk.get(n).icons);hr(i,function(l,f){tr(a,f)||e.ui.registry.addIcon(f,l)})},q5=function(e){var n=Ud(e);if(ht(n)){e.settings.theme=EO(n);var a=oc.get(n);e.theme=new a(e,oc.urls[n]),e.theme.init&&e.theme.init(e,oc.urls[n]||e.documentBaseUrl.replace(/\/$/,""),e.$)}else e.theme={}},K5=function(e){return e.theme.renderUI()},uN=function(e){var n=e.getElement(),a=Ud(e),i=a(e,n);return i.editorContainer.nodeType&&(i.editorContainer.id=i.editorContainer.id||e.id+"_parent"),i.iframeContainer&&i.iframeContainer.nodeType&&(i.iframeContainer.id=i.iframeContainer.id||e.id+"_iframecontainer"),i.height=i.iframeHeight?i.iframeHeight:n.offsetHeight,i},X5=function(e){return{editorContainer:e,iframeContainer:e,api:{}}},lN=function(e){var n=W5.create("div");return W5.insertAfter(n,e),X5(n)},Y5=function(e){var n=e.getElement();return e.inline?X5(null):lN(n)},sN=function(e){var n=e.getElement();return e.orgDisplay=n.style.display,ht(Ud(e))?K5(e):Nt(Ud(e))?uN(e):Y5(e)},cN=function(e,n){var a={show:te.from(n.show).getOr(st),hide:te.from(n.hide).getOr(st),disable:te.from(n.disable).getOr(st),isDisabled:te.from(n.isDisabled).getOr(Mt),enable:function(){e.mode.isReadOnly()||te.from(n.enable).map(Zr)}};e.ui=Sn(Sn({},e.ui),a)},OO=function(e){e.fire("ScriptsLoaded"),G5(e),q5(e),iN(e);var n=sN(e);cN(e,te.from(n.api).getOr({}));var a={editorContainer:n.editorContainer,iframeContainer:n.iframeContainer};return e.editorContainer=a.editorContainer?a.editorContainer:null,bE(e),e.inline?TO(e):oN(e,a)},Rp=Na.DOM,J5=function(e){return e.charAt(0)==="-"},Z5=function(e,n){var a=kh(n),i=dy(n);if(sr.hasCode(a)===!1&&a!=="en"){var l=i!==""?i:n.editorManager.baseURL+"/langs/"+a+".js";e.add(l,st,void 0,function(){D6(n,l,a)})}},fN=function(e,n,a,i){var l=Ud(n);if(ht(l)){if(!J5(l)&&!tr(oc.urls,l)){var f=Wd(n);f?oc.load(l,n.documentBaseURI.toAbsolute(f)):oc.load(l,"themes/"+l+"/theme"+a+".js")}e.loadQueue(function(){oc.waitFor(l,i)})}else i()},vN=function(e){return te.from(zT(e)).filter(function(n){return n.length>0}).map(function(n){return{url:n,name:te.none()}})},Q5=function(e,n,a){return te.from(n).filter(function(i){return i.length>0&&!Pk.has(i)}).map(function(i){return{url:e.editorManager.baseURL+"/icons/"+i+"/icons"+a+".js",name:te.some(i)}})},eR=function(e,n,a){var i=Q5(n,"default",a),l=vN(n).orThunk(function(){return Q5(n,N1(n),"")});tt(or([i,l]),function(f){e.add(f.url,st,void 0,function(){JD(n,f.url,f.name.getOrUndefined())})})},tR=function(e,n){Ye.each(YT(e),function(a,i){Es.load(i,a,st,void 0,function(){Fk(e,a,i)}),e.settings.plugins+=" "+i}),Ye.each(by(e).split(/[ ,]/),function(a){if(a=Ye.trim(a),a&&!Es.urls[a])if(J5(a)){a=a.substr(1,a.length);var i=Es.dependencies(a);Ye.each(i,function(f){var g={prefix:"plugins/",resource:f,suffix:"/plugin"+n+".js"},b=Es.createUrl(g,f);Es.load(b.resource,b,st,void 0,function(){Fk(e,b.prefix+b.resource+b.suffix,b.resource)})})}else{var l={prefix:"plugins/",resource:a,suffix:"/plugin"+n+".js"};Es.load(a,l,st,void 0,function(){Fk(e,l.prefix+l.resource+l.suffix,a)})}})},dN=function(e,n){var a=Zc.ScriptLoader;fN(a,e,n,function(){Z5(a,e),eR(a,e,n),tR(e,n),a.loadQueue(function(){e.removed||OO(e)},e,function(){e.removed||OO(e)})})},mN=function(e,n){return Is.forElement(e,{contentCssCors:XT(n),referrerPolicy:bC(n)})},gN=function(e){var n=e.id;sr.setCode(kh(e));var a=function(){Rp.unbind(window,"ready",a),e.render()};if(!pv.Event.domLoaded){Rp.bind(window,"ready",a);return}if(!!e.getElement()&&!!On.contentEditable){var i=k.fromDom(e.getElement()),l=pn(i);e.on("remove",function(){mn(i.dom.attributes,function(g){return Je(i,g.name)}),z(i,l)}),e.ui.styleSheetLoader=mN(i,e),hy(e)?e.inline=!0:(e.orgVisibility=e.getElement().style.visibility,e.getElement().style.visibility="hidden");var f=e.getElement().form||Rp.getParent(n,"form");f&&(e.formElement=f,CC(e)&&!$i(e.getElement())&&(Rp.insertAfter(Rp.create("input",{type:"hidden",name:n}),n),e.hasHiddenInput=!0),e.formEventDelegate=function(g){e.fire(g.type,g)},Rp.bind(f,"submit reset",e.formEventDelegate),e.on("reset",function(){e.resetContent()}),GT(e)&&!f.submit.nodeType&&!f.submit.length&&!f._mceOldSubmit&&(f._mceOldSubmit=f.submit,f.submit=function(){return e.editorManager.triggerSave(),e.setDirty(!1),f._mceOldSubmit(f)})),e.windowManager=Hb(e),e.notificationManager=Ts(e),SC(e)&&e.on("GetContent",function(g){g.save&&(g.content=Rp.encode(g.content))}),kC(e)&&e.on("submit",function(){e.initialized&&e.save()}),py(e)&&(e._beforeUnload=function(){e.initialized&&!e.destroyed&&!e.isHidden()&&e.save({format:"raw",no_events:!0,set_dirty:!1})},e.editorManager.on("BeforeUnload",e._beforeUnload)),e.editorManager.add(e),dN(e,e.suffix)}},hN=function(e,n){return pD(e,n)},pN={"font-size":"size","font-family":"face"},bN=function(e,n,a){var i=function(f){return Ni(f,e).orThunk(function(){return ma(f)==="font"?Pr(pN,e).bind(function(g){return ie(f,g)}):te.none()})},l=function(f){return ra(k.fromDom(n),f)};return p4(k.fromDom(a),function(f){return i(f)},l)},yN=function(e){return e.replace(/[\'\"\\]/g,"").replace(/,\s+/g,",")},wN=function(e,n){return te.from(Na.DOM.getStyle(n,e,!0))},nR=function(e){return function(n,a){return te.from(a).map(k.fromDom).filter(za).bind(function(i){return bN(e,n,i.dom).or(wN(e,i.dom))}).getOr("")}},CN=nR("font-size"),Cx=jr(yN,nR("font-family")),rR=function(e){return Vu(e.getBody()).map(function(n){var a=n.container();return on(a)?a.parentNode:a})},aR=function(e){return te.from(e.selection.getRng()).bind(function(n){var a=e.getBody(),i=n.startContainer===a&&n.startOffset===0;return i?te.none():te.from(e.selection.getStart(!0))})},SN=function(e,n){return aR(e).orThunk(j(rR,e)).map(k.fromDom).filter(za).bind(n)},Sx=function(e,n){return SN(e,ve(te.some,n))},AO=function(e,n){if(/^[0-9.]+$/.test(n)){var a=parseInt(n,10);if(a>=1&&a<=7){var i=FT(e),l=Ch(e);return l?l[a-1]||n:i[a-1]||n}else return n}else return n},kN=function(e){var n=e.split(/\s*,\s*/);return pt(n,function(a){return a.indexOf(" ")!==-1&&!(gr(a,'"')||gr(a,"'"))?"'"+a+"'":a}).join(",")},xN=function(e,n){var a=AO(e,n);e.formatter.toggle("fontname",{value:kN(a)}),e.nodeChanged()},TN=function(e){return Sx(e,function(n){return Cx(e.getBody(),n.dom)}).getOr("")},DO=function(e,n){e.formatter.toggle("fontsize",{value:AO(e,n)}),e.nodeChanged()},EN=function(e){return Sx(e,function(n){return CN(e.getBody(),n.dom)}).getOr("")},_O=function(e){return Sx(e,function(n){var a=k.fromDom(e.getBody()),i=p4(n,function(f){return Ni(f,"line-height")},j(ra,a)),l=function(){var f=parseFloat(ir(n,"line-height")),g=parseFloat(ir(n,"font-size"));return String(f/g)};return i.getOrThunk(l)}).getOr("")},ON=function(e,n){e.formatter.toggle("lineheight",{value:String(n)}),e.nodeChanged()},AN=function(e){if(typeof e!="string"){var n=Ye.extend({paste:e.paste,data:{paste:e.paste}},e);return{content:e.content,details:n}}return{content:e,details:{}}},DN=function(e,n){var a=AN(n);hD(e,a.content,a.details)},bw=Ye.each,_N=Ye.map,RN=Ye.inArray,oR=function(){function e(n){this.commands={state:{},exec:{},value:{}},this.editor=n,this.setupCommands(n)}return e.prototype.execCommand=function(n,a,i,l){var f,g=!1,b=this;if(!b.editor.removed){if(n.toLowerCase()!=="mcefocus"&&(!/^(mceAddUndoLevel|mceEndUndoLevel|mceBeginUndoLevel|mceRepaint)$/.test(n)&&(!l||!l.skip_focus)?b.editor.focus():I3(b.editor)),l=b.editor.fire("BeforeExecCommand",{command:n,ui:a,value:i}),l.isDefaultPrevented())return!1;var w=n.toLowerCase();if(f=b.commands.exec[w])return f(w,a,i),b.editor.fire("ExecCommand",{command:n,ui:a,value:i}),!0;if(bw(this.editor.plugins,function(A){if(A.execCommand&&A.execCommand(n,a,i))return b.editor.fire("ExecCommand",{command:n,ui:a,value:i}),g=!0,!1}),g)return g;if(b.editor.theme&&b.editor.theme.execCommand&&b.editor.theme.execCommand(n,a,i))return b.editor.fire("ExecCommand",{command:n,ui:a,value:i}),!0;try{g=b.editor.getDoc().execCommand(n,a,i)}catch(A){}return g?(b.editor.fire("ExecCommand",{command:n,ui:a,value:i}),!0):!1}},e.prototype.queryCommandState=function(n){var a;if(!(this.editor.quirks.isHidden()||this.editor.removed)){if(n=n.toLowerCase(),a=this.commands.state[n])return a(n);try{return this.editor.getDoc().queryCommandState(n)}catch(i){}return!1}},e.prototype.queryCommandValue=function(n){var a;if(!(this.editor.quirks.isHidden()||this.editor.removed)){if(n=n.toLowerCase(),a=this.commands.value[n])return a(n);try{return this.editor.getDoc().queryCommandValue(n)}catch(i){}}},e.prototype.addCommands=function(n,a){a===void 0&&(a="exec");var i=this;bw(n,function(l,f){bw(f.toLowerCase().split(","),function(g){i.commands[a][g]=l})})},e.prototype.addCommand=function(n,a,i){var l=this;n=n.toLowerCase(),this.commands.exec[n]=function(f,g,b,w){return a.call(i||l.editor,g,b,w)}},e.prototype.queryCommandSupported=function(n){if(n=n.toLowerCase(),this.commands.exec[n])return!0;try{return this.editor.getDoc().queryCommandSupported(n)}catch(a){}return!1},e.prototype.addQueryStateHandler=function(n,a,i){var l=this;n=n.toLowerCase(),this.commands.state[n]=function(){return a.call(i||l.editor)}},e.prototype.addQueryValueHandler=function(n,a,i){var l=this;n=n.toLowerCase(),this.commands.value[n]=function(){return a.call(i||l.editor)}},e.prototype.hasCustomCommand=function(n){return n=n.toLowerCase(),!!this.commands.exec[n]},e.prototype.execNativeCommand=function(n,a,i){return a===void 0&&(a=!1),i===void 0&&(i=null),this.editor.getDoc().execCommand(n,a,i)},e.prototype.isFormatMatch=function(n){return this.editor.formatter.match(n)},e.prototype.toggleFormat=function(n,a){this.editor.formatter.toggle(n,a),this.editor.nodeChanged()},e.prototype.storeSelection=function(n){this.selectionBookmark=this.editor.selection.getBookmark(n)},e.prototype.restoreSelection=function(){this.editor.selection.moveToBookmark(this.selectionBookmark)},e.prototype.setupCommands=function(n){var a=this;this.addCommands({"mceResetDesignMode,mceBeginUndoLevel":st,"mceEndUndoLevel,mceAddUndoLevel":function(){n.undoManager.add()},mceFocus:function(l,f,g){NS(n,g)},"Cut,Copy,Paste":function(l){var f=n.getDoc(),g;try{a.execNativeCommand(l)}catch(w){g=!0}if(l==="paste"&&!f.queryCommandEnabled(l)&&(g=!0),g||!f.queryCommandSupported(l)){var b=n.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");On.mac&&(b=b.replace(/Ctrl\+/g,"\u2318+")),n.notificationManager.open({text:b,type:"error"})}},unlink:function(){if(n.selection.isCollapsed()){var l=n.dom.getParent(n.selection.getStart(),"a");l&&n.dom.remove(l,!0);return}n.formatter.remove("link")},"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull,JustifyNone":function(l){var f=l.substring(7);f==="full"&&(f="justify"),bw("left,center,right,justify".split(","),function(g){f!==g&&n.formatter.remove("align"+g)}),f!=="none"&&a.toggleFormat("align"+f)},"InsertUnorderedList,InsertOrderedList":function(l){var f;a.execNativeCommand(l);var g=n.dom.getParent(n.selection.getNode(),"ol,ul");g&&(f=g.parentNode,/^(H[1-6]|P|ADDRESS|PRE)$/.test(f.nodeName)&&(a.storeSelection(),n.dom.split(f,g),a.restoreSelection()))},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(l){a.toggleFormat(l)},"ForeColor,HiliteColor":function(l,f,g){a.toggleFormat(l,{value:g})},FontName:function(l,f,g){xN(n,g)},FontSize:function(l,f,g){DO(n,g)},LineHeight:function(l,f,g){ON(n,g)},Lang:function(l,f,g){a.toggleFormat(l,{value:g.code,customValue:g.customCode})},RemoveFormat:function(l){n.formatter.remove(l)},mceBlockQuote:function(){a.toggleFormat("blockquote")},FormatBlock:function(l,f,g){return a.toggleFormat(g||"p")},mceCleanup:function(){var l=n.selection.getBookmark();n.setContent(n.getContent()),n.selection.moveToBookmark(l)},mceRemoveNode:function(l,f,g){var b=g||n.selection.getNode();b!==n.getBody()&&(a.storeSelection(),n.dom.remove(b,!0),a.restoreSelection())},mceSelectNodeDepth:function(l,f,g){var b=0;n.dom.getParent(n.selection.getNode(),function(w){if(w.nodeType===1&&b++===g)return n.selection.select(w),!1},n.getBody())},mceSelectNode:function(l,f,g){n.selection.select(g)},mceInsertContent:function(l,f,g){DN(n,g)},mceInsertRawHTML:function(l,f,g){n.selection.setContent("tiny_mce_marker");var b=n.getContent();n.setContent(b.replace(/tiny_mce_marker/g,function(){return g}))},mceInsertNewLine:function(l,f,g){S5(n,g)},mceToggleFormat:function(l,f,g){a.toggleFormat(g)},mceSetContent:function(l,f,g){n.setContent(g)},"Indent,Outdent":function(l){sx(n,l)},mceRepaint:st,InsertHorizontalRule:function(){n.execCommand("mceInsertContent",!1,"<hr />")},mceToggleVisualAid:function(){n.hasVisual=!n.hasVisual,n.addVisual()},mceReplaceContent:function(l,f,g){n.execCommand("mceInsertContent",!1,g.replace(/\{\$selection\}/g,n.selection.getContent({format:"text"})))},mceInsertLink:function(l,f,g){typeof g=="string"&&(g={href:g});var b=n.dom.getParent(n.selection.getNode(),"a");g.href=g.href.replace(/ /g,"%20"),(!b||!g.href)&&n.formatter.remove("link"),g.href&&n.formatter.apply("link",g,b)},selectAll:function(){var l=n.dom.getParent(n.selection.getStart(),Fs);if(l){var f=n.dom.createRng();f.selectNodeContents(l),n.selection.setRng(f)}},mceNewDocument:function(){n.setContent("")},InsertLineBreak:function(l,f,g){return Su(n,g),!0}});var i=function(l){return function(){var f=n.selection,g=f.isCollapsed()?[n.dom.getParent(f.getNode(),n.dom.isBlock)]:f.getSelectedBlocks(),b=_N(g,function(w){return!!n.formatter.matchNode(w,l)});return RN(b,!0)!==-1}};a.addCommands({JustifyLeft:i("alignleft"),JustifyCenter:i("aligncenter"),JustifyRight:i("alignright"),JustifyFull:i("alignjustify"),"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(l){return a.isFormatMatch(l)},mceBlockQuote:function(){return a.isFormatMatch("blockquote")},Outdent:function(){return q_(n)},"InsertUnorderedList,InsertOrderedList":function(l){var f=n.dom.getParent(n.selection.getNode(),"ul,ol");return f&&(l==="insertunorderedlist"&&f.tagName==="UL"||l==="insertorderedlist"&&f.tagName==="OL")}},"state"),a.addCommands({Undo:function(){n.undoManager.undo()},Redo:function(){n.undoManager.redo()}}),a.addQueryValueHandler("FontName",function(){return TN(n)},this),a.addQueryValueHandler("FontSize",function(){return EN(n)},this),a.addQueryValueHandler("LineHeight",function(){return _O(n)},this)},e}(),Bp="data-mce-contenteditable",BN=function(e,n,a){ng(e,n)&&a===!1?d1(e,n):a&&tg(e,n)},nl=function(e,n,a){try{e.getDoc().execCommand(n,!1,String(a))}catch(i){}},ad=function(e,n){e.dom.contentEditable=n?"true":"false"},MN=function(e){tt(Qu(e,'*[contenteditable="true"]'),function(n){O(n,Bp,"true"),ad(n,!1)})},PN=function(e){tt(Qu(e,"*["+Bp+'="true"]'),function(n){Je(n,Bp),ad(n,!0)})},$N=function(e){te.from(e.selection.getNode()).each(function(n){n.removeAttribute("data-mce-selected")})},NN=function(e){e.selection.setRng(e.selection.getRng())},FN=function(e,n){var a=k.fromDom(e.getBody());BN(a,"mce-content-readonly",n),n?(e.selection.controlSelection.hideResizeRect(),e._selectionOverrides.hideFakeCaret(),$N(e),e.readonly=!0,ad(a,!1),MN(a)):(e.readonly=!1,ad(a,!0),PN(a),nl(e,"StyleWithCSS",!1),nl(e,"enableInlineTableEditing",!1),nl(e,"enableObjectResizing",!1),$S(e)&&e.focus(),NN(e),e.nodeChanged())},Mp=function(e){return e.readonly},RO=function(e){e.parser.addAttributeFilter("contenteditable",function(n){Mp(e)&&tt(n,function(a){a.attr(Bp,a.attr("contenteditable")),a.attr("contenteditable","false")})}),e.serializer.addAttributeFilter(Bp,function(n){Mp(e)&&tt(n,function(a){a.attr("contenteditable",a.attr(Bp))})}),e.serializer.addTempAttr(Bp)},n0=function(e){e.serializer?RO(e):e.on("PreInit",function(){RO(e)})},zN=function(e){return e.type==="click"},IN=function(e,n){var a=function(i){return ra(i,k.fromDom(e.getBody()))};return go(n,"a",a).bind(function(i){return ie(i,"href")})},LN=function(e,n){if(zN(n)&&!Mn.metaKeyPressed(n)){var a=k.fromDom(n.target);IN(e,a).each(function(i){if(n.preventDefault(),/^#/.test(i)){var l=e.dom.select(i+',[name="'+Or(i,"#")+'"]');l.length&&e.selection.scrollIntoView(l[0],!0)}else window.open(i,"_blank","rel=noopener noreferrer,menubar=yes,toolbar=yes,location=yes,status=yes,resizable=yes,scrollbars=yes")})}},ov=function(e){e.on("ShowCaret",function(n){Mp(e)&&n.preventDefault()}),e.on("ObjectSelected",function(n){Mp(e)&&n.preventDefault()})},VN=Ye.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input beforeinput contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend touchcancel"," "),BO=function(){function e(n){this.bindings={},this.settings=n||{},this.scope=this.settings.scope||this,this.toggleEvent=this.settings.toggleEvent||Mt}return e.isNative=function(n){return!!VN[n.toLowerCase()]},e.prototype.fire=function(n,a){var i=n.toLowerCase(),l=ch(i,a||{},this.scope);this.settings.beforeFire&&this.settings.beforeFire(l);var f=this.bindings[i];if(f)for(var g=0,b=f.length;g<b;g++){var w=f[g];if(!w.removed){if(w.once&&this.off(i,w.func),l.isImmediatePropagationStopped())return l;if(w.func.call(this.scope,l)===!1)return l.preventDefault(),l}}return l},e.prototype.on=function(n,a,i,l){if(a===!1&&(a=Mt),a){var f={func:a,removed:!1};l&&Ye.extend(f,l);for(var g=n.toLowerCase().split(" "),b=g.length;b--;){var w=g[b],A=this.bindings[w];A||(A=[],this.toggleEvent(w,!0)),i?A=ii([f],A,!0):A=ii(ii([],A,!0),[f],!1),this.bindings[w]=A}}return this},e.prototype.off=function(n,a){var i=this;if(n)for(var l=n.toLowerCase().split(" "),f=l.length;f--;){var g=l[f],b=this.bindings[g];if(!g)return hr(this.bindings,function(A,F){i.toggleEvent(F,!1),delete i.bindings[F]}),this;if(b){if(!a)b.length=0;else{var w=zn(b,function(A){return A.func===a});b=w.fail,this.bindings[g]=b,tt(w.pass,function(A){A.removed=!0})}b.length||(this.toggleEvent(n,!1),delete this.bindings[g])}}else hr(this.bindings,function(A,F){i.toggleEvent(F,!1)}),this.bindings={};return this},e.prototype.once=function(n,a,i){return this.on(n,a,i,{once:!0})},e.prototype.has=function(n){return n=n.toLowerCase(),!(!this.bindings[n]||this.bindings[n].length===0)},e}(),r0=function(e){return e._eventDispatcher||(e._eventDispatcher=new BO({scope:e,toggleEvent:function(n,a){BO.isNative(n)&&e.toggleNativeEvent&&e.toggleNativeEvent(n,a)}})),e._eventDispatcher},kx={fire:function(e,n,a){var i=this;if(i.removed&&e!=="remove"&&e!=="detach")return n;var l=r0(i).fire(e,n);if(a!==!1&&i.parent)for(var f=i.parent();f&&!l.isPropagationStopped();)f.fire(e,l,!1),f=f.parent();return l},on:function(e,n,a){return r0(this).on(e,n,a)},off:function(e,n){return r0(this).off(e,n)},once:function(e,n){return r0(this).once(e,n)},hasEventListeners:function(e){return r0(this).has(e)}},yw=Na.DOM,Gg,a0=function(e,n){if(n==="selectionchange")return e.getDoc();if(!e.inline&&/^mouse|touch|click|contextmenu|drop|dragover|dragend/.test(n))return e.getDoc().documentElement;var a=my(e);return a?(e.eventRoot||(e.eventRoot=yw.select(a)[0]),e.eventRoot):e.getBody()},HN=function(e){return!e.hidden&&!Mp(e)},iR=function(e,n,a){HN(e)?e.fire(n,a):Mp(e)&&LN(e,a)},uR=function(e,n){var a;if(e.delegates||(e.delegates={}),!(e.delegates[n]||e.removed)){var i=a0(e,n);if(my(e)){if(Gg||(Gg={},e.editorManager.on("removeEditor",function(){e.editorManager.activeEditor||Gg&&(hr(Gg,function(l,f){e.dom.unbind(a0(e,f))}),Gg=null)})),Gg[n])return;a=function(l){for(var f=l.target,g=e.editorManager.get(),b=g.length;b--;){var w=g[b].getBody();(w===f||yw.isChildOf(f,w))&&iR(g[b],n,l)}},Gg[n]=a,yw.bind(i,n,a)}else a=function(l){iR(e,n,l)},yw.bind(i,n,a),e.delegates[n]=a}},lR=Sn(Sn({},kx),{bindPendingEventDelegates:function(){var e=this;Ye.each(e._pendingNativeEvents,function(n){uR(e,n)})},toggleNativeEvent:function(e,n){var a=this;e==="focus"||e==="blur"||a.removed||(n?a.initialized?uR(a,e):a._pendingNativeEvents?a._pendingNativeEvents.push(e):a._pendingNativeEvents=[e]:a.initialized&&(a.dom.unbind(a0(a,e),e,a.delegates[e]),delete a.delegates[e]))},unbindAllNativeEvents:function(){var e=this,n=e.getBody(),a=e.dom;e.delegates&&(hr(e.delegates,function(i,l){e.dom.unbind(a0(e,l),l,i)}),delete e.delegates),!e.inline&&n&&a&&(n.onload=null,a.unbind(e.getWin()),a.unbind(e.getDoc())),a&&(a.unbind(n),a.unbind(e.getContainer()))}}),UN=["design","readonly"],MO=function(e,n,a,i){var l=a[n.get()],f=a[i];try{f.activate()}catch(g){console.error("problem while activating editor mode "+i+":",g);return}l.deactivate(),l.editorReadOnly!==f.editorReadOnly&&FN(e,f.editorReadOnly),n.set(i),uS(e,i)},sR=function(e,n,a,i){if(i!==a.get()){if(!tr(n,i))throw new Error("Editor mode '"+i+"' is invalid");e.initialized?MO(e,a,n,i):e.on("init",function(){return MO(e,a,n,i)})}},WN=function(e,n,a){var i;if(Re(UN,n))throw new Error("Cannot override default mode "+n);return Sn(Sn({},e),(i={},i[n]=Sn(Sn({},a),{deactivate:function(){try{a.deactivate()}catch(l){console.error("problem while deactivating editor mode "+n+":",l)}}}),i))},cR=function(e){var n=zu("design"),a=zu({design:{activate:st,deactivate:st,editorReadOnly:!1},readonly:{activate:st,deactivate:st,editorReadOnly:!0}});return n0(e),ov(e),{isReadOnly:function(){return Mp(e)},set:function(i){return sR(e,a.get(),n,i)},get:function(){return n.get()},register:function(i,l){a.set(WN(a.get(),i,l))}}},PO=Ye.each,$O=Ye.explode,jN={f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123},fR=Ye.makeMap("alt,ctrl,shift,meta,access"),vR=function(e){var n,a={};PO($O(e.toLowerCase(),"+"),function(l){l in fR?a[l]=!0:/^[0-9]{2,}$/.test(l)?a.keyCode=parseInt(l,10):(a.charCode=l.charCodeAt(0),a.keyCode=jN[l]||l.toUpperCase().charCodeAt(0))});var i=[a.keyCode];for(n in fR)a[n]?i.push(n):a[n]=!1;return a.id=i.join(","),a.access&&(a.alt=!0,On.mac?a.ctrl=!0:a.shift=!0),a.meta&&(On.mac?a.meta=!0:(a.ctrl=!0,a.meta=!1)),a},xx=function(){function e(n){this.shortcuts={},this.pendingPatterns=[],this.editor=n;var a=this;n.on("keyup keypress keydown",function(i){(a.hasModifier(i)||a.isFunctionKey(i))&&!i.isDefaultPrevented()&&(PO(a.shortcuts,function(l){if(a.matchShortcut(i,l))return a.pendingPatterns=l.subpatterns.slice(0),i.type==="keydown"&&a.executeShortcutAction(l),!0}),a.matchShortcut(i,a.pendingPatterns[0])&&(a.pendingPatterns.length===1&&i.type==="keydown"&&a.executeShortcutAction(a.pendingPatterns[0]),a.pendingPatterns.shift()))})}return e.prototype.add=function(n,a,i,l){var f=this,g=f.normalizeCommandFunc(i);return PO($O(Ye.trim(n)),function(b){var w=f.createShortcut(b,a,g,l);f.shortcuts[w.id]=w}),!0},e.prototype.remove=function(n){var a=this.createShortcut(n);return this.shortcuts[a.id]?(delete this.shortcuts[a.id],!0):!1},e.prototype.normalizeCommandFunc=function(n){var a=this,i=n;return typeof i=="string"?function(){a.editor.execCommand(i,!1,null)}:Ye.isArray(i)?function(){a.editor.execCommand(i[0],i[1],i[2])}:i},e.prototype.createShortcut=function(n,a,i,l){var f=Ye.map($O(n,">"),vR);return f[f.length-1]=Ye.extend(f[f.length-1],{func:i,scope:l||this.editor}),Ye.extend(f[0],{desc:this.editor.translate(a),subpatterns:f.slice(1)})},e.prototype.hasModifier=function(n){return n.altKey||n.ctrlKey||n.metaKey},e.prototype.isFunctionKey=function(n){return n.type==="keydown"&&n.keyCode>=112&&n.keyCode<=123},e.prototype.matchShortcut=function(n,a){return!a||a.ctrl!==n.ctrlKey||a.meta!==n.metaKey||a.alt!==n.altKey||a.shift!==n.shiftKey?!1:n.keyCode===a.keyCode||n.charCode&&n.charCode===a.charCode?(n.preventDefault(),!0):!1},e.prototype.executeShortcutAction=function(n){return n.func?n.func.call(n.scope):null},e}(),dR=function(){var e={},n={},a={},i={},l={},f={},g={},b=function(A,F){return function(I,V){return A[I.toLowerCase()]=Sn(Sn({},V),{type:F})}},w=function(A,F){return i[A.toLowerCase()]=F};return{addButton:b(e,"button"),addGroupToolbarButton:b(e,"grouptoolbarbutton"),addToggleButton:b(e,"togglebutton"),addMenuButton:b(e,"menubutton"),addSplitButton:b(e,"splitbutton"),addMenuItem:b(n,"menuitem"),addNestedMenuItem:b(n,"nestedmenuitem"),addToggleMenuItem:b(n,"togglemenuitem"),addAutocompleter:b(a,"autocompleter"),addContextMenu:b(l,"contextmenu"),addContextToolbar:b(f,"contexttoolbar"),addContextForm:b(f,"contextform"),addSidebar:b(g,"sidebar"),addIcon:w,getAll:function(){return{buttons:e,menuItems:n,icons:i,popups:a,contextMenus:l,contextToolbars:f,sidebars:g}}}},GN=function(){var e=dR();return{addAutocompleter:e.addAutocompleter,addButton:e.addButton,addContextForm:e.addContextForm,addContextMenu:e.addContextMenu,addContextToolbar:e.addContextToolbar,addIcon:e.addIcon,addMenuButton:e.addMenuButton,addMenuItem:e.addMenuItem,addNestedMenuItem:e.addNestedMenuItem,addSidebar:e.addSidebar,addSplitButton:e.addSplitButton,addToggleButton:e.addToggleButton,addGroupToolbarButton:e.addGroupToolbarButton,addToggleMenuItem:e.addToggleMenuItem,getAll:e.getAll}},Pp=Na.DOM,Tx=Ye.extend,mR=Ye.each,gR=Ye.resolve,qN=On.ie,Ex=function(){function e(n,a,i){var l=this;this.plugins={},this.contentCSS=[],this.contentStyles=[],this.loadedCSS={},this.isNotDirty=!1,this.editorManager=i,this.documentBaseUrl=i.documentBaseURL,Tx(this,lR),this.settings=w6(this,n,this.documentBaseUrl,i.defaultSettings,a),this.settings.suffix&&(i.suffix=this.settings.suffix),this.suffix=i.suffix,this.settings.base_url&&i._setBaseUrl(this.settings.base_url),this.baseUri=i.baseURI,this.settings.referrer_policy&&(Zc.ScriptLoader._setReferrerPolicy(this.settings.referrer_policy),Na.DOM.styleSheetLoader._setReferrerPolicy(this.settings.referrer_policy)),ba.languageLoad=this.settings.language_load,ba.baseURL=i.baseURL,this.id=n,this.setDirty(!1),this.documentBaseURI=new Yf(this.settings.document_base_url,{base_uri:this.baseUri}),this.baseURI=this.baseUri,this.inline=!!this.settings.inline,this.shortcuts=new xx(this),this.editorCommands=new oR(this),this.settings.cache_suffix&&(On.cacheSuffix=this.settings.cache_suffix.replace(/^[\?\&]+/,"")),this.ui={registry:GN(),styleSheetLoader:void 0,show:st,hide:st,enable:st,disable:st,isDisabled:Mt};var f=this,g=cR(f);this.mode=g,this.setMode=g.set,i.fire("SetupEditor",{editor:this}),this.execCallback("setup",this),this.$=Zn.overrideDefaults(function(){return{context:l.inline?l.getBody():l.getDoc(),element:l.getBody()}})}return e.prototype.render=function(){gN(this)},e.prototype.focus=function(n){this.execCommand("mceFocus",!1,n)},e.prototype.hasFocus=function(){return qv(this)},e.prototype.execCallback=function(n){for(var a=[],i=1;i<arguments.length;i++)a[i-1]=arguments[i];var l=this,f=l.settings[n],g;if(!!f)return l.callbackLookup&&(g=l.callbackLookup[n])&&(f=g.func,g=g.scope),typeof f=="string"&&(g=f.replace(/\.\w+$/,""),g=g?gR(g):0,f=gR(f),l.callbackLookup=l.callbackLookup||{},l.callbackLookup[n]={func:f,scope:g}),f.apply(g||l,a)},e.prototype.translate=function(n){return sr.translate(n)},e.prototype.getParam=function(n,a,i){return C6(this,n,a,i)},e.prototype.hasPlugin=function(n,a){var i=Re(by(this).split(/[ ,]/),n);return i?a?Es.get(n)!==void 0:!0:!1},e.prototype.nodeChanged=function(n){this._nodeChangeDispatcher.nodeChanged(n)},e.prototype.addCommand=function(n,a,i){this.editorCommands.addCommand(n,a,i)},e.prototype.addQueryStateHandler=function(n,a,i){this.editorCommands.addQueryStateHandler(n,a,i)},e.prototype.addQueryValueHandler=function(n,a,i){this.editorCommands.addQueryValueHandler(n,a,i)},e.prototype.addShortcut=function(n,a,i,l){this.shortcuts.add(n,a,i,l)},e.prototype.execCommand=function(n,a,i,l){return this.editorCommands.execCommand(n,a,i,l)},e.prototype.queryCommandState=function(n){return this.editorCommands.queryCommandState(n)},e.prototype.queryCommandValue=function(n){return this.editorCommands.queryCommandValue(n)},e.prototype.queryCommandSupported=function(n){return this.editorCommands.queryCommandSupported(n)},e.prototype.show=function(){var n=this;n.hidden&&(n.hidden=!1,n.inline?n.getBody().contentEditable="true":(Pp.show(n.getContainer()),Pp.hide(n.id)),n.load(),n.fire("show"))},e.prototype.hide=function(){var n=this,a=n.getDoc();n.hidden||(qN&&a&&!n.inline&&a.execCommand("SelectAll"),n.save(),n.inline?(n.getBody().contentEditable="false",n===n.editorManager.focusedEditor&&(n.editorManager.focusedEditor=null)):(Pp.hide(n.getContainer()),Pp.setStyle(n.id,"display",n.orgDisplay)),n.hidden=!0,n.fire("hide"))},e.prototype.isHidden=function(){return!!this.hidden},e.prototype.setProgressState=function(n,a){this.fire("ProgressState",{state:n,time:a})},e.prototype.load=function(n){var a=this,i=a.getElement(),l;if(a.removed)return"";if(i){n=n||{},n.load=!0;var f=$i(i)?i.value:i.innerHTML;return l=a.setContent(f,n),n.element=i,n.no_events||a.fire("LoadContent",n),n.element=i=null,l}},e.prototype.save=function(n){var a=this,i=a.getElement(),l,f;if(!(!i||!a.initialized||a.removed))return n=n||{},n.save=!0,n.element=i,l=n.content=a.getContent(n),n.no_events||a.fire("SaveContent",n),n.format==="raw"&&a.fire("RawSaveContent",n),l=n.content,$i(i)?i.value=l:((n.is_removing||!a.inline)&&(i.innerHTML=l),(f=Pp.getParent(a.id,"form"))&&mR(f.elements,function(g){if(g.name===a.id)return g.value=l,!1})),n.element=i=null,n.set_dirty!==!1&&a.setDirty(!1),l},e.prototype.setContent=function(n,a){return vE(this,n,a)},e.prototype.getContent=function(n){return Q8(this,n)},e.prototype.insertContent=function(n,a){a&&(n=Tx({content:n},a)),this.execCommand("mceInsertContent",!1,n)},e.prototype.resetContent=function(n){n===void 0?vE(this,this.startContent,{format:"raw"}):vE(this,n),this.undoManager.reset(),this.setDirty(!1),this.nodeChanged()},e.prototype.isDirty=function(){return!this.isNotDirty},e.prototype.setDirty=function(n){var a=!this.isNotDirty;this.isNotDirty=!n,n&&n!==a&&this.fire("dirty")},e.prototype.getContainer=function(){var n=this;return n.container||(n.container=Pp.get(n.editorContainer||n.id+"_parent")),n.container},e.prototype.getContentAreaContainer=function(){return this.contentAreaContainer},e.prototype.getElement=function(){return this.targetElm||(this.targetElm=Pp.get(this.id)),this.targetElm},e.prototype.getWin=function(){var n=this,a;return n.contentWindow||(a=n.iframeElement,a&&(n.contentWindow=a.contentWindow)),n.contentWindow},e.prototype.getDoc=function(){var n=this,a;return n.contentDocument||(a=n.getWin(),a&&(n.contentDocument=a.document)),n.contentDocument},e.prototype.getBody=function(){var n=this.getDoc();return this.bodyElement||(n?n.body:null)},e.prototype.convertURL=function(n,a,i){var l=this,f=l.settings;return f.urlconverter_callback?l.execCallback("urlconverter_callback",n,i,!0,a):!f.convert_urls||i&&i.nodeName==="LINK"||n.indexOf("file:")===0||n.length===0?n:f.relative_urls?l.documentBaseURI.toRelative(n):(n=l.documentBaseURI.toAbsolute(n,f.remove_script_host),n)},e.prototype.addVisual=function(n){hN(this,n)},e.prototype.remove=function(){r6(this)},e.prototype.destroy=function(n){K2(this,n)},e.prototype.uploadImages=function(n){return this.editorUpload.uploadImages(n)},e.prototype._scanForImages=function(){return this.editorUpload.scanForImages()},e.prototype.addButton=function(){throw new Error("editor.addButton has been removed in tinymce 5x, use editor.ui.registry.addButton or editor.ui.registry.addToggleButton or editor.ui.registry.addSplitButton instead")},e.prototype.addSidebar=function(){throw new Error("editor.addSidebar has been removed in tinymce 5x, use editor.ui.registry.addSidebar instead")},e.prototype.addMenuItem=function(){throw new Error("editor.addMenuItem has been removed in tinymce 5x, use editor.ui.registry.addMenuItem instead")},e.prototype.addContextToolbar=function(){throw new Error("editor.addContextToolbar has been removed in tinymce 5x, use editor.ui.registry.addContextToolbar instead")},e}(),gf=Na.DOM,KN=Ye.explode,od=Ye.each,XN=Ye.extend,YN=0,hR=!1,ou,id=[],ei=[],pR=function(e){return e!=="length"},NO=function(e){var n=e.type;od(Sm.get(),function(a){switch(n){case"scroll":a.fire("ScrollWindow",e);break;case"resize":a.fire("ResizeWindow",e);break}})},bR=function(e){e!==hR&&(e?Zn(window).on("resize scroll",NO):Zn(window).off("resize scroll",NO),hR=e)},Ox=function(e){var n=ei;delete id[e.id];for(var a=0;a<id.length;a++)if(id[a]===e){id.splice(a,1);break}return ei=nn(ei,function(i){return e!==i}),Sm.activeEditor===e&&(Sm.activeEditor=ei.length>0?ei[0]:null),Sm.focusedEditor===e&&(Sm.focusedEditor=null),n.length!==ei.length},FO=function(e){return e&&e.initialized&&!(e.getContainer()||e.getBody()).parentNode&&(Ox(e),e.unbindAllNativeEvents(),e.destroy(!0),e.removed=!0,e=null),e},yR=document.compatMode!=="CSS1Compat",Sm=Sn(Sn({},kx),{baseURI:null,baseURL:null,defaultSettings:{},documentBaseURL:null,suffix:null,$:Zn,majorVersion:"5",minorVersion:"10.1",releaseDate:"2021-11-03",editors:id,i18n:sr,activeEditor:null,focusedEditor:null,settings:{},setup:function(){var e=this,n,a,i="";a=Yf.getDocumentBaseUrl(document.location),/^[^:]+:\/\/\/?[^\/]+\//.test(a)&&(a=a.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(a)||(a+="/"));var l=window.tinymce||window.tinyMCEPreInit;if(l)n=l.base||l.baseURL,i=l.suffix;else{for(var f=document.getElementsByTagName("script"),g=0;g<f.length;g++){var b=f[g].src||"";if(b!==""){var w=b.substring(b.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(b)){w.indexOf(".min")!==-1&&(i=".min"),n=b.substring(0,b.lastIndexOf("/"));break}}}if(!n&&document.currentScript){var b=document.currentScript.src;b.indexOf(".min")!==-1&&(i=".min"),n=b.substring(0,b.lastIndexOf("/"))}}e.baseURL=new Yf(a).toAbsolute(n),e.documentBaseURL=a,e.baseURI=new Yf(e.baseURL),e.suffix=i,BS(e)},overrideDefaults:function(e){var n=e.base_url;n&&this._setBaseUrl(n);var a=e.suffix;e.suffix&&(this.suffix=a),this.defaultSettings=e;var i=e.plugin_base_urls;i!==void 0&&hr(i,function(l,f){ba.PluginManager.urls[f]=l})},init:function(e){var n=this,a,i=Ye.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option table tbody tfoot thead tr th td script noscript style textarea video audio iframe object menu"," "),l=function(I,V){return I.inline&&V.tagName.toLowerCase()in i},f=function(I){var V=I.id;return V||(V=Pr(I,"name").filter(function(Y){return!gf.get(Y)}).getOrThunk(gf.uniqueId),I.setAttribute("id",V)),V},g=function(I){var V=e[I];if(!!V)return V.apply(n,[])},b=function(I,V){return V.constructor===RegExp?V.test(I.className):gf.hasClass(I,V)},w=function(I){var V=[];if(On.browser.isIE()&&On.browser.version.major<11)return zk("TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tinymce.com/docs/get-started/system-requirements/"),[];if(yR)return zk("Failed to initialize the editor as the document is not in standards mode. TinyMCE requires standards mode."),[];if(I.types)return od(I.types,function(X){V=V.concat(gf.select(X.selector))}),V;if(I.selector)return gf.select(I.selector);if(I.target)return[I.target];switch(I.mode){case"exact":var Y=I.elements||"";Y.length>0&&od(KN(Y),function(X){var ee=gf.get(X);ee?V.push(ee):od(document.forms,function(re){od(re.elements,function(fe){fe.name===X&&(X="mce_editor_"+YN++,gf.setAttrib(fe,"id",X),V.push(fe))})})});break;case"textareas":case"specific_textareas":od(gf.select("textarea"),function(X){I.editor_deselector&&b(X,I.editor_deselector)||(!I.editor_selector||b(X,I.editor_selector))&&V.push(X)});break}return V},A=function(I){a=I},F=function(){var I=0,V=[],Y,X=function(ee,re,fe){var ce=new Ex(ee,re,n);V.push(ce),ce.on("init",function(){++I===Y.length&&A(V)}),ce.targetElm=ce.targetElm||fe,ce.render()};if(gf.unbind(window,"ready",F),g("onpageload"),Y=Zn.unique(w(e)),e.types){od(e.types,function(ee){Ye.each(Y,function(re){return gf.is(re,ee.selector)?(X(f(re),XN({},e,ee),re),!1):!0})});return}Ye.each(Y,function(ee){FO(n.get(ee.id))}),Y=Ye.grep(Y,function(ee){return!n.get(ee.id)}),Y.length===0?A([]):od(Y,function(ee){l(e,ee)?zk("Could not initialize inline editor on invalid inline target element",ee):X(f(ee),e,ee)})};return n.settings=e,gf.bind(window,"ready",F),new yi(function(I){a?I(a):A=function(V){I(V)}})},get:function(e){return arguments.length===0?ei.slice(0):ht(e)?Kr(ei,function(n){return n.id===e}).getOr(null):Zt(e)&&ei[e]?ei[e]:null},add:function(e){var n=this,a=id[e.id];return a===e||(n.get(e.id)===null&&(pR(e.id)&&(id[e.id]=e),id.push(e),ei.push(e)),bR(!0),n.activeEditor=e,n.fire("AddEditor",{editor:e}),ou||(ou=function(i){var l=n.fire("BeforeUnload");if(l.returnValue)return i.preventDefault(),i.returnValue=l.returnValue,l.returnValue},window.addEventListener("beforeunload",ou))),e},createEditor:function(e,n){return this.add(new Ex(e,n,this))},remove:function(e){var n=this,a,i;if(!e){for(a=ei.length-1;a>=0;a--)n.remove(ei[a]);return}if(ht(e)){od(gf.select(e),function(l){i=n.get(l.id),i&&n.remove(i)});return}return i=e,K(n.get(i.id))?null:(Ox(i)&&n.fire("RemoveEditor",{editor:i}),ei.length===0&&window.removeEventListener("beforeunload",ou),i.remove(),bR(ei.length>0),i)},execCommand:function(e,n,a){var i=this,l=i.get(a);switch(e){case"mceAddEditor":return i.get(a)||new Ex(a,i.settings,i).render(),!0;case"mceRemoveEditor":return l&&l.remove(),!0;case"mceToggleEditor":return l?(l.isHidden()?l.show():l.hide(),!0):(i.execCommand("mceAddEditor",!1,a),!0)}return i.activeEditor?i.activeEditor.execCommand(e,n,a):!1},triggerSave:function(){od(ei,function(e){e.save()})},addI18n:function(e,n){sr.add(e,n)},translate:function(e){return sr.translate(e)},setActive:function(e){var n=this.activeEditor;this.activeEditor!==e&&(n&&n.fire("deactivate",{relatedTarget:e}),e.fire("activate",{relatedTarget:n})),this.activeEditor=e},_setBaseUrl:function(e){this.baseURL=new Yf(this.documentBaseURL).toAbsolute(e.replace(/\/+$/,"")),this.baseURI=new Yf(this.baseURL)}});Sm.setup();var wR=Math.min,o0=Math.max,Ax=Math.round,CR=function(e,n,a){var i=n.x,l=n.y,f=e.w,g=e.h,b=n.w,w=n.h,A=(a||"").split("");return A[0]==="b"&&(l+=w),A[1]==="r"&&(i+=b),A[0]==="c"&&(l+=Ax(w/2)),A[1]==="c"&&(i+=Ax(b/2)),A[3]==="b"&&(l-=g),A[4]==="r"&&(i-=f),A[3]==="c"&&(l-=Ax(g/2)),A[4]==="c"&&(i-=Ax(f/2)),i0(i,l,f,g)},JN=function(e,n,a,i){var l,f;for(f=0;f<i.length;f++)if(l=CR(e,n,i[f]),l.x>=a.x&&l.x+l.w<=a.w+a.x&&l.y>=a.y&&l.y+l.h<=a.h+a.y)return i[f];return null},SR=function(e,n,a){return i0(e.x-n,e.y-a,e.w+n*2,e.h+a*2)},ZN=function(e,n){var a=o0(e.x,n.x),i=o0(e.y,n.y),l=wR(e.x+e.w,n.x+n.w),f=wR(e.y+e.h,n.y+n.h);return l-a<0||f-i<0?null:i0(a,i,l-a,f-i)},QN=function(e,n,a){var i=e.x,l=e.y,f=e.x+e.w,g=e.y+e.h,b=n.x+n.w,w=n.y+n.h,A=o0(0,n.x-i),F=o0(0,n.y-l),I=o0(0,f-b),V=o0(0,g-w);return i+=A,l+=F,a&&(f+=A,g+=F,i-=I,l-=V),f-=I,g-=V,i0(i,l,f-i,g-l)},i0=function(e,n,a,i){return{x:e,y:n,w:a,h:i}},eF=function(e){return i0(e.left,e.top,e.width,e.height)},tF={inflate:SR,relativePosition:CR,findBestRelativePosition:JN,intersect:ZN,clamp:QN,create:i0,fromClientRect:eF},nF=function(e,n,a){a===void 0&&(a=1e3);var i=!1,l=null,f=function(A){return function(){for(var F=[],I=0;I<arguments.length;I++)F[I]=arguments[I];i||(i=!0,l!==null&&(clearTimeout(l),l=null),A.apply(null,F))}},g=f(e),b=f(n),w=function(){for(var A=[],F=0;F<arguments.length;F++)A[F]=arguments[F];!i&&l===null&&(l=setTimeout(function(){return b.apply(null,A)},a))};return{start:w,resolve:g,reject:b}},kR=function(){var e={},n={},a=function(l,f){var g='Script at URL "'+f+'" failed to load',b='Script at URL "'+f+"\" did not call `tinymce.Resource.add('"+l+"', data)` within 1 second";if(e[l]!==void 0)return e[l];var w=new yi(function(A,F){var I=nF(A,F);n[l]=I.resolve,Zc.ScriptLoader.loadScript(f,function(){return I.start(b)},function(){return I.reject(g)})});return e[l]=w,w},i=function(l,f){n[l]!==void 0&&(n[l](f),delete n[l]),e[l]=yi.resolve(f)};return{load:a,add:i}},rF=kR(),Dx=Ye.each,aF=Ye.extend,_x,$p,km=function(){};km.extend=_x=function(e){var n=this,a=n.prototype,i=function(){var b,w,A,F=this;if(!$p&&(F.init&&F.init.apply(F,arguments),w=F.Mixins,w))for(b=w.length;b--;)A=w[b],A.init&&A.init.apply(F,arguments)},l=function(){return this},f=function(b,w){return function(){var A=this,F=A._super;A._super=a[b];var I=w.apply(A,arguments);return A._super=F,I}};$p=!0;var g=new n;return $p=!1,e.Mixins&&(Dx(e.Mixins,function(b){for(var w in b)w!=="init"&&(e[w]=b[w])}),a.Mixins&&(e.Mixins=a.Mixins.concat(e.Mixins))),e.Methods&&Dx(e.Methods.split(","),function(b){e[b]=l}),e.Properties&&Dx(e.Properties.split(","),function(b){var w="_"+b;e[b]=function(A){var F=this;return A!==void 0?(F[w]=A,F):F[w]}}),e.Statics&&Dx(e.Statics,function(b,w){i[w]=b}),e.Defaults&&a.Defaults&&(e.Defaults=aF({},a.Defaults,e.Defaults)),hr(e,function(b,w){typeof b=="function"&&a[w]?g[w]=f(w,b):g[w]=b}),i.prototype=g,i.constructor=i,i.extend=_x,i};var xm=Math.min,u0=Math.max,Tm=Math.round,xR=function(e){var n={},a=0,i=0,l=0,f=function(I,V,Y){var X,ee,re;X=0,ee=0,re=0,I=I/255,V=V/255,Y=Y/255;var fe=xm(I,xm(V,Y)),ce=u0(I,u0(V,Y));if(fe===ce)return re=fe,{h:0,s:0,v:re*100};var ye=I===fe?V-Y:Y===fe?I-V:Y-I;return X=I===fe?3:Y===fe?1:5,X=60*(X-ye/(ce-fe)),ee=(ce-fe)/ce,re=ce,{h:Tm(X),s:Tm(ee*100),v:Tm(re*100)}},g=function(I,V,Y){if(I=(parseInt(I,10)||0)%360,V=parseInt(V,10)/100,Y=parseInt(Y,10)/100,V=u0(0,xm(V,1)),Y=u0(0,xm(Y,1)),V===0){a=i=l=Tm(255*Y);return}var X=I/60,ee=Y*V,re=ee*(1-Math.abs(X%2-1)),fe=Y-ee;switch(Math.floor(X)){case 0:a=ee,i=re,l=0;break;case 1:a=re,i=ee,l=0;break;case 2:a=0,i=ee,l=re;break;case 3:a=0,i=re,l=ee;break;case 4:a=re,i=0,l=ee;break;case 5:a=ee,i=0,l=re;break;default:a=i=l=0}a=Tm(255*(a+fe)),i=Tm(255*(i+fe)),l=Tm(255*(l+fe))},b=function(){var I=function(V){return V=parseInt(V,10).toString(16),V.length>1?V:"0"+V};return"#"+I(a)+I(i)+I(l)},w=function(){return{r:a,g:i,b:l}},A=function(){return f(a,i,l)},F=function(I){var V;return typeof I=="object"?"r"in I?(a=I.r,i=I.g,l=I.b):"v"in I&&g(I.h,I.s,I.v):(V=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)[^\)]*\)/gi.exec(I))?(a=parseInt(V[1],10),i=parseInt(V[2],10),l=parseInt(V[3],10)):(V=/#([0-F]{2})([0-F]{2})([0-F]{2})/gi.exec(I))?(a=parseInt(V[1],16),i=parseInt(V[2],16),l=parseInt(V[3],16)):(V=/#([0-F])([0-F])([0-F])/gi.exec(I))&&(a=parseInt(V[1]+V[1],16),i=parseInt(V[2]+V[2],16),l=parseInt(V[3]+V[3],16)),a=a<0?0:a>255?255:a,i=i<0?0:i>255?255:i,l=l<0?0:l>255?255:l,n};return e&&F(e),n.toRgb=w,n.toHsv=A,n.toHex=b,n.parse=F,n},TR=function(e){var n=JSON.stringify(e);return ht(n)?n.replace(/[\u0080-\uFFFF]/g,function(a){var i=a.charCodeAt(0).toString(16);return"\\u"+"0000".substring(i.length)+i}):n},zO={serialize:TR,parse:function(e){try{return JSON.parse(e)}catch(n){}}},ER={callbacks:{},count:0,send:function(e){var n=this,a=Na.DOM,i=e.count!==void 0?e.count:n.count,l="tinymce_jsonp_"+i;n.callbacks[i]=function(f){a.remove(l),delete n.callbacks[i],e.callback(f)},a.add(a.doc.body,"script",{id:l,src:e.url,type:"text/javascript"}),n.count++}},ww=Sn(Sn({},kx),{send:function(e){var n,a=0,i=function(){!e.async||n.readyState===4||a++>1e4?(e.success&&a<1e4&&n.status===200?e.success.call(e.success_scope,""+n.responseText,n,e):e.error&&e.error.call(e.error_scope,a>1e4?"TIMED_OUT":"GENERAL",n,e),n=null):Qi.setTimeout(i,10)};if(e.scope=e.scope||this,e.success_scope=e.success_scope||e.scope,e.error_scope=e.error_scope||e.scope,e.async=e.async!==!1,e.data=e.data||"",ww.fire("beforeInitialize",{settings:e}),n=new XMLHttpRequest,n.overrideMimeType&&n.overrideMimeType(e.content_type),n.open(e.type||(e.data?"POST":"GET"),e.url,e.async),e.crossDomain&&(n.withCredentials=!0),e.content_type&&n.setRequestHeader("Content-Type",e.content_type),e.requestheaders&&Ye.each(e.requestheaders,function(l){n.setRequestHeader(l.key,l.value)}),n.setRequestHeader("X-Requested-With","XMLHttpRequest"),n=ww.fire("beforeSend",{xhr:n,settings:e}).xhr,n.send(e.data),!e.async)return i();Qi.setTimeout(i,10)}}),OR=Ye.extend,oF=function(){function e(n){this.settings=OR({},n),this.count=0}return e.sendRPC=function(n){return new e().send(n)},e.prototype.send=function(n){var a=n.error,i=n.success,l=OR(this.settings,n);l.success=function(f,g){f=zO.parse(f),typeof f=="undefined"&&(f={error:"JSON Parse error."}),f.error?a.call(l.error_scope||l.scope,f.error,g):i.call(l.success_scope||l.scope,f.result)},l.error=function(f,g){a&&a.call(l.error_scope||l.scope,f,g)},l.data=zO.serialize({id:n.id||"c"+this.count++,method:n.method,params:n.params}),l.content_type="application/json",ww.send(l)},e}(),iF=function(){return function(){var e={},n=[],a={getItem:function(i){var l=e[i];return l||null},setItem:function(i,l){n.push(i),e[i]=String(l)},key:function(i){return n[i]},removeItem:function(i){n=n.filter(function(l){return l===i}),delete e[i]},clear:function(){n=[],e={}},length:0};return Object.defineProperty(a,"length",{get:function(){return n.length},configurable:!1,enumerable:!1}),a}()},Cw;try{var IO="__storage_test__";Cw=window.localStorage,Cw.setItem(IO,IO),Cw.removeItem(IO)}catch(e){Cw=iF()}var uF=Cw,AR={geom:{Rect:tF},util:{Promise:yi,Delay:Qi,Tools:Ye,VK:Mn,URI:Yf,Class:km,EventDispatcher:BO,Observable:kx,I18n:sr,XHR:ww,JSON:zO,JSONRequest:oF,JSONP:ER,LocalStorage:uF,Color:xR,ImageUploader:r_},dom:{EventUtils:pv,Sizzle:Ca,DomQuery:Zn,TreeWalker:Yr,TextSeeker:h1,DOMUtils:Na,ScriptLoader:Zc,RangeUtils:Sg,Serializer:FD,StyleSheetLoader:Mw,ControlSelection:cS,BookmarkManager:of,Selection:oE,Event:pv.Event},html:{Styles:Ff,Entities:Ul,Node:ks,Schema:dr,SaxParser:wb,DomParser:fE,Writer:Zh,Serializer:cm},Env:On,AddOnManager:ba,Annotator:Ac,Formatter:l_,UndoManager:Ao,EditorCommands:oR,WindowManager:Hb,NotificationManager:Ts,EditorObservable:lR,Shortcuts:xx,Editor:Ex,FocusManager:fb,EditorManager:Sm,DOM:Na.DOM,ScriptLoader:Zc.ScriptLoader,PluginManager:Es,ThemeManager:oc,IconManager:Pk,Resource:rF,trim:Ye.trim,isArray:Ye.isArray,is:Ye.is,toArray:Ye.toArray,makeMap:Ye.makeMap,each:Ye.each,map:Ye.map,grep:Ye.grep,inArray:Ye.inArray,extend:Ye.extend,create:Ye.create,walk:Ye.walk,createNS:Ye.createNS,resolve:Ye.resolve,explode:Ye.explode,_addCacheSuffix:Ye._addCacheSuffix,isOpera:On.opera,isWebKit:On.webkit,isIE:On.ie,isGecko:On.gecko,isMac:On.mac},LO=Ye.extend(Sm,AR),lF=function(e){try{x.exports=e}catch(n){}},sF=function(e){window.tinymce=e,window.tinyMCE=e};sF(LO),lF(LO)})()})(Zz);var i7=Zz.exports,eG=["onActivate","onAddUndo","onBeforeAddUndo","onBeforeExecCommand","onBeforeGetContent","onBeforeRenderUI","onBeforeSetContent","onBeforePaste","onBlur","onChange","onClearUndos","onClick","onContextMenu","onCopy","onCut","onDblclick","onDeactivate","onDirty","onDrag","onDragDrop","onDragEnd","onDragGesture","onDragOver","onDrop","onExecCommand","onFocus","onFocusIn","onFocusOut","onGetContent","onHide","onInit","onKeyDown","onKeyPress","onKeyUp","onLoadContent","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onNodeChange","onObjectResizeStart","onObjectResized","onObjectSelected","onPaste","onPostProcess","onPostRender","onPreProcess","onProgressState","onRedo","onRemove","onReset","onSaveContent","onSelectionChange","onSetAttrib","onSetContent","onShow","onSubmit","onUndo","onVisualAid"],tG=function(x){return eG.map(function(P){return P.toLowerCase()}).indexOf(x.toLowerCase())!==-1},nG=function(x,P,kt){Object.keys(P).filter(tG).forEach(function($t){var _t=P[$t];typeof _t=="function"&&($t==="onInit"?_t(x,kt):kt.on($t.substring(2),function(ut){return _t(ut,kt)}))})},rG=function(x,P,kt,$t){var _t=x.modelEvents?x.modelEvents:null,ut=Array.isArray(_t)?_t.join(" "):_t;vd($t,function(Fe,Ee){kt&&typeof Fe=="string"&&Fe!==Ee&&Fe!==kt.getContent({format:x.outputFormat})&&kt.setContent(Fe)}),kt.on(ut||"change input undo redo",function(){P.emit("update:modelValue",kt.getContent({format:x.outputFormat}))})},aG=function(x,P,kt,$t,_t,ut){$t.setContent(ut()),kt.attrs["onUpdate:modelValue"]&&rG(P,kt,$t,_t),nG(x,kt.attrs,$t)},Qz=0,eI=function(x){var P=Date.now(),kt=Math.floor(Math.random()*1e9);return Qz++,x+"_"+kt+Qz+String(P)},oG=function(x){return x!==null&&x.tagName.toLowerCase()==="textarea"},tI=function(x){return typeof x=="undefined"||x===""?[]:Array.isArray(x)?x:x.split(" ")},iG=function(x,P){return tI(x).concat(tI(P))},uG=function(x){return x==null},nI=function(){return{listeners:[],scriptId:eI("tiny-script"),scriptLoaded:!1}},lG=function(){var x=nI(),P=function(_t,ut,Fe,Ee){var et=ut.createElement("script");et.referrerPolicy="origin",et.type="application/javascript",et.id=_t,et.src=Fe;var Me=function(){et.removeEventListener("load",Me),Ee()};et.addEventListener("load",Me),ut.head&&ut.head.appendChild(et)},kt=function(_t,ut,Fe){x.scriptLoaded?Fe():(x.listeners.push(Fe),_t.getElementById(x.scriptId)||P(x.scriptId,_t,ut,function(){x.listeners.forEach(function(Ee){return Ee()}),x.scriptLoaded=!0}))},$t=function(){x=nI()};return{load:kt,reinitialize:$t}},sG=lG(),cG=function(){return typeof window!="undefined"?window:global},JO=function(){var x=cG();return x&&x.tinymce?x.tinymce:null},fG={apiKey:String,cloudChannel:String,id:String,init:Object,initialValue:String,inline:Boolean,modelEvents:[String,Array],plugins:[String,Array],tagName:String,toolbar:[String,Array],modelValue:String,disabled:Boolean,tinymceScriptSrc:String,outputFormat:{type:String,validator:function(x){return x==="html"||x==="text"}}},ZR=globalThis&&globalThis.__assign||function(){return ZR=Object.assign||function(x){for(var P,kt=1,$t=arguments.length;kt<$t;kt++){P=arguments[kt];for(var _t in P)Object.prototype.hasOwnProperty.call(P,_t)&&(x[_t]=P[_t])}return x},ZR.apply(this,arguments)},vG=function(x,P,kt,$t){return x($t||"div",{id:P,ref:kt})},dG=function(x,P,kt){return x("textarea",{id:P,visibility:"hidden",ref:kt})},mG=fd({props:fG,setup:function(x,P){var kt=Jl(x),$t=kt.disabled,_t=kt.modelValue,ut=Hx(null),Fe=null,Ee=x.id||eI("tiny-vue"),et=x.init&&x.init.inline||x.inline,Me=!!P.attrs["onUpdate:modelValue"],It=!0,se=x.initialValue?x.initialValue:"",Gt="",xn=function(ge){return Me?function(){return(_t==null?void 0:_t.value)?_t.value:""}:function(){return ge?se:Gt}},We=function(){var ge=xn(It),ht=ZR(ZR({},x.init),{readonly:x.disabled,selector:"#"+Ee,plugins:iG(x.init&&x.init.plugins,x.plugins),toolbar:x.toolbar||x.init&&x.init.toolbar,inline:et,setup:function(Ue){Fe=Ue,Ue.on("init",function(Wt){return aG(Wt,x,P,Ue,_t,ge)}),x.init&&typeof x.init.setup=="function"&&x.init.setup(Ue)}});oG(ut.value)&&(ut.value.style.visibility=""),JO().init(ht),It=!1};return vd($t,function(ge){Fe!==null&&Fe.setMode(ge?"readonly":"design")}),Ix(function(){if(JO()!==null)We();else if(ut.value&&ut.value.ownerDocument){var ge=x.cloudChannel?x.cloudChannel:"5",ht=x.apiKey?x.apiKey:"no-api-key",Ue=uG(x.tinymceScriptSrc)?"https://cdn.tiny.cloud/1/"+ht+"/tinymce/"+ge+"/tinymce.min.js":x.tinymceScriptSrc;sG.load(ut.value.ownerDocument,Ue,We)}}),xW(function(){JO()!==null&&JO().remove(Fe)}),et||(TW(function(){It||We()}),EW(function(){var ge;Me||(Gt=Fe.getContent()),(ge=JO())===null||ge===void 0||ge.remove(Fe)})),function(){return et?vG(Jz,Ee,ut,x.tagName):dG(Jz,Ee,ut)}}});(function(){var x=function(t){var r=typeof t;return t===null?"null":r==="object"&&(Array.prototype.isPrototypeOf(t)||t.constructor&&t.constructor.name==="Array")?"array":r==="object"&&(String.prototype.isPrototypeOf(t)||t.constructor&&t.constructor.name==="String")?"string":r},P=function(t){return function(r){return x(r)===t}},kt=function(t){return function(r){return typeof r===t}},$t=function(t){return function(r){return t===r}},_t=P("string"),ut=P("object"),Fe=P("array"),Ee=$t(null),et=kt("boolean"),Me=$t(void 0),It=function(t){return t==null},se=function(t){return!It(t)},Gt=kt("function"),xn=kt("number"),We=function(t,r){if(Fe(t)){for(var o=0,s=t.length;o<s;++o)if(!r(t[o]))return!1;return!0}return!1},ge=function(){},ht=function(t){return function(){return t()}},Ue=function(t,r){return function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return t(r.apply(null,o))}},Wt=function(t,r){return function(o){return t(r(o))}},K=function(t){return function(){return t}},dt=function(t){return t},Oe=function(t,r){return t===r};function Ht(t){for(var r=[],o=1;o<arguments.length;o++)r[o-1]=arguments[o];return function(){for(var s=[],v=0;v<arguments.length;v++)s[v]=arguments[v];var m=r.concat(s);return t.apply(null,m)}}var qt=function(t){return function(r){return!t(r)}},Nt=function(t){return function(){throw new Error(t)}},Zt=K(!1),st=K(!0),jr=tinymce.util.Tools.resolve("tinymce.ThemeManager"),ve=function(){return ve=Object.assign||function(r){for(var o,s=1,v=arguments.length;s<v;s++){o=arguments[s];for(var m in o)Object.prototype.hasOwnProperty.call(o,m)&&(r[m]=o[m])}return r},ve.apply(this,arguments)};function Q(t,r){var o={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&r.indexOf(s)<0&&(o[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var v=0,s=Object.getOwnPropertySymbols(t);v<s.length;v++)r.indexOf(s[v])<0&&Object.prototype.propertyIsEnumerable.call(t,s[v])&&(o[s[v]]=t[s[v]]);return o}function En(t,r,o){if(o||arguments.length===2)for(var s=0,v=r.length,m;s<v;s++)(m||!(s in r))&&(m||(m=Array.prototype.slice.call(r,0,s)),m[s]=r[s]);return t.concat(m||Array.prototype.slice.call(r))}var wo=function(){return j},j=function(){var t=function(s){return s()},r=dt,o={fold:function(s,v){return s()},isSome:Zt,isNone:st,getOr:r,getOrThunk:t,getOrDie:function(s){throw new Error(s||"error: getOrDie called on none.")},getOrNull:K(null),getOrUndefined:K(void 0),or:r,orThunk:t,map:wo,each:ge,bind:wo,exists:Zt,forall:st,filter:function(){return wo()},toArray:function(){return[]},toString:K("none()")};return o}(),Nr=function(t){var r=K(t),o=function(){return v},s=function(m){return m(t)},v={fold:function(m,p){return p(t)},isSome:st,isNone:Zt,getOr:r,getOrThunk:r,getOrDie:r,getOrNull:r,getOrUndefined:r,or:o,orThunk:o,map:function(m){return Nr(m(t))},each:function(m){m(t)},bind:s,exists:s,forall:s,filter:function(m){return m(t)?v:j},toArray:function(){return[t]},toString:function(){return"some("+t+")"}};return v},$n=function(t){return t==null?j:Nr(t)},_={some:Nr,none:wo,from:$n},Zr=Array.prototype.slice,Mt=Array.prototype.indexOf,sn=Array.prototype.push,_o=function(t,r){return Mt.call(t,r)},mi=function(t,r){var o=_o(t,r);return o===-1?_.none():_.some(o)},er=function(t,r){return _o(t,r)>-1},ua=function(t,r){for(var o=0,s=t.length;o<s;o++){var v=t[o];if(r(v,o))return!0}return!1},te=function(t,r){for(var o=[],s=0;s<t;s++)o.push(r(s));return o},vo=function(t,r){for(var o=[],s=0;s<t.length;s+=r){var v=Zr.call(t,s,s+r);o.push(v)}return o},Tt=function(t,r){for(var o=t.length,s=new Array(o),v=0;v<o;v++){var m=t[v];s[v]=r(m,v)}return s},Ie=function(t,r){for(var o=0,s=t.length;o<s;o++){var v=t[o];r(v,o)}},dn=function(t,r){for(var o=t.length-1;o>=0;o--){var s=t[o];r(s,o)}},Pe=function(t,r){for(var o=[],s=[],v=0,m=t.length;v<m;v++){var p=t[v],C=r(p,v)?o:s;C.push(p)}return{pass:o,fail:s}},Re=function(t,r){for(var o=[],s=0,v=t.length;s<v;s++){var m=t[s];r(m,s)&&o.push(m)}return o},Qe=function(t,r,o){return dn(t,function(s,v){o=r(o,s,v)}),o},pt=function(t,r,o){return Ie(t,function(s,v){o=r(o,s,v)}),o},tt=function(t,r,o){for(var s=0,v=t.length;s<v;s++){var m=t[s];if(r(m,s))return _.some(m);if(o(m,s))break}return _.none()},mn=function(t,r){return tt(t,r,Zt)},zn=function(t,r){for(var o=0,s=t.length;o<s;o++){var v=t[o];if(r(v,o))return _.some(o)}return _.none()},nn=function(t){for(var r=[],o=0,s=t.length;o<s;++o){if(!Fe(t[o]))throw new Error("Arr.flatten item "+o+" was not an array, input: "+t);sn.apply(r,t[o])}return r},Ln=function(t,r){return nn(Tt(t,r))},wr=function(t,r){for(var o=0,s=t.length;o<s;++o){var v=t[o];if(r(v,o)!==!0)return!1}return!0},Cn=function(t){var r=Zr.call(t,0);return r.reverse(),r},Kr=function(t,r){return Re(t,function(o){return!er(r,o)})},Ro=function(t,r){for(var o={},s=0,v=t.length;s<v;s++){var m=t[s];o[String(m)]=r(m,s)}return o},Rl=function(t){return[t]},uu=function(t,r){var o=Zr.call(t,0);return o.sort(r),o},lu=function(t,r){return r>=0&&r<t.length?_.some(t[r]):_.none()},Bo=function(t){return lu(t,0)},ku=function(t){return lu(t,t.length-1)},Ho=Gt(Array.from)?Array.from:function(t){return Zr.call(t)},la=function(t,r){for(var o=0;o<t.length;o++){var s=r(t[o],o);if(s.isSome())return s}return _.none()},Xr=Object.keys,oo=Object.hasOwnProperty,ta=function(t,r){for(var o=Xr(t),s=0,v=o.length;s<v;s++){var m=o[s],p=t[m];r(p,m)}},Lr=function(t,r){return Uo(t,function(o,s){return{k:s,v:r(o,s)}})},Uo=function(t,r){var o={};return ta(t,function(s,v){var m=r(s,v);o[m.k]=m.v}),o},ni=function(t){return function(r,o){t[o]=r}},Ra=function(t,r,o,s){var v={};return ta(t,function(m,p){(r(m,p)?o:s)(m,p)}),v},hr=function(t,r){var o={};return Ra(t,r,ni(o),ge),o},Co=function(t,r){var o=[];return ta(t,function(s,v){o.push(r(s,v))}),o},Mo=function(t,r){for(var o=Xr(t),s=0,v=o.length;s<v;s++){var m=o[s],p=t[m];if(r(p,m,t))return _.some(p)}return _.none()},Po=function(t){return Co(t,dt)},bn=function(t,r){return Cr(t,r)?_.from(t[r]):_.none()},Cr=function(t,r){return oo.call(t,r)},Sa=function(t,r){return Cr(t,r)&&t[r]!==void 0&&t[r]!==null},gi=function(t,r,o){return o===void 0&&(o=Oe),t.exists(function(s){return o(s,r)})},ul=function(t,r,o){return o===void 0&&(o=Oe),hi(t,r,o).getOr(t.isNone()&&r.isNone())},Pr=function(t){for(var r=[],o=function(v){r.push(v)},s=0;s<t.length;s++)t[s].each(o);return r},tr=function(t){for(var r=[],o=0;o<t.length;o++){var s=t[o];if(s.isSome())r.push(s.getOrDie());else return _.none()}return _.some(r)},hi=function(t,r,o){return t.isSome()&&r.isSome()?_.some(o(t.getOrDie(),r.getOrDie())):_.none()},Bl=function(t,r,o,s){return t.isSome()&&r.isSome()&&o.isSome()?_.some(s(t.getOrDie(),r.getOrDie(),o.getOrDie())):_.none()},ri=function(t,r){return t!=null?_.some(r(t)):_.none()},ai=function(t,r){return t?_.some(r):_.none()},su=function(t,r){return t+r},xu=function(t,r){return t.substring(r)},qi=function(t,r,o){return r===""||t.length>=r.length&&t.substr(o,o+r.length)===r},oi=function(t,r){return Ri(t,r)?xu(t,r.length):t},Tu=function(t,r){return Sn(t,r)?t:su(t,r)},Fr=function(t,r){return t.indexOf(r)!==-1},Ri=function(t,r){return qi(t,r,0)},Sn=function(t,r){return qi(t,r,t.length-r.length)},Zl=function(t){return function(r){return r.replace(t,"")}},ii=Zl(/^\s+|\s+$/g),cu=function(t){return t.length>0},ui=function(t){return!cu(t)},fu=function(t){return t.style!==void 0&&Gt(t.style.getPropertyValue)},Ql=function(t,r){var o=r||document,s=o.createElement("div");if(s.innerHTML=t,!s.hasChildNodes()||s.childNodes.length>1)throw console.error("HTML does not have a single root node",t),new Error("HTML must have a single root node");return oe(s.childNodes[0])},Ki=function(t,r){var o=r||document,s=o.createElement(t);return oe(s)},es=function(t,r){var o=r||document,s=o.createTextNode(t);return oe(s)},oe=function(t){if(t==null)throw new Error("Node cannot be null or undefined");return{dom:t}},Te=function(t,r,o){return _.from(t.dom.elementFromPoint(r,o)).map(oe)},le={fromHtml:Ql,fromTag:Ki,fromText:es,fromDom:oe,fromPoint:Te};typeof window!="undefined"||Function("return this;")();var $e=9,Lt=11,cn=1,Nn=3,Un=function(t){var r=t.dom.nodeName;return r.toLowerCase()},Or=function(t){return t.dom.nodeType},Rr=function(t){return function(r){return Or(r)===t}},gr=Rr(cn),Ba=Rr(Nn),ka=Rr($e),Eu=Rr(Lt),So=function(t){var r=!1,o;return function(){for(var s=[],v=0;v<arguments.length;v++)s[v]=arguments[v];return r||(r=!0,o=t.apply(null,s)),o}},Ou=function(t,r,o,s){var v=t.isiOS()&&/ipad/i.test(o)===!0,m=t.isiOS()&&!v,p=t.isiOS()||t.isAndroid(),C=p||s("(pointer:coarse)"),S=v||!m&&p&&s("(min-device-width:768px)"),E=m||p&&!S,R=r.isSafari()&&t.isiOS()&&/safari/i.test(o)===!1,M=!E&&!S&&!R;return{isiPad:K(v),isiPhone:K(m),isTablet:K(S),isPhone:K(E),isTouch:K(C),isAndroid:t.isAndroid,isiOS:t.isiOS,isWebView:K(R),isDesktop:K(M)}},ll=function(t,r){for(var o=0;o<t.length;o++){var s=t[o];if(s.test(r))return s}},Ma=function(t,r){var o=ll(t,r);if(!o)return{major:0,minor:0};var s=function(v){return Number(r.replace(o,"$"+v))};return io(s(1),s(2))},Pa=function(t,r){var o=String(r).toLowerCase();return t.length===0?Ot():Ma(t,o)},Ot=function(){return io(0,0)},io=function(t,r){return{major:t,minor:r}},Gu={nu:io,detect:Pa,unknown:Ot},ts=function(t,r){return la(r.brands,function(o){var s=o.brand.toLowerCase();return mn(t,function(v){var m;return s===((m=v.brand)===null||m===void 0?void 0:m.toLowerCase())}).map(function(v){return{current:v.name,version:Gu.nu(parseInt(o.version,10),0)}})})},ns=function(t,r){var o=String(r).toLowerCase();return mn(t,function(s){return s.search(o)})},vr=function(t,r){return ns(t,r).map(function(o){var s=Gu.detect(o.versionRegexes,r);return{current:o.name,version:s}})},Bs=function(t,r){return ns(t,r).map(function(o){var s=Gu.detect(o.versionRegexes,r);return{current:o.name,version:s}})},Au=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Fa=function(t){return function(r){return Fr(r,t)}},rs=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(t){return Fr(t,"edge/")&&Fr(t,"chrome")&&Fr(t,"safari")&&Fr(t,"applewebkit")}},{name:"Chrome",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Au],search:function(t){return Fr(t,"chrome")&&!Fr(t,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(t){return Fr(t,"msie")||Fr(t,"trident")}},{name:"Opera",versionRegexes:[Au,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Fa("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Fa("firefox")},{name:"Safari",versionRegexes:[Au,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(t){return(Fr(t,"safari")||Fr(t,"mobile/"))&&Fr(t,"applewebkit")}}],pi=[{name:"Windows",search:Fa("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(t){return Fr(t,"iphone")||Fr(t,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Fa("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:Fa("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Fa("linux"),versionRegexes:[]},{name:"Solaris",search:Fa("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Fa("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:Fa("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],Bi={browsers:K(rs),oses:K(pi)},sa="Edge",as="Chrome",Ml="IE",Pl="Opera",Ms="Firefox",vu="Safari",du=function(){return Ps({current:void 0,version:Gu.unknown()})},Ps=function(t){var r=t.current,o=t.version,s=function(v){return function(){return r===v}};return{current:r,version:o,isEdge:s(sa),isChrome:s(as),isIE:s(Ml),isOpera:s(Pl),isFirefox:s(Ms),isSafari:s(vu)}},Xi={unknown:du,nu:Ps,edge:K(sa),chrome:K(as),ie:K(Ml),opera:K(Pl),firefox:K(Ms),safari:K(vu)},Mi="Windows",W="iOS",pe="Android",_e="Linux",nt="OSX",Bt="Solaris",hn="FreeBSD",$r="ChromeOS",Gr=function(){return nr({current:void 0,version:Gu.unknown()})},nr=function(t){var r=t.current,o=t.version,s=function(v){return function(){return r===v}};return{current:r,version:o,isWindows:s(Mi),isiOS:s(W),isAndroid:s(pe),isOSX:s(nt),isLinux:s(_e),isSolaris:s(Bt),isFreeBSD:s(hn),isChromeOS:s($r)}},da={unknown:Gr,nu:nr,windows:K(Mi),ios:K(W),android:K(pe),linux:K(_e),osx:K(nt),solaris:K(Bt),freebsd:K(hn),chromeos:K($r)},Aa=function(t,r,o){var s=Bi.browsers(),v=Bi.oses(),m=r.bind(function(S){return ts(s,S)}).orThunk(function(){return vr(s,t)}).fold(Xi.unknown,Xi.nu),p=Bs(v,t).fold(da.unknown,da.nu),C=Ou(p,m,t,o);return{browser:m,os:p,deviceType:C}},$l={detect:Aa},Wo=function(t){return window.matchMedia(t).matches},sl=So(function(){return $l.detect(navigator.userAgent,_.from(navigator.userAgentData),Wo)}),On=function(){return sl()},os=function(t,r,o){return(t.compareDocumentPosition(r)&o)!=0},yf=function(t,r){return os(t,r,Node.DOCUMENT_POSITION_CONTAINED_BY)},Ar=function(t,r){var o=t.dom;if(o.nodeType!==cn)return!1;var s=o;if(s.matches!==void 0)return s.matches(r);if(s.msMatchesSelector!==void 0)return s.msMatchesSelector(r);if(s.webkitMatchesSelector!==void 0)return s.webkitMatchesSelector(r);if(s.mozMatchesSelector!==void 0)return s.mozMatchesSelector(r);throw new Error("Browser lacks native selectors")},Fc=function(t){return t.nodeType!==cn&&t.nodeType!==$e&&t.nodeType!==Lt||t.childElementCount===0},zc=function(t,r){var o=r===void 0?document:r.dom;return Fc(o)?[]:Tt(o.querySelectorAll(t),le.fromDom)},md=function(t,r){var o=r===void 0?document:r.dom;return Fc(o)?_.none():_.from(o.querySelector(t)).map(le.fromDom)},Qr=function(t,r){return t.dom===r.dom},Du=function(t,r){var o=t.dom,s=r.dom;return o===s?!1:o.contains(s)},gd=function(t,r){return yf(t.dom,r.dom)},_u=function(t,r){return On().browser.isIE()?gd(t,r):Du(t,r)},Ja=function(t){return le.fromDom(t.dom.ownerDocument)},is=function(t){return ka(t)?t:Ja(t)},Ye=function(t){return le.fromDom(is(t).dom.documentElement)},$s=function(t){return le.fromDom(is(t).dom.defaultView)},Ga=function(t){return _.from(t.dom.parentNode).map(le.fromDom)},wf=function(t){return Ga(t)},us=function(t){return _.from(t.dom.offsetParent).map(le.fromDom)},B=function(t){return _.from(t.dom.nextSibling).map(le.fromDom)},k=function(t){return Tt(t.dom.childNodes,le.fromDom)},$=function(t,r){var o=t.dom.childNodes;return _.from(o[r]).map(le.fromDom)},J=function(t){return $(t,0)},me=function(t,r){return{element:t,offset:r}},ot=function(t,r){var o=k(t);return o.length>0&&r<o.length?me(o[r],0):me(t,r)},Qt=function(t){return Eu(t)&&se(t.dom.host)},fr=Gt(Element.prototype.attachShadow)&&Gt(Node.prototype.getRootNode),ya=K(fr),xa=fr?function(t){return le.fromDom(t.dom.getRootNode())}:is,na=function(t){return Qt(t)?t:le.fromDom(is(t).dom.body)},Za=function(t){return ls(t).isSome()},ls=function(t){var r=xa(t);return Qt(r)?_.some(r):_.none()},jo=function(t){return le.fromDom(t.dom.host)},ra=function(t){if(ya()&&se(t.target)){var r=le.fromDom(t.target);if(gr(r)&&Ic(r)&&t.composed&&t.composedPath){var o=t.composedPath();if(o)return Bo(o)}}return _.from(t.target)},Ic=function(t){return se(t.dom.shadowRoot)},qa=function(t){var r=Ba(t)?t.dom.parentNode:t.dom;if(r==null||r.ownerDocument===null)return!1;var o=r.ownerDocument;return ls(le.fromDom(r)).fold(function(){return o.body.contains(r)},Wt(qa,jo))},Go=function(){return ma(le.fromDom(document))},ma=function(t){var r=t.dom.body;if(r==null)throw new Error("Body is not available yet");return le.fromDom(r)},cl=function(t,r,o){if(_t(o)||et(o)||xn(o))t.setAttribute(r,o+"");else throw console.error("Invalid call to Attribute.set. Key ",r,":: Value ",o,":: Element ",t),new Error("Attribute value was not simple")},Jn=function(t,r,o){cl(t.dom,r,o)},fl=function(t,r){var o=t.dom;ta(r,function(s,v){cl(o,v,s)})},za=function(t,r){var o=t.dom.getAttribute(r);return o===null?void 0:o},Ka=function(t,r){return _.from(za(t,r))},Lp=function(t,r){var o=t.dom;return o&&o.hasAttribute?o.hasAttribute(r):!1},bi=function(t,r){t.dom.removeAttribute(r)},Xg=function(t,r,o){if(!_t(o))throw console.error("Invalid call to CSS.set. Property ",r,":: Value ",o,":: Element ",t),new Error("CSS value must be a string: "+o);fu(t)&&t.style.setProperty(r,o)},Ns=function(t,r){fu(t)&&t.style.removeProperty(r)},In=function(t,r,o){var s=t.dom;Xg(s,r,o)},vl=function(t,r){var o=t.dom;ta(r,function(s,v){Xg(o,v,s)})},Qa=function(t,r){var o=t.dom;ta(r,function(s,v){s.fold(function(){Ns(o,v)},function(m){Xg(o,v,m)})})},eo=function(t,r){var o=t.dom,s=window.getComputedStyle(o),v=s.getPropertyValue(r);return v===""&&!qa(t)?qo(o,r):v},qo=function(t,r){return fu(t)?t.style.getPropertyValue(r):""},ko=function(t,r){var o=t.dom,s=qo(o,r);return _.from(s).filter(function(v){return v.length>0})},Cf=function(t){var r={},o=t.dom;if(fu(o))for(var s=0;s<o.style.length;s++){var v=o.style.item(s);r[v]=o.style[v]}return r},Nl=function(t,r,o){var s=le.fromTag(t);In(s,r,o);var v=ko(s,r);return v.isSome()},Vr=function(t,r){var o=t.dom;Ns(o,r),gi(Ka(t,"style").map(ii),"")&&bi(t,"style")},Da=function(t){return t.dom.offsetWidth},mu=function(t,r){var o=function(C,S){if(!xn(S)&&!S.match(/^[0-9]+$/))throw new Error(t+".set accepts only positive integer values. Value was "+S);var E=C.dom;fu(E)&&(E.style[t]=S+"px")},s=function(C){var S=r(C);if(S<=0||S===null){var E=eo(C,t);return parseFloat(E)||0}return S},v=s,m=function(C,S){return pt(S,function(E,R){var M=eo(C,R),H=M===void 0?0:parseInt(M,10);return isNaN(H)?E:E+H},0)},p=function(C,S,E){var R=m(C,E),M=S>R?S-R:0;return M};return{set:o,get:s,getOuter:v,aggregate:m,max:p}},fc=mu("height",function(t){var r=t.dom;return qa(t)?r.getBoundingClientRect().height:r.offsetHeight}),$o=function(t){return fc.get(t)},dl=function(t){return fc.getOuter(t)},Vp=function(t,r){var o=["margin-top","border-top-width","padding-top","padding-bottom","border-bottom-width","margin-bottom"],s=fc.max(t,r,o);In(t,"max-height",s+"px")},Sf=function(t,r){var o=function(s,v){return Sf(t+s,r+v)};return{left:t,top:r,translate:o}},ga=Sf,ss=function(t){var r=t.getBoundingClientRect();return ga(r.left,r.top)},Lc=function(t,r){return t!==void 0?t:r!==void 0?r:0},Ru=function(t){var r=t.dom.ownerDocument,o=r.body,s=r.defaultView,v=r.documentElement;if(o===t.dom)return ga(o.offsetLeft,o.offsetTop);var m=Lc(s==null?void 0:s.pageYOffset,v.scrollTop),p=Lc(s==null?void 0:s.pageXOffset,v.scrollLeft),C=Lc(v.clientTop,o.clientTop),S=Lc(v.clientLeft,o.clientLeft);return uo(t).translate(p-S,m-C)},uo=function(t){var r=t.dom,o=r.ownerDocument,s=o.body;return s===r?ga(s.offsetLeft,s.offsetTop):qa(t)?ss(r):ga(0,0)},Vc=mu("width",function(t){return t.dom.offsetWidth}),vc=function(t,r){return Vc.set(t,r)},Yi=function(t){return Vc.get(t)},Bu=function(t){return Vc.getOuter(t)},Pi=function(t,r){var o=["margin-left","border-left-width","padding-left","padding-right","border-right-width","margin-right"],s=Vc.max(t,r,o);In(t,"max-width",s+"px")},cv=function(t,r,o,s,v,m,p){return{target:t,x:r,y:o,stop:s,prevent:v,kill:m,raw:p}},cs=function(t){var r=le.fromDom(ra(t).getOr(t.target)),o=function(){return t.stopPropagation()},s=function(){return t.preventDefault()},v=Ue(s,o);return cv(r,t.clientX,t.clientY,o,s,v,t)},Ko=function(t,r){return function(o){t(o)&&r(cs(o))}},hd=function(t,r,o,s,v){var m=Ko(o,s);return t.dom.addEventListener(r,m,v),{unbind:Ht(xf,t,r,m,v)}},Hp=function(t,r,o,s){return hd(t,r,o,s,!1)},kf=function(t,r,o,s){return hd(t,r,o,s,!0)},xf=function(t,r,o,s){t.dom.removeEventListener(r,o,s)},lo=function(t,r){var o=Ga(t);o.each(function(s){s.dom.insertBefore(r.dom,t.dom)})},Tf=function(t,r){var o=B(t);o.fold(function(){var s=Ga(t);s.each(function(v){Ji(v,r)})},function(s){lo(s,r)})},Ef=function(t,r){var o=J(t);o.fold(function(){Ji(t,r)},function(s){t.dom.insertBefore(r.dom,s.dom)})},Ji=function(t,r){t.dom.appendChild(r.dom)},dc=function(t,r,o){$(t,o).fold(function(){Ji(t,r)},function(s){lo(s,r)})},Of=function(t,r){Ie(r,function(o){lo(t,o)})},mc=function(t,r){Ie(r,function(o){Ji(t,o)})},La=function(t){t.dom.textContent="",Ie(k(t),function(r){qu(r)})},qu=function(t){var r=t.dom;r.parentNode!==null&&r.parentNode.removeChild(r)},Dm=function(t){var r=k(t);r.length>0&&Of(t,r),qu(t)},ml=function(t){var r=t!==void 0?t.dom:document,o=r.body.scrollLeft||r.documentElement.scrollLeft,s=r.body.scrollTop||r.documentElement.scrollTop;return ga(o,s)},_m=function(t,r,o){var s=o!==void 0?o.dom:document,v=s.defaultView;v&&v.scrollTo(t,r)},Up=function(t){var r=t===void 0?window:t;return On().browser.isFirefox()?_.none():_.from(r.visualViewport)},Yg=function(t,r,o,s){return{x:t,y:r,width:o,height:s,right:t+o,bottom:r+s}},Af=function(t){var r=t===void 0?window:t,o=r.document,s=ml(le.fromDom(o));return Up(r).fold(function(){var v=r.document.documentElement,m=v.clientWidth,p=v.clientHeight;return Yg(s.left,s.top,m,p)},function(v){return Yg(Math.max(v.pageLeft,s.left),Math.max(v.pageTop,s.top),v.width,v.height)})},Df=function(t,r){var o=t.view(r);return o.fold(K([]),function(s){var v=t.owner(s),m=Df(t,v);return[s].concat(m)})},Hc=function(t,r){var o=r.owner(t),s=Df(r,o);return _.some(s)},Wn=function(t){var r,o=t.dom===document?_.none():_.from((r=t.dom.defaultView)===null||r===void 0?void 0:r.frameElement);return o.map(le.fromDom)},Fl=function(t){return Ja(t)},Mu=Object.freeze({__proto__:null,view:Wn,owner:Fl}),Zi=function(t){var r=le.fromDom(document),o=ml(r),s=Hc(t,Mu);return s.fold(Ht(Ru,t),function(v){var m=uo(t),p=Qe(v,function(C,S){var E=uo(S);return{left:C.left+E.left,top:C.top+E.top}},{left:0,top:0});return ga(p.left+m.left+o.left,p.top+m.top+o.top)})},zl=function(t,r,o){return{point:t,width:r,height:o}},mo=function(t,r,o,s){return{x:t,y:r,width:o,height:s}},Xo=function(t,r,o,s){return{x:t,y:r,width:o,height:s,right:t+o,bottom:r+s}},xo=function(t){var r=Ru(t),o=Bu(t),s=dl(t);return Xo(r.left,r.top,o,s)},Uc=function(t){var r=Zi(t),o=Bu(t),s=dl(t);return Xo(r.left,r.top,o,s)},$i=function(){return Af(window)},on=function(t){var r=function(M){return on(t)},o=function(M){return on(t)},s=function(M){return on(M(t))},v=function(M){return on(t)},m=function(M){M(t)},p=function(M){return M(t)},C=function(M,H){return H(t)},S=function(M){return M(t)},E=function(M){return M(t)},R=function(){return _.some(t)};return{isValue:st,isError:Zt,getOr:K(t),getOrThunk:K(t),getOrDie:K(t),or:r,orThunk:o,fold:C,map:s,mapError:v,each:m,bind:p,exists:S,forall:E,toOptional:R}},_f=function(t){var r=function(E){return E()},o=function(){return Nt(String(t))()},s=dt,v=function(E){return E()},m=function(E){return _f(t)},p=function(E){return _f(E(t))},C=function(E){return _f(t)},S=function(E,R){return E(t)};return{isValue:Zt,isError:st,getOr:dt,getOrThunk:r,getOrDie:o,or:s,orThunk:v,fold:S,map:m,mapError:p,each:ge,bind:C,exists:Zt,forall:st,toOptional:_.none}},Jg=function(t,r){return t.fold(function(){return _f(r)},on)},rr={value:on,error:_f,fromOption:Jg},ha;(function(t){t[t.Error=0]="Error",t[t.Value=1]="Value"})(ha||(ha={}));var Rm=function(t,r,o){return t.stype===ha.Error?r(t.serror):o(t.svalue)},Fs=function(t){var r=[],o=[];return Ie(t,function(s){Rm(s,function(v){return o.push(v)},function(v){return r.push(v)})}),{values:r,errors:o}},Ia=function(t,r){return t.stype===ha.Error?{stype:ha.Error,serror:r(t.serror)}:t},Bm=function(t,r){return t.stype===ha.Value?{stype:ha.Value,svalue:r(t.svalue)}:t},Ku=function(t,r){return t.stype===ha.Value?r(t.svalue):t},pd=function(t,r){return t.stype===ha.Error?r(t.serror):t},or=function(t){return{stype:ha.Value,svalue:t}},gu=function(t){return{stype:ha.Error,serror:t}},v0=function(t){return Rm(t,rr.error,rr.value)},d0=function(t){return t.fold(gu,or)},Va={fromResult:d0,toResult:v0,svalue:or,partition:Fs,serror:gu,bind:Ku,bindError:pd,map:Bm,mapError:Ia,fold:Rm},Mm=function(t,r,o,s){return{tag:"field",key:t,newKey:r,presence:o,prop:s}},O=function(t,r){return{tag:"custom",newKey:t,instantiator:r}},z=function(t,r,o){switch(t.tag){case"field":return r(t.key,t.newKey,t.presence,t.prop);case"custom":return o(t.newKey,t.instantiator)}},U=function(t,r){return r},ie=function(t,r){var o=ut(t)&&ut(r);return o?Je(t,r):r},Ae=function(t){return function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];if(r.length===0)throw new Error("Can't merge zero objects");for(var s={},v=0;v<r.length;v++){var m=r[v];for(var p in m)Cr(m,p)&&(s[p]=t(s[p],m[p]))}return s}},Je=Ae(ie),pn=Ae(U),qn=function(){return{tag:"required",process:{}}},pr=function(t){return{tag:"defaultedThunk",process:t}},ir=function(t){return pr(K(t))},wa=function(){return{tag:"option",process:{}}},Ni=function(t){return{tag:"mergeWithThunk",process:t}},to=function(t){return Ni(K(t))},Ux=function(t,r){return t.length>0?Va.svalue(Je(r,pn.apply(void 0,t))):Va.svalue(r)},Aw=function(t){return Ue(Va.serror,nn)(t)},Dw=function(t,r){var o=Va.partition(t);return o.errors.length>0?Aw(o.errors):Ux(o.values,r)},Wx=function(t){var r=Va.partition(t);return r.errors.length>0?Aw(r.errors):Va.svalue(r.values)},gc={consolidateObj:Dw,consolidateArr:Wx},Zg=function(t){return ut(t)&&Xr(t).length>100?" removed due to size":JSON.stringify(t,null,2)},Xu=function(t){var r=t.length>10?t.slice(0,10).concat([{path:[],getErrorInfo:K("... (only showing first ten failures)")}]):t;return Tt(r,function(o){return"Failed path: ("+o.path.join(" > ")+`)
`+o.getErrorInfo()})},Pm=function(t,r){return Va.serror([{path:t,getErrorInfo:r}])},m0=function(t,r,o){return Pm(t,function(){return'Could not find valid *required* value for "'+r+'" in '+Zg(o)})},Qg=function(t,r){return Pm(t,function(){return'Choice schema did not contain choice key: "'+r+'"'})},Wp=function(t,r,o){return Pm(t,function(){return'The chosen schema: "'+o+'" did not exist in branches: '+Zg(r)})},_w=function(t,r){return Pm(t,function(){return"There are unsupported fields: ["+r.join(", ")+"] specified"})},jx=function(t,r){return Pm(t,K(r))},hc=function(t){var r=function(s,v){return Va.bindError(t(v),function(m){return jx(s,m)})},o=K("val");return{extract:r,toString:o}},eh=hc(Va.svalue),Gx=function(t,r,o,s){return bn(r,o).fold(function(){return m0(t,o,r)},s)},g0=function(t,r,o,s){var v=bn(t,r).getOrThunk(function(){return o(t)});return s(v)},qx=function(t,r,o){return o(bn(t,r))},Kx=function(t,r,o,s){var v=bn(t,r).map(function(m){return m===!0?o(t):m});return s(v)},$m=function(t,r,o,s,v){var m=function(C){return v.extract(r.concat([s]),C)},p=function(C){return C.fold(function(){return Va.svalue(_.none())},function(S){var E=v.extract(r.concat([s]),S);return Va.map(E,_.some)})};switch(t.tag){case"required":return Gx(r,o,s,m);case"defaultedThunk":return g0(o,s,t.process,m);case"option":return qx(o,s,p);case"defaultedOptionThunk":return Kx(o,s,t.process,p);case"mergeWithThunk":return g0(o,s,K({}),function(C){var S=Je(t.process(o),C);return m(S)})}},th=function(t,r,o){for(var s={},v=[],m=0,p=o;m<p.length;m++){var C=p[m];z(C,function(S,E,R,M){var H=$m(R,t,r,S,M);Va.fold(H,function(G){v.push.apply(v,G)},function(G){s[E]=G})},function(S,E){s[S]=E(r)})}return v.length>0?Va.serror(v):Va.svalue(s)},Rw=function(t){var r=function(s,v){return t().extract(s,v)},o=function(){return t().toString()};return{extract:r,toString:o}},Bw=function(t){return Xr(hr(t,se))},gl=function(t){var r=kn(t),o=Qe(t,function(v,m){return z(m,function(p){var C;return Je(v,(C={},C[p]=!0,C))},K(v))},{}),s=function(v,m){var p=et(m)?[]:Bw(m),C=Re(p,function(S){return!Sa(o,S)});return C.length===0?r.extract(v,m):_w(v,C)};return{extract:s,toString:r.toString}},kn=function(t){var r=function(s,v){return th(s,v,t)},o=function(){var s=Tt(t,function(v){return z(v,function(m,p,C,S){return m+" -> "+S.toString()},function(m,p){return"state("+m+")"})});return`obj{
`+s.join(`
`)+"}"};return{extract:r,toString:o}},Rf=function(t){var r=function(s,v){var m=Tt(v,function(p,C){return t.extract(s.concat(["["+C+"]"]),p)});return gc.consolidateArr(m)},o=function(){return"array("+t.toString()+")"};return{extract:r,toString:o}},nh=function(t){var r=function(s,v){for(var m=[],p=0,C=t;p<C.length;p++){var S=C[p],E=S.extract(s,v);if(E.stype===ha.Value)return E;m.push(E)}return gc.consolidateArr(m)},o=function(){return"oneOf("+Tt(t,function(s){return s.toString()}).join(", ")+")"};return{extract:r,toString:o}},fv=function(t,r){var o=function(m,p){return Rf(hc(t)).extract(m,p)},s=function(m,p){var C=Xr(p),S=o(m,C);return Va.bind(S,function(E){var R=Tt(E,function(M){return Mm(M,M,qn(),r)});return kn(R).extract(m,p)})},v=function(){return"setOf("+r.toString()+")"};return{extract:s,toString:v}},Nm=function(t,r){var o=So(r),s=function(m,p){return o().extract(m,p)},v=function(){return o().toString()};return{extract:s,toString:v}},h0=Ue(Rf,kn),zs=K(eh),bd=function(t,r){return hc(function(o){var s=typeof o;return t(o)?Va.svalue(o):Va.serror("Expected type: "+r+" but got: "+s)})},Fm=bd(xn,"number"),go=bd(_t,"string"),yi=bd(et,"boolean"),rh=bd(Gt,"function"),Wc=function(t){if(Object(t)!==t)return!0;switch({}.toString.call(t).slice(8,-1)){case"Boolean":case"Number":case"String":case"Date":case"RegExp":case"Blob":case"FileList":case"ImageData":case"ImageBitmap":case"ArrayBuffer":return!0;case"Array":case"Object":return Object.keys(t).every(function(r){return Wc(t[r])});default:return!1}},ah=hc(function(t){return Wc(t)?Va.svalue(t):Va.serror("Expected value to be acceptable for sending via postMessage")}),jp=function(t,r,o,s){var v=bn(o,s);return v.fold(function(){return Wp(t,o,s)},function(m){return m.extract(t.concat(["branch: "+s]),r)})},Gp=function(t,r){var o=function(v,m){var p=bn(m,t);return p.fold(function(){return Qg(v,t)},function(C){return jp(v,m,r,C)})},s=function(){return"chooseOn("+t+"). Possible values: "+Xr(r)};return{extract:o,toString:s}},Xx=function(){return Rf(eh)},zm=function(t){return hc(function(r){return t(r).fold(Va.serror,Va.svalue)})},Qi=function(t,r){return fv(function(o){return Va.fromResult(t(o))},r)},Mw=function(t,r,o){var s=r.extract([t],o);return Va.mapError(s,function(v){return{input:o,errors:v}})},Xa=function(t,r,o){return Va.toResult(Mw(t,r,o))},Is=function(t){return t.fold(function(r){throw new Error(vv(r))},dt)},Yr=function(t,r,o){return Is(Xa(t,r,o))},vv=function(t){return`Errors: 
`+Xu(t.errors).join(`
`)+`

Input object: `+Zg(t.input)},fs=function(t,r){return Gp(t,Lr(r,kn))},Yx=function(t,r){return Nm(t,r)},Yo=Mm,Pu=O,Pw=function(t){return zm(function(r){return er(t,r)?rr.value(r):rr.error('Unsupported value: "'+r+'", choose one of "'+t.join(", ")+'".')})},it=function(t){return Yo(t,t,qn(),zs())},Yu=function(t,r){return Yo(t,t,qn(),r)},Bf=function(t){return Yu(t,Fm)},jn=function(t){return Yu(t,go)},Il=function(t,r){return Yo(t,t,qn(),Pw(r))},Jx=function(t){return Yu(t,yi)},hu=function(t){return Yu(t,rh)},Im=function(t,r){return Yo(t,t,wa(),hc(function(o){return Va.serror("The field: "+t+" is forbidden. "+r)}))},jc=function(t,r){return Yo(t,t,qn(),kn(r))},Ls=function(t,r){return Yo(t,t,qn(),h0(r))},eu=function(t,r){return Yo(t,t,qn(),Rf(r))},Hr=function(t){return Yo(t,t,wa(),zs())},pc=function(t,r){return Yo(t,t,wa(),r)},yd=function(t){return pc(t,Fm)},Ta=function(t){return pc(t,go)},dv=function(t){return pc(t,rh)},hl=function(t,r){return pc(t,Rf(r))},pl=function(t,r){return pc(t,kn(r))},Zx=function(t,r){return pc(t,gl(r))},ke=function(t,r){return Yo(t,t,ir(r),zs())},$u=function(t,r,o){return Yo(t,t,ir(r),o)},bc=function(t,r){return $u(t,r,Fm)},Lm=function(t,r){return $u(t,r,go)},Ll=function(t,r,o){return $u(t,r,Pw(o))},pa=function(t,r){return $u(t,r,yi)},Ea=function(t,r){return $u(t,r,rh)},Ju=function(t,r){return $u(t,r,ah)},Mf=function(t,r,o){return $u(t,r,Rf(o))},p0=function(t,r,o){return $u(t,r,kn(o))},Dn=function(t){var r=t,o=function(){return r},s=function(v){r=v};return{get:o,set:s}},qp=function(t){if(!Fe(t))throw new Error("cases must be an array");if(t.length===0)throw new Error("there must be at least one case");var r=[],o={};return Ie(t,function(s,v){var m=Xr(s);if(m.length!==1)throw new Error("one and only one name per case");var p=m[0],C=s[p];if(o[p]!==void 0)throw new Error("duplicate key detected:"+p);if(p==="cata")throw new Error("cannot have a case named cata (sorry)");if(!Fe(C))throw new Error("case arguments must be an array");r.push(p),o[p]=function(){for(var S=[],E=0;E<arguments.length;E++)S[E]=arguments[E];var R=S.length;if(R!==C.length)throw new Error("Wrong number of arguments to case "+p+". Expected "+C.length+" ("+C+"), got "+R);var M=function(H){var G=Xr(H);if(r.length!==G.length)throw new Error("Wrong number of arguments to match. Expected: "+r.join(",")+`
Actual: `+G.join(","));var Z=wr(r,function(ue){return er(G,ue)});if(!Z)throw new Error("Not all branches were specified when using match. Specified: "+G.join(", ")+`
Required: `+r.join(", "));return H[p].apply(null,S)};return{fold:function(){for(var H=[],G=0;G<arguments.length;G++)H[G]=arguments[G];if(H.length!==t.length)throw new Error("Wrong number of arguments to fold. Expected "+t.length+", got "+H.length);var Z=H[v];return Z.apply(null,S)},match:M,log:function(H){console.log(H,{constructors:r,constructor:p,params:S})}}}}),o},Vl={generate:qp};Vl.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);var $w=function(t){var r=[],o=[];return Ie(t,function(s){s.fold(function(v){r.push(v)},function(v){o.push(v)})}),{errors:r,values:o}},oh=function(t,r){var o={};return ta(t,function(s,v){er(r,v)||(o[v]=s)}),o},ih=function(t,r){var o;return o={},o[t]=r,o},b0=function(t){var r={};return Ie(t,function(o){r[o.key]=o.value}),r},y0=function(t,r){return oh(t,r)},Gc=function(t,r){return ih(t,r)},Pf=function(t){return b0(t)},Qx=function(t,r){return t.length===0?rr.value(r):rr.value(Je(r,pn.apply(void 0,t)))},w0=function(t){return rr.error(nn(t))},eT=function(t,r){var o=$w(t);return o.errors.length>0?w0(o.errors):Qx(o.values,r)},Nw=function(t){return Gt(t)?t:Zt},uh=function(t,r,o){for(var s=t.dom,v=Nw(o);s.parentNode;){s=s.parentNode;var m=le.fromDom(s),p=r(m);if(p.isSome())return p;if(v(m))break}return _.none()},Vm=function(t,r,o){var s=r(t),v=Nw(o);return s.orThunk(function(){return v(t)?_.none():uh(t,r,v)})},Fw=function(t,r){return Qr(t.element,r.event.target)},qc={can:st,abort:Zt,run:ge},Hm=function(t){if(!Sa(t,"can")&&!Sa(t,"abort")&&!Sa(t,"run"))throw new Error("EventHandler defined by: "+JSON.stringify(t,null,2)+" does not have can, abort, or run!");return ve(ve({},qc),t)},C0=function(t,r){return function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return pt(t,function(v,m){return v&&r(m).apply(void 0,o)},!0)}},zw=function(t,r){return function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return pt(t,function(v,m){return v||r(m).apply(void 0,o)},!1)}},tT=function(t){return Gt(t)?{can:st,abort:Zt,run:t}:t},nT=function(t){var r=C0(t,function(v){return v.can}),o=zw(t,function(v){return v.abort}),s=function(){for(var v=[],m=0;m<arguments.length;m++)v[m]=arguments[m];Ie(t,function(p){p.run.apply(void 0,v)})};return{can:r,abort:o,run:s}},No=K,Kc=No("touchstart"),Vs=No("touchmove"),mv=No("touchend"),Iw=No("touchcancel"),Hs=No("mousedown"),wd=No("mousemove"),S0=No("mouseout"),k0=No("mouseup"),$f=No("mouseover"),vs=No("focusin"),Fi=No("focusout"),Kp=No("keydown"),x0=No("keyup"),Cd=No("input"),Um=No("change"),Wm=No("click"),rT=No("transitioncancel"),jm=No("transitionend"),T0=No("transitionstart"),aT=No("selectstart"),no=function(t){return K("alloy."+t)},Xp={tap:no("tap")},gv=no("focus"),E0=no("blur.post"),O0=no("paste.post"),ds=no("receive"),Hl=no("execute"),Sd=no("focus.item"),hv=Xp.tap,Yp=no("longpress"),lh=no("sandbox.close"),A0=no("typeahead.cancel"),kd=no("system.init"),Jp=no("system.touchmove"),oT=no("system.touchend"),D0=no("system.scroll"),Ul=no("system.resize"),bl=no("system.attached"),Gm=no("system.detached"),Us=no("system.dismissRequested"),pu=no("system.repositionRequested"),Zp=no("focusmanager.shifted"),Nf=no("slotcontainer.visibility"),Lw=no("change.tab"),zi=no("dismiss.tab"),Vw=no("highlight"),sh=no("dehighlight"),dr=function(t,r){Ws(t,t.element,r,{})},Rn=function(t,r,o){Ws(t,t.element,r,o)},Ff=function(t){dr(t,Hl())},_0=function(t,r,o){Ws(t,r,o,{})},Ws=function(t,r,o,s){var v=ve({target:r},s);t.getSystem().triggerEvent(o,r,v)},Hw=function(t,r,o,s){t.getSystem().triggerEvent(o,r,s.event)},Oa=function(t){return Pf(t)},R0=function(t,r){return{key:t,value:Hm({abort:r})}},ch=function(t,r){return{key:t,value:Hm({can:r})}},Qp=function(t){return{key:t,value:Hm({run:function(r,o){o.event.prevent()}})}},ft=function(t,r){return{key:t,value:Hm({run:r})}},fh=function(t,r,o){return{key:t,value:Hm({run:function(s,v){r.apply(void 0,[s,v].concat(o))}})}},qm=function(t){return function(r){return ft(t,r)}},Km=function(t){return function(r){return{key:t,value:Hm({run:function(o,s){Fw(o,s)&&r(o,s)}})}}},xd=function(t,r){return ft(t,function(o,s){o.getSystem().getByUid(r).each(function(v){Hw(v,v.element,t,s)})})},Td=function(t,r,o){var s=r.partUids[o];return xd(t,s)},pv=function(t,r){return ft(t,function(o,s){var v=s.event,m=o.getSystem().getByDom(v.target).getOrThunk(function(){var p=Vm(v.target,function(C){return o.getSystem().getByDom(C).toOptional()},Zt);return p.getOr(o)});r(o,m,s)})},ho=function(t){return ft(t,function(r,o){o.cut()})},$a=function(t){return ft(t,function(r,o){o.stop()})},zf=function(t,r){return Km(t)(r)},Ha=Km(bl()),yl=Km(Gm()),B0=Km(kd()),js=qm(Hl()),e1=function(t,r){var o=r||document,s=o.createElement("div");return s.innerHTML=t,k(le.fromDom(s))},Zu=function(t){return t.dom.innerHTML},yc=function(t,r){var o=Ja(t),s=o.dom,v=le.fromDom(s.createDocumentFragment()),m=e1(r,s);mc(v,m),La(t),Ji(t,v)},If=function(t){var r=le.fromTag("div"),o=le.fromDom(t.dom.cloneNode(!0));return Ji(r,o),Zu(r)},wi=function(t,r){return le.fromDom(t.dom.cloneNode(r))},t1=function(t){return wi(t,!1)},tu=function(t){if(Qt(t))return"#shadow-root";var r=t1(t);return If(r)},Ci=function(t){return tu(t)},Xm=function(t,r,o){return Qr(r,t.element)&&!Qr(r,o)},iT=Oa([ch(gv(),function(t,r){var o=r.event,s=o.originator,v=o.target;return Xm(t,s,v)?(console.warn(gv()+` did not get interpreted by the desired target. 
Originator: `+Ci(s)+`
Target: `+Ci(v)+`
Check the `+gv()+" event handlers"),!1):!0})]),vh=Object.freeze({__proto__:null,events:iT}),Fo=0,un=function(t){var r=new Date,o=r.getTime(),s=Math.floor(Math.random()*1e9);return Fo++,t+"_"+s+Fo+String(o)},ms=K("alloy-id-"),uT=K("data-alloy-id"),Uw=ms(),Ym=uT(),Ww=function(t,r){var o=un(Uw+t);return dh(r,o),o},dh=function(t,r){Object.defineProperty(t.dom,Ym,{value:r,writable:!0})},Xc=function(t){var r=gr(t)?t.dom[Ym]:null;return _.from(r)},Ed=function(t){return un(t)},M0=dt,wc=function(t){var r=function(v){return"The component must be in a context to execute: "+v+(t?`
`+Ci(t().element)+" is not in context.":"")},o=function(v){return function(){throw new Error(r(v))}},s=function(v){return function(){console.warn(r(v))}};return{debugInfo:K("fake"),triggerEvent:s("triggerEvent"),triggerFocus:s("triggerFocus"),triggerEscape:s("triggerEscape"),broadcast:s("broadcast"),broadcastOn:s("broadcastOn"),broadcastEvent:s("broadcastEvent"),build:o("build"),addToWorld:o("addToWorld"),removeFromWorld:o("removeFromWorld"),addToGui:o("addToGui"),removeFromGui:o("removeFromGui"),getByUid:o("getByUid"),getByDom:o("getByDom"),isConnected:Zt}},lT=wc(),Od=function(t,r,o){var s=o.toString(),v=s.indexOf(")")+1,m=s.indexOf("("),p=s.substring(m+1,v-1).split(/,\s*/);return t.toFunctionAnnotation=function(){return{name:r,parameters:Yc(p.slice(0,1).concat(p.slice(3)))}},t},Yc=function(t){return Tt(t,function(r){return Sn(r,"/*")?r.substring(0,r.length-"/*".length):r})},bv=function(t,r){var o=t.toString(),s=o.indexOf(")")+1,v=o.indexOf("("),m=o.substring(v+1,s-1).split(/,\s*/);return t.toFunctionAnnotation=function(){return{name:r,parameters:Yc(m)}},t},Ad=function(t,r){var o=r.toString(),s=o.indexOf(")")+1,v=o.indexOf("("),m=o.substring(v+1,s-1).split(/,\s*/);return t.toFunctionAnnotation=function(){return{name:"OVERRIDE",parameters:Yc(m.slice(1))}},t},jw=un("alloy-premade"),To=function(t){return Gc(jw,t)},yv=function(t){return bn(t,jw)},Dd=function(t){return Ad(function(r){for(var o=[],s=1;s<arguments.length;s++)o[s-1]=arguments[s];return t.apply(void 0,En([r.getApis(),r],o,!1))},t)},wl={init:function(){return Si({readState:K("No State required")})}},Si=function(t){return t},sT=function(t,r){var o=Tt(r,function(v){return pl(v.name(),[it("config"),ke("state",wl)])}),s=Xa("component.behaviours",kn(o),t.behaviours).fold(function(v){throw new Error(vv(v)+`
Complete spec:
`+JSON.stringify(t,null,2))},dt);return{list:r,data:Lr(s,function(v){var m=v.map(function(p){return{config:p.config,state:p.state.init(p.config)}});return K(m)})}},cT=function(t){return t.list},fT=function(t){return t.data},Gw=function(t,r){var o={};return ta(t,function(s,v){ta(s,function(m,p){var C=bn(o,p).getOr([]);o[p]=C.concat([r(v,m)])})}),o},Gs=function(t){return{classes:Me(t.classes)?[]:t.classes,attributes:Me(t.attributes)?{}:t.attributes,styles:Me(t.styles)?{}:t.styles}},n1=function(t,r){return ve(ve({},t),{attributes:ve(ve({},t.attributes),r.attributes),styles:ve(ve({},t.styles),r.styles),classes:t.classes.concat(r.classes)})},Jm=function(t,r,o,s){var v=ve({},r);Ie(o,function(R){v[R.name()]=R.exhibit(t,s)});var m=Gw(v,function(R,M){return{name:R,modification:M}}),p=function(R){return Qe(R,function(M,H){return ve(ve({},H.modification),M)},{})},C=Qe(m.classes,function(R,M){return M.modification.concat(R)},[]),S=p(m.attributes),E=p(m.styles);return Gs({classes:C,attributes:S,styles:E})},vT=function(t,r,o,s){try{var v=uu(o,function(m,p){var C=m[r],S=p[r],E=s.indexOf(C),R=s.indexOf(S);if(E===-1)throw new Error("The ordering for "+t+" does not have an entry for "+C+`.
Order specified: `+JSON.stringify(s,null,2));if(R===-1)throw new Error("The ordering for "+t+" does not have an entry for "+S+`.
Order specified: `+JSON.stringify(s,null,2));return E<R?-1:R<E?1:0});return rr.value(v)}catch(m){return rr.error([m])}},P0=function(t,r){return{handler:t,purpose:r}},qw=function(t,r){return{cHandler:t,purpose:r}},$0=function(t,r){return qw(Ht.apply(void 0,[t.handler].concat(r)),t.purpose)},N0=function(t){return t.cHandler},wv=function(t,r){return{name:t,handler:r}},Cv=function(t,r){var o={};return Ie(t,function(s){o[s.name()]=s.handlers(r)}),o},Ca=function(t,r,o){var s=ve(ve({},o),Cv(r,t));return Gw(s,wv)},F0=function(t,r,o,s){var v=Ca(t,o,s);return mT(v,r)},gs=function(t){var r=tT(t);return function(o,s){for(var v=[],m=2;m<arguments.length;m++)v[m-2]=arguments[m];var p=[o,s].concat(v);r.abort.apply(void 0,p)?s.stop():r.can.apply(void 0,p)&&r.run.apply(void 0,p)}},z0=function(t,r){return rr.error(["The event ("+t+`) has more than one behaviour that listens to it.
When this occurs, you must specify an event ordering for the behaviours in your spec (e.g. [ "listing", "toggling" ]).
The behaviours that can trigger it are: `+JSON.stringify(Tt(r,function(o){return o.name}),null,2)])},dT=function(t,r,o){var s=r[o];return s?vT("Event: "+o,"name",t,s).map(function(v){var m=Tt(v,function(p){return p.handler});return nT(m)}):z0(o,t)},mT=function(t,r){var o=Co(t,function(s,v){var m=s.length===1?rr.value(s[0].handler):dT(s,r,v);return m.map(function(p){var C=gs(p),S=s.length>1?Re(r[v],function(E){return ua(s,function(R){return R.name===E})}).join(" > "):s[0].name;return Gc(v,P0(C,S))})});return eT(o,{})},Nu,qs="alloy.base.behaviour",I0=kn([Yo("dom","dom",qn(),kn([it("tag"),ke("styles",{}),ke("classes",[]),ke("attributes",{}),Hr("value"),Hr("innerHtml")])),it("components"),it("uid"),ke("events",{}),ke("apis",{}),Yo("eventOrder","eventOrder",to((Nu={},Nu[Hl()]=["disabling",qs,"toggling","typeaheadevents"],Nu[gv()]=[qs,"focusing","keying"],Nu[kd()]=[qs,"disabling","toggling","representing"],Nu[Cd()]=[qs,"representing","streaming","invalidating"],Nu[Gm()]=[qs,"representing","item-events","tooltipping"],Nu[Hs()]=["focusing",qs,"item-type-events"],Nu[Kc()]=["focusing",qs,"item-type-events"],Nu[$f()]=["item-type-events","tooltipping"],Nu[ds()]=["receiving","reflecting","tooltipping"],Nu)),zs()),Hr("domModification")]),mh=function(t){return Xa("custom.definition",I0,t)},Zm=function(t){return ve(ve({},t.dom),{uid:t.uid,domChildren:Tt(t.components,function(r){return r.element})})},L0=function(t){return t.domModification.fold(function(){return Gs({})},Gs)},Kw=function(t){return t.events},Sv=function(t,r){var o=za(t,r);return o===void 0||o===""?[]:o.split(" ")},V0=function(t,r,o){var s=Sv(t,r),v=s.concat([o]);return Jn(t,r,v.join(" ")),!0},H0=function(t,r,o){var s=Re(Sv(t,r),function(v){return v!==o});return s.length>0?Jn(t,r,s.join(" ")):bi(t,r),!1},r1=function(t){return t.dom.classList!==void 0},a1=function(t){return Sv(t,"class")},_d=function(t,r){return V0(t,"class",r)},Xw=function(t,r){return H0(t,"class",r)},ki=function(t,r){r1(t)?t.dom.classList.add(r):_d(t,r)},Cc=function(t){var r=r1(t)?t.dom.classList:a1(t);r.length===0&&bi(t,"class")},zo=function(t,r){if(r1(t)){var o=t.dom.classList;o.remove(r)}else Xw(t,r);Cc(t)},Fu=function(t,r){return r1(t)&&t.dom.classList.contains(r)},Lf=function(t,r){Ie(r,function(o){ki(t,o)})},Jc=function(t,r){Ie(r,function(o){zo(t,o)})},U0=function(t,r){return wr(r,function(o){return Fu(t,o)})},Cl=function(t){return t.dom.value},Qm=function(t,r){if(r===void 0)throw new Error("Value.set was undefined");t.dom.value=r},Yw=function(t){var r=le.fromTag(t.tag);fl(r,t.attributes),Lf(r,t.classes),vl(r,t.styles),t.innerHtml.each(function(s){return yc(r,s)});var o=t.domChildren;if(mc(r,o),t.value.each(function(s){Qm(r,s)}),!t.uid)debugger;return dh(r,t.uid),r},gT=function(t){var r=bn(t,"behaviours").getOr({});return Ln(Xr(r),function(o){var s=r[o];return se(s)?[s.me]:[]})},hT=function(t,r){return sT(t,r)},pT=function(t){var r=gT(t);return hT(t,r)},bT=function(t,r,o){var s=Zm(t),v=L0(t),m={"alloy.base.modification":v},p=r.length>0?Jm(o,m,r,s):v;return n1(s,p)},W0=function(t,r,o){var s={"alloy.base.behaviour":Kw(t)};return F0(o,t.eventOrder,r,s).getOrDie()},o1=function(t){var r=function(){return xe},o=Dn(lT),s=Is(mh(t)),v=pT(t),m=cT(v),p=fT(v),C=bT(s,m,p),S=Yw(C),E=W0(s,m,p),R=Dn(s.components),M=function(Ge){o.set(Ge)},H=function(){o.set(wc(r))},G=function(){var Ge=k(S),Ze=Ln(Ge,function(Se){return o.get().getByDom(Se).fold(function(){return[]},Rl)});R.set(Ze)},Z=function(Ge){var Ze=p,Se=Gt(Ze[Ge.name()])?Ze[Ge.name()]:function(){throw new Error("Could not find "+Ge.name()+" in "+JSON.stringify(t,null,2))};return Se()},ue=function(Ge){return Gt(p[Ge.name()])},Ce=function(){return s.apis},ae=function(Ge){return p[Ge]().map(function(Ze){return Ze.state.readState()}).getOr("not enabled")},xe={uid:t.uid,getSystem:o.get,config:Z,hasConfigured:ue,spec:t,readState:ae,getApis:Ce,connect:M,disconnect:H,element:S,syncComponents:G,components:R.get,events:E};return xe},Wl=function(t){var r=bn(t,"components").getOr([]);return Tt(r,Eo)},Jw=function(t){var r=M0(t),o=r.events,s=Q(r,["events"]),v=Wl(s),m=ve(ve({},s),{events:ve(ve({},vh),o),components:v});return rr.value(o1(m))},kv=function(t){var r=le.fromText(t);return gh({element:r})},gh=function(t){var r=Yr("external.component",gl([it("element"),Hr("uid")]),t),o=Dn(wc()),s=function(C){o.set(C)},v=function(){o.set(wc(function(){return p}))},m=r.uid.getOrThunk(function(){return Ed("external")});dh(r.element,m);var p={uid:m,getSystem:o.get,config:_.none,hasConfigured:Zt,connect:s,disconnect:v,getApis:function(){return{}},element:r.element,spec:t,readState:K("No state"),syncComponents:ge,components:K([]),events:{}};return To(p)},Sc=Ed,hs=function(t){return Cr(t,"uid")},Eo=function(t){return yv(t).getOrThunk(function(){var r=hs(t)?t:ve({uid:Sc("")},t);return Jw(r).getOrDie()})},jl=To;function xv(t,r,o,s,v){return t(o,s)?_.some(o):Gt(v)&&v(o)?_.none():r(o,s,v)}var j0=function(t,r,o){for(var s=t.dom,v=Gt(o)?o:Zt;s.parentNode;){s=s.parentNode;var m=le.fromDom(s);if(r(m))return _.some(m);if(v(m))break}return _.none()},Zn=function(t,r,o){var s=function(v,m){return m(v)};return xv(s,j0,t,r,o)},hh=function(t,r){var o=function(v){return r(le.fromDom(v))},s=mn(t.dom.childNodes,o);return s.map(le.fromDom)},yT=function(t,r){var o=function(s){for(var v=0;v<s.childNodes.length;v++){var m=le.fromDom(s.childNodes[v]);if(r(m))return _.some(m);var p=o(s.childNodes[v]);if(p.isSome())return p}return _.none()};return o(t.dom)},i1=function(t,r,o){return Zn(t,r,o).isSome()},u1=function(t,r,o){return j0(t,function(s){return Ar(s,r)},o)},wT=function(t,r){return hh(t,function(o){return Ar(o,r)})},Io=function(t,r){return md(r,t)},bu=function(t,r,o){var s=function(v,m){return Ar(v,m)};return xv(s,u1,t,r,o)},Na=function(t){var r=Zn(t,function(o){if(!gr(o))return!1;var s=za(o,"id");return s!==void 0&&s.indexOf("aria-owns")>-1});return r.bind(function(o){var s=za(o,"id"),v=xa(o);return Io(v,'[aria-owns="'+s+'"]')})},Zw=function(){var t=un("aria-owns"),r=function(s){Jn(s,"aria-owns",t)},o=function(s){bi(s,"aria-owns")};return{id:t,link:r,unlink:o}},G0=function(t,r){return Na(r).exists(function(o){return Rd(t,o)})},Rd=function(t,r){return i1(r,function(o){return Qr(o,t.element)},Zt)||G0(t,r)},Qw="unknown",Bd;(function(t){t[t.STOP=0]="STOP",t[t.NORMAL=1]="NORMAL",t[t.LOGGING=2]="LOGGING"})(Bd||(Bd={}));var eg=Dn({}),eC=function(t,r){var o=[],s=new Date().getTime();return{logEventCut:function(v,m,p){o.push({outcome:"cut",target:m,purpose:p})},logEventStopped:function(v,m,p){o.push({outcome:"stopped",target:m,purpose:p})},logNoParent:function(v,m,p){o.push({outcome:"no-parent",target:m,purpose:p})},logEventNoHandlers:function(v,m){o.push({outcome:"no-handlers-left",target:m})},logEventResponse:function(v,m,p){o.push({outcome:"response",purpose:p,target:m})},write:function(){var v=new Date().getTime();er(["mousemove","mouseover","mouseout",kd()],t)||console.log(t,{event:t,time:v-s,target:r.dom,sequence:Tt(o,function(m){return er(["cut","stopped","response"],m.outcome)?"{"+m.purpose+"} "+m.outcome+" at ("+Ci(m.target)+")":m.outcome})})}}},Zc=function(t,r,o){var s=bn(eg.get(),t).orThunk(function(){var p=Xr(eg.get());return la(p,function(C){return t.indexOf(C)>-1?_.some(eg.get()[C]):_.none()})}).getOr(Bd.NORMAL);switch(s){case Bd.NORMAL:return o(q0());case Bd.LOGGING:{var v=eC(t,r),m=o(v);return v.write(),m}case Bd.STOP:return!0}},zu=["alloy/data/Fields","alloy/debugging/Debugging"],CT=function(){var t=new Error;if(t.stack!==void 0){var r=t.stack.split(`
`);return mn(r,function(o){return o.indexOf("alloy")>0&&!ua(zu,function(s){return o.indexOf(s)>-1})}).getOr(Qw)}else return Qw},ST={logEventCut:ge,logEventStopped:ge,logNoParent:ge,logEventNoHandlers:ge,logEventResponse:ge,write:ge},Md=function(t,r,o){return Zc(t,r,o)},q0=K(ST),Tv=K([it("menu"),it("selectedMenu")]),Pd=K([it("item"),it("selectedItem")]);K(kn(Pd().concat(Tv())));var K0=K(kn(Pd())),kT=jc("initSize",[it("numColumns"),it("numRows")]),xT=function(){return Yu("markers",K0())},$d=function(){return jc("markers",[it("backgroundMenu")].concat(Tv()).concat(Pd()))},Nd=function(t){return jc("markers",Tt(t,it))},l1=function(t,r,o){return CT(),Yo(r,r,o,zm(function(s){return rr.value(function(){for(var v=[],m=0;m<arguments.length;m++)v[m]=arguments[m];return s.apply(void 0,v)})}))},sr=function(t){return l1("onHandler",t,ir(ge))},ba=function(t){return l1("onKeyboardHandler",t,ir(_.none))},Fd=function(t){return l1("onHandler",t,qn())},Ev=function(t){return l1("onKeyboardHandler",t,qn())},ca=function(t,r){return Pu(t,K(r))},s1=function(t){return Pu(t,dt)},c1=K(kT),xi=function(t,r,o,s,v,m,p,C){return C===void 0&&(C=!1),{x:t,y:r,bubble:o,direction:s,placement:v,restriction:m,label:p+"-"+v,alwaysFit:C}},Ov=Vl.generate([{southeast:[]},{southwest:[]},{northeast:[]},{northwest:[]},{south:[]},{north:[]},{east:[]},{west:[]}]),f1=function(t,r,o,s,v,m,p,C,S){return t.fold(r,o,s,v,m,p,C,S)},TT=function(t,r,o,s){return t.fold(r,r,s,s,r,s,o,o)},ET=function(t,r,o,s){return t.fold(r,s,r,s,o,o,r,s)},v1=Ov.southeast,tg=Ov.southwest,X0=Ov.northeast,d1=Ov.northwest,ng=Ov.south,m1=Ov.north,Qu=Ov.east,zd=Ov.west,Qc=function(t,r,o,s){var v=t+r;return v>s?o:v<o?s:v},el=function(t,r,o){return Math.min(Math.max(t,r),o)},tC=function(t,r){switch(r){case 1:return t.x;case 0:return t.x+t.width;case 2:return t.y;case 3:return t.y+t.height}},Ii=function(t,r){return Ro(["left","right","top","bottom"],function(o){return bn(r,o).map(function(s){return tC(t,s)})})},Y0=function(t,r,o){var s=function(S,E){return r[S].map(function(R){var M=S==="top"||S==="bottom",H=M?o.top:o.left,G=S==="left"||S==="top"?Math.max:Math.min,Z=G(R,E)+H;return M?el(Z,t.y,t.bottom):el(Z,t.x,t.right)}).getOr(E)},v=s("left",t.x),m=s("top",t.y),p=s("right",t.right),C=s("bottom",t.bottom);return Xo(v,m,p-v,C-m)},Vf="layout",J0=function(t){return t.x},Z0=function(t,r){return t.x+t.width/2-r.width/2},nC=function(t,r){return t.x+t.width-r.width},g1=function(t,r){return t.y-r.height},rg=function(t){return t.y+t.height},Q0=function(t,r){return t.y+t.height/2-r.height/2},OT=function(t){return t.x+t.width},AT=function(t,r){return t.x-r.width},nu=function(t,r,o){return xi(J0(t),rg(t),o.southeast(),v1(),"southeast",Ii(t,{left:1,top:3}),Vf)},Jo=function(t,r,o){return xi(nC(t,r),rg(t),o.southwest(),tg(),"southwest",Ii(t,{right:0,top:3}),Vf)},yu=function(t,r,o){return xi(J0(t),g1(t,r),o.northeast(),X0(),"northeast",Ii(t,{left:1,bottom:2}),Vf)},Ti=function(t,r,o){return xi(nC(t,r),g1(t,r),o.northwest(),d1(),"northwest",Ii(t,{right:0,bottom:2}),Vf)},tl=function(t,r,o){return xi(Z0(t,r),g1(t,r),o.north(),m1(),"north",Ii(t,{bottom:2}),Vf)},Li=function(t,r,o){return xi(Z0(t,r),rg(t),o.south(),ng(),"south",Ii(t,{top:3}),Vf)},h1=function(t,r,o){return xi(OT(t),Q0(t,r),o.east(),Qu(),"east",Ii(t,{left:0}),Vf)},Av=function(t,r,o){return xi(AT(t,r),Q0(t,r),o.west(),zd(),"west",Ii(t,{right:1}),Vf)},Dv=function(){return[nu,Jo,yu,Ti,Li,tl,h1,Av]},ey=function(){return[Jo,nu,Ti,yu,Li,tl,h1,Av]},rC=function(){return[yu,Ti,nu,Jo,tl,Li]},p1=function(){return[Ti,yu,Jo,nu,tl,Li]},Hf=function(){return[nu,Jo,yu,Ti,Li,tl]},_v=function(){return[Jo,nu,Ti,yu,Li,tl]},aC=function(t,r){return r.universal?t:Re(t,function(o){return er(r.channels,o)})},DT=function(t){return Oa([ft(ds(),function(r,o){var s=t.channels,v=Xr(s),m=o,p=aC(v,m);Ie(p,function(C){var S=s[C],E=S.schema,R=Yr("channel["+C+`] data
Receiver: `+Ci(r.element),E,m.data);S.onReceive(r,R)})})])},b1=Object.freeze({__proto__:null,events:DT}),Iu=[Yu("channels",Qi(rr.value,gl([Fd("onReceive"),ke("schema",zs())])))],y1=function(t,r,o){return js(function(s){o(s,t,r)})},Zo=function(t,r,o){return B0(function(s,v){o(s,t,r)})},oC=function(t,r,o,s,v,m){var p=gl(t),C=pl(r,[Zx("config",t)]);return uC(p,C,r,o,s,v,m)},_T=function(t,r,o,s,v,m){var p=t,C=pl(r,[pc("config",t)]);return uC(p,C,r,o,s,v,m)},ty=function(t,r,o){var s=function(v){for(var m=[],p=1;p<arguments.length;p++)m[p-1]=arguments[p];var C=[v].concat(m);return v.config({name:K(t)}).fold(function(){throw new Error("We could not find any behaviour configuration for: "+t+". Using API: "+o)},function(S){var E=Array.prototype.slice.call(C,1);return r.apply(void 0,[v,S.config,S.state].concat(E))})};return Od(s,o,r)},iC=function(t){return{key:t,value:void 0}},uC=function(t,r,o,s,v,m,p){var C=function(M){return Sa(M,o)?M[o]():_.none()},S=Lr(v,function(M,H){return ty(o,M,H)}),E=Lr(m,function(M,H){return bv(M,H)}),R=ve(ve(ve({},E),S),{revoke:Ht(iC,o),config:function(M){var H=Yr(o+"-config",t,M);return{key:o,value:{config:H,me:R,configAsRaw:So(function(){return Yr(o+"-config",t,M)}),initialConfig:M,state:p}}},schema:K(r),exhibit:function(M,H){return hi(C(M),bn(s,"exhibit"),function(G,Z){return Z(H,G.config,G.state)}).getOrThunk(function(){return Gs({})})},name:K(o),handlers:function(M){return C(M).map(function(H){var G=bn(s,"events").getOr(function(){return{}});return G(H.config,H.state)}).getOr({})}});return R},zt=function(t){return Pf(t)},RT=gl([it("fields"),it("name"),ke("active",{}),ke("apis",{}),ke("state",wl),ke("extra",{})]),po=function(t){var r=Yr("Creating behaviour: "+t.name,RT,t);return oC(r.fields,r.name,r.active,r.apis,r.extra,r.state)},ny=gl([it("branchKey"),it("branches"),it("name"),ke("active",{}),ke("apis",{}),ke("state",wl),ke("extra",{})]),Id=function(t){var r=Yr("Creating behaviour: "+t.name,ny,t);return _T(fs(r.branchKey,r.branches),r.name,r.active,r.apis,r.extra,r.state)},w1=K(void 0),Sl=po({fields:Iu,name:"receiving",active:b1}),ag=function(t,r){return Gs({classes:[],styles:r.useFixed()?{}:{position:"relative"}})},ph=Object.freeze({__proto__:null,exhibit:ag}),C1=function(){return le.fromDom(document)},ef=function(t){return t.dom.focus()},bh=function(t){return t.dom.blur()},S1=function(t){var r=xa(t).dom;return t.dom===r.activeElement},kl=function(t){return t===void 0&&(t=C1()),_.from(t.dom.activeElement).map(le.fromDom)},Ks=function(t){return kl(xa(t)).filter(function(r){return t.dom.contains(r.dom)})},Uf=function(t,r){var o=xa(r),s=kl(o).bind(function(m){var p=function(C){return Qr(m,C)};return p(r)?_.some(r):yT(r,p)}),v=t(r);return s.each(function(m){kl(o).filter(function(p){return Qr(p,m)}).fold(function(){ef(m)},ge)}),v},Qo=function(t,r,o,s,v){var m=function(p){return p+"px"};return{position:t,left:r.map(m),top:o.map(m),right:s.map(m),bottom:v.map(m)}},ry=function(t){return ve(ve({},t),{position:_.some(t.position)})},je=function(t,r){Qa(t,ry(r))},Rv=Vl.generate([{none:[]},{relative:["x","y","width","height"]},{fixed:["x","y","width","height"]}]),yh=function(t,r,o,s,v,m){var p=r.rect,C=p.x-o,S=p.y-s,E=p.width,R=p.height,M=v-(C+E),H=m-(S+R),G=_.some(C),Z=_.some(S),ue=_.some(M),Ce=_.some(H),ae=_.none();return f1(r.direction,function(){return Qo(t,G,Z,ae,ae)},function(){return Qo(t,ae,Z,ue,ae)},function(){return Qo(t,G,ae,ae,Ce)},function(){return Qo(t,ae,ae,ue,Ce)},function(){return Qo(t,G,Z,ae,ae)},function(){return Qo(t,G,ae,ae,Ce)},function(){return Qo(t,G,Z,ae,ae)},function(){return Qo(t,ae,Z,ue,ae)})},og=function(t,r){return t.fold(function(){var o=r.rect;return Qo("absolute",_.some(o.x),_.some(o.y),_.none(),_.none())},function(o,s,v,m){return yh("absolute",r,o,s,v,m)},function(o,s,v,m){return yh("fixed",r,o,s,v,m)})},Bv=function(t,r){var o=Ht(Zi,r),s=t.fold(o,o,function(){var p=ml();return Zi(r).translate(-p.left,-p.top)}),v=Bu(r),m=dl(r);return Xo(s.left,s.top,v,m)},kc=function(t,r){return r.fold(function(){return t.fold($i,$i,Xo)},function(o){return t.fold(o,o,function(){var s=o(),v=ay(t,s.x,s.y);return Xo(v.left,v.top,s.width,s.height)})})},ay=function(t,r,o){var s=ga(r,o),v=function(){var m=ml();return s.translate(-m.left,-m.top)};return t.fold(K(s),K(s),v)},oy=function(t,r,o,s){return t.fold(r,o,s)};Rv.none;var k1=Rv.relative,x1=Rv.fixed,lC=function(t,r){return{anchorBox:t,origin:r}},iy=function(t,r){return lC(t,r)},uy="data-alloy-placement",ly=function(t,r){Jn(t,uy,r)},sy=function(t){return Ka(t,uy)},cy=function(t){return bi(t,uy)},Ld=Vl.generate([{fit:["reposition"]},{nofit:["reposition","visibleW","visibleH","isVisible"]}]),BT=function(t,r){var o=r.x,s=r.y,v=r.right,m=r.bottom,p=t.x,C=t.y,S=t.right,E=t.bottom,R=t.width,M=t.height,H=p>=o&&p<=v,G=C>=s&&C<=m,Z=H&&G,ue=S<=v&&S>=o,Ce=E<=m&&E>=s,ae=ue&&Ce,xe=Math.min(R,p>=o?v-p:S-o),Ge=Math.min(M,C>=s?m-C:E-s);return{originInBounds:Z,sizeInBounds:ae,visibleW:xe,visibleH:Ge}},sC=function(t,r){var o=r.x,s=r.y,v=r.right,m=r.bottom,p=t.x,C=t.y,S=t.width,E=t.height,R=Math.max(o,v-S),M=Math.max(s,m-E),H=el(p,o,R),G=el(C,s,M),Z=Math.min(H+S,v)-H,ue=Math.min(G+E,m)-G;return Xo(H,G,Z,ue)},T1=function(t,r,o){var s=K(r.bottom-o.y),v=K(o.bottom-r.y),m=TT(t,v,v,s),p=K(r.right-o.x),C=K(o.right-r.x),S=ET(t,C,C,p);return{maxWidth:S,maxHeight:m}},wh=function(t,r,o,s){var v=t.bubble,m=v.offset,p=Y0(s,t.restriction,m),C=t.x+m.left,S=t.y+m.top,E=Xo(C,S,r,o),R=BT(E,p),M=R.originInBounds,H=R.sizeInBounds,G=R.visibleW,Z=R.visibleH,ue=M&&H,Ce=ue?E:sC(E,p),ae=Ce.width>0&&Ce.height>0,xe=T1(t.direction,Ce,s),Ge=xe.maxWidth,Ze=xe.maxHeight,Se={rect:Ce,maxHeight:Ze,maxWidth:Ge,direction:t.direction,placement:t.placement,classes:{on:v.classesOn,off:v.classesOff},layout:t.label,testY:S};return ue||t.alwaysFit?Ld.fit(Se):Ld.nofit(Se,G,Z,ae)},E1=function(t,r,o,s,v,m){var p=s.width,C=s.height,S=function(R,M,H,G,Z){var ue=R(o,s,v,t,m),Ce=wh(ue,p,C,m);return Ce.fold(K(Ce),function(ae,xe,Ge,Ze){var Se=Z===Ze?Ge>G||xe>H:!Z&&Ze;return Se?Ce:Ld.nofit(M,H,G,Z)})},E=pt(r,function(R,M){var H=Ht(S,M);return R.fold(K(R),H)},Ld.nofit({rect:o,maxHeight:s.height,maxWidth:s.width,direction:v1(),placement:"southeast",classes:{on:[],off:[]},layout:"none",testY:o.y},-1,-1,!1));return E.fold(dt,dt)},O1=function(t){var r=Dn(_.none()),o=function(){return r.get().each(t)},s=function(){o(),r.set(_.none())},v=function(){return r.get().isSome()},m=function(){return r.get()},p=function(C){o(),r.set(_.some(C))};return{clear:s,isSet:v,get:m,set:p}},A1=function(){return O1(function(t){return t.destroy()})},Vd=function(){return O1(function(t){return t.unbind()})},cC=function(){var t=A1(),r=function(o){return t.get().each(o)};return ve(ve({},t),{run:r})},so=function(){var t=O1(ge),r=function(o){return t.get().each(o)};return ve(ve({},t),{on:r})},D1=st,bo=function(t,r,o){return Hp(t,r,D1,o)},_1=function(t,r,o){return kf(t,r,D1,o)},ig=cs,R1=["top","bottom","right","left"],ug="data-alloy-transition-timer",fC=function(t,r){return U0(t,r.classes)},vC=function(t,r,o){return o.exists(function(s){var v=t.mode;return v==="all"?!0:s[v]!==r[v]})},MT=function(t,r){var o=function(s){return parseFloat(s).toFixed(3)};return Mo(r,function(s,v){var m=t[v].map(o),p=s.map(o);return!ul(m,p)}).isSome()},PT=function(t){var r=function(m){var p=eo(t,m),C=_t(p)?p.split(/\s*,\s*/):[];return Re(C,cu)},o=function(m){if(_t(m)&&/^[\d.]+/.test(m)){var p=parseFloat(m);return Sn(m,"ms")?p:p*1e3}else return 0},s=r("transition-delay"),v=r("transition-duration");return pt(v,function(m,p,C){var S=o(s[C])+o(p);return Math.max(m,S)},0)},dC=function(t,r){var o=Vd(),s=Vd(),v,m=function(R){var M,H=(M=R.raw.pseudoElement)!==null&&M!==void 0?M:"";return Qr(R.target,t)&&ui(H)&&er(R1,R.raw.propertyName)},p=function(R){if(It(R)||m(R)){o.clear(),s.clear();var M=R==null?void 0:R.raw.type;(It(M)||M===jm())&&(clearTimeout(v),bi(t,ug),Jc(t,r.classes))}},C=function(){o.set(bo(t,jm(),p)),s.set(bo(t,rT(),p))};if("ontransitionstart"in t.dom)var S=bo(t,T0(),function(R){m(R)&&(S.unbind(),C())});else C();var E=PT(t);requestAnimationFrame(function(){v=setTimeout(p,E+17),Jn(t,ug,v)})},B1=function(t,r){Lf(t,r.classes),Ka(t,ug).each(function(o){clearTimeout(parseInt(o,10)),bi(t,ug)}),dC(t,r)},M1=function(t,r,o,s,v,m){var p=vC(s,v,m);if(p||fC(t,s)){In(t,"position",o.position);var C=Bv(r,t),S=og(r,ve(ve({},v),{rect:C})),E=Ro(R1,function(R){return S[R]});MT(o,E)&&(Qa(t,E),p&&B1(t,s),Da(t))}else Jc(t,s.classes)},$T=function(t){return{width:Bu(t),height:dl(t)}},mC=function(t,r,o,s){Vr(r,"max-height"),Vr(r,"max-width");var v=$T(r);return E1(r,s.preference,t,v,o,s.bounds)},fy=function(t,r){var o=r.classes;Jc(t,o.off),Lf(t,o.on)},gC=function(t,r,o){var s=o.maxHeightFunction;s(t,r.maxHeight)},NT=function(t,r,o){var s=o.maxWidthFunction;s(t,r.maxWidth)},Vi=function(t,r,o){var s=og(o.origin,r);o.transition.each(function(v){M1(t,o.origin,s,v,r,o.lastPlacement)}),je(t,s)},Hd=function(t,r){ly(t,r.placement)},vy=function(t,r){Vp(t,Math.floor(r))},hC=K(function(t,r){vy(t,r),vl(t,{"overflow-x":"hidden","overflow-y":"auto"})}),lg=K(function(t,r){vy(t,r)}),pC=function(t,r,o){return t[r]===void 0?o:t[r]},FT=function(t,r,o,s,v,m,p,C){var S=pC(p,"maxHeightFunction",hC()),E=pC(p,"maxWidthFunction",ge),R=t.anchorBox,M=t.origin,H={bounds:kc(M,m),origin:M,preference:s,maxHeightFunction:S,maxWidthFunction:E,lastPlacement:v,transition:C};return Ch(R,r,o,H)},Ch=function(t,r,o,s){var v=mC(t,r,o,s);return Vi(r,v,s),Hd(r,v),fy(r,v),gC(r,v,s),NT(r,v,s),{layout:v.layout,placement:v.placement}},Sh=["valignCentre","alignLeft","alignRight","alignCentre","top","bottom","left","right","inset"],Mv=function(t,r,o,s){s===void 0&&(s=1);var v=t*s,m=r*s,p=function(S){return bn(o,S).getOr([])},C=function(S,E,R){var M=Kr(Sh,R);return{offset:ga(S,E),classesOn:Ln(R,p),classesOff:Ln(M,p)}};return{southeast:function(){return C(-t,r,["top","alignLeft"])},southwest:function(){return C(t,r,["top","alignRight"])},south:function(){return C(-t/2,r,["top","alignCentre"])},northeast:function(){return C(-t,-r,["bottom","alignLeft"])},northwest:function(){return C(t,-r,["bottom","alignRight"])},north:function(){return C(-t/2,-r,["bottom","alignCentre"])},east:function(){return C(t,-r/2,["valignCentre","left"])},west:function(){return C(-t,-r/2,["valignCentre","right"])},insetNortheast:function(){return C(v,m,["top","alignLeft","inset"])},insetNorthwest:function(){return C(-v,m,["top","alignRight","inset"])},insetNorth:function(){return C(-v/2,m,["top","alignCentre","inset"])},insetSoutheast:function(){return C(v,-m,["bottom","alignLeft","inset"])},insetSouthwest:function(){return C(-v,-m,["bottom","alignRight","inset"])},insetSouth:function(){return C(-v/2,-m,["bottom","alignCentre","inset"])},insetEast:function(){return C(-v,-m/2,["valignCentre","right","inset"])},insetWest:function(){return C(v,-m/2,["valignCentre","left","inset"])}}},P1=function(){return Mv(0,0,{})},$1=dt,N1=function(t,r){return function(o){return zT(o)==="rtl"?r:t}},zT=function(t){return eo(t,"direction")==="rtl"?"rtl":"ltr"},Wf;(function(t){t.TopToBottom="toptobottom",t.BottomToTop="bottomtotop"})(Wf||(Wf={}));var F1="data-alloy-vertical-dir",IT=function(t){return i1(t,function(r){return gr(r)&&za(r,"data-alloy-vertical-dir")===Wf.BottomToTop})},Pv=function(){return pl("layouts",[it("onLtr"),it("onRtl"),Hr("onBottomLtr"),Hr("onBottomRtl")])},$v=function(t,r,o,s,v,m,p){var C=p.map(IT).getOr(!1),S=r.layouts.map(function(G){return G.onLtr(t)}),E=r.layouts.map(function(G){return G.onRtl(t)}),R=C?r.layouts.bind(function(G){return G.onBottomLtr.map(function(Z){return Z(t)})}).or(S).getOr(v):S.getOr(o),M=C?r.layouts.bind(function(G){return G.onBottomRtl.map(function(Z){return Z(t)})}).or(E).getOr(m):E.getOr(s),H=N1(R,M);return H(t)},bC=function(t,r,o){var s=r.hotspot,v=Bv(o,s.element),m=$v(t.element,r,Hf(),_v(),rC(),p1(),_.some(r.hotspot.element));return _.some($1({anchorBox:v,bubble:r.bubble.getOr(P1()),overrides:r.overrides,layouts:m,placer:_.none()}))},kh=[it("hotspot"),Hr("bubble"),ke("overrides",{}),Pv(),ca("placement",bC)],dy=function(t,r,o){var s=ay(o,r.x,r.y),v=Xo(s.left,s.top,r.width,r.height),m=$v(t.element,r,Dv(),ey(),Dv(),ey(),_.none());return _.some($1({anchorBox:v,bubble:r.bubble,overrides:r.overrides,layouts:m,placer:_.none()}))},z1=[it("x"),it("y"),ke("height",0),ke("width",0),ke("bubble",P1()),ke("overrides",{}),Pv(),ca("placement",dy)],Ei=Vl.generate([{screen:["point"]},{absolute:["point","scrollLeft","scrollTop"]}]),LT=function(t){return t.fold(dt,function(r,o,s){return r.translate(-o,-s)})},I1=function(t){return t.fold(dt,dt)},yC=function(t){return pt(t,function(r,o){return r.translate(o.left,o.top)},ga(0,0))},VT=function(t){var r=Tt(t,LT);return yC(r)},Xs=function(t){var r=Tt(t,I1);return yC(r)},jf=Ei.screen,HT=Ei.absolute,my=function(t,r,o){var s=$s(o.root).dom,v=function(m){var p=Ja(m),C=Ja(t.element);return Qr(p,C)};return _.from(s.frameElement).map(le.fromDom).filter(v).map(Ru)},gy=function(t,r,o){var s=Ja(t.element),v=ml(s),m=my(t,r,o).getOr(v);return HT(m,v.left,v.top)},Ud=function(t,r,o,s){var v=jf(ga(t,r));return _.some(zl(v,o,s))},wC=function(t,r,o,s,v){return t.map(function(m){var p=[r,m.point],C=oy(s,function(){return Xs(p)},function(){return Xs(p)},function(){return VT(p)}),S=mo(C.left,C.top,m.width,m.height),E=o.showAbove?rC():Hf(),R=o.showAbove?p1():_v(),M=$v(v,o,E,R,E,R,_.none());return $1({anchorBox:S,bubble:o.bubble.getOr(P1()),overrides:o.overrides,layouts:M,placer:_.none()})})},sg=function(t,r,o){var s=gy(t,o,r);return r.node.filter(qa).bind(function(v){var m=v.dom.getBoundingClientRect(),p=Ud(m.left,m.top,m.width,m.height),C=r.node.getOr(t.element);return wC(p,s,r,o,C)})},UT=[it("node"),it("root"),Hr("bubble"),Pv(),ke("overrides",{}),ke("showAbove",!1),ca("placement",sg)],WT="\uFEFF",jT="\xA0",cg=function(t,r,o,s){return{start:t,soffset:r,finish:o,foffset:s}},Wd={create:cg},hy=Vl.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),CC=function(t,r,o,s){return t.fold(r,o,s)},GT=function(t){return t.fold(dt,dt,dt)},SC=hy.before,kC=hy.on,py=hy.after,qT={before:SC,on:kC,after:py,cata:CC,getStart:GT},L1=Vl.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),KT=function(t){return L1.exact(t.start,t.soffset,t.finish,t.foffset)},xh=function(t){return t.match({domRange:function(r){return le.fromDom(r.startContainer)},relative:function(r,o){return qT.getStart(r)},exact:function(r,o,s,v){return r}})},XT=L1.domRange,by=L1.relative,YT=L1.exact,xC=function(t){var r=xh(t);return $s(r)},JT=Wd.create,fg={domRange:XT,relative:by,exact:YT,exactFromRange:KT,getWin:xC,range:JT},TC=function(t,r){r.fold(function(o){t.setStartBefore(o.dom)},function(o,s){t.setStart(o.dom,s)},function(o){t.setStartAfter(o.dom)})},ZT=function(t,r){r.fold(function(o){t.setEndBefore(o.dom)},function(o,s){t.setEnd(o.dom,s)},function(o){t.setEndAfter(o.dom)})},yy=function(t,r,o){var s=t.document.createRange();return TC(s,r),ZT(s,o),s},wy=function(t,r,o,s,v){var m=t.document.createRange();return m.setStart(r.dom,o),m.setEnd(s.dom,v),m},V1=function(t){return{left:t.left,top:t.top,right:t.right,bottom:t.bottom,width:t.width,height:t.height}},EC=function(t){var r=t.getClientRects(),o=r.length>0?r[0]:t.getBoundingClientRect();return o.width>0||o.height>0?_.some(o).map(V1):_.none()},OC=function(t){var r=t.getBoundingClientRect();return r.width>0||r.height>0?_.some(r).map(V1):_.none()},vg=Vl.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),AC=function(t,r,o){return r(le.fromDom(o.startContainer),o.startOffset,le.fromDom(o.endContainer),o.endOffset)},DC=function(t,r){return r.match({domRange:function(o){return{ltr:K(o),rtl:_.none}},relative:function(o,s){return{ltr:So(function(){return yy(t,o,s)}),rtl:So(function(){return _.some(yy(t,s,o))})}},exact:function(o,s,v,m){return{ltr:So(function(){return wy(t,o,s,v,m)}),rtl:So(function(){return _.some(wy(t,v,m,o,s))})}}})},QT=function(t,r){var o=r.ltr();if(o.collapsed){var s=r.rtl().filter(function(v){return v.collapsed===!1});return s.map(function(v){return vg.rtl(le.fromDom(v.endContainer),v.endOffset,le.fromDom(v.startContainer),v.startOffset)}).getOrThunk(function(){return AC(t,vg.ltr,o)})}else return AC(t,vg.ltr,o)},e3=function(t,r){var o=DC(t,r);return QT(t,o)},Cy=function(t,r){var o=e3(t,r);return o.match({ltr:function(s,v,m,p){var C=t.document.createRange();return C.setStart(s.dom,v),C.setEnd(m.dom,p),C},rtl:function(s,v,m,p){var C=t.document.createRange();return C.setStart(m.dom,p),C.setEnd(s.dom,v),C}})};vg.ltr,vg.rtl;var jd=function(t,r){var o=function(m){if(!t(m))throw new Error("Can only get "+r+" value of a "+r+" node");return s(m).getOr("")},s=function(m){return t(m)?_.from(m.dom.nodeValue):_.none()},v=function(m,p){if(!t(m))throw new Error("Can only set raw "+r+" value of a "+r+" node");m.dom.nodeValue=p};return{get:o,getOption:s,set:v}},H1=jd(Ba,"text"),_C=function(t){return H1.get(t)},U1=function(t){return H1.getOption(t)},RC=function(t){return Un(t)==="img"?1:U1(t).fold(function(){return k(t).length},function(r){return r.length})},t3=function(t){return U1(t).filter(function(r){return r.trim().length!==0||r.indexOf(jT)>-1}).isSome()},Sy=["img","br"],n3=function(t){var r=t3(t);return r||er(Sy,Un(t))},BC=function(t){return Gd(t,n3)},Gd=function(t,r){var o=function(s){for(var v=k(s),m=v.length-1;m>=0;m--){var p=v[m];if(r(p))return _.some(p);var C=o(p);if(C.isSome())return C}return _.none()};return o(t)},li=function(t,r){return zc(r,t)},Nv=function(t,r,o,s){var v=Ja(t),m=v.dom.createRange();return m.setStart(t.dom,r),m.setEnd(o.dom,s),m},W1=function(t,r,o,s){var v=Nv(t,r,o,s),m=Qr(t,o)&&r===s;return v.collapsed&&!m},r3=function(t){return _.from(t.getSelection())},MC=function(t){if(t.rangeCount>0){var r=t.getRangeAt(0),o=t.getRangeAt(t.rangeCount-1);return _.some(Wd.create(le.fromDom(r.startContainer),r.startOffset,le.fromDom(o.endContainer),o.endOffset))}else return _.none()},PC=function(t){if(t.anchorNode===null||t.focusNode===null)return MC(t);var r=le.fromDom(t.anchorNode),o=le.fromDom(t.focusNode);return W1(r,t.anchorOffset,o,t.focusOffset)?_.some(Wd.create(r,t.anchorOffset,o,t.focusOffset)):MC(t)},ky=function(t){return r3(t).filter(function(r){return r.rangeCount>0}).bind(PC)},xy=function(t,r){var o=Cy(t,r);return EC(o)},xl=function(t,r){var o=Cy(t,r);return OC(o)},Gf=function(t,r){return{element:t,offset:r}},qd=function(t,r){var o=k(t);if(o.length===0)return Gf(t,r);if(r<o.length)return Gf(o[r],0);var s=o[o.length-1],v=Ba(s)?_C(s).length:k(s).length;return Gf(s,v)},Th=function(t,r){return Ba(t)?Gf(t,r):qd(t,r)},Kd=function(t,r){var o=r.getSelection.getOrThunk(function(){return function(){return ky(t)}});return o().map(function(s){var v=Th(s.start,s.soffset),m=Th(s.finish,s.foffset);return fg.range(v.element,v.offset,m.element,m.offset)})},tf=function(t,r,o){var s=$s(r.root).dom,v=gy(t,o,r),m=Kd(s,r).bind(function(S){var E=xl(s,fg.exactFromRange(S)).orThunk(function(){var R=le.fromText(WT);lo(S.start,R);var M=xy(s,fg.exact(R,0,R,1));return qu(R),M});return E.bind(function(R){return Ud(R.left,R.top,R.width,R.height)})}),p=Kd(s,r).bind(function(S){return gr(S.start)?_.some(S.start):wf(S.start)}),C=p.getOr(t.element);return wC(m,v,r,o,C)},Ys=[Hr("getSelection"),it("root"),Hr("bubble"),Pv(),ke("overrides",{}),ke("showAbove",!1),ca("placement",tf)],dg="link-layout",Ty=function(t){return t.x+t.width},$C=function(t,r){return t.x-r.width},j1=function(t,r){return t.y-r.height+t.height},Xd=function(t){return t.y},qf=function(t,r,o){return xi(Ty(t),Xd(t),o.southeast(),v1(),"southeast",Ii(t,{left:0,top:2}),dg)},G1=function(t,r,o){return xi($C(t,r),Xd(t),o.southwest(),tg(),"southwest",Ii(t,{right:1,top:2}),dg)},Ey=function(t,r,o){return xi(Ty(t),j1(t,r),o.northeast(),X0(),"northeast",Ii(t,{left:0,bottom:3}),dg)},Oi=function(t,r,o){return xi($C(t,r),j1(t,r),o.northwest(),d1(),"northwest",Ii(t,{right:1,bottom:3}),dg)},Fv=function(){return[qf,G1,Ey,Oi]},NC=function(){return[G1,qf,Oi,Ey]},Oy=function(t,r,o){var s=Bv(o,r.item.element),v=$v(t.element,r,Fv(),NC(),Fv(),NC(),_.none());return _.some($1({anchorBox:s,bubble:P1(),overrides:r.overrides,layouts:v,placer:_.none()}))},q1=[it("item"),Pv(),ke("overrides",{}),ca("placement",Oy)],Hi=fs("type",{selection:Ys,node:UT,hotspot:kh,submenu:q1,makeshift:z1}),a3=[eu("classes",go),Ll("mode","all",["all","layout","placement"])],nf=[ke("useFixed",Zt),Hr("getBounds")],FC=[Yu("anchor",Hi),pl("transition",a3)],Ay=function(){var t=document.documentElement;return x1(0,0,t.clientWidth,t.clientHeight)},zv=function(t){var r=Ru(t.element),o=t.element.dom.getBoundingClientRect();return k1(r.left,r.top,o.width,o.height)},zC=function(t,r,o,s,v,m,p){var C=iy(o.anchorBox,r);return FT(C,v.element,o.bubble,o.layouts,m,s,o.overrides,p)},K1=function(t,r,o,s,v){IC(t,r,o,s,v,_.none())},IC=function(t,r,o,s,v,m){var p=m.map(xo);return Dy(t,r,o,s,v,p)},Dy=function(t,r,o,s,v,m){var p=Yr("placement.info",kn(FC),v),C=p.anchor,S=s.element,E=o.get(s.uid);Uf(function(){In(S,"position","fixed");var R=ko(S,"visibility");In(S,"visibility","hidden");var M=r.useFixed()?Ay():zv(t),H=C.placement,G=m.map(K).or(r.getBounds);H(t,C,M).each(function(Z){var ue=Z.placer.getOr(zC),Ce=ue(t,M,Z,G,s,E,p.transition);o.set(s.uid,Ce)}),R.fold(function(){Vr(S,"visibility")},function(Z){In(S,"visibility",Z)}),ko(S,"left").isNone()&&ko(S,"top").isNone()&&ko(S,"right").isNone()&&ko(S,"bottom").isNone()&&gi(ko(S,"position"),"fixed")&&Vr(S,"position")},S)},LC=function(t,r,o){return r.useFixed()?"fixed":"absolute"},o3=function(t,r,o,s){var v=s.element;Ie(["position","left","right","top","bottom"],function(m){return Vr(v,m)}),cy(v),o.clear(s.uid)},_y=Object.freeze({__proto__:null,position:K1,positionWithin:IC,positionWithinBounds:Dy,getMode:LC,reset:o3}),xc=function(){var t={},r=function(v,m){t[v]=m},o=function(v){return bn(t,v)},s=function(v){se(v)?delete t[v]:t={}};return Si({readState:function(){return t},clear:s,set:r,get:o})},X1=Object.freeze({__proto__:null,init:xc}),Lu=po({fields:nf,name:"positioning",active:ph,apis:_y,state:X1}),Eh=function(t){dr(t,Gm());var r=t.components();Ie(r,Eh)},Oh=function(t){var r=t.components();Ie(r,Oh),dr(t,bl())},Ry=function(t,r){Ji(t.element,r.element)},i3=function(t){Ie(t.components(),function(r){return qu(r.element)}),La(t.element),t.syncComponents()},VC=function(t,r){var o=t.components();i3(t);var s=Kr(o,r);Ie(s,function(v){Eh(v),t.getSystem().removeFromWorld(v)}),Ie(r,function(v){v.getSystem().isConnected()?Ry(t,v):(t.getSystem().addToWorld(v),Ry(t,v),qa(t.element)&&Oh(v)),t.syncComponents()})},ru=function(t,r){Yd(t,r,Ji)},Yd=function(t,r,o){t.getSystem().addToWorld(r),o(t.element,r.element),qa(t.element)&&Oh(r),t.syncComponents()},Ah=function(t){Eh(t),qu(t.element),t.getSystem().removeFromWorld(t)},ps=function(t){var r=Ga(t.element).bind(function(o){return t.getSystem().getByDom(o).toOptional()});Ah(t),r.each(function(o){o.syncComponents()})},bs=function(t){var r=t.components();Ie(r,Ah),La(t.element),t.syncComponents()},ys=function(t,r){Tc(t,r,Ji)},Vu=function(t,r){Tc(t,r,Tf)},Tc=function(t,r,o){o(t,r.element);var s=k(r.element);Ie(s,function(v){r.getByDom(v).each(Oh)})},Y1=function(t){var r=k(t.element);Ie(r,function(o){t.getByDom(o).each(Eh)}),qu(t.element)},ws=function(t,r,o,s){o.get().each(function(p){bs(t)});var v=r.getAttachPoint(t);ru(v,t);var m=t.getSystem().build(s);return ru(t,m),o.set(m),m},Ec=function(t,r,o,s){var v=ws(t,r,o,s);return r.onOpen(t,v),v},u3=function(t,r,o,s){return o.get().map(function(){return ws(t,r,o,s)})},l3=function(t,r,o,s,v){GC(t,r),Ec(t,r,o,s),v(),By(t,r)},HC=function(t,r,o){o.get().each(function(s){bs(t),ps(t),r.onClose(t,s),o.clear()})},UC=function(t,r,o){return o.isOpen()},WC=function(t,r,o,s){return UC(t,r,o)&&o.get().exists(function(v){return r.isPartOf(t,v,s)})},jC=function(t,r,o){return o.get()},s3=function(t,r,o,s){ko(t.element,r).fold(function(){bi(t.element,o)},function(v){Jn(t.element,o,v)}),In(t.element,r,s)},c3=function(t,r,o){Ka(t.element,o).fold(function(){return Vr(t.element,r)},function(s){return In(t.element,r,s)})},GC=function(t,r,o){var s=r.getAttachPoint(t);In(t.element,"position",Lu.getMode(s)),s3(t,"visibility",r.cloakVisibilityAttr,"hidden")},f3=function(t){return ua(["top","left","right","bottom"],function(r){return ko(t,r).isSome()})},By=function(t,r,o){f3(t.element)||Vr(t.element,"position"),c3(t,"visibility",r.cloakVisibilityAttr)},qC=Object.freeze({__proto__:null,cloak:GC,decloak:By,open:Ec,openWhileCloaked:l3,close:HC,isOpen:UC,isPartOf:WC,getState:jC,setContent:u3}),My=function(t,r){return Oa([ft(lh(),function(o,s){HC(o,t,r)})])},KC=Object.freeze({__proto__:null,events:My}),v3=[sr("onOpen"),sr("onClose"),it("isPartOf"),it("getAttachPoint"),ke("cloakVisibilityAttr","data-precloak-visibility")],d3=function(){var t=so(),r=K("not-implemented");return Si({readState:r,isOpen:t.isSet,clear:t.clear,set:t.set,get:t.get})},m3=Object.freeze({__proto__:null,init:d3}),Sr=po({fields:v3,name:"sandboxing",active:KC,apis:qC,state:m3}),Jd=K("dismiss.popups"),mg=K("reposition.popups"),Tl=K("mouse.released"),g3=gl([ke("isExtraPart",Zt),pl("fireEventInstead",[ke("event",Us())])]),Iv=function(t){var r,o=Yr("Dismissal",g3,t);return r={},r[Jd()]={schema:gl([it("target")]),onReceive:function(s,v){if(Sr.isOpen(s)){var m=Sr.isPartOf(s,v.target)||o.isExtraPart(s,v.target);m||o.fireEventInstead.fold(function(){return Sr.close(s)},function(p){return dr(s,p.event)})}}},r},gg=gl([pl("fireEventInstead",[ke("event",pu())]),hu("doReposition")]),Dh=function(t){var r,o=Yr("Reposition",gg,t);return r={},r[mg()]={onReceive:function(s){Sr.isOpen(s)&&o.fireEventInstead.fold(function(){return o.doReposition(s)},function(v){return dr(s,v.event)})}},r},hg=function(t,r,o){r.store.manager.onLoad(t,r,o)},XC=function(t,r,o){r.store.manager.onUnload(t,r,o)},YC=function(t,r,o,s){r.store.manager.setValue(t,r,o,s)},Py=function(t,r,o){return r.store.manager.getValue(t,r,o)},$y=function(t,r,o){return o},Zd=Object.freeze({__proto__:null,onLoad:hg,onUnload:XC,setValue:YC,getValue:Py,getState:$y}),Ny=function(t,r){var o=t.resetOnDom?[Ha(function(s,v){hg(s,t,r)}),yl(function(s,v){XC(s,t,r)})]:[Zo(t,r,hg)];return Oa(o)},h3=Object.freeze({__proto__:null,events:Ny}),rf=function(){var t=Dn(null),r=function(){return{mode:"memory",value:t.get()}},o=function(){return t.get()===null},s=function(){t.set(null)};return Si({set:t.set,get:t.get,isNotSet:o,clear:s,readState:r})},Fy=function(){var t=ge;return Si({readState:t})},J1=function(){var t=Dn({}),r=Dn({}),o=function(){return{mode:"dataset",dataByValue:t.get(),dataByText:r.get()}},s=function(){t.set({}),r.set({})},v=function(p){return bn(t.get(),p).orThunk(function(){return bn(r.get(),p)})},m=function(p){var C=t.get(),S=r.get(),E={},R={};Ie(p,function(M){E[M.value]=M,bn(M,"meta").each(function(H){bn(H,"text").each(function(G){R[G]=M})})}),t.set(ve(ve({},C),E)),r.set(ve(ve({},S),R))};return Si({readState:o,lookup:v,update:m,clear:s})},Z1=function(t){return t.store.manager.state(t)},JC=Object.freeze({__proto__:null,memory:rf,dataset:J1,manual:Fy,init:Z1}),pg=function(t,r,o,s){var v=r.store;o.update([s]),v.setValue(t,s),r.onSetValue(t,s)},ZC=function(t,r,o){var s=r.store,v=s.getDataKey(t);return o.lookup(v).getOrThunk(function(){return s.getFallbackEntry(v)})},QC=function(t,r,o){var s=r.store;s.initialValue.each(function(v){pg(t,r,o,v)})},Oc=function(t,r,o){o.clear()},Gl=[Hr("initialValue"),it("getFallbackEntry"),it("getDataKey"),it("setValue"),ca("manager",{setValue:pg,getValue:ZC,onLoad:QC,onUnload:Oc,state:J1})],Ui=function(t,r,o){return r.store.getValue(t)},eS=function(t,r,o,s){r.store.setValue(t,s),r.onSetValue(t,s)},zy=function(t,r,o){r.store.initialValue.each(function(s){r.store.setValue(t,s)})},bg=[it("getValue"),ke("setValue",ge),Hr("initialValue"),ca("manager",{setValue:eS,getValue:Ui,onLoad:zy,onUnload:ge,state:wl.init})],tS=function(t,r,o,s){o.set(s),r.onSetValue(t,s)},nS=function(t,r,o){return o.get()},rS=function(t,r,o){r.store.initialValue.each(function(s){o.isNotSet()&&o.set(s)})},Q1=function(t,r,o){o.clear()},eb=[Hr("initialValue"),ca("manager",{setValue:tS,getValue:nS,onLoad:rS,onUnload:Q1,state:rf})],aS=[$u("store",{mode:"memory"},fs("mode",{memory:eb,manual:bg,dataset:Gl})),sr("onSetValue"),ke("resetOnDom",!1)],Xt=po({fields:aS,name:"representing",active:h3,apis:Zd,extra:{setValueFrom:function(t,r){var o=Xt.getValue(r);Xt.setValue(t,o)}},state:JC}),si=function(t,r){return p0(t,{},Tt(r,function(o){return Im(o.name(),"Cannot configure "+o.name()+" for "+t)}).concat([Pu("dump",dt)]))},Qd=function(t){return t.dump},ci=function(t,r){return ve(ve({},zt(r)),t.dump)},Cs={field:si,augment:ci,get:Qd},Iy="placeholder",em=Vl.generate([{single:["required","valueThunk"]},{multiple:["required","valueThunks"]}]),tb=function(t){return Cr(t,"uiType")},yg=function(t,r,o,s){return t.exists(function(v){return v!==o.owner})?em.single(!0,K(o)):bn(s,o.name).fold(function(){throw new Error("Unknown placeholder component: "+o.name+`
Known: [`+Xr(s)+`]
Namespace: `+t.getOr("none")+`
Spec: `+JSON.stringify(o,null,2))},function(v){return v.replace()})},tm=function(t,r,o,s){return tb(o)&&o.uiType===Iy?yg(t,r,o,s):em.single(!1,K(o))},_h=function(t,r,o,s){var v=tm(t,r,o,s);return v.fold(function(m,p){var C=tb(o)?p(r,o.config,o.validated):p(r),S=bn(C,"components").getOr([]),E=Ln(S,function(R){return _h(t,r,R,s)});return[ve(ve({},C),{components:E})]},function(m,p){if(tb(o)){var C=p(r,o.config,o.validated),S=o.validated.preprocess.getOr(dt);return S(C)}else return p(r)})},p3=function(t,r,o,s){return Ln(o,function(v){return _h(t,r,v,s)})},b3=function(t,r){var o=!1,s=function(){return o},v=function(){if(o)throw new Error("Trying to use the same placeholder more than once: "+t);return o=!0,r},m=function(){return r.fold(function(p,C){return p},function(p,C){return p})};return{name:K(t),required:m,used:s,replace:v}},Ly=function(t,r,o,s){var v=Lr(s,function(p,C){return b3(C,p)}),m=p3(t,r,o,v);return ta(v,function(p){if(p.used()===!1&&p.required())throw new Error("Placeholder: "+p.name()+` was not found in components list
Namespace: `+t.getOr("none")+`
Components: `+JSON.stringify(r.components,null,2))}),m},Vy=em.single,oS=em.multiple,nm=K(Iy),Js=Vl.generate([{required:["data"]},{external:["data"]},{optional:["data"]},{group:["data"]}]),Rh=ke("factory",{sketch:dt}),Hy=ke("schema",[]),rm=it("name"),Bh=Yo("pname","pname",pr(function(t){return"<alloy."+un(t.name)+">"}),zs()),Mh=Pu("schema",function(){return[Hr("preprocess")]}),af=ke("defaults",K({})),Ss=ke("overrides",K({})),Lv=kn([Rh,Hy,rm,Bh,af,Ss]),am=kn([Rh,Hy,rm,af,Ss]),Ph=kn([Rh,Hy,rm,Bh,af,Ss]),nb=kn([Rh,Mh,rm,it("unit"),Bh,af,Ss]),$h=function(t){return t.fold(_.some,_.none,_.some,_.some)},Uy=function(t){var r=function(o){return o.name};return t.fold(r,r,r,r)},y3=function(t){return t.fold(dt,dt,dt,dt)},rb=function(t,r){return function(o){var s=Yr("Converting part type",r,o);return t(s)}},Ai=rb(Js.required,Lv),ql=rb(Js.external,am),Zs=rb(Js.optional,Ph),Ac=rb(Js.group,nb),of=K("entirety"),Vv=Object.freeze({__proto__:null,required:Ai,external:ql,optional:Zs,group:Ac,asNamedPart:$h,name:Uy,asCommon:y3,original:of}),wg=function(t,r,o,s){return Je(r.defaults(t,o,s),o,{uid:t.partUids[r.name]},r.overrides(t,o,s))},iS=function(t,r,o){var s={},v={};return Ie(o,function(m){m.fold(function(p){s[p.pname]=Vy(!0,function(C,S,E){return p.factory.sketch(wg(C,p,S,E))})},function(p){var C=r.parts[p.name];v[p.name]=K(p.factory.sketch(wg(r,p,C[of()]),C))},function(p){s[p.pname]=Vy(!1,function(C,S,E){return p.factory.sketch(wg(C,p,S,E))})},function(p){s[p.pname]=oS(!0,function(C,S,E){var R=C[p.name];return Tt(R,function(M){return p.factory.sketch(Je(p.defaults(C,M,E),M,p.overrides(C,M)))})})})}),{internals:K(s),externals:K(v)}},Nh=function(t,r){var o={};return Ie(r,function(s){$h(s).each(function(v){var m=w3(t,v.pname);o[v.name]=function(p){var C=Yr("Part: "+v.name+" in "+t,kn(v.schema),p);return ve(ve({},m),{config:p,validated:C})}})}),o},w3=function(t,r){return{uiType:nm(),owner:t,name:r}},Wy=function(t,r,o){return{uiType:nm(),owner:t,name:r,config:o,validated:{}}},uS=function(t){return Ln(t,function(r){return r.fold(_.none,_.some,_.none,_.none).map(function(o){return jc(o.name,o.schema.concat([s1(of())]))}).toArray()})},lS=function(t){return Tt(t,Uy)},jy=function(t,r,o){return iS(t,r,o)},Gy=function(t,r,o){return Ly(_.some(t),r,r.components,o)},fa=function(t,r,o){var s=r.partUids[o];return t.getSystem().getByUid(s).toOptional()},uf=function(t,r,o){return fa(t,r,o).getOrDie("Could not find part: "+o)},sS=function(t,r,o){var s={},v=r.partUids,m=t.getSystem();return Ie(o,function(p){s[p]=K(m.getByUid(v[p]))}),s},qy=function(t,r){var o=t.getSystem();return Lr(r.partUids,function(s,v){return K(o.getByUid(s))})},Ky=function(t){return Xr(t.partUids)},Fh=function(t,r,o){var s={},v=r.partUids,m=t.getSystem();return Ie(o,function(p){s[p]=K(m.getByUid(v[p]).getOrDie())}),s},Mn=function(t,r){var o=lS(r);return Pf(Tt(o,function(s){return{key:s,value:t+"-"+s}}))},Xy=function(t){return Yo("partUids","partUids",Ni(function(r){return Mn(r.uid,t)}),zs())},cS=Object.freeze({__proto__:null,generate:Nh,generateOne:Wy,schemas:uS,names:lS,substitutes:jy,components:Gy,defaultUids:Mn,defaultUidsSchema:Xy,getAllParts:qy,getAllPartNames:Ky,getPart:fa,getPartOrDie:uf,getParts:sS,getPartsOrDie:Fh}),C3=function(t,r){var o=t.length>0?[jc("parts",t)]:[];return o.concat([it("uid"),ke("dom",{}),ke("components",[]),s1("originalSpec"),ke("debug.sketcher",{})]).concat(r)},fS=function(t,r,o,s,v){var m=C3(s,v);return Yr(t+" [SpecSchema]",gl(m.concat(r)),o)},vS=function(t,r,o,s){var v=ab(s),m=fS(t,r,v,[],[]);return o(m,v)},Yy=function(t,r,o,s,v){var m=ab(v),p=uS(o),C=Xy(o),S=fS(t,r,m,p,[C]),E=jy(t,S,o),R=Gy(t,S,E.internals());return s(S,R,m,E.externals())},Jy=function(t){return Cr(t,"uid")},ab=function(t){return Jy(t)?t:ve(ve({},t),{uid:Ed("uid")})},S3=function(t){return t.uid!==void 0},dS=gl([it("name"),it("factory"),it("configFields"),ke("apis",{}),ke("extraApis",{})]),k3=gl([it("name"),it("factory"),it("configFields"),it("partFields"),ke("apis",{}),ke("extraApis",{})]),El=function(t){var r=Yr("Sketcher for "+t.name,dS,t),o=function(m){return vS(r.name,r.configFields,r.factory,m)},s=Lr(r.apis,Dd),v=Lr(r.extraApis,function(m,p){return bv(m,p)});return ve(ve({name:r.name,configFields:r.configFields,sketch:o},s),v)},Hu=function(t){var r=Yr("Sketcher for "+t.name,k3,t),o=function(p){return Yy(r.name,r.configFields,r.partFields,r.factory,p)},s=Nh(r.name,r.partFields),v=Lr(r.apis,Dd),m=Lr(r.extraApis,function(p,C){return bv(p,C)});return ve(ve({name:r.name,partFields:r.partFields,configFields:r.configFields,sketch:o,parts:s},v),m)},Hv=function(t){return Un(t)==="input"&&za(t,"type")!=="radio"||Un(t)==="textarea"},mS=function(t,r,o){return r.find(t)},x3=Object.freeze({__proto__:null,getCurrent:mS}),gS=[it("find")],cr=po({fields:gS,name:"composing",apis:x3}),hS=["input","button","textarea","select"],zh=function(t,r,o){var s=r.disabled()?Qy:om;s(t,r)},Cg=function(t,r){return r.useNative===!0&&er(hS,Un(t.element))},ob=function(t){return Lp(t.element,"disabled")},Sg=function(t){Jn(t.element,"disabled","disabled")},kg=function(t){bi(t.element,"disabled")},T3=function(t){return za(t.element,"aria-disabled")==="true"},E3=function(t){Jn(t.element,"aria-disabled","true")},Zy=function(t){Jn(t.element,"aria-disabled","false")},Qy=function(t,r,o){r.disableClass.each(function(v){ki(t.element,v)});var s=Cg(t,r)?Sg:E3;s(t),r.onDisabled(t)},om=function(t,r,o){r.disableClass.each(function(v){zo(t.element,v)});var s=Cg(t,r)?kg:Zy;s(t),r.onEnabled(t)},ib=function(t,r){return Cg(t,r)?ob(t):T3(t)},pS=function(t,r,o,s){var v=s?Qy:om;v(t,r)},O3=Object.freeze({__proto__:null,enable:om,disable:Qy,isDisabled:ib,onLoad:zh,set:pS}),e2=function(t,r){return Gs({classes:r.disabled()?r.disableClass.toArray():[]})},A3=function(t,r){return Oa([R0(Hl(),function(o,s){return ib(o,t)}),Zo(t,r,zh)])},Ih=Object.freeze({__proto__:null,exhibit:e2,events:A3}),t2=[Ea("disabled",Zt),ke("useNative",!0),Hr("disableClass"),sr("onDisabled"),sr("onEnabled")],Tn=po({fields:t2,name:"disabling",active:Ih,apis:O3}),bS=function(t,r,o,s){var v=li(t.element,"."+r.highlightClass);Ie(v,function(m){ua(s,function(p){return p.element===m})||(zo(m,r.highlightClass),t.getSystem().getByDom(m).each(function(p){r.onDehighlight(t,p),dr(p,sh())}))})},D3=function(t,r,o){return bS(t,r,o,[])},yS=function(t,r,o,s){ub(t,r,o,s)&&(zo(s.element,r.highlightClass),r.onDehighlight(t,s),dr(s,sh()))},xg=function(t,r,o,s){bS(t,r,o,[s]),ub(t,r,o,s)||(ki(s.element,r.highlightClass),r.onHighlight(t,s),dr(s,Vw()))},Uu=function(t,r,o){SS(t,r).each(function(s){xg(t,r,o,s)})},Lh=function(t,r,o){kS(t,r).each(function(s){xg(t,r,o,s)})},_3=function(t,r,o,s){CS(t,r,o,s).fold(function(v){throw v},function(v){xg(t,r,o,v)})},n2=function(t,r,o,s){var v=Tg(t,r),m=mn(v,s);m.each(function(p){xg(t,r,o,p)})},ub=function(t,r,o,s){return Fu(s.element,r.highlightClass)},wS=function(t,r,o){return Io(t.element,"."+r.highlightClass).bind(function(s){return t.getSystem().getByDom(s).toOptional()})},CS=function(t,r,o,s){var v=li(t.element,"."+r.itemClass);return _.from(v[s]).fold(function(){return rr.error(new Error("No element found with index "+s))},t.getSystem().getByDom)},SS=function(t,r,o){return Io(t.element,"."+r.itemClass).bind(function(s){return t.getSystem().getByDom(s).toOptional()})},kS=function(t,r,o){var s=li(t.element,"."+r.itemClass),v=s.length>0?_.some(s[s.length-1]):_.none();return v.bind(function(m){return t.getSystem().getByDom(m).toOptional()})},Kf=function(t,r,o,s){var v=li(t.element,"."+r.itemClass),m=zn(v,function(p){return Fu(p,r.highlightClass)});return m.bind(function(p){var C=Qc(p,s,0,v.length-1);return t.getSystem().getByDom(v[C]).toOptional()})},R3=function(t,r,o){return Kf(t,r,o,-1)},B3=function(t,r,o){return Kf(t,r,o,1)},Tg=function(t,r,o){var s=li(t.element,"."+r.itemClass);return Pr(Tt(s,function(v){return t.getSystem().getByDom(v).toOptional()}))},M3=Object.freeze({__proto__:null,dehighlightAll:D3,dehighlight:yS,highlight:xg,highlightFirst:Uu,highlightLast:Lh,highlightAt:_3,highlightBy:n2,isHighlighted:ub,getHighlighted:wS,getFirst:SS,getLast:kS,getPrevious:R3,getNext:B3,getCandidates:Tg}),P3=[it("highlightClass"),it("itemClass"),sr("onHighlight"),sr("onDehighlight")],Ur=po({fields:P3,name:"highlighting",apis:M3}),Eg=[8],Uv=[9],lf=[13],Wv=[27],wu=[32],lb=[37],Vh=[38],Og=[39],jv=[40],$3=function(t,r,o){var s=Cn(t.slice(0,r)),v=Cn(t.slice(r+1));return mn(s.concat(v),o)},xS=function(t,r,o){var s=Cn(t.slice(0,r));return mn(s,o)},sb=function(t,r,o){var s=t.slice(0,r),v=t.slice(r+1);return mn(v.concat(s),o)},N3=function(t,r,o){var s=t.slice(r+1);return mn(s,o)},br=function(t){return function(r){var o=r.raw;return er(t,o.which)}},Qs=function(t){return function(r){return wr(t,function(o){return o(r)})}},Ag=function(t){var r=t.raw;return r.shiftKey===!0},TS=function(t){var r=t.raw;return r.ctrlKey===!0},Hh=qt(Ag),kr=function(t,r){return{matches:t,classification:r}},r2=function(t,r){var o=mn(t,function(s){return s.matches(r)});return o.map(function(s){return s.classification})},ES=function(t,r,o){var s=r.exists(function(v){return o.exists(function(m){return Qr(m,v)})});s||Rn(t,Zp(),{prevFocus:r,newFocus:o})},Uh=function(){var t=function(o){return Ks(o.element)},r=function(o,s){var v=t(o);o.getSystem().triggerFocus(s,o.element);var m=t(o);ES(o,v,m)};return{get:t,set:r}},OS=function(){var t=function(o){return Ur.getHighlighted(o).map(function(s){return s.element})},r=function(o,s){var v=t(o);o.getSystem().getByDom(s).fold(ge,function(p){Ur.highlight(o,p)});var m=t(o);ES(o,v,m)};return{get:t,set:r}},Wh;(function(t){t.OnFocusMode="onFocus",t.OnEnterOrSpaceMode="onEnterOrSpace",t.OnApiMode="onApi"})(Wh||(Wh={}));var Xf=function(t,r,o,s,v){var m=function(){return t.concat([ke("focusManager",Uh()),$u("focusInside","onFocus",zm(function(E){return er(["onFocus","onEnterOrSpace","onApi"],E)?rr.value(E):rr.error("Invalid value for focusInside")})),ca("handler",S),ca("state",r),ca("sendFocusIn",v)])},p=function(E,R,M,H,G){var Z=M(E,R,H,G);return r2(Z,R.event).bind(function(ue){return ue(E,R,H,G)})},C=function(E,R){var M=E.focusInside!==Wh.OnFocusMode?_.none():v(E).map(function(Z){return ft(gv(),function(ue,Ce){Z(ue,E,R),Ce.stop()})}),H=function(Z,ue){var Ce=br(wu.concat(lf))(ue.event);E.focusInside===Wh.OnEnterOrSpaceMode&&Ce&&Fw(Z,ue)&&v(E).each(function(ae){ae(Z,E,R),ue.stop()})},G=[ft(Kp(),function(Z,ue){p(Z,ue,o,E,R).fold(function(){H(Z,ue)},function(Ce){ue.stop()})}),ft(x0(),function(Z,ue){p(Z,ue,s,E,R).each(function(Ce){ue.stop()})})];return Oa(M.toArray().concat(G))},S={schema:m,processKey:p,toEvents:C};return S},a2=function(t){var r=[Hr("onEscape"),Hr("onEnter"),ke("selector",'[data-alloy-tabstop="true"]:not(:disabled)'),ke("firstTabstop",0),ke("useTabstopAt",st),Hr("visibilitySelector")].concat([t]),o=function(ue,Ce){var ae=ue.visibilitySelector.bind(function(xe){return bu(Ce,xe)}).getOr(Ce);return $o(ae)>0},s=function(ue,Ce){var ae=li(ue.element,Ce.selector),xe=Re(ae,function(Ge){return o(Ce,Ge)});return _.from(xe[Ce.firstTabstop])},v=function(ue,Ce){return Ce.focusManager.get(ue).bind(function(ae){return bu(ae,Ce.selector)})},m=function(ue,Ce){return o(ue,Ce)&&ue.useTabstopAt(Ce)},p=function(ue,Ce,ae){s(ue,Ce).each(function(xe){Ce.focusManager.set(ue,xe)})},C=function(ue,Ce,ae,xe,Ge){return Ge(Ce,ae,function(Ze){return m(xe,Ze)}).fold(function(){return xe.cyclic?_.some(!0):_.none()},function(Ze){return xe.focusManager.set(ue,Ze),_.some(!0)})},S=function(ue,Ce,ae,xe){var Ge=li(ue.element,ae.selector);return v(ue,ae).bind(function(Ze){var Se=zn(Ge,Ht(Qr,Ze));return Se.bind(function(ze){return C(ue,Ge,ze,ae,xe)})})},E=function(ue,Ce,ae){var xe=ae.cyclic?$3:xS;return S(ue,Ce,ae,xe)},R=function(ue,Ce,ae){var xe=ae.cyclic?sb:N3;return S(ue,Ce,ae,xe)},M=function(ue,Ce,ae){return ae.onEnter.bind(function(xe){return xe(ue,Ce)})},H=function(ue,Ce,ae){return ae.onEscape.bind(function(xe){return xe(ue,Ce)})},G=K([kr(Qs([Ag,br(Uv)]),E),kr(br(Uv),R),kr(br(Wv),H),kr(Qs([Hh,br(lf)]),M)]),Z=K([]);return Xf(r,wl.init,G,Z,function(){return _.some(p)})},AS=a2(Pu("cyclic",Zt)),F3=a2(Pu("cyclic",st)),z3=function(t,r,o){return _0(t,o,Hl()),_.some(!0)},Gv=function(t,r,o){var s=Hv(o)&&br(wu)(r.event);return s?_.none():z3(t,r,o)},im=function(t,r){return _.some(!0)},Dg=[ke("execute",Gv),ke("useSpace",!1),ke("useEnter",!0),ke("useControlEnter",!1),ke("useDown",!1)],DS=function(t,r,o){return o.execute(t,r,t.element)},o2=function(t,r,o,s){var v=o.useSpace&&!Hv(t.element)?wu:[],m=o.useEnter?lf:[],p=o.useDown?jv:[],C=v.concat(m).concat(p);return[kr(br(C),DS)].concat(o.useControlEnter?[kr(Qs([TS,br(lf)]),DS)]:[])},I3=function(t,r,o,s){return o.useSpace&&!Hv(t.element)?[kr(br(wu),im)]:[]},cb=Xf(Dg,wl.init,o2,I3,function(){return _.none()}),fb=function(){var t=so(),r=function(v,m){t.set({numRows:v,numColumns:m})},o=function(){return t.get().map(function(v){return v.numRows})},s=function(){return t.get().map(function(v){return v.numColumns})};return Si({readState:function(){return t.get().map(function(v){return{numRows:String(v.numRows),numColumns:String(v.numColumns)}}).getOr({numRows:"?",numColumns:"?"})},setGridSize:r,getNumRows:o,getNumColumns:s})},i2=function(t){return t.state(t)},L3=Object.freeze({__proto__:null,flatgrid:fb,init:i2}),u2=function(t){return function(r,o,s,v){var m=t(r.element);return um(m,r,o,s,v)}},vb=function(t,r){var o=N1(t,r);return u2(o)},db=function(t,r){var o=N1(r,t);return u2(o)},l2=function(t){return function(r,o,s,v){return um(t,r,o,s,v)}},um=function(t,r,o,s,v){var m=s.focusManager.get(r).bind(function(p){return t(r.element,p,s,v)});return m.map(function(p){return s.focusManager.set(r,p),!0})},mb=l2,s2=l2,gb=l2,jh=function(t){return t.offsetWidth<=0&&t.offsetHeight<=0},_S=function(t){return!jh(t.dom)},V3=function(t,r){return zn(t,r).map(function(o){return{index:o,candidates:t}})},RS=function(t,r,o){var s=function(p){return Qr(p,r)},v=li(t,o),m=Re(v,_S);return V3(m,s)},BS=function(t,r){return zn(t,function(o){return Qr(r,o)})},c2=function(t,r,o,s){var v=Math.floor(r/o),m=r%o;return s(v,m).bind(function(p){var C=p.row*o+p.column;return C>=0&&C<t.length?_.some(t[C]):_.none()})},MS=function(t,r,o,s,v){return c2(t,r,s,function(m,p){var C=m===o-1,S=C?t.length-m*s:s,E=Qc(p,v,0,S-1);return _.some({row:m,column:E})})},PS=function(t,r,o,s,v){return c2(t,r,s,function(m,p){var C=Qc(m,v,0,o-1),S=C===o-1,E=S?t.length-C*s:s,R=el(p,0,E-1);return _.some({row:C,column:R})})},f2=function(t,r,o,s){return MS(t,r,o,s,1)},v2=function(t,r,o,s){return MS(t,r,o,s,-1)},H3=function(t,r,o,s){return PS(t,r,o,s,-1)},U3=function(t,r,o,s){return PS(t,r,o,s,1)},_g=[it("selector"),ke("execute",Gv),ba("onEscape"),ke("captureTab",!1),c1()],W3=function(t,r,o){Io(t.element,r.selector).each(function(s){r.focusManager.set(t,s)})},qv=function(t,r){return r.focusManager.get(t).bind(function(o){return bu(o,r.selector)})},$S=function(t,r,o,s){return qv(t,o).bind(function(v){return o.execute(t,r,v)})},lm=function(t){return function(r,o,s,v){return RS(r,o,s.selector).bind(function(m){return t(m.candidates,m.index,v.getNumRows().getOr(s.initSize.numRows),v.getNumColumns().getOr(s.initSize.numColumns))})}},hb=function(t,r,o){return o.captureTab?_.some(!0):_.none()},NS=function(t,r,o){return o.onEscape(t,r)},d2=lm(v2),Gh=lm(f2),m2=lm(H3),sm=lm(U3),qh=K([kr(br(lb),vb(d2,Gh)),kr(br(Og),db(d2,Gh)),kr(br(Vh),mb(m2)),kr(br(jv),s2(sm)),kr(Qs([Ag,br(Uv)]),hb),kr(Qs([Hh,br(Uv)]),hb),kr(br(Wv),NS),kr(br(wu.concat(lf)),$S)]),j3=K([kr(br(wu),im)]),FS=Xf(_g,fb,qh,j3,function(){return _.some(W3)}),Rg=function(t,r,o,s){var v=function(p){return Un(p)==="button"&&za(p,"disabled")==="disabled"},m=function(p,C,S){var E=Qc(C,s,0,S.length-1);return E===p?_.none():v(S[E])?m(p,E,S):_.from(S[E])};return RS(t,o,r).bind(function(p){var C=p.index,S=p.candidates;return m(C,C,S)})},G3=[it("selector"),ke("getInitial",_.none),ke("execute",Gv),ba("onEscape"),ke("executeOnMove",!1),ke("allowVertical",!0)],Kh=function(t,r){return r.focusManager.get(t).bind(function(o){return bu(o,r.selector)})},Xh=function(t,r,o){return Kh(t,o).bind(function(s){return o.execute(t,r,s)})},zS=function(t,r,o){r.getInitial(t).orThunk(function(){return Io(t.element,r.selector)}).each(function(s){r.focusManager.set(t,s)})},ks=function(t,r,o){return Rg(t,o.selector,r,-1)},g2=function(t,r,o){return Rg(t,o.selector,r,1)},pb=function(t){return function(r,o,s,v){return t(r,o,s,v).bind(function(){return s.executeOnMove?Xh(r,o,s):_.some(!0)})}},q3=function(t,r,o){return o.onEscape(t,r)},h2=function(t,r,o,s){var v=lb.concat(o.allowVertical?Vh:[]),m=Og.concat(o.allowVertical?jv:[]);return[kr(br(v),pb(vb(ks,g2))),kr(br(m),pb(db(ks,g2))),kr(br(lf),Xh),kr(br(wu),Xh),kr(br(Wv),q3)]},IS=K([kr(br(wu),im)]),bb=Xf(G3,wl.init,h2,IS,function(){return _.some(zS)}),Yh=function(t,r,o){return _.from(t[r]).bind(function(s){return _.from(s[o]).map(function(v){return{rowIndex:r,columnIndex:o,cell:v}})})},p2=function(t,r,o,s){var v=t[r],m=v.length,p=Qc(o,s,0,m-1);return Yh(t,r,p)},LS=function(t,r,o,s){var v=Qc(o,s,0,t.length-1),m=t[v].length,p=el(r,0,m-1);return Yh(t,v,p)},VS=function(t,r,o,s){var v=t[r],m=v.length,p=el(o+s,0,m-1);return Yh(t,r,p)},Yf=function(t,r,o,s){var v=el(o+s,0,t.length-1),m=t[v].length,p=el(r,0,m-1);return Yh(t,v,p)},yb=function(t,r,o){return p2(t,r,o,1)},K3=function(t,r,o){return p2(t,r,o,-1)},b2=function(t,r,o){return LS(t,o,r,-1)},X3=function(t,r,o){return LS(t,o,r,1)},y2=function(t,r,o){return VS(t,r,o,-1)},Bg=function(t,r,o){return VS(t,r,o,1)},wb=function(t,r,o){return Yf(t,o,r,-1)},Y3=function(t,r,o){return Yf(t,o,r,1)},HS=[jc("selectors",[it("row"),it("cell")]),ke("cycles",!0),ke("previousSelector",_.none),ke("execute",Gv)],w2=function(t,r,o){var s=r.previousSelector(t).orThunk(function(){var v=r.selectors;return Io(t.element,v.cell)});s.each(function(v){r.focusManager.set(t,v)})},C2=function(t,r,o){return Ks(t.element).bind(function(s){return o.execute(t,r,s)})},J3=function(t,r){return Tt(t,function(o){return li(o,r.selectors.cell)})},Cb=function(t,r){return function(o,s,v){var m=v.cycles?t:r;return bu(s,v.selectors.row).bind(function(p){var C=li(p,v.selectors.cell);return BS(C,s).bind(function(S){var E=li(o,v.selectors.row);return BS(E,p).bind(function(R){var M=J3(E,v);return m(M,R,S).map(function(H){return H.cell})})})})}},US=Cb(K3,y2),WS=Cb(yb,Bg),jS=Cb(b2,wb),Jh=Cb(X3,Y3),Zh=K([kr(br(lb),vb(US,WS)),kr(br(Og),db(US,WS)),kr(br(Vh),mb(jS)),kr(br(jv),s2(Jh)),kr(br(wu.concat(lf)),C2)]),cm=K([kr(br(wu),im)]),GS=Xf(HS,wl.init,Zh,cm,function(){return _.some(w2)}),qS=[it("selector"),ke("execute",Gv),ke("moveOnTab",!1)],Sb=function(t,r,o){return o.focusManager.get(t).bind(function(s){return o.execute(t,r,s)})},kb=function(t,r,o){Io(t.element,r.selector).each(function(s){r.focusManager.set(t,s)})},S2=function(t,r,o){return Rg(t,o.selector,r,-1)},k2=function(t,r,o){return Rg(t,o.selector,r,1)},KS=function(t,r,o,s){return o.moveOnTab?gb(S2)(t,r,o,s):_.none()},sf=function(t,r,o,s){return o.moveOnTab?gb(k2)(t,r,o,s):_.none()},x2=K([kr(br(Vh),gb(S2)),kr(br(jv),gb(k2)),kr(Qs([Ag,br(Uv)]),KS),kr(Qs([Hh,br(Uv)]),sf),kr(br(lf),Sb),kr(br(wu),Sb)]),ec=K([kr(br(wu),im)]),Z3=Xf(qS,wl.init,x2,ec,function(){return _.some(kb)}),Jf=[ba("onSpace"),ba("onEnter"),ba("onShiftEnter"),ba("onLeft"),ba("onRight"),ba("onTab"),ba("onShiftTab"),ba("onUp"),ba("onDown"),ba("onEscape"),ke("stopSpaceKeyup",!1),Hr("focusIn")],XS=function(t,r,o){return[kr(br(wu),o.onSpace),kr(Qs([Hh,br(lf)]),o.onEnter),kr(Qs([Ag,br(lf)]),o.onShiftEnter),kr(Qs([Ag,br(Uv)]),o.onShiftTab),kr(Qs([Hh,br(Uv)]),o.onTab),kr(br(Vh),o.onUp),kr(br(jv),o.onDown),kr(br(lb),o.onLeft),kr(br(Og),o.onRight),kr(br(wu),o.onSpace),kr(br(Wv),o.onEscape)]},YS=function(t,r,o){return o.stopSpaceKeyup?[kr(br(wu),im)]:[]},Q3=Xf(Jf,wl.init,XS,YS,function(t){return t.focusIn}),e4=AS.schema(),Mg=F3.schema(),Pg=bb.schema(),xb=FS.schema(),JS=GS.schema(),Kv=cb.schema(),Xv=Z3.schema(),ZS=Q3.schema(),Qh=Object.freeze({__proto__:null,acyclic:e4,cyclic:Mg,flow:Pg,flatgrid:xb,matrix:JS,execution:Kv,menu:Xv,special:ZS}),fm=function(t){return Sa(t,"setGridSize")},Bn=Id({branchKey:"mode",branches:Qh,name:"keying",active:{events:function(t,r){var o=t.handler;return o.toEvents(t,r)}},apis:{focusIn:function(t,r,o){r.sendFocusIn(r).fold(function(){t.getSystem().triggerFocus(t.element,t.element)},function(s){s(t,r,o)})},setGridSize:function(t,r,o,s,v){fm(o)?o.setGridSize(s,v):console.error("Layout does not support setGridSize")}},state:L3}),T2=function(t,r,o,s){Uf(function(){var v=Tt(s,t.getSystem().build);VC(t,v)},t.element)},Tb=function(t,r,o,s){var v=t.getSystem().build(s);Yd(t,v,o)},E2=function(t,r,o,s){Tb(t,r,Ji,s)},Zf=function(t,r,o,s){Tb(t,r,Ef,s)},Eb=function(t,r,o,s){var v=ep(t),m=mn(v,function(p){return Qr(s.element,p.element)});m.each(ps)},ep=function(t,r){return t.components()},Ob=function(t,r,o,s,v){var m=ep(t);return _.from(m[s]).map(function(p){return Eb(t,r,o,p),v.each(function(C){Tb(t,r,function(S,E){dc(S,E,s)},C)}),p})},O2=function(t,r,o,s,v){var m=ep(t);return zn(m,s).bind(function(p){return Ob(t,r,o,p,v)})},A2=Object.freeze({__proto__:null,append:E2,prepend:Zf,remove:Eb,replaceAt:Ob,replaceBy:O2,set:T2,contents:ep}),Kn=po({fields:[],name:"replacing",apis:A2}),QS=function(t,r){var o=Oa(r);return po({fields:[it("enabled")],name:t,active:{events:K(o)}})},ar=function(t,r){var o=QS(t,r);return{key:t,value:{config:{},me:o,configAsRaw:K({}),initialConfig:{},state:wl}}},ek=function(t,r){r.ignore||(ef(t.element),r.onFocus(t))},tp=function(t,r){r.ignore||bh(t.element)},Ab=function(t){return S1(t.element)},Yv=Object.freeze({__proto__:null,focus:ek,blur:tp,isFocused:Ab}),D2=function(t,r){var o=r.ignore?{}:{attributes:{tabindex:"-1"}};return Gs(o)},Db=function(t){return Oa([ft(gv(),function(r,o){ek(r,t),o.stop()})].concat(t.stopMousedown?[ft(Hs(),function(r,o){o.event.prevent()})]:[]))},np=Object.freeze({__proto__:null,exhibit:D2,events:Db}),tk=[sr("onFocus"),ke("stopMousedown",!1),ke("ignore",!1)],Vn=po({fields:tk,name:"focusing",active:np,apis:Yv}),nk=function(t){var r=function(){var o=Dn(t),s=function(){return o.get()},v=function(C){return o.set(C)},m=function(){return o.set(t)},p=function(){return o.get()};return{get:s,set:v,clear:m,readState:p}};return{init:r}},rk=function(t,r,o){var s=r.aria;s.update(t,s,o.get())},$g=function(t,r,o){r.toggleClass.each(function(s){o.get()?ki(t.element,s):zo(t.element,s)})},vm=function(t,r,o){_2(t,r,o,!o.get())},ak=function(t,r,o){o.set(!0),$g(t,r,o),rk(t,r,o)},ok=function(t,r,o){o.set(!1),$g(t,r,o),rk(t,r,o)},_2=function(t,r,o,s){var v=s?ak:ok;v(t,r,o)},_b=function(t,r,o){return o.get()},ik=function(t,r,o){_2(t,r,o,r.selected)},Rb=Object.freeze({__proto__:null,onLoad:ik,toggle:vm,isOn:_b,on:ak,off:ok,set:_2}),uk=function(){return Gs({})},lk=function(t,r){var o=y1(t,r,vm),s=Zo(t,r,ik);return Oa(nn([t.toggleOnExecute?[o]:[],[s]]))},t4=Object.freeze({__proto__:null,exhibit:uk,events:lk}),n4=function(t,r,o){Jn(t.element,"aria-pressed",o),r.syncWithExpanded&&sk(t,r,o)},r4=function(t,r,o){Jn(t.element,"aria-selected",o)},a4=function(t,r,o){Jn(t.element,"aria-checked",o)},sk=function(t,r,o){Jn(t.element,"aria-expanded",o)},R2=[ke("selected",!1),Hr("toggleClass"),ke("toggleOnExecute",!0),$u("aria",{mode:"none"},fs("mode",{pressed:[ke("syncWithExpanded",!1),ca("update",n4)],checked:[ca("update",a4)],expanded:[ca("update",sk)],selected:[ca("update",r4)],none:[ca("update",ge)]}))],xr=po({fields:R2,name:"toggling",active:t4,apis:Rb,state:nk(!1)}),ck=function(){var t=function(r,o){o.stop(),Ff(r)};return[ft(Wm(),t),ft(hv(),t),ho(Kc()),ho(Hs())]},rp=function(t){var r=function(o){return js(function(s,v){o(s),v.stop()})};return Oa(nn([t.map(r).toArray(),ck()]))},ap="alloy.item-hover",Bb="alloy.item-focus",Mb=function(t){(Ks(t.element).isNone()||Vn.isFocused(t))&&(Vn.isFocused(t)||Vn.focus(t),Rn(t,ap,{item:t}))},fk=function(t){Rn(t,Bb,{item:t})},vk=K(ap),u=K(Bb),c=function(t){return{dom:t.dom,domModification:ve(ve({},t.domModification),{attributes:ve(ve(ve({role:t.toggling.isSome()?"menuitemcheckbox":"menuitem"},t.domModification.attributes),{"aria-haspopup":t.hasSubmenu}),t.hasSubmenu?{"aria-expanded":!1}:{})}),behaviours:Cs.augment(t.itemBehaviours,[t.toggling.fold(xr.revoke,function(r){return xr.config(ve({aria:{mode:"checked"}},r))}),Vn.config({ignore:t.ignoreFocus,stopMousedown:t.ignoreFocus,onFocus:function(r){fk(r)}}),Bn.config({mode:"execution"}),Xt.config({store:{mode:"memory",initialValue:t.data}}),ar("item-type-events",En(En([],ck(),!0),[ft($f(),Mb),ft(Sd(),Vn.focus)],!1))]),components:t.components,eventOrder:t.eventOrder}},d=[it("data"),it("components"),it("dom"),ke("hasSubmenu",!1),Hr("toggling"),Cs.field("itemBehaviours",[xr,Vn,Bn,Xt]),ke("ignoreFocus",!1),ke("domModification",{}),ca("builder",c),ke("eventOrder",{})],h=function(t){return{dom:t.dom,components:t.components,events:Oa([$a(Sd())])}},y=[it("dom"),it("components"),ca("builder",h)],T=K("item-widget"),D=K([Ai({name:"widget",overrides:function(t){return{behaviours:zt([Xt.config({store:{mode:"manual",getValue:function(r){return t.data},setValue:ge}})])}}})]),N=function(t){var r=jy(T(),t,D()),o=Gy(T(),t,r.internals()),s=function(m){return fa(m,t,"widget").map(function(p){return Bn.focusIn(p),p})},v=function(m,p){return Hv(p.event.target)?_.none():function(){return t.autofocus&&p.setSource(m.element),_.none()}()};return{dom:t.dom,components:o,domModification:t.domModification,events:Oa([js(function(m,p){s(m).each(function(C){p.stop()})}),ft($f(),Mb),ft(Sd(),function(m,p){t.autofocus?s(m):Vn.focus(m)})]),behaviours:Cs.augment(t.widgetBehaviours,[Xt.config({store:{mode:"memory",initialValue:t.data}}),Vn.config({ignore:t.ignoreFocus,onFocus:function(m){fk(m)}}),Bn.config({mode:"special",focusIn:t.autofocus?function(m){s(m)}:w1(),onLeft:v,onRight:v,onEscape:function(m,p){return!Vn.isFocused(m)&&!t.autofocus?(Vn.focus(m),_.some(!0)):(t.autofocus&&p.setSource(m.element),_.none())}})])}},q=[it("uid"),it("data"),it("components"),it("dom"),ke("autofocus",!1),ke("ignoreFocus",!1),Cs.field("widgetBehaviours",[Xt,Vn,Bn]),ke("domModification",{}),Xy(D()),ca("builder",N)],ne=fs("type",{widget:q,item:d,separator:y}),be=function(t,r){return{mode:"flatgrid",selector:"."+t.markers.item,initSize:{numColumns:r.initSize.numColumns,numRows:r.initSize.numRows},focusManager:t.focusManager}},Ke=function(t,r){return{mode:"matrix",selectors:{row:r.rowSelector,cell:"."+t.markers.item},focusManager:t.focusManager}},xt=function(t,r){return{mode:"menu",selector:"."+t.markers.item,moveOnTab:r.moveOnTab,focusManager:t.focusManager}},lt=K([Ac({factory:{sketch:function(t){var r=Yr("menu.spec item",ne,t);return r.builder(r)}},name:"items",unit:"item",defaults:function(t,r){return Cr(r,"uid")?r:ve(ve({},r),{uid:Ed("item")})},overrides:function(t,r){return{type:r.type,ignoreFocus:t.fakeFocus,domModification:{classes:[t.markers.item]}}}})]),Xe=K([it("value"),it("items"),it("dom"),it("components"),ke("eventOrder",{}),si("menuBehaviours",[Ur,Xt,cr,Bn]),$u("movement",{mode:"menu",moveOnTab:!0},fs("mode",{grid:[c1(),ca("config",be)],matrix:[ca("config",Ke),it("rowSelector")],menu:[ke("moveOnTab",!0),ca("config",xt)]})),xT(),ke("fakeFocus",!1),ke("focusManager",Uh()),sr("onHighlight")]),Ft=K("alloy.menu-focus"),Pt=function(t,r,o,s){return{uid:t.uid,dom:t.dom,markers:t.markers,behaviours:ci(t.menuBehaviours,[Ur.config({highlightClass:t.markers.selectedItem,itemClass:t.markers.item,onHighlight:t.onHighlight}),Xt.config({store:{mode:"memory",initialValue:t.value}}),cr.config({find:_.some}),Bn.config(t.movement.config(t,t.movement))]),events:Oa([ft(u(),function(v,m){var p=m.event;v.getSystem().getByDom(p.target).each(function(C){Ur.highlight(v,C),m.stop(),Rn(v,Ft(),{menu:v,item:C})})}),ft(vk(),function(v,m){var p=m.event.item;Ur.highlight(v,p)})]),components:r,eventOrder:t.eventOrder,domModification:{attributes:{role:"menu"}}}},yn=Hu({name:"Menu",configFields:Xe(),partFields:lt(),factory:Pt}),Br=function(t){return Uo(t,function(r,o){return{k:r,v:o}})},An=function(t,r,o,s){return bn(o,s).bind(function(v){return bn(t,v).bind(function(m){var p=An(t,r,o,m);return _.some([m].concat(p))})}).getOr([])},Hn=function(t,r){var o={};ta(t,function(p,C){Ie(p,function(S){o[S]=C})});var s=r,v=Br(r),m=Lr(v,function(p,C){return[C].concat(An(o,s,v,C))});return Lr(o,function(p){return bn(m,p).getOr([p])})},yr=function(){var t=Dn({}),r=Dn({}),o=Dn({}),s=so(),v=Dn({}),m=function(){t.set({}),r.set({}),o.set({}),s.clear()},p=function(){return s.get().isNone()},C=function(Se,ze){var at;r.set(ve(ve({},r.get()),(at={},at[Se]={type:"prepared",menu:ze},at)))},S=function(Se,ze,at,Yt){s.set(Se),t.set(at),r.set(ze),v.set(Yt);var ct=Hn(Yt,at);o.set(ct)},E=function(Se){return Mo(t.get(),function(ze,at){return ze===Se})},R=function(Se,ze,at){return ue(Se).bind(function(Yt){return E(Se).bind(function(ct){return ze(ct).map(function(Jt){return{triggeredMenu:Yt,triggeringItem:Jt,triggeringPath:at}})})})},M=function(Se,ze){var at=Re(ae(Se).toArray(),function(Yt){return ue(Yt).isSome()});return bn(o.get(),Se).bind(function(Yt){var ct=Cn(at.concat(Yt)),Jt=Ln(ct,function(mt,rt){return R(mt,ze,ct.slice(0,rt+1)).fold(function(){return gi(s.get(),mt)?[]:[_.none()]},function(Kt){return[_.some(Kt)]})});return tr(Jt)})},H=function(Se){return bn(t.get(),Se).map(function(ze){var at=bn(o.get(),Se).getOr([]);return[ze].concat(at)})},G=function(Se){return bn(o.get(),Se).bind(function(ze){return ze.length>1?_.some(ze.slice(1)):_.none()})},Z=function(Se){return bn(o.get(),Se)},ue=function(Se){return Ce(Se).bind(ur)},Ce=function(Se){return bn(r.get(),Se)},ae=function(Se){return bn(t.get(),Se)},xe=function(Se){var ze=v.get();return Kr(Xr(ze),Se)},Ge=function(){return s.get().bind(ue)},Ze=function(){return r.get()};return{setMenuBuilt:C,setContents:S,expand:H,refresh:Z,collapse:G,lookupMenu:Ce,lookupItem:ae,otherMenus:xe,getPrimary:Ge,getMenus:Ze,clear:m,isClear:p,getTriggeringPath:M}},ur=function(t){return t.type==="prepared"?_.some(t.menu):_.none()},co={init:yr,extractPreparedMenu:ur},fi=function(t,r){var o=so(),s=function(vt,fn,wn){return Lr(wn,function(Er,ia){var ao=function(){return yn.sketch(ve(ve({},Er),{value:ia,markers:t.markers,fakeFocus:t.fakeFocus,onHighlight:t.onHighlight,focusManager:t.fakeFocus?OS():Uh()}))};return ia===fn?{type:"prepared",menu:vt.getSystem().build(ao())}:{type:"notbuilt",nbMenu:ao}})},v=co.init(),m=function(vt){var fn=s(vt,t.data.primary,t.data.menus),wn=S();return v.setContents(t.data.primary,fn,t.data.expansions,wn),v.getPrimary()},p=function(vt){return Xt.getValue(vt).value},C=function(vt,fn,wn){return la(fn,function(Er){if(!Er.getSystem().isConnected())return _.none();var ia=Ur.getCandidates(Er);return mn(ia,function(ao){return p(ao)===wn})})},S=function(vt){return Lr(t.data.menus,function(fn,wn){return Ln(fn.items,function(Er){return Er.type==="separator"?[]:[Er.data.value]})})},E=function(vt,fn){Ur.highlight(vt,fn),Ur.getHighlighted(fn).orThunk(function(){return Ur.getFirst(fn)}).each(function(wn){_0(vt,wn.element,Sd())})},R=function(vt,fn){return Pr(Tt(fn,function(wn){return vt.lookupMenu(wn).bind(function(Er){return Er.type==="prepared"?_.some(Er.menu):_.none()})}))},M=function(vt,fn,wn){var Er=R(fn,fn.otherMenus(wn));Ie(Er,function(ia){Jc(ia.element,[t.markers.backgroundMenu]),t.stayInDom||Kn.remove(vt,ia)})},H=function(vt){return o.get().getOrThunk(function(){var fn={},wn=li(vt.element,"."+t.markers.item),Er=Re(wn,function(ia){return za(ia,"aria-haspopup")==="true"});return Ie(Er,function(ia){vt.getSystem().getByDom(ia).each(function(ao){var lv=p(ao);fn[lv]=ao})}),o.set(fn),fn})},G=function(vt,fn){var wn=H(vt);ta(wn,function(Er,ia){var ao=er(fn,ia);Jn(Er.element,"aria-expanded",ao)})},Z=function(vt,fn,wn){return _.from(wn[0]).bind(function(Er){return fn.lookupMenu(Er).bind(function(ia){if(ia.type==="notbuilt")return _.none();var ao=ia.menu,lv=R(fn,wn.slice(1));return Ie(lv,function(bf){ki(bf.element,t.markers.backgroundMenu)}),qa(ao.element)||Kn.append(vt,jl(ao)),Jc(ao.element,[t.markers.backgroundMenu]),E(vt,ao),M(vt,fn,wn),_.some(ao)})})},ue;(function(vt){vt[vt.HighlightSubmenu=0]="HighlightSubmenu",vt[vt.HighlightParent=1]="HighlightParent"})(ue||(ue={}));var Ce=function(vt,fn,wn){if(wn.type==="notbuilt"){var Er=vt.getSystem().build(wn.nbMenu());return v.setMenuBuilt(fn,Er),Er}else return wn.menu},ae=function(vt,fn,wn){if(wn===void 0&&(wn=ue.HighlightSubmenu),fn.hasConfigured(Tn)&&Tn.isDisabled(fn))return _.some(fn);var Er=p(fn);return v.expand(Er).bind(function(ia){return G(vt,ia),_.from(ia[0]).bind(function(ao){return v.lookupMenu(ao).bind(function(lv){var bf=Ce(vt,ao,lv);return qa(bf.element)||Kn.append(vt,jl(bf)),t.onOpenSubmenu(vt,fn,bf,Cn(ia)),wn===ue.HighlightSubmenu?(Ur.highlightFirst(bf),Z(vt,v,ia)):(Ur.dehighlightAll(bf),_.some(fn))})})})},xe=function(vt,fn){var wn=p(fn);return v.collapse(wn).bind(function(Er){return G(vt,Er),Z(vt,v,Er).map(function(ia){return t.onCollapseMenu(vt,fn,ia),ia})})},Ge=function(vt,fn){var wn=p(fn);return v.refresh(wn).bind(function(Er){return G(vt,Er),Z(vt,v,Er)})},Ze=function(vt,fn){return Hv(fn.element)?_.none():ae(vt,fn,ue.HighlightSubmenu)},Se=function(vt,fn){return Hv(fn.element)?_.none():xe(vt,fn)},ze=function(vt,fn){return xe(vt,fn).orThunk(function(){return t.onEscape(vt,fn).map(function(){return vt})})},at=function(vt){return function(fn,wn){return bu(wn.getSource(),"."+t.markers.item).bind(function(Er){return fn.getSystem().getByDom(Er).toOptional().bind(function(ia){return vt(fn,ia).map(st)})})}},Yt=Oa([ft(Ft(),function(vt,fn){var wn=fn.event.item;v.lookupItem(p(wn)).each(function(){var Er=fn.event.menu;Ur.highlight(vt,Er);var ia=p(fn.event.item);v.refresh(ia).each(function(ao){return M(vt,v,ao)})})}),js(function(vt,fn){var wn=fn.event.target;vt.getSystem().getByDom(wn).each(function(Er){var ia=p(Er);ia.indexOf("collapse-item")===0&&xe(vt,Er),ae(vt,Er,ue.HighlightSubmenu).fold(function(){t.onExecute(vt,Er)},ge)})}),Ha(function(vt,fn){m(vt).each(function(wn){Kn.append(vt,jl(wn)),t.onOpenMenu(vt,wn),t.highlightImmediately&&E(vt,wn)})})].concat(t.navigateOnHover?[ft(vk(),function(vt,fn){var wn=fn.event.item;Ge(vt,wn),ae(vt,wn,ue.HighlightParent),t.onHover(vt,wn)})]:[])),ct=function(vt){return Ur.getHighlighted(vt).bind(Ur.getHighlighted)},Jt=function(vt){ct(vt).each(function(fn){xe(vt,fn)})},mt=function(vt){v.getPrimary().each(function(fn){E(vt,fn)})},rt=function(vt){return _.from(vt.components()[0]).filter(function(fn){return za(fn.element,"role")==="menu"})},Kt=function(vt){var fn=v.getPrimary().bind(function(wn){return ct(vt).bind(function(Er){var ia=p(Er),ao=Po(v.getMenus()),lv=Pr(Tt(ao,co.extractPreparedMenu));return v.getTriggeringPath(ia,function(bf){return C(vt,lv,bf)})}).map(function(Er){return{primary:wn,triggeringPath:Er}})});fn.fold(function(){rt(vt).each(function(wn){t.onRepositionMenu(vt,wn,[])})},function(wn){var Er=wn.primary,ia=wn.triggeringPath;t.onRepositionMenu(vt,Er,ia)})},gn={collapseMenu:Jt,highlightPrimary:mt,repositionMenus:Kt};return{uid:t.uid,dom:t.dom,markers:t.markers,behaviours:ci(t.tmenuBehaviours,[Bn.config({mode:"special",onRight:at(Ze),onLeft:at(Se),onEscape:at(ze),focusIn:function(vt,fn){v.getPrimary().each(function(wn){_0(vt,wn.element,Sd())})}}),Ur.config({highlightClass:t.markers.selectedMenu,itemClass:t.markers.menu}),cr.config({find:function(vt){return Ur.getHighlighted(vt)}}),Kn.config({})]),eventOrder:t.eventOrder,apis:gn,events:Yt}},Cu=K("collapse-item"),zr=function(t,r,o){return{primary:t,menus:r,expansions:o}},Xn=function(t,r){return{primary:t,menus:Gc(t,r),expansions:{}}},Tr=function(t){return{value:un(Cu()),meta:{text:t}}},aa=El({name:"TieredMenu",configFields:[Ev("onExecute"),Ev("onEscape"),Fd("onOpenMenu"),Fd("onOpenSubmenu"),sr("onRepositionMenu"),sr("onCollapseMenu"),ke("highlightImmediately",!0),jc("data",[it("primary"),it("menus"),it("expansions")]),ke("fakeFocus",!1),sr("onHighlight"),sr("onHover"),$d(),it("dom"),ke("navigateOnHover",!0),ke("stayInDom",!1),si("tmenuBehaviours",[Bn,Ur,cr,Kn]),ke("eventOrder",{})],apis:{collapseMenu:function(t,r){t.collapseMenu(r)},highlightPrimary:function(t,r){t.highlightPrimary(r)},repositionMenus:function(t,r){t.repositionMenus(r)}},factory:fi,extraApis:{tieredData:zr,singleData:Xn,collapseItem:Tr}}),Ua=function(t,r,o,s,v){var m=function(){return t.lazySink(r)},p=s.type==="horizontal"?{layouts:{onLtr:function(){return Hf()},onRtl:function(){return _v()}}}:{},C=function(E){return E.length===2},S=function(E){return C(E)?p:{}};return aa.sketch({dom:{tag:"div"},data:s.data,markers:s.menu.markers,highlightImmediately:s.menu.highlightImmediately,onEscape:function(){return Sr.close(r),t.onEscape.map(function(E){return E(r)}),_.some(!0)},onExecute:function(){return _.some(!0)},onOpenMenu:function(E,R){Lu.positionWithinBounds(m().getOrDie(),R,o,v())},onOpenSubmenu:function(E,R,M,H){var G=m().getOrDie();Lu.position(G,M,{anchor:ve({type:"submenu",item:R},S(H))})},onRepositionMenu:function(E,R,M){var H=m().getOrDie();Lu.positionWithinBounds(H,R,o,v()),Ie(M,function(G){var Z=S(G.triggeringPath);Lu.position(H,G.triggeredMenu,{anchor:ve({type:"submenu",item:G.triggeringItem},Z)})})}})},cf=function(t,r){var o=function(G,Z){var ue=t.getRelated(G);return ue.exists(function(Ce){return Rd(Ce,Z)})},s=function(G,Z){Sr.setContent(G,Z)},v=function(G,Z,ue){m(G,Z,ue,_.none())},m=function(G,Z,ue,Ce){p(G,Z,ue,function(){return Ce.map(function(ae){return xo(ae)})})},p=function(G,Z,ue,Ce){var ae=t.lazySink(G).getOrDie();Sr.openWhileCloaked(G,Z,function(){return Lu.positionWithinBounds(ae,G,ue,Ce())}),Xt.setValue(G,_.some({mode:"position",config:ue,getBounds:Ce}))},C=function(G,Z,ue){S(G,Z,ue,_.none)},S=function(G,Z,ue,Ce){var ae=Ua(t,G,Z,ue,Ce);Sr.open(G,ae),Xt.setValue(G,_.some({mode:"menu",menu:ae}))},E=function(G){Sr.isOpen(G)&&(Xt.setValue(G,_.none()),Sr.close(G))},R=function(G){return Sr.getState(G)},M=function(G){Sr.isOpen(G)&&Xt.getValue(G).each(function(Z){switch(Z.mode){case"menu":Sr.getState(G).each(aa.repositionMenus);break;case"position":var ue=t.lazySink(G).getOrDie();Lu.positionWithinBounds(ue,G,Z.config,Z.getBounds());break}})},H={setContent:s,showAt:v,showWithin:m,showWithinBounds:p,showMenuAt:C,showMenuWithinBounds:S,hide:E,getContent:R,reposition:M,isOpen:Sr.isOpen};return{uid:t.uid,dom:t.dom,behaviours:ci(t.inlineBehaviours,[Sr.config({isPartOf:function(G,Z,ue){return Rd(Z,ue)||o(G,ue)},getAttachPoint:function(G){return t.lazySink(G).getOrDie()},onOpen:function(G){t.onShow(G)},onClose:function(G){t.onHide(G)}}),Xt.config({store:{mode:"memory",initialValue:_.none()}}),Sl.config({channels:ve(ve({},Iv(ve({isExtraPart:r.isExtraPart},t.fireDismissalEventInstead.map(function(G){return{fireEventInstead:{event:G.event}}}).getOr({})))),Dh(ve(ve({},t.fireRepositionEventInstead.map(function(G){return{fireEventInstead:{event:G.event}}}).getOr({})),{doReposition:M})))})]),eventOrder:t.eventOrder,apis:H}},Jr=El({name:"InlineView",configFields:[it("lazySink"),sr("onShow"),sr("onHide"),dv("onEscape"),si("inlineBehaviours",[Sr,Xt,Sl]),pl("fireDismissalEventInstead",[ke("event",Us())]),pl("fireRepositionEventInstead",[ke("event",pu())]),ke("getRelated",_.none),ke("isExtraPart",Zt),ke("eventOrder",_.none)],factory:cf,apis:{showAt:function(t,r,o,s){t.showAt(r,o,s)},showWithin:function(t,r,o,s,v){t.showWithin(r,o,s,v)},showWithinBounds:function(t,r,o,s,v){t.showWithinBounds(r,o,s,v)},showMenuAt:function(t,r,o,s){t.showMenuAt(r,o,s)},showMenuWithinBounds:function(t,r,o,s,v){t.showMenuWithinBounds(r,o,s,v)},hide:function(t,r){t.hide(r)},isOpen:function(t,r){return t.isOpen(r)},getContent:function(t,r){return t.getContent(r)},setContent:function(t,r,o){t.setContent(r,o)},reposition:function(t,r){t.reposition(r)}}}),Ol="layout-inset",Wi=function(t){return t.x},op=function(t,r){return t.x+t.width/2-r.width/2},dm=function(t,r){return t.x+t.width-r.width},Dc=function(t){return t.y},xs=function(t,r){return t.y+t.height-r.height},_c=function(t,r){return t.y+t.height/2-r.height/2},ip=function(t,r,o){return xi(dm(t,r),xs(t,r),o.insetSouthwest(),d1(),"southwest",Ii(t,{right:0,bottom:3}),Ol)},Ng=function(t,r,o){return xi(Wi(t),xs(t,r),o.insetSoutheast(),X0(),"southeast",Ii(t,{left:1,bottom:3}),Ol)},up=function(t,r,o){return xi(dm(t,r),Dc(t),o.insetNorthwest(),tg(),"northwest",Ii(t,{right:0,top:2}),Ol)},mm=function(t,r,o){return xi(Wi(t),Dc(t),o.insetNortheast(),v1(),"northeast",Ii(t,{left:1,top:2}),Ol)},tc=function(t,r,o){return xi(op(t,r),Dc(t),o.insetNorth(),ng(),"north",Ii(t,{top:2}),Ol)},gm=function(t,r,o){return xi(op(t,r),xs(t,r),o.insetSouth(),m1(),"south",Ii(t,{bottom:3}),Ol)},Pb=function(t,r,o){return xi(dm(t,r),_c(t,r),o.insetEast(),zd(),"east",Ii(t,{right:0}),Ol)},$b=function(t,r,o){return xi(Wi(t),_c(t,r),o.insetWest(),Qu(),"west",Ii(t,{left:1}),Ol)},lp=function(t){switch(t){case"north":return tc;case"northeast":return mm;case"northwest":return up;case"south":return gm;case"southeast":return Ng;case"southwest":return ip;case"east":return Pb;case"west":return $b}},ZO=function(t,r,o,s,v){var m=sy(s).map(lp).getOr(tc);return m(t,r,o,s,v)},eB=function(t){switch(t){case"north":return gm;case"northeast":return Ng;case"northwest":return ip;case"south":return tc;case"southeast":return mm;case"southwest":return up;case"east":return $b;case"west":return Pb}},tB=function(t,r,o,s,v){var m=sy(s).map(eB).getOr(tc);return m(t,r,o,s,v)},hm=tinymce.util.Tools.resolve("tinymce.util.Delay"),QO=function(t){var r=rp(t.action),o=t.dom.tag,s=function(m){return bn(t.dom,"attributes").bind(function(p){return bn(p,m)})},v=function(){if(o==="button"){var m=s("type").getOr("button"),p=s("role").map(function(S){return{role:S}}).getOr({});return ve({type:m},p)}else{var C=s("role").getOr("button");return{role:C}}};return{uid:t.uid,dom:t.dom,components:t.components,events:r,behaviours:Cs.augment(t.buttonBehaviours,[Vn.config({}),Bn.config({mode:"execution",useSpace:!0,useEnter:!0})]),domModification:{attributes:v()},eventOrder:t.eventOrder}},Wu=El({name:"Button",factory:QO,configFields:[ke("uid",void 0),it("dom"),ke("components",[]),Cs.field("buttonBehaviours",[Vn,Bn]),Hr("action"),Hr("role"),ke("eventOrder",{})]}),qr=function(t){var r=S3(t)&&Sa(t,"uid")?t.uid:Ed("memento"),o=function(m){return m.getSystem().getByUid(r).getOrDie()},s=function(m){return m.getSystem().getByUid(r).toOptional()},v=function(){return ve(ve({},t),{uid:r})};return{get:o,getOpt:s,asSpec:v}},nc=tinymce.util.Tools.resolve("tinymce.util.I18n"),nB={indent:!0,outdent:!0,"table-insert-column-after":!0,"table-insert-column-before":!0,"paste-column-after":!0,"paste-column-before":!0,"unordered-list":!0,"list-bull-circle":!0,"list-bull-default":!0,"list-bull-square":!0},eA="temporary-placeholder",o4=function(t){return function(){return bn(t,eA).getOr("!not found!")}},i4=function(t,r){var o=t.toLowerCase();if(nc.isRtl()){var s=Tu(o,"-rtl");return Cr(r,s)?s:o}else return o},tA=function(t,r){return bn(r,i4(t,r))},nA=function(t,r){var o=r();return tA(t,o).getOrThunk(o4(o))},rA=function(t,r,o){var s=r();return tA(t,s).or(o).getOrThunk(o4(s))},rB=function(t){return nc.isRtl()?Cr(nB,t):!1},u4=function(){return ar("add-focusable",[Ha(function(t){wT(t.element,"svg").each(function(r){return Jn(r,"focusable","false")})})])},B2=function(t,r,o,s){var v,m,p=rB(r)?["tox-icon--flip"]:[],C=bn(o,i4(r,o)).or(s).getOrThunk(o4(o));return{dom:{tag:t.tag,attributes:(v=t.attributes)!==null&&v!==void 0?v:{},classes:t.classes.concat(p),innerHtml:C},behaviours:zt(En(En([],(m=t.behaviours)!==null&&m!==void 0?m:[],!0),[u4()],!1))}},Qf=function(t,r,o,s){return s===void 0&&(s=_.none()),B2(r,t,o(),s)},aB=function(t,r,o){var s=o(),v=mn(t,function(m){return Cr(s,i4(m,s))});return B2(r,v.getOr(eA),s,_.none())},l4={success:"checkmark",error:"warning",err:"error",warning:"warning",warn:"warning",info:"info"},oB=function(t){var r=qr({dom:{tag:"p",innerHtml:t.translationProvider(t.text)},behaviours:zt([Kn.config({})])}),o=function(G){return{dom:{tag:"div",classes:["tox-bar"],attributes:{style:"width: "+G+"%"}}}},s=function(G){return{dom:{tag:"div",classes:["tox-text"],innerHtml:G+"%"}}},v=qr({dom:{tag:"div",classes:t.progress?["tox-progress-bar","tox-progress-indicator"]:["tox-progress-bar"]},components:[{dom:{tag:"div",classes:["tox-bar-container"]},components:[o(0)]},s(0)],behaviours:zt([Kn.config({})])}),m=function(G,Z){G.getSystem().isConnected()&&v.getOpt(G).each(function(ue){Kn.set(ue,[{dom:{tag:"div",classes:["tox-bar-container"]},components:[o(Z)]},s(Z)])})},p=function(G,Z){if(G.getSystem().isConnected()){var ue=r.get(G);Kn.set(ue,[kv(Z)])}},C={updateProgress:m,updateText:p},S=nn([t.icon.toArray(),t.level.toArray(),t.level.bind(function(G){return _.from(l4[G])}).toArray()]),E=qr(Wu.sketch({dom:{tag:"button",classes:["tox-notification__dismiss","tox-button","tox-button--naked","tox-button--icon"]},components:[Qf("close",{tag:"div",classes:["tox-icon"],attributes:{"aria-label":t.translationProvider("Close")}},t.iconProvider)],action:function(G){t.onAction(G)}})),R=aB(S,{tag:"div",classes:["tox-notification__icon"]},t.iconProvider),M={dom:{tag:"div",classes:["tox-notification__body"]},components:[r.asSpec()],behaviours:zt([Kn.config({})])},H=[R,M];return{uid:t.uid,dom:{tag:"div",attributes:{role:"alert"},classes:t.level.map(function(G){return["tox-notification","tox-notification--in","tox-notification--"+G]}).getOr(["tox-notification","tox-notification--in"])},behaviours:zt([Vn.config({}),ar("notification-events",[ft(vs(),function(G){E.getOpt(G).each(Vn.focus)})])]),components:H.concat(t.progress?[v.asSpec()]:[]).concat(t.closeButton?[E.asSpec()]:[]),apis:C}},s4=El({name:"Notification",factory:oB,configFields:[Hr("level"),it("progress"),it("icon"),it("onAction"),it("text"),it("iconProvider"),it("translationProvider"),pa("closeButton",!0)],apis:{updateProgress:function(t,r,o){t.updateProgress(r,o)},updateText:function(t,r,o){t.updateText(r,o)}}});function iB(t,r,o){var s=r.backstage.shared,v=function(E){switch(E){case"bc-bc":return gm;case"tc-tc":return tc;case"tc-bc":return tl;case"bc-tc":default:return Li}},m=function(E){E.length>0&&Ie(E,function(R,M){M===0?R.moveRel(null,"banner"):R.moveRel(E[M-1].getEl(),"bc-tc")})},p=function(E,R){var M=!E.closeButton&&E.timeout&&(E.timeout>0||E.timeout<0),H=function(){R(),Jr.hide(Z)},G=Eo(s4.sketch({text:E.text,level:er(["success","error","warning","warn","info"],E.type)?E.type:void 0,progress:E.progressBar===!0,icon:_.from(E.icon),closeButton:!M,onAction:H,iconProvider:s.providers.icons,translationProvider:s.providers.translate})),Z=Eo(Jr.sketch(ve({dom:{tag:"div",classes:["tox-notifications-container"]},lazySink:s.getSink,fireDismissalEventInstead:{}},s.header.isPositionedAtTop()?{}:{fireRepositionEventInstead:{}})));o.add(Z),E.timeout>0&&hm.setTimeout(function(){H()},E.timeout);var ue=function(){var Ce=xo(le.fromDom(t.getContentAreaContainer())),ae=$i(),xe=el(ae.x,Ce.x,Ce.right),Ge=el(ae.y,Ce.y,Ce.bottom),Ze=Math.max(Ce.right,ae.right),Se=Math.max(Ce.bottom,ae.bottom);return _.some(Xo(xe,Ge,Ze-xe,Se-Ge))};return{close:H,moveTo:function(Ce,ae){Jr.showAt(Z,jl(G),{anchor:{type:"makeshift",x:Ce,y:ae}})},moveRel:function(Ce,ae){var xe=jl(G),Ge={maxHeightFunction:lg()};if(ae!=="banner"&&se(Ce)){var Ze=v(ae),Se={type:"node",root:Go(),node:_.some(le.fromDom(Ce)),overrides:Ge,layouts:{onRtl:function(){return[Ze]},onLtr:function(){return[Ze]}}};Jr.showWithinBounds(Z,xe,{anchor:Se},ue)}else{var ze=ve(ve({},s.anchors.banner()),{overrides:Ge});Jr.showWithinBounds(Z,xe,{anchor:ze},ue)}},text:function(Ce){s4.updateText(G,Ce)},settings:E,getEl:function(){return G.element.dom},progressBar:{value:function(Ce){s4.updateProgress(G,Ce)}}}},C=function(E){E.close()},S=function(E){return E.settings};return{open:p,close:C,reposition:m,getArgs:S}}var uB=function(t,r){var o=null,s=function(){Ee(o)||(clearTimeout(o),o=null)},v=function(){for(var m=[],p=0;p<arguments.length;p++)m[p]=arguments[p];Ee(o)&&(o=setTimeout(function(){o=null,t.apply(null,m)},r))};return{cancel:s,throttle:v}},c4=function(t,r){var o=null,s=function(){Ee(o)||(clearTimeout(o),o=null)},v=function(){for(var m=[],p=0;p<arguments.length;p++)m[p]=arguments[p];s(),o=setTimeout(function(){o=null,t.apply(null,m)},r)};return{cancel:s,throttle:v}},lB=tinymce.util.Tools.resolve("tinymce.dom.TextSeeker"),sB=function(t,r){return t.isBlock(r)||er(["BR","IMG","HR","INPUT"],r.nodeName)||t.getContentEditable(r)==="false"},aA=function(t,r,o,s,v){var m=lB(t,function(p){return sB(t,p)});return _.from(m.backwards(r,o,s,v))},cB="[data-mce-autocompleter]",fB=function(t,r){return dk(le.fromDom(t.selection.getNode())).getOrThunk(function(){var o=le.fromHtml('<span data-mce-autocompleter="1" data-mce-bogus="1"></span>',t.getDoc());return Ji(o,le.fromDom(r.extractContents())),r.insertNode(o.dom),Ga(o).each(function(s){return s.dom.normalize()}),BC(o).map(function(s){t.selection.setCursorLocation(s.dom,RC(s))}),o})},dk=function(t){return bu(t,cB)},vB=function(t){return t.collapsed&&t.startContainer.nodeType===3},mk=function(t){return t.toString().replace(/\u00A0/g," ").replace(/\uFEFF/g,"")},oA=function(t){return t!==""&&` \xA0\f
\r	\v`.indexOf(t)!==-1},f4=function(t,r){return t.substring(r.length)},dB=function(t,r,o){var s;for(s=r-1;s>=0;s--){var v=t.charAt(s);if(oA(v))return _.none();if(v===o)break}return _.some(s)},iA=function(t,r,o,s){if(s===void 0&&(s=0),!vB(r))return _.none();var v=function(p,C,S){return dB(S,C,o).getOr(C)},m=t.getParent(r.startContainer,t.isBlock)||t.getRoot();return aA(t,r.startContainer,r.startOffset,v,m).bind(function(p){var C=r.cloneRange();if(C.setStart(p.container,p.offset),C.setEnd(r.endContainer,r.endOffset),C.collapsed)return _.none();var S=mk(C),E=S.lastIndexOf(o);return E!==0||f4(S,o).length<s?_.none():_.some({text:f4(S,o),range:C,triggerChar:o})})},v4=function(t,r,o,s){return s===void 0&&(s=0),dk(le.fromDom(r.startContainer)).fold(function(){return iA(t,r,o,s)},function(v){var m=t.createRng();m.selectNode(v.dom);var p=mk(m);return _.some({range:m,text:f4(p,o),triggerChar:o})})},mB=function(t,r){r.on("keypress compositionend",t.onKeypress.throttle),r.on("remove",t.onKeypress.cancel);var o=function(s,v){Rn(s,Kp(),{raw:v})};r.on("keydown",function(s){var v=function(){return t.getView().bind(Ur.getHighlighted)};s.which===8&&t.onKeypress.throttle(s),t.isActive()&&(s.which===27&&t.cancelIfNecessary(),t.isMenuOpen()?s.which===13?(v().each(Ff),s.preventDefault()):s.which===40?(v().fold(function(){t.getView().each(Ur.highlightFirst)},function(m){o(m,s)}),s.preventDefault(),s.stopImmediatePropagation()):(s.which===37||s.which===38||s.which===39)&&v().each(function(m){o(m,s),s.preventDefault(),s.stopImmediatePropagation()}):(s.which===13||s.which===38||s.which===40)&&t.cancelIfNecessary())}),r.on("NodeChange",function(s){t.isActive()&&!t.isProcessingAction()&&dk(le.fromDom(s.element)).isNone()&&t.cancelIfNecessary()})},gB={setup:mB},M2=tinymce.util.Tools.resolve("tinymce.util.Promise"),d4=function(t,r){return{container:t,offset:r}},m4=function(t){return t.nodeType===Nn},hB=function(t){return t.nodeType===cn},uA=function(t){if(m4(t))return d4(t,t.data.length);var r=t.childNodes;return r.length>0?uA(r[r.length-1]):d4(t,r.length)},lA=function(t,r){var o=t.childNodes;return o.length>0&&r<o.length?lA(o[r],0):o.length>0&&hB(t)&&o.length===r?uA(o[o.length-1]):d4(t,r)},pB=function(t,r){return aA(t,r.container,r.offset,function(o,s){return s===0?-1:s},t.getRoot()).filter(function(o){var s=o.container.data.charAt(o.offset-1);return!oA(s)}).isSome()},bB=function(t){return function(r){var o=lA(r.startContainer,r.startOffset);return!pB(t,o)}},yB=function(t,r,o){return la(o.triggerChars,function(s){return v4(t,r,s)})},wB=function(t,r){var o=r(),s=t.selection.getRng();return yB(t.dom,s,o).bind(function(v){return sA(t,r,v)})},sA=function(t,r,o,s){s===void 0&&(s={});var v=r(),m=t.selection.getRng(),p=m.startContainer.nodeValue,C=Re(v.lookupByChar(o.triggerChar),function(E){return o.text.length>=E.minChars&&E.matches.getOrThunk(function(){return bB(t.dom)})(o.range,p,o.text)});if(C.length===0)return _.none();var S=M2.all(Tt(C,function(E){var R=E.fetch(o.text,E.maxResults,s);return R.then(function(M){return{matchText:o.text,items:M,columns:E.columns,onAction:E.onAction,highlightOn:E.highlightOn}})}));return _.some({lookupData:S,context:o})},cA=kn([jn("type"),Ta("text")]),CB=function(t){return Xa("separatormenuitem",cA,t)},SB=kn([ke("type","autocompleteitem"),ke("active",!1),ke("disabled",!1),ke("meta",{}),jn("value"),Ta("text"),Ta("icon")]),g4=kn([jn("type"),jn("ch"),bc("minChars",1),ke("columns",1),bc("maxResults",10),dv("matches"),hu("fetch"),hu("onAction"),Mf("highlightOn",[],go)]),kB=function(t){return Xa("Autocompleter.Separator",cA,t)},xB=function(t){return Xa("Autocompleter.Item",SB,t)},TB=function(t){return Xa("Autocompleter",g4,t)},sp=[pa("disabled",!1),Ta("tooltip"),Ta("icon"),Ta("text"),Ea("onSetup",function(){return ge})],EB=kn([jn("type"),hu("onAction")].concat(sp)),gk=function(t){return Xa("toolbarbutton",EB,t)},h4=[pa("active",!1)].concat(sp),OB=kn(h4.concat([jn("type"),hu("onAction")])),fA=function(t){return Xa("ToggleButton",OB,t)},vA=[Ea("predicate",Zt),Ll("scope","node",["node","editor"]),Ll("position","selection",["node","selection","line"])],AB=sp.concat([ke("type","contextformbutton"),ke("primary",!1),hu("onAction"),Pu("original",dt)]),dA=h4.concat([ke("type","contextformbutton"),ke("primary",!1),hu("onAction"),Pu("original",dt)]),DB=sp.concat([ke("type","contextformbutton")]),p4=h4.concat([ke("type","contextformtogglebutton")]),b4=fs("type",{contextformbutton:AB,contextformtogglebutton:dA}),mA=kn([ke("type","contextform"),Ea("initValue",K("")),Ta("label"),eu("commands",b4),pc("launch",fs("type",{contextformbutton:DB,contextformtogglebutton:p4}))].concat(vA)),y4=function(t){return Xa("ContextForm",mA,t)},gA=kn([ke("type","contexttoolbar"),jn("items")].concat(vA)),hA=function(t){return Xa("ContextToolbar",gA,t)},Jv=function(t){var r={};return Ie(t,function(o){r[o]={}}),Xr(r)},w4=function(t){var r=t.ui.registry.getAll().popups,o=Lr(r,function(p){return TB(p).fold(function(C){throw new Error(vv(C))},dt)}),s=Jv(Co(o,function(p){return p.ch})),v=Po(o),m=function(p){return Re(v,function(C){return C.ch===p})};return{dataset:o,triggerChars:s,lookupByChar:m}},C4;(function(t){t[t.CLOSE_ON_EXECUTE=0]="CLOSE_ON_EXECUTE",t[t.BUBBLE_TO_SANDBOX=1]="BUBBLE_TO_SANDBOX"})(C4||(C4={}));var ev=C4,S4="tox-menu-nav__js",k4="tox-collection__item",Fg="tox-swatch",pA={normal:S4,color:Fg},bA="tox-collection__item--enabled",_B="tox-collection__group-heading",x4="tox-collection__item-icon",hk="tox-collection__item-label",T4="tox-collection__item-accessory",yA="tox-collection__item-caret",E4="tox-collection__item-checkmark",cp="tox-collection__item--active",wA="tox-collection__item-container",CA="tox-collection__item-container--column",O4="tox-collection__item-container--row",RB="tox-collection__item-container--align-right",BB="tox-collection__item-container--align-left",MB="tox-collection__item-container--valign-top",PB="tox-collection__item-container--valign-middle",$B="tox-collection__item-container--valign-bottom",SA=function(t){return bn(pA,t).getOr(S4)},NB=function(t){return t==="color"?"tox-swatches":"tox-menu"},A4=function(t){return{backgroundMenu:"tox-background-menu",selectedMenu:"tox-selected-menu",selectedItem:"tox-collection__item--active",hasIcons:"tox-menu--has-icons",menu:NB(t),tieredMenu:"tox-tiered-menu"}},pm=function(t){var r=A4(t);return{backgroundMenu:r.backgroundMenu,selectedMenu:r.selectedMenu,menu:r.menu,selectedItem:r.selectedItem,item:SA(t)}},kA=function(t,r,o){var s=A4(o);return{tag:"div",classes:nn([[s.menu,"tox-menu-"+r+"-column"],t?[s.hasIcons]:[]])}},xA=[yn.parts.items({})],pk=function(t,r,o){var s=A4(o),v={tag:"div",classes:nn([[s.tieredMenu]])};return{dom:v,markers:pm(o)}},D4=function(t,r){return function(o){var s=vo(o,r);return Tt(s,function(v){return{dom:t,components:v}})}},_4=function(t){return{dom:{tag:"div",classes:["tox-menu","tox-swatches-menu"]},components:[{dom:{tag:"div",classes:["tox-swatches"]},components:[yn.parts.items({preprocess:t!=="auto"?D4({tag:"div",classes:["tox-swatches__row"]},t):dt})]}]}},R4=function(t){return{dom:{tag:"div",classes:["tox-menu","tox-collection","tox-collection--toolbar","tox-collection--toolbar-lg"]},components:[yn.parts.items({preprocess:D4({tag:"div",classes:["tox-collection__group"]},t)})]}},B4=function(t,r){var o=[],s=[];return Ie(t,function(v,m){r(v,m)?(s.length>0&&o.push(s),s=[],Cr(v.dom,"innerHtml")&&s.push(v)):s.push(v)}),s.length>0&&o.push(s),Tt(o,function(v){return{dom:{tag:"div",classes:["tox-collection__group"]},components:v}})},bk=function(t,r,o){return{dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(t===1?["tox-collection--list"]:["tox-collection--grid"])},components:[yn.parts.items({preprocess:function(s){return t!=="auto"&&t>1?D4({tag:"div",classes:["tox-collection__group"]},t)(s):B4(s,function(v,m){return r[m].type==="separator"})}})]}},TA=function(t,r){return{dom:{tag:"div",classes:["tox-collection","tox-collection--horizontal"]},components:[yn.parts.items({preprocess:function(o){return B4(o,function(s,v){return t[v].type==="separator"})}})]}},yk=function(t){return ua(t,function(r){return"icon"in r&&r.icon!==void 0})},tv=function(t){return console.error(vv(t)),console.log(t),_.none()},FB=function(t,r,o,s,v){var m=TA(o);return{value:t,dom:m.dom,components:m.components,items:o}},wk=function(t,r,o,s,v){if(v==="color"){var m=_4(s);return{value:t,dom:m.dom,components:m.components,items:o}}if(v==="normal"&&s==="auto"){var m=bk(s,o);return{value:t,dom:m.dom,components:m.components,items:o}}if(v==="normal"&&s===1){var m=bk(1,o);return{value:t,dom:m.dom,components:m.components,items:o}}if(v==="normal"){var m=bk(s,o);return{value:t,dom:m.dom,components:m.components,items:o}}if(v==="listpreview"&&s!=="auto"){var m=R4(s);return{value:t,dom:m.dom,components:m.components,items:o}}return{value:t,dom:kA(r,s,v),components:xA,items:o}},EA=[jn("type"),jn("src"),Ta("alt"),Mf("classes",[],go)],P2=kn(EA),zB=[jn("type"),jn("text"),Ta("name"),Mf("classes",["tox-collection__item-label"],go)],M4=kn(zB),fp=Rw(function(){return Gp("type",{cardimage:P2,cardtext:M4,cardcontainer:IB})}),IB=kn([jn("type"),Lm("direction","horizontal"),Lm("align","left"),Lm("valign","middle"),eu("items",fp)]),vp=[pa("disabled",!1),Ta("text"),Ta("shortcut"),Yo("value","value",pr(function(){return un("menuitem-value")}),zs()),ke("meta",{})],OA=kn([jn("type"),Ta("label"),eu("items",fp),Ea("onSetup",function(){return ge}),Ea("onAction",ge)].concat(vp)),AA=function(t){return Xa("cardmenuitem",OA,t)},P4=kn([jn("type"),pa("active",!1),Ta("icon")].concat(vp)),DA=function(t){return Xa("choicemenuitem",P4,t)},_A=[jn("type"),jn("fancytype"),Ea("onAction",ge)],LB=[ke("initData",{})].concat(_A),Ck=[p0("initData",{},[pa("allowCustomColors",!0),hl("colors",zs())])].concat(_A),VB=fs("fancytype",{inserttable:LB,colorswatch:Ck}),RA=function(t){return Xa("fancymenuitem",VB,t)},Nb=kn([jn("type"),Ea("onSetup",function(){return ge}),Ea("onAction",ge),Ta("icon")].concat(vp)),HB=function(t){return Xa("menuitem",Nb,t)},UB=kn([jn("type"),hu("getSubmenuItems"),Ea("onSetup",function(){return ge}),Ta("icon")].concat(vp)),WB=function(t){return Xa("nestedmenuitem",UB,t)},BA=kn([jn("type"),Ta("icon"),pa("active",!1),Ea("onSetup",function(){return ge}),hu("onAction")].concat(vp)),MA=function(t){return Xa("togglemenuitem",BA,t)},$4=function(t,r,o){var s=li(t.element,"."+o);if(s.length>0){var v=zn(s,function(m){var p=m.dom.getBoundingClientRect().top,C=s[0].dom.getBoundingClientRect().top;return Math.abs(p-C)>r}).getOr(s.length);return _.some({numColumns:v,numRows:Math.ceil(s.length/v)})}else return _.none()},PA=function(t,r){return zt([ar(t,r)])},jB=function(t){return PA(un("unnamed-events"),t)},Sk={namedEvents:PA,unnamedEvents:jB},$A=un("tooltip.exclusive"),zg=un("tooltip.show"),$2=un("tooltip.hide"),NA=function(t,r,o){t.getSystem().broadcastOn([$A],{})},N4=function(t,r,o,s){o.getTooltip().each(function(v){v.getSystem().isConnected()&&Kn.set(v,s)})},FA=Object.freeze({__proto__:null,hideAllExclusive:NA,setComponents:N4}),GB=function(t,r){var o=function(v){r.getTooltip().each(function(m){ps(m),t.onHide(v,m),r.clearTooltip()}),r.clearTimer()},s=function(v){if(!r.isShowing()){NA(v);var m=t.lazySink(v).getOrDie(),p=v.getSystem().build({dom:t.tooltipDom,components:t.tooltipComponents,events:Oa(t.mode==="normal"?[ft($f(),function(C){dr(v,zg)}),ft(S0(),function(C){dr(v,$2)})]:[]),behaviours:zt([Kn.config({})])});r.setTooltip(p),ru(m,p),t.onShow(v,p),Lu.position(m,p,{anchor:t.anchor(v)})}};return Oa(nn([[ft(zg,function(v){r.resetTimer(function(){s(v)},t.delay)}),ft($2,function(v){r.resetTimer(function(){o(v)},t.delay)}),ft(ds(),function(v,m){var p=m;p.universal||er(p.channels,$A)&&o(v)}),yl(function(v){o(v)})],t.mode==="normal"?[ft(vs(),function(v){dr(v,zg)}),ft(E0(),function(v){dr(v,$2)}),ft($f(),function(v){dr(v,zg)}),ft(S0(),function(v){dr(v,$2)})]:[ft(Vw(),function(v,m){dr(v,zg)}),ft(sh(),function(v){dr(v,$2)})]]))},zA=Object.freeze({__proto__:null,events:GB}),IA=[it("lazySink"),it("tooltipDom"),ke("exclusive",!0),ke("tooltipComponents",[]),ke("delay",300),Ll("mode","normal",["normal","follow-highlight"]),ke("anchor",function(t){return{type:"hotspot",hotspot:t,layouts:{onLtr:K([Li,tl,nu,yu,Jo,Ti]),onRtl:K([Li,tl,nu,yu,Jo,Ti])}}}),sr("onHide"),sr("onShow")],LA=function(){var t=so(),r=so(),o=function(){t.on(clearTimeout)},s=function(m,p){o(),t.set(setTimeout(m,p))},v=K("not-implemented");return Si({getTooltip:r.get,isShowing:r.isSet,setTooltip:r.set,clearTooltip:r.clear,clearTimer:o,resetTimer:s,readState:v})},VA=Object.freeze({__proto__:null,init:LA}),HA=po({fields:IA,name:"tooltipping",active:zA,state:VA,apis:FA}),qB=function(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")},N2=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),KB=tinymce.util.Tools.resolve("tinymce.EditorManager"),F4=function(t){var r=t.getParam("skin"),o=t.getParam("skin_url");if(r!==!1){var s=r||"oxide";o?o=t.documentBaseURI.toAbsolute(o):o=KB.baseURL+"/skins/ui/"+s}return o},z4=function(t){return t.getParam("readonly",!1,"boolean")},UA=function(t){return t.getParam("skin")===!1},WA=function(t){return t.getParam("height",Math.max(t.getElement().offsetHeight,200))},I4=function(t){return t.getParam("width",N2.DOM.getStyle(t.getElement(),"width"))},jA=function(t){return _.from(t.getParam("min_width")).filter(xn)},GA=function(t){return _.from(t.getParam("min_height")).filter(xn)},L4=function(t){return _.from(t.getParam("max_width")).filter(xn)},V4=function(t){return _.from(t.getParam("max_height")).filter(xn)},qA=function(t){return _.from(t.getParam("style_formats")).filter(Fe)},KA=function(t){return t.getParam("style_formats_merge",!1,"boolean")},XB=function(t){return t.getParam("lineheight_formats","1 1.1 1.2 1.3 1.4 1.5 2","string").split(" ")},YB=function(t){return t.getParam("content_langs",void 0,"array")},JB=function(t){return t.getParam("removed_menuitems","")},H4=function(t){return t.getParam("menubar",!0,"boolean")!==!1},U4=function(t){var r=t.getParam("toolbar",!0),o=r===!0,s=_t(r),v=Fe(r)&&r.length>0;return!kk(t)&&(v||s||o)},XA=function(t){var r=te(9,function(s){return t.getParam("toolbar"+(s+1),!1,"string")}),o=Re(r,function(s){return typeof s=="string"});return o.length>0?_.some(o):_.none()},kk=function(t){return XA(t).fold(function(){var r=t.getParam("toolbar",[],"string[]");return r.length>0},st)},rc;(function(t){t.default="wrap",t.floating="floating",t.sliding="sliding",t.scrolling="scrolling"})(rc||(rc={}));var F2=function(t){return t.getParam("toolbar_mode","","string")},dp;(function(t){t.auto="auto",t.top="top",t.bottom="bottom"})(dp||(dp={}));var ZB=function(t){return t.getParam("toolbar_groups",{},"object")},W4=function(t){return t.getParam("toolbar_location",dp.auto,"string")},YA=function(t){return W4(t)===dp.bottom},QB=function(t){return t.getParam("fixed_toolbar_container","","string")},e8=function(t){return t.getParam("fixed_toolbar_container_target")},t8=function(t){return t.getParam("toolbar_persist",!1,"boolean")},JA=function(t){if(!t.inline)return _.none();var r=QB(t);if(r.length>0)return Io(Go(),r);var o=e8(t);return se(o)?_.some(le.fromDom(o)):_.none()},xk=function(t){return t.inline&&JA(t).isSome()},z2=function(t){var r=JA(t);return r.getOrThunk(function(){return na(xa(le.fromDom(t.getElement())))})},j4=function(t){return t.inline&&!H4(t)&&!U4(t)&&!kk(t)},Tk=function(t){var r=t.getParam("toolbar_sticky",!1,"boolean");return(r||t.inline)&&!xk(t)&&!j4(t)},n8=function(t){return t.getParam("toolbar_sticky_offset",0,"number")},r8=function(t){return t.getParam("draggable_modal",!1,"boolean")},a8=function(t){var r=t.getParam("menu");return r?Lr(r,function(o){return ve(ve({},o),{items:o.items})}):{}},o8=function(t){return t.getParam("menubar")},G4=function(t){return t.getParam("toolbar",!0)},ZA=function(t){return t.getParam("file_picker_callback")},QA=function(t){return t.getParam("file_picker_types")},i8=function(t){return t.getParam("file_browser_callback_types")},eD=function(t){return t.getParam("typeahead_urls")===!1},u8=function(t){return t.getParam("anchor_top","#top")},l8=function(t){return t.getParam("anchor_bottom","#bottom")},s8=function(t){var r=t.getParam("file_picker_validator_handler",void 0,"function");return r===void 0?t.getParam("filepicker_validator_handler",void 0,"function"):r},q4="silver.readonly",c8=kn([Jx("readonly")]),Fb=function(t,r){var o=t.outerContainer,s=o.element;r&&(t.mothership.broadcastOn([Jd()],{target:s}),t.uiMothership.broadcastOn([Jd()],{target:s})),t.mothership.broadcastOn([q4],{readonly:r}),t.uiMothership.broadcastOn([q4],{readonly:r})},tD=function(t,r){t.on("init",function(){t.mode.isReadOnly()&&Fb(r,!0)}),t.on("SwitchMode",function(){return Fb(r,t.mode.isReadOnly())}),z4(t)&&t.setMode("readonly")},vi=function(){var t;return Sl.config({channels:(t={},t[q4]={schema:c8,onReceive:function(r,o){Tn.set(r,o.readonly)}},t)})},f8=function(t){return Tn.config({disabled:t,disableClass:"tox-collection__item--state-disabled"})},v8=function(t){return Tn.config({disabled:t})},K4=function(t){return Tn.config({disabled:t,disableClass:"tox-tbtn--disabled"})},X4=function(t){return Tn.config({disabled:t,disableClass:"tox-tbtn--disabled",useNative:!1})},ac={item:f8,button:v8,splitButton:K4,toolbarButton:X4},I2=function(t,r){var o=t.getApi(r);return function(s){s(o)}},L2=function(t,r){return Ha(function(o){var s=I2(t,o);s(function(v){var m=t.onSetup(v);Gt(m)&&r.set(m)})})},V2=function(t,r){return yl(function(o){return I2(t,o)(r.get())})},zb,Y4=function(t,r){return js(function(o,s){I2(t,o)(t.onAction),!t.triggersSubmenu&&r===ev.CLOSE_ON_EXECUTE&&(dr(o,lh()),s.stop())})},Ek=(zb={},zb[Hl()]=["disabling","alloy.base.behaviour","toggling","item-events"],zb),mp=Pr,Ib=function(t,r,o,s){var v=Dn(ge);return{type:"item",dom:r.dom,components:mp(r.optComponents),data:t.data,eventOrder:Ek,hasSubmenu:t.triggersSubmenu,itemBehaviours:zt([ar("item-events",[Y4(t,o),L2(t,v),V2(t,v)]),ac.item(function(){return t.disabled||s.isDisabled()}),vi(),Kn.config({})].concat(t.itemBehaviours))}},Lb=function(t){return{value:t.value,meta:ve({text:t.text.getOr("")},t.meta)}},J4=tinymce.util.Tools.resolve("tinymce.Env"),d8=function(t){var r={alt:"&#x2325;",ctrl:"&#x2303;",shift:"&#x21E7;",meta:"&#x2318;",access:"&#x2303;&#x2325;"},o={meta:"Ctrl",access:"Shift+Alt"},s=J4.mac?r:o,v=t.split("+"),m=Tt(v,function(p){var C=p.toLowerCase().trim();return Cr(s,C)?s[C]:p});return J4.mac?m.join(""):m.join("+")},Z4=function(t,r,o){return o===void 0&&(o=[x4]),Qf(t,{tag:"div",classes:o},r)},nD=function(t){return{dom:{tag:"div",classes:[hk]},components:[kv(nc.translate(t))]}},rD=function(t,r){return{dom:{tag:"div",classes:r,innerHtml:t}}},m8=function(t,r){return{dom:{tag:"div",classes:[hk]},components:[{dom:{tag:t.tag,styles:t.styles},components:[kv(nc.translate(r))]}]}},g8=function(t){return{dom:{tag:"div",classes:[T4],innerHtml:d8(t)}}},aD=function(t){return Z4("checkmark",t,[E4])},h8=function(t){return Z4("chevron-right",t,[yA])},p8=function(t){return Z4("chevron-down",t,[yA])},b8=function(t,r){var o=t.direction==="vertical"?CA:O4,s=t.align==="left"?BB:RB,v=function(){switch(t.valign){case"top":return MB;case"middle":return PB;case"bottom":return $B}};return{dom:{tag:"div",classes:[wA,o,s,v()]},components:r}},oD=function(t,r,o){return{dom:{tag:"img",classes:r,attributes:{src:t,alt:o.getOr("")}}}},y8=function(t,r,o){var s="custom",v="remove",m=t.ariaLabel,p=t.value,C=t.iconContent.map(function(E){return rA(E,r.icons,o)}),S=function(){var E=Fg,R=C.getOr(""),M=m.map(function(G){return{title:r.translate(G)}}).getOr({}),H={tag:"div",attributes:M,classes:[E]};return p===s?ve(ve({},H),{tag:"button",classes:En(En([],H.classes,!0),["tox-swatches__picker-btn"],!1),innerHtml:R}):p===v?ve(ve({},H),{classes:En(En([],H.classes,!0),["tox-swatch--remove"],!1),innerHtml:R}):ve(ve({},H),{attributes:ve(ve({},H.attributes),{"data-mce-color":p}),styles:{"background-color":p}})};return{dom:S(),optComponents:[]}},iD=function(t){var r=t.map(function(o){return{attributes:{title:nc.translate(o)}}}).getOr({});return ve({tag:"div",classes:[S4,k4]},r)},bm=function(t,r,o,s){var v={tag:"div",classes:[x4]},m=function(H){return Qf(H,v,r.icons,s)},p=function(){return _.some({dom:v})},C=o?t.iconContent.map(m).orThunk(p):_.none(),S=t.checkMark,E=_.from(t.meta).fold(function(){return nD},function(H){return Cr(H,"style")?Ht(m8,H.style):nD}),R=t.htmlContent.fold(function(){return t.textContent.map(E)},function(H){return _.some(rD(H,[hk]))}),M={dom:iD(t.ariaLabel),optComponents:[C,R,t.shortcutContent.map(g8),S,t.caret]};return M},H2=function(t,r,o,s){return s===void 0&&(s=_.none()),t.presets==="color"?y8(t,r,s):bm(t,r,o,s)},uD=function(t,r){return bn(t,"tooltipWorker").map(function(o){return[HA.config({lazySink:r.getSink,tooltipDom:{tag:"div",classes:["tox-tooltip-worker-container"]},tooltipComponents:[],anchor:function(s){return{type:"submenu",item:s,overrides:{maxHeightFunction:lg}}},mode:"follow-highlight",onShow:function(s,v){o(function(m){HA.setComponents(s,[gh({element:le.fromDom(m)})])})}})]}).getOr([])},Q4=function(t){return N2.DOM.encode(t)},Di=function(t,r){var o=nc.translate(t),s=Q4(o);if(r.length>0){var v=new RegExp(qB(r),"gi");return s.replace(v,function(m){return'<span class="tox-autocompleter-highlight">'+m+"</span>"})}else return s},w8=function(t,r,o,s,v,m,p,C){C===void 0&&(C=!0);var S=H2({presets:s,textContent:_.none(),htmlContent:o?t.text.map(function(E){return Di(E,r)}):_.none(),ariaLabel:t.text,iconContent:t.icon,shortcutContent:_.none(),checkMark:_.none(),caret:_.none(),value:t.value},p.providers,C,t.icon);return Ib({data:Lb(t),disabled:t.disabled,getApi:K({}),onAction:function(E){return v(t.value,t.meta)},onSetup:K(ge),triggersSubmenu:!1,itemBehaviours:uD(t.meta,p)},S,m,p.providers)},lD=function(t,r){return Tt(t,function(o){switch(o.type){case"cardcontainer":return b8(o,lD(o.items,r));case"cardimage":return oD(o.src,o.classes,o.alt);case"cardtext":var s=o.name.exists(function(m){return er(r.cardText.highlightOn,m)}),v=s?_.from(r.cardText.matchText).getOr(""):"";return rD(Di(o.text,v),o.classes)}})},C8=function(t,r,o,s){var v=function(p){return{isDisabled:function(){return Tn.isDisabled(p)},setDisabled:function(C){Tn.set(p,C),Ie(li(p.element,"*"),function(S){p.getSystem().getByDom(S).each(function(E){E.hasConfigured(Tn)&&Tn.set(E,C)})})}}},m={dom:iD(t.label),optComponents:[_.some({dom:{tag:"div",classes:[wA,O4]},components:lD(t.items,s)})]};return Ib({data:Lb(ve({text:_.none()},t)),disabled:t.disabled,getApi:v,onAction:t.onAction,onSetup:t.onSetup,triggersSubmenu:!1,itemBehaviours:_.from(s.itemBehaviours).getOr([])},m,r,o.providers)},S8=function(t,r,o,s,v,m,p,C){C===void 0&&(C=!0);var S=function(R){return{setActive:function(M){xr.set(R,M)},isActive:function(){return xr.isOn(R)},isDisabled:function(){return Tn.isDisabled(R)},setDisabled:function(M){return Tn.set(R,M)}}},E=H2({presets:o,textContent:r?t.text:_.none(),htmlContent:_.none(),ariaLabel:t.text,iconContent:t.icon,shortcutContent:r?t.shortcut:_.none(),checkMark:r?_.some(aD(p.icons)):_.none(),caret:_.none(),value:t.value},p,C);return Je(Ib({data:Lb(t),disabled:t.disabled,getApi:S,onAction:function(R){return s(t.value)},onSetup:function(R){return R.setActive(v),ge},triggersSubmenu:!1,itemBehaviours:[]},E,m,p),{toggling:{toggleClass:bA,toggleOnExecute:!1,selected:t.active}})},sD=Nh(T(),D()),cD=function(t){return{value:t}},fD=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,vD=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,dD=function(t){return fD.test(t)||vD.test(t)},k8=function(t){return oi(t,"#").toUpperCase()},x8=function(t){return dD(t)?_.some({value:k8(t)}):_.none()},T8=function(t){var r=t.value.replace(fD,function(o,s,v,m){return s+s+v+v+m+m});return{value:r}},E8=function(t){var r=T8(t),o=vD.exec(r.value);return o===null?["FFFFFF","FF","FF","FF"]:o},eE=function(t){var r=t.toString(16);return(r.length===1?"0"+r:r).toUpperCase()},U2=function(t){var r=eE(t.red)+eE(t.green)+eE(t.blue);return cD(r)},mD=Math.min,gD=Math.max,Ok=Math.round,O8=/^rgb\((\d+),\s*(\d+),\s*(\d+)\)/,A8=/^rgba\((\d+),\s*(\d+),\s*(\d+),\s*(\d?(?:\.\d+)?)\)/,Ig=function(t,r,o,s){return{red:t,green:r,blue:o,alpha:s}},tE=function(t){var r=parseInt(t,10);return r.toString()===t&&r>=0&&r<=255},hD=function(t){var r,o,s,v=(t.hue||0)%360,m=t.saturation/100,p=t.value/100;if(m=gD(0,mD(m,1)),p=gD(0,mD(p,1)),m===0)return r=o=s=Ok(255*p),Ig(r,o,s,1);var C=v/60,S=p*m,E=S*(1-Math.abs(C%2-1)),R=p-S;switch(Math.floor(C)){case 0:r=S,o=E,s=0;break;case 1:r=E,o=S,s=0;break;case 2:r=0,o=S,s=E;break;case 3:r=0,o=E,s=S;break;case 4:r=E,o=0,s=S;break;case 5:r=S,o=0,s=E;break;default:r=o=s=0}return r=Ok(255*(r+R)),o=Ok(255*(o+R)),s=Ok(255*(s+R)),Ig(r,o,s,1)},W2=function(t){var r=E8(t),o=parseInt(r[1],16),s=parseInt(r[2],16),v=parseInt(r[3],16);return Ig(o,s,v,1)},pD=function(t,r,o,s){var v=parseInt(t,10),m=parseInt(r,10),p=parseInt(o,10),C=parseFloat(s);return Ig(v,m,p,C)},bD=function(t){if(t==="transparent")return _.some(Ig(0,0,0,0));var r=O8.exec(t);if(r!==null)return _.some(pD(r[1],r[2],r[3],"1"));var o=A8.exec(t);return o!==null?_.some(pD(o[1],o[2],o[3],o[4])):_.none()},nE=function(t){return"rgba("+t.red+","+t.green+","+t.blue+","+t.alpha+")"},yD=Ig(255,0,0,1),D8=function(t){return t.fire("SkinLoaded")},_8=function(t,r){return t.fire("SkinLoadError",r)},wD=function(t){return t.fire("ResizeEditor")},rE=function(t,r){return t.fire("ResizeContent",r)},R8=function(t,r){return t.fire("ScrollContent",r)},B8=function(t,r){return t.fire("TextColorChange",r)},j2=function(t,r,o){return{hue:t,saturation:r,value:o}},Ak=function(t){var r=0,o=0,s=0,v=t.red/255,m=t.green/255,p=t.blue/255,C=Math.min(v,Math.min(m,p)),S=Math.max(v,Math.max(m,p));if(C===S)return s=C,j2(0,0,s*100);var E=v===C?m-p:p===C?v-m:p-v;return r=v===C?3:p===C?1:5,r=60*(r-E/(S-C)),o=(S-C)/S,s=S,j2(Math.round(r),Math.round(o*100),Math.round(s*100))},M8=function(t){return Ak(W2(t))},aE=function(t){return U2(hD(t))},CD=function(t){return x8(t).orThunk(function(){return bD(t).map(U2)}).getOrThunk(function(){var r=document.createElement("canvas");r.height=1,r.width=1;var o=r.getContext("2d");o.clearRect(0,0,r.width,r.height),o.fillStyle="#FFFFFF",o.fillStyle=t,o.fillRect(0,0,1,1);var s=o.getImageData(0,0,1,1).data,v=s[0],m=s[1],p=s[2],C=s[3];return U2(Ig(v,m,p,C))})},Dk=tinymce.util.Tools.resolve("tinymce.util.LocalStorage"),oE="tinymce-custom-colors";function P8(t){t===void 0&&(t=10);var r=Dk.getItem(oE),o=_t(r)?JSON.parse(r):[],s=function(S){var E=t-S.length;return E<0?S.slice(0,t):S},v=s(o),m=function(S){mi(v,S).each(p),v.unshift(S),v.length>t&&v.pop(),Dk.setItem(oE,JSON.stringify(v))},p=function(S){v.splice(S,1)},C=function(){return v.slice(0)};return{add:m,state:C}}var _i="choiceitem",$8=[{type:_i,text:"Light Green",value:"#BFEDD2"},{type:_i,text:"Light Yellow",value:"#FBEEB8"},{type:_i,text:"Light Red",value:"#F8CAC6"},{type:_i,text:"Light Purple",value:"#ECCAFA"},{type:_i,text:"Light Blue",value:"#C2E0F4"},{type:_i,text:"Green",value:"#2DC26B"},{type:_i,text:"Yellow",value:"#F1C40F"},{type:_i,text:"Red",value:"#E03E2D"},{type:_i,text:"Purple",value:"#B96AD9"},{type:_i,text:"Blue",value:"#3598DB"},{type:_i,text:"Dark Turquoise",value:"#169179"},{type:_i,text:"Orange",value:"#E67E23"},{type:_i,text:"Dark Red",value:"#BA372A"},{type:_i,text:"Dark Purple",value:"#843FA1"},{type:_i,text:"Dark Blue",value:"#236FA1"},{type:_i,text:"Light Gray",value:"#ECF0F1"},{type:_i,text:"Medium Gray",value:"#CED4D9"},{type:_i,text:"Gray",value:"#95A5A6"},{type:_i,text:"Dark Gray",value:"#7E8C8D"},{type:_i,text:"Navy Blue",value:"#34495E"},{type:_i,text:"Black",value:"#000000"},{type:_i,text:"White",value:"#ffffff"}],SD=P8(10),N8=function(t){for(var r=[],o=0;o<t.length;o+=2)r.push({text:t[o+1],value:"#"+CD(t[o]).value,type:"choiceitem"});return r},F8=function(t,r){return t.getParam("color_cols",r,"number")},_k=function(t){return t.getParam("custom_colors")!==!1},kD=function(t){return t.getParam("color_map")},iE=function(t){var r=kD(t);return r!==void 0?N8(r):$8},xD=function(){return Tt(SD.state(),function(t){return{type:_i,text:t,value:t}})},TD=function(t){SD.add(t)},uE="#000000",lE=function(t,r){var o;return t.dom.getParents(t.selection.getStart(),function(s){var v;(v=s.style[r==="forecolor"?"color":"background-color"])&&(o=o||v)}),_.from(o)},z8=function(t,r,o){t.undoManager.transact(function(){t.focus(),t.formatter.apply(r,{value:o}),t.nodeChanged()})},I8=function(t,r){t.undoManager.transact(function(){t.focus(),t.formatter.remove(r,{value:null},null,!0),t.nodeChanged()})},L8=function(t){t.addCommand("mceApplyTextcolor",function(r,o){z8(t,r,o)}),t.addCommand("mceRemoveTextcolor",function(r){I8(t,r)})},ED=function(t){return Math.max(5,Math.ceil(Math.sqrt(t)))},OD=function(t){var r=iE(t),o=ED(r.length);return F8(t,o)},sE=function(t){var r="choiceitem",o={type:r,text:"Remove color",icon:"color-swatch-remove-color",value:"remove"},s={type:r,text:"Custom color",icon:"color-picker",value:"custom"};return t?[o,s]:[o]},cE=function(t,r,o,s){if(o==="custom"){var v=BD(t);v(function(m){m.each(function(p){TD(p),t.execCommand("mceApplyTextcolor",r,p),s(p)})},uE)}else o==="remove"?(s(""),t.execCommand("mceRemoveTextcolor",r)):(s(o),t.execCommand("mceApplyTextcolor",r,o))},Vb=function(t,r){return t.concat(xD().concat(sE(r)))},AD=function(t,r){return function(o){o(Vb(t,r))}},DD=function(t,r,o){var s=r==="forecolor"?"tox-icon-text-color__color":"tox-icon-highlight-bg-color__color";t.setIconFill(s,o)},_D=function(t,r,o,s,v){t.ui.registry.addSplitButton(r,{tooltip:s,presets:"color",icon:r==="forecolor"?"text-color":"highlight-bg-color",select:function(m){var p=lE(t,o);return p.bind(function(C){return bD(C).map(function(S){var E=U2(S).value;return Fr(m.toLowerCase(),E)})}).getOr(!1)},columns:OD(t),fetch:AD(iE(t),_k(t)),onAction:function(m){cE(t,o,v.get(),ge)},onItemAction:function(m,p){cE(t,o,p,function(C){v.set(C),B8(t,{name:r,color:C})})},onSetup:function(m){DD(m,r,v.get());var p=function(C){C.name===r&&DD(m,C.name,C.color)};return t.on("TextColorChange",p),function(){t.off("TextColorChange",p)}}})},RD=function(t,r,o,s){t.ui.registry.addNestedMenuItem(r,{text:s,icon:r==="forecolor"?"text-color":"highlight-bg-color",getSubmenuItems:function(){return[{type:"fancymenuitem",fancytype:"colorswatch",onAction:function(v){cE(t,o,v.value,ge)}}]}})},BD=function(t){return function(r,o){var s=!1,v=function(C){var S=C.getData(),E=S.colorpicker;s?(r(_.from(E)),C.close()):t.windowManager.alert(t.translate(["Invalid hex color code: {0}",E]))},m=function(C,S){S.name==="hex-valid"&&(s=S.value)},p={colorpicker:o};t.windowManager.open({title:"Color Picker",size:"normal",body:{type:"panel",items:[{type:"colorpicker",name:"colorpicker",label:"Color"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:p,onAction:m,onSubmit:v,onClose:ge,onCancel:function(){r(_.none())}})}},V8=function(t){L8(t);var r=Dn(uE),o=Dn(uE);_D(t,"forecolor","forecolor","Text color",r),_D(t,"backcolor","hilitecolor","Background color",o),RD(t,"forecolor","forecolor","Text color"),RD(t,"backcolor","hilitecolor","Background color")},Rk=function(t,r,o,s,v,m,p,C){var S=yk(r),E=v!=="color"?"normal":"color",R=MD(r,o,s,E,m,p,C);return wk(t,S,R,s,v)},MD=function(t,r,o,s,v,m,p){return Pr(Tt(t,function(C){return C.type==="choiceitem"?DA(C).fold(tv,function(S){return _.some(S8(S,o===1,s,r,m(C.value),v,p,yk(t)))}):_.none()}))},G2=function(t,r){var o=pm(r);if(t===1)return{mode:"menu",moveOnTab:!0};if(t==="auto")return{mode:"grid",selector:"."+o.item,initSize:{numColumns:1,numRows:1}};var s=r==="color"?"tox-swatches__row":"tox-collection__group";return{mode:"matrix",rowSelector:"."+s}},H8=function(t,r){return t===1?{mode:"menu",moveOnTab:!1,selector:".tox-collection__item"}:t==="auto"?{mode:"flatgrid",selector:".tox-collection__item",initSize:{numColumns:1,numRows:1}}:{mode:"matrix",selectors:{row:r==="color"?".tox-swatches__row":".tox-collection__group",cell:r==="color"?"."+Fg:"."+k4}}},fE=function(t,r){var o=U8(t,r),s=r.colorinput.getColorCols(),v="color",m=Rk(un("menu-value"),o,function(C){t.onAction({value:C})},s,v,ev.CLOSE_ON_EXECUTE,Zt,r.shared.providers),p=ve(ve({},m),{markers:pm(v),movement:G2(s,v)});return{type:"widget",data:{value:un("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[sD.widget(yn.sketch(p))]}},U8=function(t,r){var o=t.initData.allowCustomColors&&r.colorinput.hasCustomColors();return t.initData.colors.fold(function(){return Vb(r.colorinput.getColors(),o)},function(s){return s.concat(sE(o))})},PD=un("cell-over"),$D=un("cell-execute"),W8=function(t,r,o){var s,v=function(C){return Rn(C,PD,{row:t,col:r})},m=function(C){return Rn(C,$D,{row:t,col:r})},p=function(C,S){S.stop(),m(C)};return Eo({dom:{tag:"div",attributes:(s={role:"button"},s["aria-labelledby"]=o,s)},behaviours:zt([ar("insert-table-picker-cell",[ft($f(),Vn.focus),ft(Hl(),m),ft(Wm(),p),ft(hv(),p)]),xr.config({toggleClass:"tox-insert-table-picker__selected",toggleOnExecute:!1}),Vn.config({onFocus:v})])})},j8=function(t,r,o){for(var s=[],v=0;v<r;v++){for(var m=[],p=0;p<o;p++)m.push(W8(v,p,t));s.push(m)}return s},G8=function(t,r,o,s,v){for(var m=0;m<s;m++)for(var p=0;p<v;p++)xr.set(t[m][p],m<=r&&p<=o)},q8=function(t){return Ln(t,function(r){return Tt(r,jl)})},ND=function(t,r){return kv(r+"x"+t)},K8=function(t){var r=10,o=10,s=un("size-label"),v=j8(s,r,o),m=ND(0,0),p=qr({dom:{tag:"span",classes:["tox-insert-table-picker__label"],attributes:{id:s}},components:[m],behaviours:zt([Kn.config({})])});return{type:"widget",data:{value:un("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[sD.widget({dom:{tag:"div",classes:["tox-insert-table-picker"]},components:q8(v).concat(p.asSpec()),behaviours:zt([ar("insert-table-picker",[Ha(function(C){Kn.set(p.get(C),[m])}),pv(PD,function(C,S,E){var R=E.event,M=R.row,H=R.col;G8(v,M,H,r,o),Kn.set(p.get(C),[ND(M+1,H+1)])}),pv($D,function(C,S,E){var R=E.event,M=R.row,H=R.col;t.onAction({numRows:M+1,numColumns:H+1}),dr(C,lh())})]),Bn.config({initSize:{numRows:r,numColumns:o},mode:"flatgrid",selector:'[role="button"]'})])})]}},X8={inserttable:K8,colorswatch:fE},Y8=function(t,r){return bn(X8,t.fancytype).map(function(o){return o(t,r)})},J8=function(t,r,o,s,v){s===void 0&&(s=!0),v===void 0&&(v=!1);var m=v?p8(o.icons):h8(o.icons),p=function(S){return{isDisabled:function(){return Tn.isDisabled(S)},setDisabled:function(E){return Tn.set(S,E)}}},C=H2({presets:"normal",iconContent:t.icon,textContent:t.text,htmlContent:_.none(),ariaLabel:t.text,caret:_.some(m),checkMark:_.none(),shortcutContent:t.shortcut},o,s);return Ib({data:Lb(t),getApi:p,disabled:t.disabled,onAction:ge,onSetup:t.onSetup,triggersSubmenu:!0,itemBehaviours:[]},C,r,o)},FD=function(t,r,o,s){s===void 0&&(s=!0);var v=function(p){return{isDisabled:function(){return Tn.isDisabled(p)},setDisabled:function(C){return Tn.set(p,C)}}},m=H2({presets:"normal",iconContent:t.icon,textContent:t.text,htmlContent:_.none(),ariaLabel:t.text,caret:_.none(),checkMark:_.none(),shortcutContent:t.shortcut},o,s);return Ib({data:Lb(t),getApi:v,disabled:t.disabled,onAction:t.onAction,onSetup:t.onSetup,triggersSubmenu:!1,itemBehaviours:[]},m,r,o)},Z8=function(t){var r=t.text.fold(function(){return{}},function(o){return{innerHtml:o}});return{type:"separator",dom:ve({tag:"div",classes:[k4,_B]},r),components:[]}},Q8=function(t,r,o,s){s===void 0&&(s=!0);var v=function(p){return{setActive:function(C){xr.set(p,C)},isActive:function(){return xr.isOn(p)},isDisabled:function(){return Tn.isDisabled(p)},setDisabled:function(C){return Tn.set(p,C)}}},m=H2({iconContent:t.icon,textContent:t.text,htmlContent:_.none(),ariaLabel:t.text,checkMark:_.some(aD(o.icons)),caret:_.none(),shortcutContent:t.shortcut,presets:"normal",meta:t.meta},o,s);return Je(Ib({data:Lb(t),disabled:t.disabled,getApi:v,onAction:t.onAction,onSetup:t.onSetup,triggersSubmenu:!1,itemBehaviours:[]},m,r,o),{toggling:{toggleClass:bA,toggleOnExecute:!1,selected:t.active}})},vE=w8,q2=Z8,e6=FD,Bk=J8,t6=Q8,n6=Y8,r6=C8,K2;(function(t){t[t.ContentFocus=0]="ContentFocus",t[t.UiFocus=1]="UiFocus"})(K2||(K2={}));var a6=function(t,r,o,s,v){var m=o.shared.providers,p=function(C){return v?ve(ve({},C),{shortcut:_.none(),icon:C.text.isSome()?_.none():C.icon}):C};switch(t.type){case"menuitem":return HB(t).fold(tv,function(C){return _.some(e6(p(C),r,m,s))});case"nestedmenuitem":return WB(t).fold(tv,function(C){return _.some(Bk(p(C),r,m,s,v))});case"togglemenuitem":return MA(t).fold(tv,function(C){return _.some(t6(p(C),r,m,s))});case"separator":return CB(t).fold(tv,function(C){return _.some(q2(C))});case"fancymenuitem":return RA(t).fold(tv,function(C){return n6(p(C),o)});default:return console.error("Unknown item in general menu",t),_.none()}},o6=function(t,r,o,s,v,m,p){var C=s===1,S=!C||yk(t);return Pr(Tt(t,function(E){switch(E.type){case"separator":return kB(E).fold(tv,function(R){return _.some(q2(R))});case"cardmenuitem":return AA(E).fold(tv,function(R){return _.some(r6(ve(ve({},R),{onAction:function(M){R.onAction(M),o(R.value,R.meta)}}),v,m,{itemBehaviours:uD(R.meta,m),cardText:{matchText:r,highlightOn:p}}))});case"autocompleteitem":default:return xB(E).fold(tv,function(R){return _.some(vE(R,r,C,"normal",o,v,m,S))})}}))},dE=function(t,r,o,s,v){var m=yk(r),p=Pr(Tt(r,function(S){var E=function(M){return v?!Cr(M,"text"):m},R=function(M){return a6(M,o,s,E(M),v)};return S.type==="nestedmenuitem"&&S.getSubmenuItems().length<=0?R(ve(ve({},S),{disabled:!0})):R(S)})),C=v?FB:wk;return C(t,m,p,1,"normal")},zD=function(t){return aa.singleData(t.value,t)},i6=function(t,r,o,s){var v=o===K2.ContentFocus?OS():Uh(),m=G2(r,s),p=pm(s);return{dom:t.dom,components:t.components,items:t.items,value:t.value,markers:{selectedItem:p.selectedItem,item:p.item},movement:m,fakeFocus:o===K2.ContentFocus,focusManager:v,menuBehaviours:Sk.unnamedEvents(r!=="auto"?[]:[Ha(function(C,S){$4(C,4,p.item).each(function(E){var R=E.numColumns,M=E.numRows;Bn.setGridSize(C,M,R)})})])}},u6=function(t,r){var o=so(),s=Dn(!1),v=Eo(Jr.sketch({dom:{tag:"div",classes:["tox-autocompleter"]},components:[],fireDismissalEventInstead:{},inlineBehaviours:zt([ar("dismissAutocompleter",[ft(Us(),function(){return S()})])]),lazySink:r.getSink})),m=function(){return Jr.isOpen(v)},p=function(){return o.get().isSome()},C=function(){p()&&Jr.hide(v)},S=function(){if(p()){var ae=o.get().map(function(xe){return xe.element});dk(ae.getOr(le.fromDom(t.selection.getNode()))).each(Dm),C(),o.clear(),s.set(!1)}},E=So(function(){return w4(t)}),R=function(ae,xe){var Ge=la(xe,function(Ze){return _.from(Ze.columns)}).getOr(1);return Ln(xe,function(Ze){var Se=Ze.items;return o6(Se,Ze.matchText,function(ze,at){var Yt=t.selection.getRng();v4(t.dom,Yt,ae).fold(function(){return console.error("Lost context. Cursor probably moved")},function(ct){var Jt=ct.range,mt={hide:function(){S()},reload:function(rt){C(),Z(rt)}};s.set(!0),Ze.onAction(mt,Jt,ze,at),s.set(!1)})},Ge,ev.BUBBLE_TO_SANDBOX,r,Ze.highlightOn)})},M=function(ae){if(!p()){var xe=fB(t,ae.range);o.set({triggerChar:ae.triggerChar,element:xe,matchLength:ae.text.length}),s.set(!1)}},H=function(ae,xe,Ge,Ze){ae.matchLength=xe.text.length;var Se=la(Ge,function(ze){return _.from(ze.columns)}).getOr(1);Jr.showAt(v,yn.sketch(i6(wk("autocompleter-value",!0,Ze,Se,"normal"),Se,K2.ContentFocus,"normal")),{anchor:{type:"node",root:le.fromDom(t.getBody()),node:_.from(ae.element)}}),Jr.getContent(v).each(Ur.highlightFirst)},G=function(ae){return o.get().map(function(xe){return v4(t.dom,t.selection.getRng(),xe.triggerChar).bind(function(Ge){return sA(t,E,Ge,ae)})}).getOrThunk(function(){return wB(t,E)})},Z=function(ae){G(ae).fold(S,function(xe){M(xe.context),xe.lookupData.then(function(Ge){o.get().map(function(Ze){var Se=xe.context;if(Ze.triggerChar===Se.triggerChar){var ze=R(Se.triggerChar,Ge);ze.length>0?H(Ze,Se,Ge,ze):Se.text.length-Ze.matchLength>=10?S():C()}})})})},ue=c4(function(ae){ae.which!==27&&Z()},50),Ce={onKeypress:ue,cancelIfNecessary:S,isMenuOpen:m,isActive:p,isProcessingAction:s.get,getView:function(){return Jr.getContent(v)}};t.hasPlugin("rtc")===!1&&gB.setup(Ce,t)},l6={register:u6},X2=function(t,r,o){return bu(t,r,o).isSome()},ID=function(t,r){var o=null,s=function(){for(var m=[],p=0;p<arguments.length;p++)m[p]=arguments[p];o=setTimeout(function(){t.apply(null,m),o=null},r)},v=function(){o!==null&&(clearTimeout(o),o=null)};return{cancel:v,schedule:s}},LD=5,mE=400,VD=function(t){var r=t.raw;return r.touches===void 0||r.touches.length!==1?_.none():_.some(r.touches[0])},HD=function(t,r){var o=Math.abs(t.clientX-r.x),s=Math.abs(t.clientY-r.y);return o>LD||s>LD},s6=function(t){var r=so(),o=Dn(!1),s=ID(function(E){t.triggerEvent(Yp(),E),o.set(!0)},mE),v=function(E){return VD(E).each(function(R){s.cancel();var M={x:R.clientX,y:R.clientY,target:E.target};s.schedule(E),o.set(!1),r.set(M)}),_.none()},m=function(E){return s.cancel(),VD(E).each(function(R){r.on(function(M){HD(R,M)&&r.clear()})}),_.none()},p=function(E){s.cancel();var R=function(M){return Qr(M.target,E.target)};return r.get().filter(R).map(function(M){return o.get()?(E.prevent(),!1):t.triggerEvent(hv(),E)})},C=Pf([{key:Kc(),value:v},{key:Vs(),value:m},{key:mv(),value:p}]),S=function(E,R){return bn(C,R).bind(function(M){return M(E)})};return{fireIfReady:S}},c6=function(t){var r=t.raw;return r.which===Eg[0]&&!er(["input","textarea"],Un(t.target))&&!X2(t.target,'[contenteditable="true"]')},gE=function(){return On().browser.isFirefox()},Y2=function(t,r){return gE()?_1(t,"focus",r):bo(t,"focusin",r)},f6=function(t,r){return gE()?_1(t,"blur",r):bo(t,"focusout",r)},v6=function(t,r){var o=ve({stopBackspace:!0},r),s=["touchstart","touchmove","touchend","touchcancel","gesturestart","mousedown","mouseup","mouseover","mousemove","mouseout","click"],v=s6(o),m=Tt(s.concat(["selectstart","input","contextmenu","change","transitionend","transitioncancel","drag","dragstart","dragend","dragenter","dragleave","dragover","drop","keyup"]),function(G){return bo(t,G,function(Z){v.fireIfReady(Z,G).each(function(Ce){Ce&&Z.kill()});var ue=o.triggerEvent(G,Z);ue&&Z.kill()})}),p=so(),C=bo(t,"paste",function(G){v.fireIfReady(G,"paste").each(function(ue){ue&&G.kill()});var Z=o.triggerEvent("paste",G);Z&&G.kill(),p.set(setTimeout(function(){o.triggerEvent(O0(),G)},0))}),S=bo(t,"keydown",function(G){var Z=o.triggerEvent("keydown",G);Z?G.kill():o.stopBackspace&&c6(G)&&G.prevent()}),E=Y2(t,function(G){var Z=o.triggerEvent("focusin",G);Z&&G.kill()}),R=so(),M=f6(t,function(G){var Z=o.triggerEvent("focusout",G);Z&&G.kill(),R.set(setTimeout(function(){o.triggerEvent(E0(),G)},0))}),H=function(){Ie(m,function(G){G.unbind()}),S.unbind(),E.unbind(),M.unbind(),C.unbind(),p.on(clearTimeout),R.on(clearTimeout)};return{unbind:H}},UD=function(t,r){var o=bn(t,"target").getOr(r);return Dn(o)},Mk=function(t,r){var o=Dn(!1),s=Dn(!1),v=function(){o.set(!0)},m=function(){s.set(!0)};return{stop:v,cut:m,isStopped:o.get,isCut:s.get,event:t,setSource:r.set,getSource:r.get}},d6=function(t){var r=Dn(!1),o=function(){r.set(!0)};return{stop:o,cut:ge,isStopped:r.get,isCut:Zt,event:t,setSource:Nt("Cannot set source of a broadcasted event"),getSource:Nt("Cannot get source of a broadcasted event")}},J2=Vl.generate([{stopped:[]},{resume:["element"]},{complete:[]}]),hE=function(t,r,o,s,v,m){var p=t(r,s),C=Mk(o,v);return p.fold(function(){return m.logEventNoHandlers(r,s),J2.complete()},function(S){var E=S.descHandler,R=N0(E);return R(C),C.isStopped()?(m.logEventStopped(r,S.element,E.purpose),J2.stopped()):C.isCut()?(m.logEventCut(r,S.element,E.purpose),J2.complete()):Ga(S.element).fold(function(){return m.logNoParent(r,S.element,E.purpose),J2.complete()},function(M){return m.logEventResponse(r,S.element,E.purpose),J2.resume(M)})})},WD=function(t,r,o,s,v,m){return hE(t,r,o,s,v,m).fold(st,function(p){return WD(t,r,o,p,v,m)},Zt)},m6=function(t,r,o,s,v){var m=UD(o,s);return hE(t,r,o,s,m,v)},g6=function(t,r,o){var s=d6(r);return Ie(t,function(v){var m=v.descHandler,p=N0(m);p(s)}),s.isStopped()},h6=function(t,r,o,s){return jD(t,r,o,o.target,s)},jD=function(t,r,o,s,v){var m=UD(o,s);return WD(t,r,o,s,m,v)},p6=function(t,r){return{element:t,descHandler:r}},b6=function(t,r){return{id:t,descHandler:r}},y6=function(){var t={},r=function(p,C,S){ta(S,function(E,R){var M=t[R]!==void 0?t[R]:{};M[C]=$0(E,p),t[R]=M})},o=function(p,C){return Xc(C).bind(function(S){return bn(p,S)}).map(function(S){return p6(C,S)})},s=function(p){return bn(t,p).map(function(C){return Co(C,function(S,E){return b6(E,S)})}).getOr([])},v=function(p,C,S){return bn(t,C).bind(function(E){return Vm(S,function(R){return o(E,R)},p)})},m=function(p){ta(t,function(C,S){Cr(C,p)&&delete C[p]})};return{registerId:r,unregisterId:m,filterByType:s,find:v}},w6=function(){var t=y6(),r={},o=function(E){var R=E.element;return Xc(R).getOrThunk(function(){return Ww("uid-",E.element)})},s=function(E,R){var M=r[R];if(M===E)m(E);else throw new Error('The tagId "'+R+'" is already used by: '+Ci(M.element)+`
Cannot use it for: `+Ci(E.element)+`
The conflicting element is`+(qa(M.element)?" ":" not ")+"already in the DOM")},v=function(E){var R=o(E);Sa(r,R)&&s(E,R);var M=[E];t.registerId(M,R,E.events),r[R]=E},m=function(E){Xc(E.element).each(function(R){delete r[R],t.unregisterId(R)})},p=function(E){return t.filterByType(E)},C=function(E,R,M){return t.find(E,R,M)},S=function(E){return bn(r,E)};return{find:C,filter:p,register:v,unregister:m,getById:S}},gp=function(t){var r=t.dom,o=r.attributes,s=Q(r,["attributes"]);return{uid:t.uid,dom:ve({tag:"div",attributes:ve({role:"presentation"},o)},s),components:t.components,behaviours:Qd(t.containerBehaviours),events:t.events,domModification:t.domModification,eventOrder:t.eventOrder}},ju=El({name:"Container",factory:gp,configFields:[ke("components",[]),si("containerBehaviours",[]),ke("events",{}),ke("domModification",{}),ke("eventOrder",{})]}),GD=function(t){var r=function(ae){return Ga(t.element).fold(st,function(xe){return Qr(ae,xe)})},o=w6(),s=function(ae,xe){return o.find(r,ae,xe)},v=v6(t.element,{triggerEvent:function(ae,xe){return Md(ae,xe.target,function(Ge){return h6(s,ae,xe,Ge)})}}),m={debugInfo:K("real"),triggerEvent:function(ae,xe,Ge){Md(ae,xe,function(Ze){return jD(s,ae,Ge,xe,Ze)})},triggerFocus:function(ae,xe){Xc(ae).fold(function(){ef(ae)},function(Ge){Md(gv(),ae,function(Ze){return m6(s,gv(),{originator:xe,kill:ge,prevent:ge,target:ae},ae,Ze),!1})})},triggerEscape:function(ae,xe){m.triggerEvent("keydown",ae.element,xe.event)},getByUid:function(ae){return ue(ae)},getByDom:function(ae){return Ce(ae)},build:Eo,addToGui:function(ae){S(ae)},removeFromGui:function(ae){E(ae)},addToWorld:function(ae){p(ae)},removeFromWorld:function(ae){C(ae)},broadcast:function(ae){H(ae)},broadcastOn:function(ae,xe){G(ae,xe)},broadcastEvent:function(ae,xe){Z(ae,xe)},isConnected:st},p=function(ae){ae.connect(m),Ba(ae.element)||(o.register(ae),Ie(ae.components(),p),m.triggerEvent(kd(),ae.element,{target:ae.element}))},C=function(ae){Ba(ae.element)||(Ie(ae.components(),C),o.unregister(ae)),ae.disconnect()},S=function(ae){ru(t,ae)},E=function(ae){ps(ae)},R=function(){v.unbind(),qu(t.element)},M=function(ae){var xe=o.filter(ds());Ie(xe,function(Ge){var Ze=Ge.descHandler,Se=N0(Ze);Se(ae)})},H=function(ae){M({universal:!0,data:ae})},G=function(ae,xe){M({universal:!1,channels:ae,data:xe})},Z=function(ae,xe){var Ge=o.filter(ae);return g6(Ge,xe)},ue=function(ae){return o.getById(ae).fold(function(){return rr.error(new Error('Could not find component with uid: "'+ae+'" in system.'))},rr.value)},Ce=function(ae){var xe=Xc(ae).getOr("not found");return ue(xe)};return p(t),{root:t,element:t.element,destroy:R,add:S,remove:E,getByUid:ue,getByDom:Ce,addToWorld:p,removeFromWorld:C,broadcast:H,broadcastOn:G,broadcastEvent:Z}},C6=function(t,r){return{dom:{tag:"div",classes:["tox-bar","tox-form__controls-h-stack"]},components:Tt(t.items,r.interpreter)}},S6=K([ke("prefix","form-field"),si("fieldBehaviours",[cr,Xt])]),Pk=K([Zs({schema:[it("dom")],name:"label"}),Zs({factory:{sketch:function(t){return{uid:t.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:t.text}}}},schema:[it("text")],name:"aria-descriptor"}),Ai({factory:{sketch:function(t){var r=y0(t,["factory"]);return t.factory.sketch(r)}},schema:[it("factory")],name:"field"})]),qD=function(t,r,o,s){var v=ci(t.fieldBehaviours,[cr.config({find:function(C){return fa(C,t,"field")}}),Xt.config({store:{mode:"manual",getValue:function(C){return cr.getCurrent(C).bind(Xt.getValue)},setValue:function(C,S){cr.getCurrent(C).each(function(E){Xt.setValue(E,S)})}}})]),m=Oa([Ha(function(C,S){var E=sS(C,t,["label","field","aria-descriptor"]);E.field().each(function(R){var M=un(t.prefix);E.label().each(function(H){Jn(H.element,"for",M),Jn(R.element,"id",M)}),E["aria-descriptor"]().each(function(H){var G=un(t.prefix);Jn(H.element,"id",G),Jn(R.element,"aria-describedby",G)})})})]),p={getField:function(C){return fa(C,t,"field")},getLabel:function(C){return fa(C,t,"label")}};return{uid:t.uid,dom:t.dom,components:r,behaviours:v,events:m,apis:p}},Ir=Hu({name:"FormField",configFields:S6(),partFields:Pk(),factory:qD,apis:{getField:function(t,r){return t.getField(r)},getLabel:function(t,r){return t.getLabel(r)}}}),k6=function(t,r){return Gs({attributes:Pf([{key:r.tabAttr,value:"true"}])})},x6=Object.freeze({__proto__:null,exhibit:k6}),T6=[ke("tabAttr","data-alloy-tabstop")],Oo=po({fields:T6,name:"tabstopping",active:x6}),E6=tinymce.util.Tools.resolve("tinymce.html.Entities"),Z2=function(t,r,o,s){var v=KD(t,r,o,s);return Ir.sketch(v)},O6=function(t,r){return Z2(t,r,[],[])},KD=function(t,r,o,s){return{dom:XD(o),components:t.toArray().concat([r]),fieldBehaviours:zt(s)}},A6=function(){return XD([])},XD=function(t){return{tag:"div",classes:["tox-form__group"].concat(t)}},Lg=function(t,r){return Ir.parts.label({dom:{tag:"label",classes:["tox-label"],innerHtml:r.translate(t)}})},Ts=un("form-component-change"),Es=un("form-close"),oc=un("form-cancel"),Zv=un("form-action"),Hb=un("form-submit"),$k=un("form-block"),Ub=un("form-unblock"),YD=un("form-tabchange"),Nk=un("form-resize"),pE=function(t,r){var o,s=t.label.map(function(M){return Lg(M,r)}),v=function(M){return function(H,G){bu(G.event.target,"[data-collection-item-value]").each(function(Z){M(H,G,Z,za(Z,"data-collection-item-value"))})}},m=function(M,H){var G=Tt(H,function(Ce){var ae=nc.translate(Ce.text),xe=t.columns===1?'<div class="tox-collection__item-label">'+ae+"</div>":"",Ge='<div class="tox-collection__item-icon">'+Ce.icon+"</div>",Ze={_:" "," - ":" ","-":" "},Se=ae.replace(/\_| \- |\-/g,function(at){return Ze[at]}),ze=r.isDisabled()?" tox-collection__item--state-disabled":"";return'<div class="tox-collection__item'+ze+'" tabindex="-1" data-collection-item-value="'+E6.encodeAllRaw(Ce.value)+'" title="'+Se+'" aria-label="'+Se+'">'+Ge+xe+"</div>"}),Z=t.columns!=="auto"&&t.columns>1?vo(G,t.columns):[G],ue=Tt(Z,function(Ce){return'<div class="tox-collection__group">'+Ce.join("")+"</div>"});yc(M.element,ue.join(""))},p=v(function(M,H,G,Z){H.stop(),r.isDisabled()||Rn(M,Zv,{name:t.name,value:Z})}),C=[ft($f(),v(function(M,H,G){ef(G)})),ft(Wm(),p),ft(hv(),p),ft(vs(),v(function(M,H,G){Io(M.element,"."+cp).each(function(Z){zo(Z,cp)}),ki(G,cp)})),ft(Fi(),v(function(M){Io(M.element,"."+cp).each(function(H){zo(H,cp)})})),js(v(function(M,H,G,Z){Rn(M,Zv,{name:t.name,value:Z})}))],S=function(M,H){return Tt(li(M.element,".tox-collection__item"),H)},E=Ir.parts.field({dom:{tag:"div",classes:["tox-collection"].concat(t.columns!==1?["tox-collection--grid"]:["tox-collection--list"])},components:[],factory:{sketch:dt},behaviours:zt([Tn.config({disabled:r.isDisabled,onDisabled:function(M){S(M,function(H){ki(H,"tox-collection__item--state-disabled"),Jn(H,"aria-disabled",!0)})},onEnabled:function(M){S(M,function(H){zo(H,"tox-collection__item--state-disabled"),bi(H,"aria-disabled")})}}),vi(),Kn.config({}),Xt.config({store:{mode:"memory",initialValue:[]},onSetValue:function(M,H){m(M,H),t.columns==="auto"&&$4(M,5,"tox-collection__item").each(function(G){var Z=G.numRows,ue=G.numColumns;Bn.setGridSize(M,Z,ue)}),dr(M,Nk)}}),Oo.config({}),Bn.config(H8(t.columns,"normal")),ar("collection-events",C)]),eventOrder:(o={},o[Hl()]=["disabling","alloy.base.behaviour","collection-events"],o)}),R=["tox-form__group--collection"];return Z2(s,E,R,[])},Fk=K([Hr("data"),ke("inputAttributes",{}),ke("inputStyles",{}),ke("tag","input"),ke("inputClasses",[]),sr("onSetValue"),ke("styles",{}),ke("eventOrder",{}),si("inputBehaviours",[Xt,Vn]),ke("selectOnFocus",!0)]),JD=function(t){return zt([Vn.config({onFocus:t.selectOnFocus?function(r){var o=r.element,s=Cl(o);o.dom.setSelectionRange(0,s.length)}:ge})])},D6=function(t){return ve(ve({},JD(t)),ci(t.inputBehaviours,[Xt.config({store:ve(ve({mode:"manual"},t.data.map(function(r){return{initialValue:r}}).getOr({})),{getValue:function(r){return Cl(r.element)},setValue:function(r,o){var s=Cl(r.element);s!==o&&Qm(r.element,o)}}),onSetValue:t.onSetValue})]))},ZD=function(t){return{tag:t.tag,attributes:ve({type:"text"},t.inputAttributes),styles:t.inputStyles,classes:t.inputClasses}},zk=function(t,r){return{uid:t.uid,dom:ZD(t),components:[],behaviours:D6(t),eventOrder:t.eventOrder}},Q2=El({name:"Input",configFields:Fk(),factory:zk}),QD={},e_={exports:QD};(function(t,r,o,s){(function(v,m){typeof r=="object"&&typeof o!="undefined"?o.exports=m():typeof t=="function"&&t.amd?t(m):(v=typeof globalThis!="undefined"?globalThis:v||self,v.EphoxContactWrapper=m())})(this,function(){var v=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof JR!="undefined"?JR:typeof self!="undefined"?self:{},m={exports:{}};(function(E){(function(R){var M=setTimeout;function H(){}function G(Se,ze){return function(){Se.apply(ze,arguments)}}function Z(Se){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");if(typeof Se!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],Ze(Se,this)}function ue(Se,ze){for(;Se._state===3;)Se=Se._value;if(Se._state===0){Se._deferreds.push(ze);return}Se._handled=!0,Z._immediateFn(function(){var at=Se._state===1?ze.onFulfilled:ze.onRejected;if(at===null){(Se._state===1?Ce:ae)(ze.promise,Se._value);return}var Yt;try{Yt=at(Se._value)}catch(ct){ae(ze.promise,ct);return}Ce(ze.promise,Yt)})}function Ce(Se,ze){try{if(ze===Se)throw new TypeError("A promise cannot be resolved with itself.");if(ze&&(typeof ze=="object"||typeof ze=="function")){var at=ze.then;if(ze instanceof Z){Se._state=3,Se._value=ze,xe(Se);return}else if(typeof at=="function"){Ze(G(at,ze),Se);return}}Se._state=1,Se._value=ze,xe(Se)}catch(Yt){ae(Se,Yt)}}function ae(Se,ze){Se._state=2,Se._value=ze,xe(Se)}function xe(Se){Se._state===2&&Se._deferreds.length===0&&Z._immediateFn(function(){Se._handled||Z._unhandledRejectionFn(Se._value)});for(var ze=0,at=Se._deferreds.length;ze<at;ze++)ue(Se,Se._deferreds[ze]);Se._deferreds=null}function Ge(Se,ze,at){this.onFulfilled=typeof Se=="function"?Se:null,this.onRejected=typeof ze=="function"?ze:null,this.promise=at}function Ze(Se,ze){var at=!1;try{Se(function(Yt){at||(at=!0,Ce(ze,Yt))},function(Yt){at||(at=!0,ae(ze,Yt))})}catch(Yt){if(at)return;at=!0,ae(ze,Yt)}}Z.prototype.catch=function(Se){return this.then(null,Se)},Z.prototype.then=function(Se,ze){var at=new this.constructor(H);return ue(this,new Ge(Se,ze,at)),at},Z.all=function(Se){var ze=Array.prototype.slice.call(Se);return new Z(function(at,Yt){if(ze.length===0)return at([]);var ct=ze.length;function Jt(rt,Kt){try{if(Kt&&(typeof Kt=="object"||typeof Kt=="function")){var gn=Kt.then;if(typeof gn=="function"){gn.call(Kt,function(vt){Jt(rt,vt)},Yt);return}}ze[rt]=Kt,--ct==0&&at(ze)}catch(vt){Yt(vt)}}for(var mt=0;mt<ze.length;mt++)Jt(mt,ze[mt])})},Z.resolve=function(Se){return Se&&typeof Se=="object"&&Se.constructor===Z?Se:new Z(function(ze){ze(Se)})},Z.reject=function(Se){return new Z(function(ze,at){at(Se)})},Z.race=function(Se){return new Z(function(ze,at){for(var Yt=0,ct=Se.length;Yt<ct;Yt++)Se[Yt].then(ze,at)})},Z._immediateFn=typeof setImmediate=="function"?function(Se){setImmediate(Se)}:function(Se){M(Se,0)},Z._unhandledRejectionFn=function(ze){typeof console!="undefined"&&console&&console.warn("Possible Unhandled Promise Rejection:",ze)},Z._setImmediateFn=function(ze){Z._immediateFn=ze},Z._setUnhandledRejectionFn=function(ze){Z._unhandledRejectionFn=ze},E.exports?E.exports=Z:R.Promise||(R.Promise=Z)})(v)})(m);var p=m.exports,C=function(){return typeof window!="undefined"?window:Function("return this;")()}(),S={boltExport:C.Promise||p};return S})})(void 0,QD,e_);var Qv=e_.exports.boltExport,bE=function(t){var r=_.none(),o=[],s=function(E){return bE(function(R){v(function(M){R(E(M))})})},v=function(E){p()?S(E):o.push(E)},m=function(E){p()||(r=_.some(E),C(o),o=[])},p=function(){return r.isSome()},C=function(E){Ie(E,S)},S=function(E){r.each(function(R){setTimeout(function(){E(R)},0)})};return t(m),{get:v,map:s,isReady:p}},t_=function(t){return bE(function(r){r(t)})},_6={nu:bE,pure:t_},R6=function(t){setTimeout(function(){throw t},0)},hp=function(t){var r=function(S){t().then(S,R6)},o=function(S){return hp(function(){return t().then(S)})},s=function(S){return hp(function(){return t().then(function(E){return S(E).toPromise()})})},v=function(S){return hp(function(){return t().then(function(){return S.toPromise()})})},m=function(){return _6.nu(r)},p=function(){var S=null;return hp(function(){return S===null&&(S=t()),S})},C=t;return{map:o,bind:s,anonBind:v,toLazy:m,toCached:p,toPromise:C,get:r}},B6=function(t){return hp(function(){return new Qv(t)})},M6=function(t){return hp(function(){return Qv.resolve(t)})},au={nu:B6,pure:M6},n_=["input","textarea"],r_=function(t){var r=Un(t);return er(n_,r)},a_=function(t,r){var o=r.getRoot(t).getOr(t.element);zo(o,r.invalidClass),r.notify.each(function(s){r_(t.element)&&Jn(t.element,"aria-invalid",!1),s.getContainer(t).each(function(v){yc(v,s.validHtml)}),s.onValid(t)})},o_=function(t,r,o,s){var v=r.getRoot(t).getOr(t.element);ki(v,r.invalidClass),r.notify.each(function(m){r_(t.element)&&Jn(t.element,"aria-invalid",!0),m.getContainer(t).each(function(p){yc(p,s)}),m.onInvalid(t,s)})},i_=function(t,r,o){return r.validator.fold(function(){return au.pure(rr.value(!0))},function(s){return s.validate(t)})},yE=function(t,r,o){return r.notify.each(function(s){s.onValidate(t)}),i_(t,r).map(function(s){return t.getSystem().isConnected()?s.fold(function(v){return o_(t,r,o,v),rr.error(v)},function(v){return a_(t,r),rr.value(v)}):rr.error("No longer in system")})},Ik=function(t,r){var o=r.getRoot(t).getOr(t.element);return Fu(o,r.invalidClass)},Al=Object.freeze({__proto__:null,markValid:a_,markInvalid:o_,query:i_,run:yE,isInvalid:Ik}),u_=function(t,r){return t.validator.map(function(o){return Oa([ft(o.onEvent,function(s){yE(s,t,r).get(dt)})].concat(o.validateOnLoad?[Ha(function(s){yE(s,t,r).get(ge)})]:[]))}).getOr({})},P6=Object.freeze({__proto__:null,events:u_}),$6=[it("invalidClass"),ke("getRoot",_.none),pl("notify",[ke("aria","alert"),ke("getContainer",_.none),ke("validHtml",""),sr("onValid"),sr("onInvalid"),sr("onValidate")]),pl("validator",[it("validate"),ke("onEvent","input"),ke("validateOnLoad",!0)])],ed=po({fields:$6,name:"invalidating",active:P6,apis:Al,extra:{validation:function(t){return function(r){var o=Xt.getValue(r);return au.pure(t(o))}}}}),N6=function(t,r,o,s){return o.getOrCreate(t,r,s)},l_=Object.freeze({__proto__:null,getCoupled:N6}),s_=[Yu("others",Qi(rr.value,zs()))],F6=function(){var t={},r=function(s,v,m){var p=Xr(v.others);if(p)return bn(t,m).getOrThunk(function(){var C=bn(v.others,m).getOrDie("No information found for coupled component: "+m),S=C(s),E=s.getSystem().build(S);return t[m]=E,E});throw new Error("Cannot find coupled component: "+m+". Known coupled components: "+JSON.stringify(p,null,2))},o=K({});return Si({readState:o,getOrCreate:r})},z6=Object.freeze({__proto__:null,init:F6}),Ao=po({fields:s_,name:"coupling",apis:l_,state:z6}),c_=K("sink"),wE=K(Zs({name:c_(),overrides:K({dom:{tag:"div"},behaviours:zt([Lu.config({useFixed:st})]),events:Oa([ho(Kp()),ho(Hs()),ho(Wm())])})})),ff;(function(t){t[t.HighlightFirst=0]="HighlightFirst",t[t.HighlightNone=1]="HighlightNone"})(ff||(ff={}));var CE=function(t,r){var o=t.getHotspot(r).getOr(r),s="hotspot",v=t.getAnchorOverrides();return t.layouts.fold(function(){return{type:s,hotspot:o,overrides:v}},function(m){return{type:s,hotspot:o,overrides:v,layouts:m}})},I6=function(t,r,o){var s=t.fetch;return s(o).map(r)},L6=function(t,r,o,s,v,m,p){var C=I6(t,r,s),S=Vg(s,t);return C.map(function(E){return E.bind(function(R){return _.from(aa.sketch(ve(ve({},m.menu()),{uid:Ed(""),data:R,highlightImmediately:p===ff.HighlightFirst,onOpenMenu:function(M,H){var G=S().getOrDie();Lu.position(G,H,{anchor:o}),Sr.decloak(v)},onOpenSubmenu:function(M,H,G){var Z=S().getOrDie();Lu.position(Z,G,{anchor:{type:"submenu",item:H}}),Sr.decloak(v)},onRepositionMenu:function(M,H,G){var Z=S().getOrDie();Lu.position(Z,H,{anchor:o}),Ie(G,function(ue){Lu.position(Z,ue.triggeredMenu,{anchor:{type:"submenu",item:ue.triggeringItem}})})},onEscape:function(){return Vn.focus(s),Sr.close(v),_.some(!0)}})))})})},SE=function(t,r,o,s,v,m,p){var C=CE(t,o),S=L6(t,r,C,o,s,v,p);return S.map(function(E){return E.fold(function(){Sr.isOpen(s)&&Sr.close(s)},function(R){Sr.cloak(s),Sr.open(s,R),m(s)}),s})},V6=function(t,r,o,s,v,m,p){return Sr.close(s),au.pure(s)},Wb=function(t,r,o,s,v,m){var p=Ao.getCoupled(o,"sandbox"),C=Sr.isOpen(p),S=C?V6:SE;return S(t,r,o,p,s,v,m)},H6=function(t,r,o){var s=cr.getCurrent(r).getOr(r),v=Yi(t.element);o?In(s.element,"min-width",v+"px"):vc(s.element,v)},Vg=function(t,r){return t.getSystem().getByUid(r.uid+"-"+c_()).map(function(o){return function(){return rr.value(o)}}).getOrThunk(function(){return r.lazySink.fold(function(){return function(){return rr.error(new Error("No internal sink is specified, nor could an external sink be found"))}},function(o){return function(){return o(t)}})})},f_=function(t){Sr.getState(t).each(function(r){aa.repositionMenus(r)})},kE=function(t,r,o){var s=Zw(),v=function(C,S){var E=CE(t,r);s.link(r.element),t.matchWidth&&H6(E.hotspot,S,t.useMinWidth),t.onOpen(E,C,S),o!==void 0&&o.onOpen!==void 0&&o.onOpen(C,S)},m=function(C,S){s.unlink(r.element),o!==void 0&&o.onClose!==void 0&&o.onClose(C,S)},p=Vg(r,t);return{dom:{tag:"div",classes:t.sandboxClasses,attributes:{id:s.id,role:"listbox"}},behaviours:Cs.augment(t.sandboxBehaviours,[Xt.config({store:{mode:"memory",initialValue:r}}),Sr.config({onOpen:v,onClose:m,isPartOf:function(C,S,E){return Rd(S,E)||Rd(r,E)},getAttachPoint:function(){return p().getOrDie()}}),cr.config({find:function(C){return Sr.getState(C).bind(function(S){return cr.getCurrent(S)})}}),Sl.config({channels:ve(ve({},Iv({isExtraPart:Zt})),Dh({doReposition:f_}))})])}},ym=function(t){var r=Ao.getCoupled(t,"sandbox");f_(r)},xE=function(){return[ke("sandboxClasses",[]),Cs.field("sandboxBehaviours",[cr,Sl,Sr,Xt])]},U6=K([it("dom"),it("fetch"),sr("onOpen"),ba("onExecute"),ke("getHotspot",_.some),ke("getAnchorOverrides",K({})),Pv(),si("dropdownBehaviours",[xr,Ao,Bn,Vn]),it("toggleClass"),ke("eventOrder",{}),Hr("lazySink"),ke("matchWidth",!1),ke("useMinWidth",!1),Hr("role")].concat(xE())),Rc=K([ql({schema:[$d()],name:"menu",defaults:function(t){return{onExecute:t.onExecute}}}),wE()]),v_=function(t,r,o,s){var v,m=function(R){return bn(t.dom,"attributes").bind(function(M){return bn(M,R)})},p=function(R){Sr.getState(R).each(function(M){aa.highlightPrimary(M)})},C=function(R){var M=p;Wb(t,dt,R,s,M,ff.HighlightFirst).get(ge)},S={expand:function(R){xr.isOn(R)||Wb(t,dt,R,s,ge,ff.HighlightNone).get(ge)},open:function(R){xr.isOn(R)||Wb(t,dt,R,s,ge,ff.HighlightFirst).get(ge)},isOpen:xr.isOn,close:function(R){xr.isOn(R)&&Wb(t,dt,R,s,ge,ff.HighlightFirst).get(ge)},repositionMenus:function(R){xr.isOn(R)&&ym(R)}},E=function(R,M){return Ff(R),_.some(!0)};return{uid:t.uid,dom:t.dom,components:r,behaviours:ci(t.dropdownBehaviours,[xr.config({toggleClass:t.toggleClass,aria:{mode:"expanded"}}),Ao.config({others:{sandbox:function(R){return kE(t,R,{onOpen:function(){return xr.on(R)},onClose:function(){return xr.off(R)}})}}}),Bn.config({mode:"special",onSpace:E,onEnter:E,onDown:function(R,M){if(Bc.isOpen(R)){var H=Ao.getCoupled(R,"sandbox");p(H)}else Bc.open(R);return _.some(!0)},onEscape:function(R,M){return Bc.isOpen(R)?(Bc.close(R),_.some(!0)):_.none()}}),Vn.config({})]),events:rp(_.some(C)),eventOrder:ve(ve({},t.eventOrder),(v={},v[Hl()]=["disabling","toggling","alloy.base.behaviour"],v)),apis:S,domModification:{attributes:ve(ve({"aria-haspopup":"true"},t.role.fold(function(){return{}},function(R){return{role:R}})),t.dom.tag==="button"?{type:m("type").getOr("button")}:{})}}},Bc=Hu({name:"Dropdown",configFields:U6(),partFields:Rc(),factory:v_,apis:{open:function(t,r){return t.open(r)},expand:function(t,r){return t.expand(r)},close:function(t,r){return t.close(r)},isOpen:function(t,r){return t.isOpen(r)},repositionMenus:function(t,r){return t.repositionMenus(r)}}}),W6=function(){return Gs({styles:{"-webkit-user-select":"none","user-select":"none","-ms-user-select":"none","-moz-user-select":"-moz-none"},attributes:{unselectable:"on"}})},j6=function(){return Oa([R0(aT(),st)])},Lk=Object.freeze({__proto__:null,events:j6,exhibit:W6}),ew=po({fields:[],name:"unselecting",active:Lk}),d_=function(t,r){return Bc.sketch({dom:t.dom,components:t.components,toggleClass:"mce-active",dropdownBehaviours:zt([ac.button(r.providers.isDisabled),vi(),ew.config({}),Oo.config({})]),layouts:t.layouts,sandboxClasses:["tox-dialog__popups"],lazySink:r.getSink,fetch:function(o){return au.nu(function(s){return t.fetch(s)}).map(function(s){return _.from(zD(Je(Rk(un("menu-value"),s,function(v){t.onItemAction(o,v)},t.columns,t.presets,ev.CLOSE_ON_EXECUTE,Zt,r.providers),{movement:G2(t.columns,t.presets)})))})},parts:{menu:pk(!1,1,t.presets)}})},m_=un("color-input-change"),g_=un("color-swatch-change"),h_=un("color-picker-cancel"),TE=function(t,r,o){var s=Ir.parts.field({factory:Q2,inputClasses:["tox-textfield"],onSetValue:function(S){return ed.run(S).get(ge)},inputBehaviours:zt([Tn.config({disabled:r.providers.isDisabled}),vi(),Oo.config({}),ed.config({invalidClass:"tox-textbox-field-invalid",getRoot:function(S){return Ga(S.element)},notify:{onValid:function(S){var E=Xt.getValue(S);Rn(S,m_,{color:E})}},validator:{validateOnLoad:!1,validate:function(S){var E=Xt.getValue(S);if(E.length===0)return au.pure(rr.value(!0));var R=le.fromTag("span");In(R,"background-color",E);var M=ko(R,"background-color").fold(function(){return rr.error("blah")},function(H){return rr.value(E)});return au.pure(M)}}})]),selectOnFocus:!1}),v=t.label.map(function(S){return Lg(S,r.providers)}),m=function(S,E){Rn(S,g_,{value:E})},p=function(S,E){C.getOpt(S).each(function(R){E==="custom"?o.colorPicker(function(M){M.fold(function(){return dr(R,h_)},function(H){m(R,H),TD(H)})},"#ffffff"):E==="remove"?m(R,""):m(R,E)})},C=qr(d_({dom:{tag:"span",attributes:{"aria-label":r.providers.translate("Color swatch")}},layouts:{onRtl:function(){return[Jo,nu,Li]},onLtr:function(){return[nu,Jo,Li]}},components:[],fetch:AD(o.getColors(),o.hasCustomColors()),columns:o.getColorCols(),presets:"color",onItemAction:p},r));return Ir.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:v.toArray().concat([{dom:{tag:"div",classes:["tox-color-input"]},components:[s,C.asSpec()]}]),fieldBehaviours:zt([ar("form-field-events",[ft(m_,function(S,E){C.getOpt(S).each(function(R){In(R.element,"background-color",E.event.color)}),Rn(S,Ts,{name:t.name})}),ft(g_,function(S,E){Ir.getField(S).each(function(R){Xt.setValue(R,E.event.value),cr.getCurrent(S).each(Vn.focus)})}),ft(h_,function(S,E){Ir.getField(S).each(function(R){cr.getCurrent(S).each(Vn.focus)})})])])})},G6=Zs({schema:[it("dom")],name:"label"}),Hg=function(t){return Zs({name:""+t+"-edge",overrides:function(r){var o=r.model.manager.edgeActions[t];return o.fold(function(){return{}},function(s){return{events:Oa([fh(Kc(),function(v,m,p){return s(v,p)},[r]),fh(Hs(),function(v,m,p){return s(v,p)},[r]),fh(wd(),function(v,m,p){p.mouseIsDown.get()&&s(v,p)},[r])])}})}})},q6=Hg("top-left"),K6=Hg("top"),X6=Hg("top-right"),Y6=Hg("right"),J6=Hg("bottom-right"),p_=Hg("bottom"),b_=Hg("bottom-left"),Z6=Hg("left"),Q6=Ai({name:"thumb",defaults:K({dom:{styles:{position:"absolute"}}}),overrides:function(t){return{events:Oa([Td(Kc(),t,"spectrum"),Td(Vs(),t,"spectrum"),Td(mv(),t,"spectrum"),Td(Hs(),t,"spectrum"),Td(wd(),t,"spectrum"),Td(k0(),t,"spectrum")])}}}),eM=Ai({schema:[Pu("mouseIsDown",function(){return Dn(!1)})],name:"spectrum",overrides:function(t){var r=t.model,o=r.manager,s=function(v,m){return o.getValueFromEvent(m).map(function(p){return o.setValueFrom(v,t,p)})};return{behaviours:zt([Bn.config({mode:"special",onLeft:function(v){return o.onLeft(v,t)},onRight:function(v){return o.onRight(v,t)},onUp:function(v){return o.onUp(v,t)},onDown:function(v){return o.onDown(v,t)}}),Vn.config({})]),events:Oa([ft(Kc(),s),ft(Vs(),s),ft(Hs(),s),ft(wd(),function(v,m){t.mouseIsDown.get()&&s(v,m)})])}}}),tM=[G6,Z6,Y6,K6,p_,q6,X6,b_,J6,Q6,eM],nM="slider.change.value",jb=K(nM),y_=function(t){return t.type.indexOf("touch")!==-1},Vk=function(t){var r=t.event.raw;if(y_(r)){var o=r;return o.touches!==void 0&&o.touches.length===1?_.some(o.touches[0]).map(function(v){return ga(v.clientX,v.clientY)}):_.none()}else{var s=r;return s.clientX!==void 0?_.some(s).map(function(v){return ga(v.clientX,v.clientY)}):_.none()}},Hk="top",rM="right",w_="bottom",aM="left",pp=function(t){return t.model.minX},bp=function(t){return t.model.minY},Uk=function(t){return t.model.minX-1},yp=function(t){return t.model.minY-1},wp=function(t){return t.model.maxX},Cp=function(t){return t.model.maxY},vf=function(t){return t.model.maxX+1},Wk=function(t){return t.model.maxY+1},Sp=function(t,r,o){return r(t)-o(t)},jk=function(t){return Sp(t,wp,pp)},tw=function(t){return Sp(t,Cp,bp)},C_=function(t){return jk(t)/2},S_=function(t){return tw(t)/2},Gb=function(t){return t.stepSize},EE=function(t){return t.snapToGrid},k_=function(t){return t.snapStart},nw=function(t){return t.rounded},Gk=function(t,r){return t[r+"-edge"]!==void 0},Os=function(t){return Gk(t,aM)},x_=function(t){return Gk(t,rM)},T_=function(t){return Gk(t,Hk)},OE=function(t){return Gk(t,w_)},td=function(t){return t.model.value.get()},E_=function(t){return{x:t}},O_=function(t){return{y:t}},Ug=function(t,r){return{x:t,y:r}},df=function(t,r){Rn(t,jb(),{value:r})},oM=function(t,r){df(t,Ug(Uk(r),yp(r)))},iM=function(t,r){df(t,O_(yp(r)))},uM=function(t,r){df(t,Ug(C_(r),yp(r)))},A_=function(t,r){df(t,Ug(vf(r),yp(r)))},lM=function(t,r){df(t,E_(vf(r)))},sM=function(t,r){df(t,Ug(vf(r),S_(r)))},cM=function(t,r){df(t,Ug(vf(r),Wk(r)))},D_=function(t,r){df(t,O_(Wk(r)))},qk=function(t,r){df(t,Ug(C_(r),Wk(r)))},fM=function(t,r){df(t,Ug(Uk(r),Wk(r)))},Kk=function(t,r){df(t,E_(Uk(r)))},qb=function(t,r){df(t,Ug(Uk(r),S_(r)))},Xk=function(t,r,o,s){return t<r?t:t>o?o:t===r?r-1:Math.max(r,t-s)},Yk=function(t,r,o,s){return t>o?t:t<r?r:t===o?o+1:Math.min(o,t+s)},AE=function(t,r,o){return Math.max(r,Math.min(o,t))},vM=function(t,r,o,s,v){return v.fold(function(){var m=t-r,p=Math.round(m/s)*s;return AE(r+p,r-1,o+1)},function(m){var p=(t-m)%s,C=Math.round(p/s),S=Math.floor((t-m)/s),E=Math.floor((o-m)/s),R=Math.min(E,S+C),M=m+R*s;return Math.max(m,M)})},dM=function(t,r,o){return Math.min(o,Math.max(t,r))-r},rw=function(t){var r=t.min,o=t.max,s=t.range,v=t.value,m=t.step,p=t.snap,C=t.snapStart,S=t.rounded,E=t.hasMinEdge,R=t.hasMaxEdge,M=t.minBound,H=t.maxBound,G=t.screenRange,Z=E?r-1:r,ue=R?o+1:o;if(v<M)return Z;if(v>H)return ue;var Ce=dM(v,M,H),ae=AE(Ce/G*s+r,Z,ue);return p&&ae>=r&&ae<=o?vM(ae,r,o,m,C):S?Math.round(ae):ae},__=function(t){var r=t.min,o=t.max,s=t.range,v=t.value,m=t.hasMinEdge,p=t.hasMaxEdge,C=t.maxBound,S=t.maxOffset,E=t.centerMinEdge,R=t.centerMaxEdge;return v<r?m?0:E:v>o?p?C:R:(v-r)/s*S},DE="top",_E="right",RE="bottom",aw="left",R_="width",Dl="height",nv=function(t){return t.element.dom.getBoundingClientRect()},mf=function(t,r){return t[r]},Jk=function(t){var r=nv(t);return mf(r,aw)},BE=function(t){var r=nv(t);return mf(r,_E)},Zk=function(t){var r=nv(t);return mf(r,DE)},B_=function(t){var r=nv(t);return mf(r,RE)},M_=function(t){var r=nv(t);return mf(r,R_)},ME=function(t){var r=nv(t);return mf(r,Dl)},rv=function(t,r,o){return(t+r)/2-o},Qk=function(t,r){var o=nv(t),s=nv(r),v=mf(o,aw),m=mf(o,_E),p=mf(s,aw);return rv(v,m,p)},PE=function(t,r){var o=nv(t),s=nv(r),v=mf(o,DE),m=mf(o,RE),p=mf(s,DE);return rv(v,m,p)},kp=function(t,r){Rn(t,jb(),{value:r})},Kb=function(t){return{x:t}},$E=function(t,r,o){var s={min:pp(r),max:wp(r),range:jk(r),value:o,step:Gb(r),snap:EE(r),snapStart:k_(r),rounded:nw(r),hasMinEdge:Os(r),hasMaxEdge:x_(r),minBound:Jk(t),maxBound:BE(t),screenRange:M_(t)};return rw(s)},mM=function(t,r,o){var s=$E(t,r,o),v=Kb(s);return kp(t,v),s},gM=function(t,r){var o=pp(r);kp(t,Kb(o))},hM=function(t,r){var o=wp(r);kp(t,Kb(o))},pM=function(t,r,o){var s=t>0?Yk:Xk,v=s(td(o).x,pp(o),wp(o),Gb(o));return kp(r,Kb(v)),_.some(v)},ex=function(t){return function(r,o){return pM(t,r,o).map(st)}},bM=function(t){var r=Vk(t);return r.map(function(o){return o.left})},P_=function(t,r,o,s,v){var m=0,p=M_(t),C=s.bind(function(R){return _.some(Qk(R,t))}).getOr(m),S=v.bind(function(R){return _.some(Qk(R,t))}).getOr(p),E={min:pp(r),max:wp(r),range:jk(r),value:o,hasMinEdge:Os(r),hasMaxEdge:x_(r),minBound:Jk(t),minOffset:m,maxBound:BE(t),maxOffset:p,centerMinEdge:C,centerMaxEdge:S};return __(E)},NE=function(t,r,o,s,v,m){var p=P_(r,m,o,s,v);return Jk(r)-Jk(t)+p},nd=function(t,r,o,s){var v=td(o),m=NE(t,s.getSpectrum(t),v.x,s.getLeftEdge(t),s.getRightEdge(t),o),p=Yi(r.element)/2;In(r.element,"left",m-p+"px")},tx=ex(-1),yM=ex(1),wM=_.none,$_=_.none,N_={"top-left":_.none(),top:_.none(),"top-right":_.none(),right:_.some(lM),"bottom-right":_.none(),bottom:_.none(),"bottom-left":_.none(),left:_.some(Kk)},FE=Object.freeze({__proto__:null,setValueFrom:mM,setToMin:gM,setToMax:hM,findValueOfOffset:$E,getValueFromEvent:bM,findPositionOfValue:NE,setPositionFromValue:nd,onLeft:tx,onRight:yM,onUp:wM,onDown:$_,edgeActions:N_}),ow=function(t,r){Rn(t,jb(),{value:r})},Wg=function(t){return{y:t}},xp=function(t,r,o){var s={min:bp(r),max:Cp(r),range:tw(r),value:o,step:Gb(r),snap:EE(r),snapStart:k_(r),rounded:nw(r),hasMinEdge:T_(r),hasMaxEdge:OE(r),minBound:Zk(t),maxBound:B_(t),screenRange:ME(t)};return rw(s)},CM=function(t,r,o){var s=xp(t,r,o),v=Wg(s);return ow(t,v),s},SM=function(t,r){var o=bp(r);ow(t,Wg(o))},kM=function(t,r){var o=Cp(r);ow(t,Wg(o))},xM=function(t,r,o){var s=t>0?Yk:Xk,v=s(td(o).y,bp(o),Cp(o),Gb(o));return ow(r,Wg(v)),_.some(v)},F_=function(t){return function(r,o){return xM(t,r,o).map(st)}},TM=function(t){var r=Vk(t);return r.map(function(o){return o.top})},EM=function(t,r,o,s,v){var m=0,p=ME(t),C=s.bind(function(R){return _.some(PE(R,t))}).getOr(m),S=v.bind(function(R){return _.some(PE(R,t))}).getOr(p),E={min:bp(r),max:Cp(r),range:tw(r),value:o,hasMinEdge:T_(r),hasMaxEdge:OE(r),minBound:Zk(t),minOffset:m,maxBound:B_(t),maxOffset:p,centerMinEdge:C,centerMaxEdge:S};return __(E)},iw=function(t,r,o,s,v,m){var p=EM(r,m,o,s,v);return Zk(r)-Zk(t)+p},Tp=function(t,r,o,s){var v=td(o),m=iw(t,s.getSpectrum(t),v.y,s.getTopEdge(t),s.getBottomEdge(t),o),p=$o(r.element)/2;In(r.element,"top",m-p+"px")},OM=_.none,z_=_.none,AM=F_(-1),DM=F_(1),_M={"top-left":_.none(),top:_.some(iM),"top-right":_.none(),right:_.none(),"bottom-right":_.none(),bottom:_.some(D_),"bottom-left":_.none(),left:_.none()},RM=Object.freeze({__proto__:null,setValueFrom:CM,setToMin:SM,setToMax:kM,findValueOfOffset:xp,getValueFromEvent:TM,findPositionOfValue:iw,setPositionFromValue:Tp,onLeft:OM,onRight:z_,onUp:AM,onDown:DM,edgeActions:_M}),nx=function(t,r){Rn(t,jb(),{value:r})},uw=function(t,r){return{x:t,y:r}},zE=function(t,r,o){var s=$E(t,r,o.left),v=xp(t,r,o.top),m=uw(s,v);return nx(t,m),m},BM=function(t,r,o,s){var v=t>0?Yk:Xk,m=r?td(s).x:v(td(s).x,pp(s),wp(s),Gb(s)),p=r?v(td(s).y,bp(s),Cp(s),Gb(s)):td(s).y;return nx(o,uw(m,p)),_.some(m)},lw=function(t,r){return function(o,s){return BM(t,r,o,s).map(st)}},IE=function(t,r){var o=pp(r),s=bp(r);nx(t,uw(o,s))},LE=function(t,r){var o=wp(r),s=Cp(r);nx(t,uw(o,s))},I_=function(t){return Vk(t)},MM=function(t,r,o,s){var v=td(o),m=NE(t,s.getSpectrum(t),v.x,s.getLeftEdge(t),s.getRightEdge(t),o),p=iw(t,s.getSpectrum(t),v.y,s.getTopEdge(t),s.getBottomEdge(t),o),C=Yi(r.element)/2,S=$o(r.element)/2;In(r.element,"left",m-C+"px"),In(r.element,"top",p-S+"px")},PM=lw(-1,!1),rx=lw(1,!1),L_=lw(-1,!0),$M=lw(1,!0),NM={"top-left":_.some(oM),top:_.some(uM),"top-right":_.some(A_),right:_.some(sM),"bottom-right":_.some(cM),bottom:_.some(qk),"bottom-left":_.some(fM),left:_.some(qb)},FM=Object.freeze({__proto__:null,setValueFrom:zE,setToMin:IE,setToMax:LE,getValueFromEvent:I_,setPositionFromValue:MM,onLeft:PM,onRight:rx,onUp:L_,onDown:$M,edgeActions:NM}),zM=[ke("stepSize",1),ke("onChange",ge),ke("onChoose",ge),ke("onInit",ge),ke("onDragStart",ge),ke("onDragEnd",ge),ke("snapToGrid",!1),ke("rounded",!0),Hr("snapStart"),Yu("model",fs("mode",{x:[ke("minX",0),ke("maxX",100),Pu("value",function(t){return Dn(t.mode.minX)}),it("getInitialValue"),ca("manager",FE)],y:[ke("minY",0),ke("maxY",100),Pu("value",function(t){return Dn(t.mode.minY)}),it("getInitialValue"),ca("manager",RM)],xy:[ke("minX",0),ke("maxX",100),ke("minY",0),ke("maxY",100),Pu("value",function(t){return Dn({x:t.mode.minX,y:t.mode.minY})}),it("getInitialValue"),ca("manager",FM)]})),si("sliderBehaviours",[Bn,Xt]),Pu("mouseIsDown",function(){return Dn(!1)})],wm=function(t,r,o,s){var v,m=function(Se){return uf(Se,t,"thumb")},p=function(Se){return uf(Se,t,"spectrum")},C=function(Se){return fa(Se,t,"left-edge")},S=function(Se){return fa(Se,t,"right-edge")},E=function(Se){return fa(Se,t,"top-edge")},R=function(Se){return fa(Se,t,"bottom-edge")},M=t.model,H=M.manager,G=function(Se,ze){H.setPositionFromValue(Se,ze,t,{getLeftEdge:C,getRightEdge:S,getTopEdge:E,getBottomEdge:R,getSpectrum:p})},Z=function(Se,ze){M.value.set(ze);var at=m(Se);G(Se,at)},ue=function(Se,ze){Z(Se,ze);var at=m(Se);return t.onChange(Se,at,ze),_.some(!0)},Ce=function(Se){H.setToMin(Se,t)},ae=function(Se){H.setToMax(Se,t)},xe=function(Se){var ze=function(){fa(Se,t,"thumb").each(function(Yt){var ct=M.value.get();t.onChoose(Se,Yt,ct)})},at=t.mouseIsDown.get();t.mouseIsDown.set(!1),at&&ze()},Ge=function(Se,ze){ze.stop(),t.mouseIsDown.set(!0),t.onDragStart(Se,m(Se))},Ze=function(Se,ze){ze.stop(),t.onDragEnd(Se,m(Se)),xe(Se)};return{uid:t.uid,dom:t.dom,components:r,behaviours:ci(t.sliderBehaviours,[Bn.config({mode:"special",focusIn:function(Se){return fa(Se,t,"spectrum").map(Bn.focusIn).map(st)}}),Xt.config({store:{mode:"manual",getValue:function(Se){return M.value.get()}}}),Sl.config({channels:(v={},v[Tl()]={onReceive:xe},v)})]),events:Oa([ft(jb(),function(Se,ze){ue(Se,ze.event.value)}),Ha(function(Se,ze){var at=M.getInitialValue();M.value.set(at);var Yt=m(Se);G(Se,Yt);var ct=p(Se);t.onInit(Se,Yt,ct,M.value.get())}),ft(Kc(),Ge),ft(mv(),Ze),ft(Hs(),Ge),ft(k0(),Ze)]),apis:{resetToMin:Ce,resetToMax:ae,setValue:Z,refresh:G},domModification:{styles:{position:"relative"}}}},ic=Hu({name:"Slider",configFields:zM,partFields:tM,factory:wm,apis:{setValue:function(t,r,o){t.setValue(r,o)},resetToMin:function(t,r){t.resetToMin(r)},resetToMax:function(t,r){t.resetToMax(r)},refresh:function(t,r){t.refresh(r)}}}),ax=un("rgb-hex-update"),VE=un("slider-update"),ox=un("palette-update"),V_=function(t,r){var o=ic.parts.spectrum({dom:{tag:"div",classes:[r("hue-slider-spectrum")],attributes:{role:"presentation"}}}),s=ic.parts.thumb({dom:{tag:"div",classes:[r("hue-slider-thumb")],attributes:{role:"presentation"}}});return ic.sketch({dom:{tag:"div",classes:[r("hue-slider")],attributes:{role:"presentation"}},rounded:!1,model:{mode:"y",getInitialValue:K({y:0})},components:[o,s],sliderBehaviours:zt([Vn.config({})]),onChange:function(v,m,p){Rn(v,VE,{value:p})}})},sw="form",H_=[si("formBehaviours",[Xt])],HE=function(t){return"<alloy.field."+t+">"},IM=function(t){var r=function(){var m=[],p=function(C,S){return m.push(C),Wy(sw,HE(C),S)};return{field:p,record:K(m)}}(),o=t(r),s=r.record(),v=Tt(s,function(m){return Ai({name:m,pname:HE(m)})});return Yy(sw,H_,v,VM,o)},LM=function(t,r){return t.fold(function(){return rr.error(r)},rr.value)},VM=function(t,r){return{uid:t.uid,dom:t.dom,components:r,behaviours:ci(t.formBehaviours,[Xt.config({store:{mode:"manual",getValue:function(o){var s=qy(o,t);return Lr(s,function(v,m){return v().bind(function(p){var C=cr.getCurrent(p);return LM(C,new Error("Cannot find a current component to extract the value from for form part '"+m+"': "+Ci(p.element)))}).map(Xt.getValue)})},setValue:function(o,s){ta(s,function(v,m){fa(o,t,m).each(function(p){cr.getCurrent(p).each(function(C){Xt.setValue(C,v)})})})}}})]),apis:{getField:function(o,s){return fa(o,t,s).bind(cr.getCurrent)}}}},Xb={getField:Dd(function(t,r,o){return t.getField(r,o)}),sketch:IM},UE=un("valid-input"),WE=un("invalid-input"),U_=un("validating-input"),jE="colorcustom.rgb.",HM=function(t,r,o,s){var v=function(H,G){return ed.config({invalidClass:r("invalid"),notify:{onValidate:function(Z){Rn(Z,U_,{type:H})},onValid:function(Z){Rn(Z,UE,{type:H,value:Xt.getValue(Z)})},onInvalid:function(Z){Rn(Z,WE,{type:H,value:Xt.getValue(Z)})}},validator:{validate:function(Z){var ue=Xt.getValue(Z),Ce=G(ue)?rr.value(!0):rr.error(t("aria.input.invalid"));return au.pure(Ce)},validateOnLoad:!1}})},m=function(H,G,Z,ue,Ce){var ae=t(jE+"range"),xe=Ir.parts.label({dom:{tag:"label",innerHtml:Z,attributes:{"aria-label":ue}}}),Ge=Ir.parts.field({data:Ce,factory:Q2,inputAttributes:ve({type:"text"},G==="hex"?{"aria-live":"polite"}:{}),inputClasses:[r("textfield")],inputBehaviours:zt([v(G,H),Oo.config({})]),onSetValue:function(at){if(ed.isInvalid(at)){var Yt=ed.run(at);Yt.get(ge)}}}),Ze=[xe,Ge],Se=G!=="hex"?[Ir.parts["aria-descriptor"]({text:ae})]:[],ze=Ze.concat(Se);return{dom:{tag:"div",attributes:{role:"presentation"}},components:ze}},p=function(H,G){var Z=U2(G);return Xb.getField(H,"hex").each(function(ue){Vn.isFocused(ue)||Xt.setValue(H,{hex:Z.value})}),Z},C=function(H,G){var Z=G.red,ue=G.green,Ce=G.blue;Xt.setValue(H,{red:Z,green:ue,blue:Ce})},S=qr({dom:{tag:"div",classes:[r("rgba-preview")],styles:{"background-color":"white"},attributes:{role:"presentation"}}}),E=function(H,G){S.getOpt(H).each(function(Z){In(Z.element,"background-color","#"+G.value)})},R=function(){var H={red:Dn(_.some(255)),green:Dn(_.some(255)),blue:Dn(_.some(255)),hex:Dn(_.some("ffffff"))},G=function(rt,Kt){var gn=W2(Kt);C(rt,gn),ae(gn)},Z=function(rt){return H[rt].get()},ue=function(rt,Kt){H[rt].set(Kt)},Ce=function(){return Z("red").bind(function(rt){return Z("green").bind(function(Kt){return Z("blue").map(function(gn){return Ig(rt,Kt,gn,1)})})})},ae=function(rt){var Kt=rt.red,gn=rt.green,vt=rt.blue;ue("red",_.some(Kt)),ue("green",_.some(gn)),ue("blue",_.some(vt))},xe=function(rt,Kt){var gn=Kt.event;gn.type!=="hex"?ue(gn.type,_.none()):s(rt)},Ge=function(rt,Kt){o(rt);var gn=cD(Kt);ue("hex",_.some(Kt));var vt=W2(gn);C(rt,vt),ae(vt),Rn(rt,ax,{hex:gn}),E(rt,gn)},Ze=function(rt,Kt,gn){var vt=parseInt(gn,10);ue(Kt,_.some(vt)),Ce().each(function(fn){var wn=p(rt,fn);Rn(rt,ax,{hex:wn}),E(rt,wn)})},Se=function(rt){return rt.type==="hex"},ze=function(rt,Kt){var gn=Kt.event;Se(gn)?Ge(rt,gn.value):Ze(rt,gn.type,gn.value)},at=function(rt){return{label:t(jE+rt+".label"),description:t(jE+rt+".description")}},Yt=at("red"),ct=at("green"),Jt=at("blue"),mt=at("hex");return Je(Xb.sketch(function(rt){return{dom:{tag:"form",classes:[r("rgb-form")],attributes:{"aria-label":t("aria.color.picker")}},components:[rt.field("red",Ir.sketch(m(tE,"red",Yt.label,Yt.description,255))),rt.field("green",Ir.sketch(m(tE,"green",ct.label,ct.description,255))),rt.field("blue",Ir.sketch(m(tE,"blue",Jt.label,Jt.description,255))),rt.field("hex",Ir.sketch(m(dD,"hex",mt.label,mt.description,"ffffff"))),S.asSpec()],formBehaviours:zt([ed.config({invalidClass:r("form-invalid")}),ar("rgb-form-events",[ft(UE,ze),ft(WE,xe),ft(U_,xe)])])}}),{apis:{updateHex:function(rt,Kt){Xt.setValue(rt,{hex:Kt.value}),G(rt,Kt),E(rt,Kt)}}})},M=El({factory:R,name:"RgbForm",configFields:[],apis:{updateHex:function(H,G,Z){H.updateHex(G,Z)}},extraApis:{}});return M},ix=function(t,r){var o=ic.parts.spectrum({dom:{tag:"canvas",attributes:{role:"presentation"},classes:[r("sv-palette-spectrum")]}}),s=ic.parts.thumb({dom:{tag:"div",attributes:{role:"presentation"},classes:[r("sv-palette-thumb")],innerHtml:"<div class="+r("sv-palette-inner-thumb")+' role="presentation"></div>'}}),v=function(E,R){var M=E.width,H=E.height,G=E.getContext("2d");if(G!==null){G.fillStyle=R,G.fillRect(0,0,M,H);var Z=G.createLinearGradient(0,0,M,0);Z.addColorStop(0,"rgba(255,255,255,1)"),Z.addColorStop(1,"rgba(255,255,255,0)"),G.fillStyle=Z,G.fillRect(0,0,M,H);var ue=G.createLinearGradient(0,0,0,H);ue.addColorStop(0,"rgba(0,0,0,0)"),ue.addColorStop(1,"rgba(0,0,0,1)"),G.fillStyle=ue,G.fillRect(0,0,M,H)}},m=function(E,R){var M=E.components()[0].element.dom,H=j2(R,100,100),G=hD(H);v(M,nE(G))},p=function(E,R){var M=Ak(W2(R));ic.setValue(E,{x:M.saturation,y:100-M.value})},C=function(E){var R=K({x:0,y:0}),M=function(Z,ue,Ce){Rn(Z,ox,{value:Ce})},H=function(Z,ue,Ce,ae){v(Ce.element.dom,nE(yD))},G=zt([cr.config({find:_.some}),Vn.config({})]);return ic.sketch({dom:{tag:"div",attributes:{role:"presentation"},classes:[r("sv-palette")]},model:{mode:"xy",getInitialValue:R},rounded:!1,components:[o,s],onChange:M,onInit:H,sliderBehaviours:G})},S=El({factory:C,name:"SaturationBrightnessPalette",configFields:[],apis:{setHue:function(E,R,M){m(R,M)},setThumb:function(E,R,M){p(R,M)}},extraApis:{}});return S},UM=function(t,r){var o=function(v){var m=HM(t,r,v.onValidHex,v.onInvalidHex),p=ix(t,r),C=function(ze){return(100-ze)/100*360},S=function(ze){return 100-ze/360*100},E={paletteRgba:Dn(yD),paletteHue:Dn(0)},R=qr(V_(t,r)),M=qr(p.sketch({})),H=qr(m.sketch({})),G=function(ze,at,Yt){M.getOpt(ze).each(function(ct){p.setHue(ct,Yt)})},Z=function(ze,at){H.getOpt(ze).each(function(Yt){m.updateHex(Yt,at)})},ue=function(ze,at,Yt){R.getOpt(ze).each(function(ct){ic.setValue(ct,{y:S(Yt)})})},Ce=function(ze,at){M.getOpt(ze).each(function(Yt){p.setThumb(Yt,at)})},ae=function(ze,at){var Yt=W2(ze);E.paletteRgba.set(Yt),E.paletteHue.set(at)},xe=function(ze,at,Yt,ct){ae(at,Yt),Ie(ct,function(Jt){Jt(ze,at,Yt)})},Ge=function(){var ze=[Z];return function(at,Yt){var ct=Yt.event.value,Jt=E.paletteHue.get(),mt=j2(Jt,ct.x,100-ct.y),rt=aE(mt);xe(at,rt,Jt,ze)}},Ze=function(){var ze=[G,Z];return function(at,Yt){var ct=C(Yt.event.value.y),Jt=E.paletteRgba.get(),mt=Ak(Jt),rt=j2(ct,mt.saturation,mt.value),Kt=aE(rt);xe(at,Kt,ct,ze)}},Se=function(){var ze=[G,ue,Ce];return function(at,Yt){var ct=Yt.event.hex,Jt=M8(ct);xe(at,ct,Jt.hue,ze)}};return{uid:v.uid,dom:v.dom,components:[M.asSpec(),R.asSpec(),H.asSpec()],behaviours:zt([ar("colour-picker-events",[ft(ax,Se()),ft(ox,Ge()),ft(VE,Ze())]),cr.config({find:function(ze){return H.getOpt(ze)}}),Bn.config({mode:"acyclic"})])}},s=El({name:"ColourPicker",configFields:[it("dom"),ke("onValidHex",ge),ke("onInvalidHex",ge)],factory:o});return s},WM=function(){return cr.config({find:_.some})},W_=function(t){return cr.config({find:t.getOpt})},j_=function(t){return cr.config({find:function(r){return $(r.element,t).bind(function(o){return r.getSystem().getByDom(o).toOptional()})}})},av={self:WM,memento:W_,childAt:j_},jM={"colorcustom.rgb.red.label":"R","colorcustom.rgb.red.description":"Red component","colorcustom.rgb.green.label":"G","colorcustom.rgb.green.description":"Green component","colorcustom.rgb.blue.label":"B","colorcustom.rgb.blue.description":"Blue component","colorcustom.rgb.hex.label":"#","colorcustom.rgb.hex.description":"Hex color code","colorcustom.rgb.range":"Range 0 to 255","colorcustom.sb.saturation":"Saturation","colorcustom.sb.brightness":"Brightness","colorcustom.sb.picker":"Saturation and Brightness Picker","colorcustom.sb.palette":"Saturation and Brightness Palette","colorcustom.sb.instructions":"Use arrow keys to select saturation and brightness, on x and y axes","colorcustom.hue.hue":"Hue","colorcustom.hue.slider":"Hue Slider","colorcustom.hue.palette":"Hue Palette","colorcustom.hue.instructions":"Use arrow keys to select a hue","aria.color.picker":"Color Picker","aria.input.invalid":"Invalid input"},ux=function(t){return jM[t]},GM=function(t){return ux(t)},qM=function(t){var r=function(p){return"tox-"+p},o=UM(GM,r),s=function(p){Rn(p,Zv,{name:"hex-valid",value:!0})},v=function(p){Rn(p,Zv,{name:"hex-valid",value:!1})},m=qr(o.sketch({dom:{tag:"div",classes:[r("color-picker-container")],attributes:{role:"presentation"}},onValidHex:s,onInvalidHex:v}));return{dom:{tag:"div"},components:[m.asSpec()],behaviours:zt([Xt.config({store:{mode:"manual",getValue:function(p){var C=m.get(p),S=cr.getCurrent(C),E=S.bind(function(R){var M=Xt.getValue(R);return M.hex});return E.map(function(R){return"#"+R}).getOr("")},setValue:function(p,C){var S=/^#([a-fA-F0-9]{3}(?:[a-fA-F0-9]{3})?)/,E=S.exec(C),R=m.get(p),M=cr.getCurrent(R);M.fold(function(){console.log("Can not find form")},function(H){Xt.setValue(H,{hex:_.from(E[1]).getOr("")}),Xb.getField(H,"hex").each(function(G){dr(G,Cd())})})}}}),av.self()])}},KM=tinymce.util.Tools.resolve("tinymce.Resource"),XM=function(t){return Cr(t,"init")},lx=function(t){var r=so(),o=qr({dom:{tag:t.tag}}),s=so();return{dom:{tag:"div",classes:["tox-custom-editor"]},behaviours:zt([ar("custom-editor-events",[Ha(function(v){o.getOpt(v).each(function(m){(XM(t)?t.init(m.element.dom):KM.load(t.scriptId,t.scriptUrl).then(function(p){return p(m.element.dom,t.settings)})).then(function(p){s.on(function(C){p.setValue(C)}),s.clear(),r.set(p)})})})]),Xt.config({store:{mode:"manual",getValue:function(){return r.get().fold(function(){return s.get().getOr("")},function(v){return v.getValue()})},setValue:function(v,m){r.get().fold(function(){s.set(m)},function(p){return p.setValue(m)})}}}),av.self()]),components:[o.asSpec()]}},rd=tinymce.util.Tools.resolve("tinymce.util.Tools"),YM=kn([ke("preprocess",dt),ke("postprocess",dt)]),JM=function(t,r){var o=Yr("RepresentingConfigs.memento processors",YM,r);return Xt.config({store:{mode:"manual",getValue:function(s){var v=t.get(s),m=Xt.getValue(v);return o.postprocess(m)},setValue:function(s,v){var m=o.preprocess(v),p=t.get(s);Xt.setValue(p,m)}}})},cw=function(t,r,o){return Xt.config(Je({store:{mode:"manual",getValue:r,setValue:o}},t.map(function(s){return{store:{initialValue:s}}}).getOr({})))},GE=function(t,r,o){return cw(t,function(s){return r(s.element)},function(s,v){return o(s.element,v)})},qE=function(t){return GE(t,Cl,Qm)},G_=function(t){return GE(t,Zu,yc)},ZM=function(t){return Xt.config({store:{mode:"memory",initialValue:t}})},Ep={memento:JM,withElement:GE,withComp:cw,domValue:qE,domHtml:G_,memory:ZM},q_="jpeg,jpg,jpe,jfi,jif,jfif,png,gif,bmp,webp",K_=function(t,r){var o=rd.explode(r.getSetting("images_file_types",q_,"string")),s=function(v){return ua(o,function(m){return Sn(v.name.toLowerCase(),"."+m.toLowerCase())})};return Re(Ho(t),s)},QM=function(t,r){var o=function(M,H){H.stop()},s=function(M){return function(H,G){Ie(M,function(Z){Z(H,G)})}},v=function(M,H){if(!Tn.isDisabled(M)){var G=H.event.raw;p(M,G.dataTransfer.files)}},m=function(M,H){var G=H.event.raw.target;p(M,G.files)},p=function(M,H){Xt.setValue(M,K_(H,r)),Rn(M,Ts,{name:t.name})},C=qr({dom:{tag:"input",attributes:{type:"file",accept:"image/*"},styles:{display:"none"}},behaviours:zt([ar("input-file-events",[ho(Wm()),ho(hv())])])}),S=function(M){return{uid:M.uid,dom:{tag:"div",classes:["tox-dropzone-container"]},behaviours:zt([Ep.memory([]),av.self(),Tn.config({}),xr.config({toggleClass:"dragenter",toggleOnExecute:!1}),ar("dropzone-events",[ft("dragenter",s([o,xr.toggle])),ft("dragleave",s([o,xr.toggle])),ft("dragover",o),ft("drop",s([o,v])),ft(Um(),m)])]),components:[{dom:{tag:"div",classes:["tox-dropzone"],styles:{}},components:[{dom:{tag:"p",innerHtml:r.translate("Drop an image here")}},Wu.sketch({dom:{tag:"button",innerHtml:r.translate("Browse for an image"),styles:{position:"relative"},classes:["tox-button","tox-button--secondary"]},components:[C.asSpec()],action:function(H){var G=C.get(H);G.element.dom.click()},buttonBehaviours:zt([Oo.config({}),ac.button(r.isDisabled),vi()])})]}]}},E=t.label.map(function(M){return Lg(M,r)}),R=Ir.parts.field({factory:{sketch:S}});return Z2(E,R,["tox-form__group--stretched"],[])},X_=function(t,r){return{dom:{tag:"div",classes:["tox-form__grid","tox-form__grid--"+t.columns+"col"]},components:Tt(t.items,r.interpreter)}},sx=un("alloy-fake-before-tabstop"),cx=un("alloy-fake-after-tabstop"),KE=function(t){return{dom:{tag:"div",styles:{width:"1px",height:"1px",outline:"none"},attributes:{tabindex:"0"},classes:t},behaviours:zt([Vn.config({ignore:!0}),Oo.config({})])}},Y_=function(t){return{dom:{tag:"div",classes:["tox-navobj"]},components:[KE([sx]),t,KE([cx])],behaviours:zt([av.childAt(1)])}},J_=function(t,r){Rn(t,Kp(),{raw:{which:9,shiftKey:r}})},eP=function(t,r){var o=r.element;Fu(o,sx)?J_(t,!0):Fu(o,cx)&&J_(t,!1)},Yb=function(t){return X2(t,["."+sx,"."+cx].join(","),Zt)},tP=!(On().browser.isIE()||On().browser.isEdge()),Z_=function(t){var r=Dn("");return{getValue:function(o){return r.get()},setValue:function(o,s){if(t)Jn(o.element,"srcdoc",s);else{Jn(o.element,"src","javascript:''");var v=o.element.dom.contentWindow.document;v.open(),v.write(s),v.close()}r.set(s)}}},nP=function(t,r){var o=tP&&t.sandboxed,s=ve(ve({},t.label.map(function(S){return{title:S}}).getOr({})),o?{sandbox:"allow-scripts allow-same-origin"}:{}),v=Z_(o),m=t.label.map(function(S){return Lg(S,r)}),p=function(S){return Y_({uid:S.uid,dom:{tag:"iframe",attributes:s},behaviours:zt([Oo.config({}),Vn.config({}),Ep.withComp(_.none(),v.getValue,v.setValue)])})},C=Ir.parts.field({factory:{sketch:p}});return Z2(m,C,["tox-form__group--stretched"],[])},Jb=function(t,r){return rP(document.createElement("canvas"),t,r)},XE=function(t){var r=Jb(t.width,t.height),o=Cm(r);return o.drawImage(t,0,0),r},Cm=function(t){return t.getContext("2d")},rP=function(t,r,o){return t.width=r,t.height=o,t},YE=function(t){return t.naturalWidth||t.width},JE=function(t){return t.naturalHeight||t.height},aP=function(t){return new Qv(function(r,o){var s=URL.createObjectURL(t),v=new Image,m=function(){v.removeEventListener("load",p),v.removeEventListener("error",C)},p=function(){m(),r(v)},C=function(){m(),o("Unable to load data of type "+t.type+": "+s)};v.addEventListener("load",p),v.addEventListener("error",C),v.src=s,v.complete&&setTimeout(p,0)})},oP=function(t){var r=t.split(","),o=/data:([^;]+)/.exec(r[0]);if(!o)return _.none();for(var s=o[1],v=r[1],m=1024,p=atob(v),C=p.length,S=Math.ceil(C/m),E=new Array(S),R=0;R<S;++R){for(var M=R*m,H=Math.min(M+m,C),G=new Array(H-M),Z=M,ue=0;Z<H;++ue,++Z)G[ue]=p[Z].charCodeAt(0);E[R]=new Uint8Array(G)}return _.some(new Blob(E,{type:s}))},iP=function(t){return new Qv(function(r,o){oP(t).fold(function(){o("uri is not base64: "+t)},r)})},ZE=function(t,r,o){return r=r||"image/png",Gt(HTMLCanvasElement.prototype.toBlob)?new Qv(function(s,v){t.toBlob(function(m){m?s(m):v()},r,o)}):iP(t.toDataURL(r,o))},uP=function(t,r,o){return r=r||"image/png",t.toDataURL(r,o)},lP=function(t){return aP(t).then(function(r){sP(r);var o=Jb(YE(r),JE(r)),s=Cm(o);return s.drawImage(r,0,0),o})},Q_=function(t){return new Qv(function(r){var o=new FileReader;o.onloadend=function(){r(o.result)},o.readAsDataURL(t)})},sP=function(t){URL.revokeObjectURL(t.src)},e5=function(t,r,o){var s=r.type,v=K(s),m=function(){return Qv.resolve(r)},p=K(o),C=function(){return o.split(",")[1]},S=function(H,G){return t.then(function(Z){return ZE(Z,H,G)})},E=function(H,G){return t.then(function(Z){return uP(Z,H,G)})},R=function(H,G){return E(H,G).then(function(Z){return Z.split(",")[1]})},M=function(){return t.then(XE)};return{getType:v,toBlob:m,toDataURL:p,toBase64:C,toAdjustedBlob:S,toAdjustedDataURL:E,toAdjustedBase64:R,toCanvas:M}},cP=function(t){return Q_(t).then(function(r){return e5(lP(t),t,r)})},jg=function(t,r){return ZE(t,r).then(function(o){return e5(Qv.resolve(t),o,t.toDataURL())})},fP=function(t){return cP(t)},fw=function(t,r,o){var s=typeof t=="string"?parseFloat(t):t;return s>o?s=o:s<r&&(s=r),s},QE=function(){return[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1]},fx=[0,.01,.02,.04,.05,.06,.07,.08,.1,.11,.12,.14,.15,.16,.17,.18,.2,.21,.22,.24,.25,.27,.28,.3,.32,.34,.36,.38,.4,.42,.44,.46,.48,.5,.53,.56,.59,.62,.65,.68,.71,.74,.77,.8,.83,.86,.89,.92,.95,.98,1,1.06,1.12,1.18,1.24,1.3,1.36,1.42,1.48,1.54,1.6,1.66,1.72,1.78,1.84,1.9,1.96,2,2.12,2.25,2.37,2.5,2.62,2.75,2.87,3,3.2,3.4,3.6,3.8,4,4.3,4.7,4.9,5,5.5,6,6.5,6.8,7,7.3,7.5,7.8,8,8.4,8.7,9,9.4,9.6,9.8,10],vx=function(t,r){for(var o=[],s=new Array(25),v,m=0;m<5;m++){for(var p=0;p<5;p++)o[p]=r[p+m*5];for(var p=0;p<5;p++){v=0;for(var C=0;C<5;C++)v+=t[p+C*5]*o[C];s[p+m*5]=v}}return s},vP=function(t,r){var o;return r=fw(r,-1,1),r*=100,r<0?o=127+r/100*127:(o=r%1,o===0?o=fx[r]:o=fx[Math.floor(r)]*(1-o)+fx[Math.floor(r)+1]*o,o=o*127+127),vx(t,[o/127,0,0,0,.5*(127-o),0,o/127,0,0,.5*(127-o),0,0,o/127,0,.5*(127-o),0,0,0,1,0,0,0,0,0,1])},t5=function(t,r){return r=fw(255*r,-255,255),vx(t,[1,0,0,0,r,0,1,0,0,r,0,0,1,0,r,0,0,0,1,0,0,0,0,0,1])},n5=function(t,r,o,s){return r=fw(r,0,2),o=fw(o,0,2),s=fw(s,0,2),vx(t,[r,0,0,0,0,0,o,0,0,0,0,0,s,0,0,0,0,0,1,0,0,0,0,0,1])},eO=function(t,r){return t.toCanvas().then(function(o){return dP(o,t.getType(),r)})},dP=function(t,r,o){var s=Cm(t),v=function(p,C){for(var S,E,R,M,H=p.data,G=C[0],Z=C[1],ue=C[2],Ce=C[3],ae=C[4],xe=C[5],Ge=C[6],Ze=C[7],Se=C[8],ze=C[9],at=C[10],Yt=C[11],ct=C[12],Jt=C[13],mt=C[14],rt=C[15],Kt=C[16],gn=C[17],vt=C[18],fn=C[19],wn=0;wn<H.length;wn+=4)S=H[wn],E=H[wn+1],R=H[wn+2],M=H[wn+3],H[wn]=S*G+E*Z+R*ue+M*Ce+ae,H[wn+1]=S*xe+E*Ge+R*Ze+M*Se+ze,H[wn+2]=S*at+E*Yt+R*ct+M*Jt+mt,H[wn+3]=S*rt+E*Kt+R*gn+M*vt+fn;return p},m=v(s.getImageData(0,0,t.width,t.height),o);return s.putImageData(m,0,0),jg(t,r)},mP=function(t,r){return t.toCanvas().then(function(o){return gP(o,t.getType(),r)})},gP=function(t,r,o){var s=Cm(t),v=function(C,S,E){for(var R=function(Kt,gn,vt){return Kt>vt?Kt=vt:Kt<gn&&(Kt=gn),Kt},M=Math.round(Math.sqrt(E.length)),H=Math.floor(M/2),G=C.data,Z=S.data,ue=C.width,Ce=C.height,ae=0;ae<Ce;ae++)for(var xe=0;xe<ue;xe++){for(var Ge=0,Ze=0,Se=0,ze=0;ze<M;ze++)for(var at=0;at<M;at++){var Yt=R(xe+at-H,0,ue-1),ct=R(ae+ze-H,0,Ce-1),Jt=(ct*ue+Yt)*4,mt=E[ze*M+at];Ge+=G[Jt]*mt,Ze+=G[Jt+1]*mt,Se+=G[Jt+2]*mt}var rt=(ae*ue+xe)*4;Z[rt]=R(Ge,0,255),Z[rt+1]=R(Ze,0,255),Z[rt+2]=R(Se,0,255)}return S},m=s.getImageData(0,0,t.width,t.height),p=s.getImageData(0,0,t.width,t.height);return p=v(m,p,o),s.putImageData(p,0,0),jg(t,r)},hP=function(t){var r=function(o,s,v){for(var m=Cm(o),p=new Array(256),C=function(R,M){for(var H=R.data,G=0;G<H.length;G+=4)H[G]=M[H[G]],H[G+1]=M[H[G+1]],H[G+2]=M[H[G+2]];return R},S=0;S<p.length;S++)p[S]=t(S,v);var E=C(m.getImageData(0,0,o.width,o.height),p);return m.putImageData(E,0,0),jg(o,s)};return function(o,s){return o.toCanvas().then(function(v){return r(v,o.getType(),s)})}},r5=function(t){return function(r,o){return eO(r,t(QE(),o))}},a5=function(t){return function(r){return eO(r,t)}},pP=function(t){return function(r){return mP(r,t)}},bP=a5([-1,0,0,0,255,0,-1,0,0,255,0,0,-1,0,255,0,0,0,1,0,0,0,0,0,1]),yP=r5(t5),Mr=r5(vP),Zb=function(t,r,o,s){return eO(t,n5(QE(),r,o,s))},o5=pP([0,-1,0,-1,5,-1,0,-1,0]),i5=hP(function(t,r){return Math.pow(t/255,1-r)*255}),tO=function(t,r,o){var s=YE(t),v=JE(t),m=r/s,p=o/v,C=!1;(m<.5||m>2)&&(m=m<.5?.5:2,C=!0),(p<.5||p>2)&&(p=p<.5?.5:2,C=!0);var S=wP(t,m,p);return C?S.then(function(E){return tO(E,r,o)}):S},wP=function(t,r,o){return new Qv(function(s){var v=YE(t),m=JE(t),p=Math.floor(v*r),C=Math.floor(m*o),S=Jb(p,C),E=Cm(S);E.drawImage(t,0,0,v,m,0,0,p,C),s(S)})},u5=function(t,r){r===void 0&&(r=2);var o=Math.pow(10,r),s=Math.round(t*o);return Math.ceil(s/o)},CP=function(t,r){return t.toCanvas().then(function(o){return l5(o,t.getType(),r)})},l5=function(t,r,o){var s=o<0?360+o:o,v=s*Math.PI/180,m=t.width,p=t.height,C=Math.sin(v),S=Math.cos(v),E=u5(Math.abs(m*S)+Math.abs(p*C)),R=u5(Math.abs(m*C)+Math.abs(p*S)),M=Jb(E,R),H=Cm(M);return H.translate(E/2,R/2),H.rotate(v),H.drawImage(t,-m/2,-p/2),jg(M,r)},SP=function(t,r){return t.toCanvas().then(function(o){return kP(o,t.getType(),r)})},kP=function(t,r,o){var s=Jb(t.width,t.height),v=Cm(s);return o==="v"?(v.scale(1,-1),v.drawImage(t,0,-s.height)):(v.scale(-1,1),v.drawImage(t,-s.width,0)),jg(s,r)},xP=function(t,r,o,s,v){return t.toCanvas().then(function(m){return TP(m,t.getType(),r,o,s,v)})},TP=function(t,r,o,s,v,m){var p=Jb(v,m),C=Cm(p);return C.drawImage(t,-o,-s),jg(p,r)},EP=function(t,r,o){return t.toCanvas().then(function(s){return tO(s,r,o).then(function(v){return jg(v,t.getType())})})},OP=function(t){return bP(t)},AP=function(t){return o5(t)},DP=function(t,r){return i5(t,r)},_P=function(t,r,o,s){return Zb(t,r,o,s)},RP=function(t,r){return yP(t,r)},BP=function(t,r){return Mr(t,r)},nO=function(t,r){return SP(t,r)},MP=function(t,r,o,s,v){return xP(t,r,o,s,v)},PP=function(t,r,o){return EP(t,r,o)},s5=function(t,r){return CP(t,r)},c5=function(t,r,o){return Qf(t,{tag:"span",classes:["tox-icon","tox-tbtn__icon-wrap"],behaviours:o},r)},dx=function(t,r){return c5(t,r,[])},f5=function(t,r){return c5(t,r,[Kn.config({})])},mx=function(t,r,o){return{dom:{tag:"span",innerHtml:o.translate(t),classes:[r+"__select-label"]},behaviours:zt([Kn.config({})])}},rO,aO=un("toolbar.button.execute"),$P=function(t){return js(function(r,o){I2(t,r)(function(s){Rn(r,aO,{buttonApi:s}),t.onAction(s)})})},oO=(rO={},rO[Hl()]=["disabling","alloy.base.behaviour","toggling","toolbar-button-events"],rO),Op=un("update-menu-text"),iO=un("update-menu-icon"),uO=function(t,r,o){var s=Dn(ge),v=t.text.map(function(M){return qr(mx(M,r,o.providers))}),m=t.icon.map(function(M){return qr(f5(M,o.providers.icons))}),p=function(M,H){var G=Xt.getValue(M);return Vn.focus(G),Rn(G,"keydown",{raw:H.event.raw}),Bc.close(G),_.some(!0)},C=t.role.fold(function(){return{}},function(M){return{role:M}}),S=t.tooltip.fold(function(){return{}},function(M){var H=o.providers.translate(M);return{title:H,"aria-label":H}}),E=Qf("chevron-down",{tag:"div",classes:[r+"__select-chevron"]},o.providers.icons),R=qr(Bc.sketch(ve(ve(ve({},t.uid?{uid:t.uid}:{}),C),{dom:{tag:"button",classes:[r,r+"--select"].concat(Tt(t.classes,function(M){return r+"--"+M})),attributes:ve({},S)},components:mp([m.map(function(M){return M.asSpec()}),v.map(function(M){return M.asSpec()}),_.some(E)]),matchWidth:!0,useMinWidth:!0,dropdownBehaviours:zt(En(En([],t.dropdownBehaviours,!0),[ac.button(function(){return t.disabled||o.providers.isDisabled()}),vi(),ew.config({}),Kn.config({}),ar("dropdown-events",[L2(t,s),V2(t,s)]),ar("menubutton-update-display-text",[ft(Op,function(M,H){v.bind(function(G){return G.getOpt(M)}).each(function(G){Kn.set(G,[kv(o.providers.translate(H.event.text))])})}),ft(iO,function(M,H){m.bind(function(G){return G.getOpt(M)}).each(function(G){Kn.set(G,[f5(H.event.icon,o.providers.icons)])})})])],!1)),eventOrder:Je(oO,{mousedown:["focusing","alloy.base.behaviour","item-type-events","normal-dropdown-events"]}),sandboxBehaviours:zt([Bn.config({mode:"special",onLeft:p,onRight:p})]),lazySink:o.getSink,toggleClass:r+"--active",parts:{menu:pk(!1,t.columns,t.presets)},fetch:function(M){return au.nu(Ht(t.fetch,M))}})));return R.asSpec()},NP=function(t){return _t(t)},lO=function(t){return t.type==="separator"},FP=function(t){return Cr(t,"getSubmenuItems")},zP={type:"separator"},IP=function(t,r){var o=pt(t,function(s,v){return NP(v)?v===""?s:v==="|"?s.length>0&&!lO(s[s.length-1])?s.concat([zP]):s:Cr(r,v.toLowerCase())?s.concat([r[v.toLowerCase()]]):s:s.concat([v])},[]);return o.length>0&&lO(o[o.length-1])&&o.pop(),o},vw=function(t,r){var o=t.getSubmenuItems(),s=v5(o,r),v=Je(s.menus,Gc(t.value,s.items)),m=Je(s.expansions,Gc(t.value,t.value));return{item:t,menus:v,expansions:m}},LP=function(t,r){return FP(t)?vw(t,r):{item:t,menus:{},expansions:{}}},sO=function(t){if(lO(t))return t;var r=bn(t,"value").getOrThunk(function(){return un("generated-menu-item")});return Je({value:r},t)},v5=function(t,r){var o=IP(_t(t)?t.split(" "):t,r);return Qe(o,function(s,v){var m=sO(v),p=LP(m,r);return{menus:Je(s.menus,p.menus),items:[p.item].concat(s.items),expansions:Je(s.expansions,p.expansions)}},{menus:{},expansions:{},items:[]})},Qb=function(t,r,o,s){var v=un("primary-menu"),m=v5(t,o.shared.providers.menuItems());if(m.items.length===0)return _.none();var p=dE(v,m.items,r,o,s),C=Lr(m.menus,function(E,R){return dE(R,E,r,o,!1)}),S=Je(C,Gc(v,p));return _.from(aa.tieredData(v,S,m.expansions))},VP=function(t){return{isDisabled:function(){return Tn.isDisabled(t)},setDisabled:function(r){return Tn.set(t,r)},setActive:function(r){var o=t.element;r?(ki(o,"tox-tbtn--enabled"),Jn(o,"aria-pressed",!0)):(zo(o,"tox-tbtn--enabled"),bi(o,"aria-pressed"))},isActive:function(){return Fu(t.element,"tox-tbtn--enabled")}}},cO=function(t,r,o,s){return uO({text:t.text,icon:t.icon,tooltip:t.tooltip,role:s,fetch:function(v,m){t.fetch(function(p){m(Qb(p,ev.CLOSE_ON_EXECUTE,o,!1))})},onSetup:t.onSetup,getApi:VP,columns:1,presets:"normal",classes:[],dropdownBehaviours:[Oo.config({})]},r,o.shared)},d5=function(t,r,o){var s=function(m){return function(p){var C=!p.isActive();p.setActive(C),m.storage.set(C),o.shared.getSink().each(function(S){r().getOpt(S).each(function(E){ef(E.element),Rn(E,Zv,{name:m.name,value:m.storage.get()})})})}},v=function(m){return function(p){p.setActive(m.storage.get())}};return function(m){m(Tt(t,function(p){var C=p.text.fold(function(){return{}},function(S){return{text:S}});return ve(ve({type:p.type,active:!1},C),{onAction:s(p),onSetup:v(p)})}))}},fO=function(t,r,o,s,v,m){o===void 0&&(o=[]);var p=r.fold(function(){return{}},function(E){return{action:E}}),C=ve({buttonBehaviours:zt([ac.button(function(){return t.disabled||m.isDisabled()}),vi(),Oo.config({}),ar("button press",[Qp("click"),Qp("mousedown")])].concat(o)),eventOrder:{click:["button press","alloy.base.behaviour"],mousedown:["button press","alloy.base.behaviour"]}},p),S=Je(C,{dom:s});return Je(S,{components:v})},m5=function(t,r,o,s){s===void 0&&(s=[]);var v=t.tooltip.map(function(S){return{"aria-label":o.translate(S),title:o.translate(S)}}).getOr({}),m={tag:"button",classes:["tox-tbtn"],attributes:v},p=t.icon.map(function(S){return dx(S,o.icons)}),C=mp([p]);return fO(t,r,s,m,C,o)},dw=function(t,r,o,s){s===void 0&&(s=[]);var v=m5(t,_.some(r),o,s);return Wu.sketch(v)},mw=function(t,r,o,s,v){s===void 0&&(s=[]),v===void 0&&(v=[]);var m=o.translate(t.text),p=t.icon?t.icon.map(function(M){return dx(M,o.icons)}):_.none(),C=p.isSome()?mp([p]):[],S=p.isSome()?{}:{innerHtml:m},E=En(En(En(En([],!t.primary&&!t.borderless?["tox-button","tox-button--secondary"]:["tox-button"],!0),p.isSome()?["tox-button--icon"]:[],!0),t.borderless?["tox-button--naked"]:[],!0),v,!0),R=ve(ve({tag:"button",classes:E},S),{attributes:{title:m}});return fO(t,r,s,R,C,o)},vO=function(t,r,o,s,v){s===void 0&&(s=[]),v===void 0&&(v=[]);var m=mw(t,_.some(r),o,s,v);return Wu.sketch(m)},g5=function(t,r){return function(o){r==="custom"?Rn(o,Zv,{name:t,value:{}}):r==="submit"?dr(o,Hb):r==="cancel"?dr(o,oc):console.error("Unknown button type: ",r)}},HP=function(t,r){return r==="menu"},UP=function(t,r){return r==="custom"||r==="cancel"||r==="submit"},e0=function(t,r,o){if(HP(t,r)){var s=function(){return p},v=t,m=ve(ve({},t),{onSetup:function(E){return E.setDisabled(t.disabled),ge},fetch:d5(v.items,s,o)}),p=qr(cO(m,"tox-tbtn",o,_.none()));return p.asSpec()}else if(UP(t,r)){var C=g5(t.name,r),S=ve(ve({},t),{borderless:!1});return vO(S,C,o.shared.providers,[])}else console.error("Unknown footer button type: ",r)},dO=function(t,r){var o=g5(t.name,"custom");return O6(_.none(),Ir.parts.field(ve({factory:Wu},mw(t,_.some(o),r,[Ep.memory(""),av.self()]))))},h5=K([ke("field1Name","field1"),ke("field2Name","field2"),Fd("onLockedChange"),Nd(["lockClass"]),ke("locked",!1),Cs.field("coupledFieldBehaviours",[cr,Xt])]),WP=function(t,r,o){return fa(t,r,o).bind(cr.getCurrent)},gx=function(t,r){return Ai({factory:Ir,name:t,overrides:function(o){return{fieldBehaviours:zt([ar("coupled-input-behaviour",[ft(Cd(),function(s){WP(s,o,r).each(function(v){fa(s,o,"lock").each(function(m){xr.isOn(m)&&o.onLockedChange(s,v,m)})})})])])}}})},jP=K([gx("field1","field2"),gx("field2","field1"),Ai({factory:Wu,schema:[it("dom")],name:"lock",overrides:function(t){return{buttonBehaviours:zt([xr.config({selected:t.locked,toggleClass:t.markers.lockClass,aria:{mode:"pressed"}})])}}})]),GP=function(t,r,o,s){return{uid:t.uid,dom:t.dom,components:r,behaviours:Cs.augment(t.coupledFieldBehaviours,[cr.config({find:_.some}),Xt.config({store:{mode:"manual",getValue:function(v){var m,p=Fh(v,t,["field1","field2"]);return m={},m[t.field1Name]=Xt.getValue(p.field1()),m[t.field2Name]=Xt.getValue(p.field2()),m},setValue:function(v,m){var p=Fh(v,t,["field1","field2"]);Sa(m,t.field1Name)&&Xt.setValue(p.field1(),m[t.field1Name]),Sa(m,t.field2Name)&&Xt.setValue(p.field2(),m[t.field2Name])}}})]),apis:{getField1:function(v){return fa(v,t,"field1")},getField2:function(v){return fa(v,t,"field2")},getLock:function(v){return fa(v,t,"lock")}}}},As=Hu({name:"FormCoupledInputs",configFields:h5(),partFields:jP(),factory:GP,apis:{getField1:function(t,r){return t.getField1(r)},getField2:function(t,r){return t.getField2(r)},getLock:function(t,r){return t.getLock(r)}}}),qP=function(t){var r={"":0,px:0,pt:1,mm:1,pc:2,ex:2,em:2,ch:2,rem:2,cm:3,in:4,"%":4},o=function(v){return v in r?r[v]:1},s=t.value.toFixed(o(t.unit));return s.indexOf(".")!==-1&&(s=s.replace(/\.?0*$/,"")),s+t.unit},Ap=function(t){var r=/^\s*(\d+(?:\.\d+)?)\s*(|cm|mm|in|px|pt|pc|em|ex|ch|rem|vw|vh|vmin|vmax|%)\s*$/,o=r.exec(t);if(o!==null){var s=parseFloat(o[1]),v=o[2];return rr.value({value:s,unit:v})}else return rr.error(t)},p5=function(t,r){var o={"":96,px:96,pt:72,cm:2.54,pc:12,mm:25.4,in:1},s=function(v){return Cr(o,v)};return t.unit===r?_.some(t.value):s(t.unit)&&s(r)?o[t.unit]===o[r]?_.some(t.value):_.some(t.value/o[t.unit]*o[r]):_.none()},mO=function(t){return _.none()},KP=function(t,r){return function(o){return p5(o,r).map(function(s){return{value:s*t,unit:r}})}},XP=function(t,r){var o=Ap(t).toOptional(),s=Ap(r).toOptional();return hi(o,s,function(v,m){return p5(v,m.unit).map(function(p){return m.value/p}).map(function(p){return KP(p,m.unit)}).getOr(mO)}).getOr(mO)},gO=function(t,r){var o=mO,s=un("ratio-event"),v=function(M){return Qf(M,{tag:"span",classes:["tox-icon","tox-lock-icon__"+M]},r.icons)},m=As.parts.lock({dom:{tag:"button",classes:["tox-lock","tox-button","tox-button--naked","tox-button--icon"],attributes:{title:r.translate(t.label.getOr("Constrain proportions"))}},components:[v("lock"),v("unlock")],buttonBehaviours:zt([Tn.config({disabled:function(){return t.disabled||r.isDisabled()}}),vi(),Oo.config({})])}),p=function(M){return{dom:{tag:"div",classes:["tox-form__group"]},components:M}},C=function(M){return Ir.parts.field({factory:Q2,inputClasses:["tox-textfield"],inputBehaviours:zt([Tn.config({disabled:function(){return t.disabled||r.isDisabled()}}),vi(),Oo.config({}),ar("size-input-events",[ft(vs(),function(H,G){Rn(H,s,{isField1:M})}),ft(Um(),function(H,G){Rn(H,Ts,{name:t.name})})])]),selectOnFocus:!1})},S=function(M){return{dom:{tag:"label",classes:["tox-label"],innerHtml:r.translate(M)}}},E=As.parts.field1(p([Ir.parts.label(S("Width")),C(!0)])),R=As.parts.field2(p([Ir.parts.label(S("Height")),C(!1)]));return As.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:[{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:[E,R,p([S("&nbsp;"),m])]}],field1Name:"width",field2Name:"height",locked:!0,markers:{lockClass:"tox-locked"},onLockedChange:function(M,H,G){Ap(Xt.getValue(M)).each(function(Z){o(Z).each(function(ue){Xt.setValue(H,qP(ue))})})},coupledFieldBehaviours:zt([Tn.config({disabled:function(){return t.disabled||r.isDisabled()},onDisabled:function(M){As.getField1(M).bind(Ir.getField).each(Tn.disable),As.getField2(M).bind(Ir.getField).each(Tn.disable),As.getLock(M).each(Tn.disable)},onEnabled:function(M){As.getField1(M).bind(Ir.getField).each(Tn.enable),As.getField2(M).bind(Ir.getField).each(Tn.enable),As.getLock(M).each(Tn.enable)}}),vi(),ar("size-input-events2",[ft(s,function(M,H){var G=H.event.isField1,Z=G?As.getField1(M):As.getField2(M),ue=G?As.getField2(M):As.getField1(M),Ce=Z.map(Xt.getValue).getOr(""),ae=ue.map(Xt.getValue).getOr("");o=XP(Ce,ae)})])])})},YP=K(un("undo")),JP=K(un("redo")),ZP=K(un("zoom")),QP=K(un("back")),e$=K(un("apply")),b5=K(un("swap")),t$=K(un("transform")),n$=K(un("temp-transform")),r$=K(un("transform-apply")),Su={undo:YP,redo:JP,zoom:ZP,back:QP,apply:e$,swap:b5,transform:t$,tempTransform:n$,transformApply:r$},y5=K("save-state"),a$=K("disable"),o$=K("enable"),fo={formActionEvent:Zv,saveState:y5,disable:a$,enable:o$},i$=function(t,r){var o=function(rn,lr,va,Do){return qr(vO({name:rn,text:rn,disabled:va,primary:Do,icon:_.none(),borderless:!1},lr,r))},s=function(rn,lr,va,Do){return qr(dw({name:rn,icon:_.some(rn),tooltip:_.some(lr),disabled:Do,primary:!1,borderless:!1},va,r))},v=function(rn,lr){rn.map(function(va){var Do=va.get(lr);Do.hasConfigured(Tn)&&Tn.disable(Do)})},m=function(rn,lr){rn.map(function(va){var Do=va.get(lr);Do.hasConfigured(Tn)&&Tn.enable(Do)})},p={tag:"div",classes:["tox-image-tools__toolbar","tox-image-tools-edit-panel"]},C=ge,S=function(rn,lr,va){Rn(rn,lr,va)},E=function(rn){return dr(rn,fo.disable())},R=function(rn){return dr(rn,fo.enable())},M=function(rn,lr){E(rn),S(rn,Su.transform(),{transform:lr}),R(rn)},H=function(rn,lr){E(rn),S(rn,Su.tempTransform(),{transform:lr}),R(rn)},G=function(rn){return function(){Fx.getOpt(rn).each(function(lr){Kn.set(lr,[Nx])})}},Z=function(rn,lr){E(rn),S(rn,Su.transformApply(),{transform:lr,swap:G(rn)}),R(rn)},ue=function(){return o("Back",function(rn){return S(rn,Su.back(),{swap:G(rn)})},!1,!1)},Ce=function(){return qr({dom:{tag:"div",classes:["tox-spacer"]},behaviours:zt([Tn.config({})])})},ae=function(){return o("Apply",function(rn){return S(rn,Su.apply(),{swap:G(rn)})},!0,!0)},xe=function(){return function(rn){var lr=t.getRect();return MP(rn,lr.x,lr.y,lr.w,lr.h)}},Ge=[ue(),Ce(),o("Apply",function(rn){var lr=xe();Z(rn,lr),t.hideCrop()},!1,!0)],Ze=ju.sketch({dom:p,components:Ge.map(function(rn){return rn.asSpec()}),containerBehaviours:zt([ar("image-tools-crop-buttons-events",[ft(fo.disable(),function(rn,lr){v(Ge,rn)}),ft(fo.enable(),function(rn,lr){m(Ge,rn)})])])}),Se=qr(gO({name:"size",label:_.none(),constrain:!0,disabled:!1},r)),ze=function(rn,lr){return function(va){return PP(va,rn,lr)}},at=[ue(),Ce(),Se,Ce(),o("Apply",function(rn){Se.getOpt(rn).each(function(lr){var va=Xt.getValue(lr),Do=parseInt(va.width,10),lc=parseInt(va.height,10),sc=ze(Do,lc);Z(rn,sc)})},!1,!0)],Yt=ju.sketch({dom:p,components:at.map(function(rn){return rn.asSpec()}),containerBehaviours:zt([ar("image-tools-resize-buttons-events",[ft(fo.disable(),function(rn,lr){v(at,rn)}),ft(fo.enable(),function(rn,lr){m(at,rn)})])])}),ct=function(rn,lr){return function(va){return rn(va,lr)}},Jt=ct(nO,"h"),mt=ct(nO,"v"),rt=ct(s5,-90),Kt=ct(s5,90),gn=function(rn,lr){H(rn,lr)},vt=[ue(),Ce(),s("flip-horizontally","Flip horizontally",function(rn){gn(rn,Jt)},!1),s("flip-vertically","Flip vertically",function(rn){gn(rn,mt)},!1),s("rotate-left","Rotate counterclockwise",function(rn){gn(rn,rt)},!1),s("rotate-right","Rotate clockwise",function(rn){gn(rn,Kt)},!1),Ce(),ae()],fn=ju.sketch({dom:p,components:vt.map(function(rn){return rn.asSpec()}),containerBehaviours:zt([ar("image-tools-fliprotate-buttons-events",[ft(fo.disable(),function(rn,lr){v(vt,rn)}),ft(fo.enable(),function(rn,lr){m(vt,rn)})])])}),wn=function(rn,lr,va,Do,lc){var sc=ic.parts.label({dom:{tag:"label",classes:["tox-label"],innerHtml:r.translate(rn)}}),sv=ic.parts.spectrum({dom:{tag:"div",classes:["tox-slider__rail"],attributes:{role:"presentation"}}}),zx=ic.parts.thumb({dom:{tag:"div",classes:["tox-slider__handle"],attributes:{role:"presentation"}}});return qr(ic.sketch({dom:{tag:"div",classes:["tox-slider"],attributes:{role:"presentation"}},model:{mode:"x",minX:va,maxX:lc,getInitialValue:K({x:Do})},components:[sc,sv,zx],sliderBehaviours:zt([Vn.config({})]),onChoose:lr}))},Er=function(rn,lr,va,Do,lc){var sc=function(sv,zx,e7){var t7=ct(lr,e7.x/100);M(sv,t7)};return wn(rn,sc,va,Do,lc)},ia=function(rn,lr,va,Do,lc){return[ue(),Er(rn,lr,va,Do,lc),ae()]},ao=function(rn,lr,va,Do,lc){var sc=ia(rn,lr,va,Do,lc);return ju.sketch({dom:p,components:sc.map(function(sv){return sv.asSpec()}),containerBehaviours:zt([ar("image-tools-filter-panel-buttons-events",[ft(fo.disable(),function(sv,zx){v(sc,sv)}),ft(fo.enable(),function(sv,zx){m(sc,sv)})])])})},lv=[ue(),Ce(),ae()],bf=ju.sketch({dom:p,components:lv.map(function(rn){return rn.asSpec()})}),GF=ao("Brightness",RP,-100,0,100),qF=ao("Contrast",BP,-100,0,100),qR=ao("Gamma",DP,-100,0,100),KF=function(rn,lr,va){return function(Do){return _P(Do,rn,lr,va)}},qO=function(rn){var lr=function(va,Do,lc){var sc=KR.getOpt(va),sv=XR.getOpt(va),zx=KO.getOpt(va);sc.each(function(e7){sv.each(function(t7){zx.each(function(lW){var sW=Xt.getValue(e7).x/100,cW=Xt.getValue(lW).x/100,fW=Xt.getValue(t7).x/100,vW=KF(sW,cW,fW);M(va,vW)})})})};return wn(rn,lr,0,100,200)},KR=qO("R"),KO=qO("G"),XR=qO("B"),cd=[ue(),KR,KO,XR,ae()],XO=ju.sketch({dom:p,components:cd.map(function(rn){return rn.asSpec()})}),uc=function(rn,lr,va){return function(Do){var lc=function(){Fx.getOpt(Do).each(function(sc){Kn.set(sc,[rn]),va(sc)})};S(Do,Su.swap(),{transform:lr,swap:lc})}},XF=function(rn){t.showCrop()},YF=function(rn){Se.getOpt(rn).each(function(lr){var va=t.getMeasurements(),Do=va.width,lc=va.height;Xt.setValue(lr,{width:Do,height:lc})})},JF=_.some(AP),il=_.some(OP),s0=[s("crop","Crop",uc(Ze,_.none(),XF),!1),s("resize","Resize",uc(Yt,_.none(),YF),!1),s("orientation","Orientation",uc(fn,_.none(),C),!1),s("brightness","Brightness",uc(GF,_.none(),C),!1),s("sharpen","Sharpen",uc(bf,JF,C),!1),s("contrast","Contrast",uc(qF,_.none(),C),!1),s("color-levels","Color levels",uc(XO,_.none(),C),!1),s("gamma","Gamma",uc(qR,_.none(),C),!1),s("invert","Invert",uc(bf,il,C),!1)],Nx=ju.sketch({dom:p,components:s0.map(function(rn){return rn.asSpec()})}),ZF=ju.sketch({dom:{tag:"div"},components:[Nx],containerBehaviours:zt([Kn.config({})])}),Fx=qr(ZF),QF=function(rn){return Fx.getOpt(rn).map(function(lr){var va=lr.components()[0];return va.components()[va.components().length-1]})};return{memContainer:Fx,getApplyButton:QF}},hx=tinymce.util.Tools.resolve("tinymce.geom.Rect"),w5=tinymce.util.Tools.resolve("tinymce.util.Observable"),Dp=tinymce.util.Tools.resolve("tinymce.util.VK"),px=function(t){var r=Math.max,o=t.documentElement,s=t.body,v=r(o.scrollWidth,s.scrollWidth),m=r(o.clientWidth,s.clientWidth),p=r(o.offsetWidth,s.offsetWidth),C=r(o.scrollHeight,s.scrollHeight),S=r(o.clientHeight,s.clientHeight),E=r(o.offsetHeight,s.offsetHeight);return{width:v<p?m:v,height:C<E?S:C}},u$=function(t){return se(t.changedTouches)},t0=function(t){if(u$(t))for(var r="screenX screenY pageX pageY clientX clientY".split(" "),o=0;o<r.length;o++)t[r[o]]=t.changedTouches[0][r[o]]};function l$(t,r){var o,s,v,m,p=[],C=[],S=(o=r.document)!==null&&o!==void 0?o:document,E=(s=r.root)!==null&&s!==void 0?s:S,R=le.fromDom(S),M,H,G,Z=le.fromDom(E.getElementById((v=r.handle)!==null&&v!==void 0?v:t)),ue=function(Ge){var Ze=Ge.raw,Se=px(S);t0(Ze),Ge.prevent(),M=Ze.button,H=Ze.screenX,G=Ze.screenY;var ze=eo(Z,"cursor");m=le.fromTag("div",S),vl(m,{position:"absolute",top:"0",left:"0",width:Se.width+"px",height:Se.height+"px","z-index":2147483647+"",opacity:"0.0001",cursor:ze}),Ji(ma(R),m),C.push(bo(R,"mousemove",Ce),bo(R,"touchmove",Ce),bo(R,"mouseup",ae),bo(R,"touchend",ae)),r.start(Ze)},Ce=function(Ge){var Ze=Ge.raw;if(t0(Ze),Ze.button!==M)return ae(Ge);Ze.deltaX=Ze.screenX-H,Ze.deltaY=Ze.screenY-G,Ge.prevent(),r.drag(Ze)},ae=function(Ge){t0(Ge.raw),Ie(C,function(Ze){return Ze.unbind()}),C=[],qu(m),r.stop&&r.stop(Ge.raw)},xe=function(){Ie(C.concat(p),function(Ge){return Ge.unbind()}),C=[],p=[],se(m)&&qu(m)};return p.push(bo(Z,"mousedown",ue),bo(Z,"touchstart",ue)),{destroy:xe}}var gw=0,C5=function(t,r,o,s,v){var m,p=[],C="tox-",S=C+"crid-"+gw++,E=le.fromDom(s),R=[{name:"move",xMul:0,yMul:0,deltaX:1,deltaY:1,deltaW:0,deltaH:0,label:"Crop Mask"},{name:"nw",xMul:0,yMul:0,deltaX:1,deltaY:1,deltaW:-1,deltaH:-1,label:"Top Left Crop Handle"},{name:"ne",xMul:1,yMul:0,deltaX:0,deltaY:1,deltaW:1,deltaH:-1,label:"Top Right Crop Handle"},{name:"sw",xMul:0,yMul:1,deltaX:1,deltaY:0,deltaW:-1,deltaH:1,label:"Bottom Left Crop Handle"},{name:"se",xMul:1,yMul:1,deltaX:0,deltaY:0,deltaW:1,deltaH:1,label:"Bottom Right Crop Handle"}],M=["top","right","bottom","left"],H=function(ct,Jt){return{x:Jt.x+ct.x,y:Jt.y+ct.y,w:Jt.w,h:Jt.h}},G=function(ct,Jt){return{x:Jt.x-ct.x,y:Jt.y-ct.y,w:Jt.w,h:Jt.h}},Z=function(){return G(o,t)},ue=function(ct,Jt,mt,rt){var Kt=Jt.x+mt*ct.deltaX,gn=Jt.y+rt*ct.deltaY,vt=Math.max(20,Jt.w+mt*ct.deltaW),fn=Math.max(20,Jt.h+rt*ct.deltaH),wn=t=hx.clamp({x:Kt,y:gn,w:vt,h:fn},o,ct.name==="move");wn=G(o,wn),Yt.fire("updateRect",{rect:wn}),Se(wn)},Ce=function(){var ct=function(Kt){var gn;return l$(S,{document:s.ownerDocument,root:xa(E).dom,handle:S+"-"+Kt.name,start:function(){gn=t},drag:function(vt){ue(Kt,gn,vt.deltaX,vt.deltaY)}})},Jt=le.fromTag("div");fl(Jt,{id:S,class:C+"croprect-container",role:"grid","aria-dropeffect":"execute"}),Ji(E,Jt),Ie(M,function(Kt){Io(E,"#"+S).each(function(gn){var vt=le.fromTag("div");fl(vt,{id:S+"-"+Kt,class:C+"croprect-block","data-mce-bogus":"all"}),In(vt,"display","none"),Ji(gn,vt)})}),Ie(R,function(Kt){Io(E,"#"+S).each(function(gn){var vt=le.fromTag("div");fl(vt,{id:S+"-"+Kt.name,"aria-label":Kt.label,"aria-grabbed":"false","data-mce-bogus":"all",role:"gridcell",tabindex:"-1",title:Kt.label}),Lf(vt,[C+"croprect-handle",C+"croprect-handle-"+Kt.name]),In(vt,"display","none"),Ji(gn,vt)})}),m=Tt(R,ct),xe(t);var mt=function(Kt){Jn(Kt.target,"aria-grabbed",Kt.raw.type==="focus"?"true":"false")},rt=function(Kt){var gn;Ie(R,function(fn){if(za(Kt.target,"id")===S+"-"+fn.name)return gn=fn,!1});var vt=function(fn,wn,Er,ia,ao){fn.stopPropagation(),fn.preventDefault(),ue(gn,Er,ia,ao)};switch(Kt.raw.keyCode){case Dp.LEFT:vt(Kt,gn,t,-10,0);break;case Dp.RIGHT:vt(Kt,gn,t,10,0);break;case Dp.UP:vt(Kt,gn,t,0,-10);break;case Dp.DOWN:vt(Kt,gn,t,0,10);break;case Dp.ENTER:case Dp.SPACEBAR:Kt.prevent(),v();break}};p.push(bo(E,"focusin",mt),bo(E,"focusout",mt),bo(E,"keydown",rt))},ae=function(ct){var Jt=En(En([],Tt(R,function(rt){return"#"+S+"-"+rt.name}),!0),Tt(M,function(rt){return"#"+S+"-"+rt}),!0).join(","),mt=li(E,Jt);ct?Ie(mt,function(rt){return Vr(rt,"display")}):Ie(mt,function(rt){return In(rt,"display","none")})},xe=function(ct){var Jt=function(mt,rt){Io(E,"#"+S+"-"+mt).each(function(Kt){vl(Kt,{left:rt.x+"px",top:rt.y+"px",width:Math.max(0,rt.w)+"px",height:Math.max(0,rt.h)+"px"})})};Ie(R,function(mt){Io(E,"#"+S+"-"+mt.name).each(function(rt){vl(rt,{left:ct.w*mt.xMul+ct.x+"px",top:ct.h*mt.yMul+ct.y+"px"})})}),Jt("top",{x:r.x,y:r.y,w:r.w,h:ct.y-r.y}),Jt("right",{x:ct.x+ct.w,y:ct.y,w:r.w-ct.x-ct.w+r.x,h:ct.h}),Jt("bottom",{x:r.x,y:ct.y+ct.h,w:r.w,h:r.h-ct.y-ct.h+r.y}),Jt("left",{x:r.x,y:ct.y,w:ct.x-r.x,h:ct.h}),Jt("move",ct)},Ge=function(ct){t=ct,xe(t)},Ze=function(ct){r=ct,xe(t)},Se=function(ct){Ge(H(o,ct))},ze=function(ct){o=ct,xe(t)},at=function(){Ie(m,function(ct){return ct.destroy()}),m=[],Ie(p,function(ct){return ct.unbind()}),p=[]};Ce();var Yt=ve(ve({},w5),{toggleVisibility:ae,setClampRect:ze,setRect:Ge,getInnerRect:Z,setInnerRect:Se,setViewPortRect:Ze,destroy:at});return Yt},Mc={create:C5},s$=function(t){return new M2(function(r){var o=function(){t.removeEventListener("load",o),r(t)};t.complete?r(t):t.addEventListener("load",o)})},S5=function(t){var r=qr({dom:{tag:"div",classes:["tox-image-tools__image-bg"],attributes:{role:"presentation"}}}),o=Dn(1),s=cC(),v=Dn({x:0,y:0,w:1,h:1}),m=Dn({x:0,y:0,w:1,h:1}),p=function(Ce,ae){Z.getOpt(Ce).each(function(xe){var Ge=o.get(),Ze=Yi(xe.element),Se=$o(xe.element),ze=ae.dom.naturalWidth*Ge,at=ae.dom.naturalHeight*Ge,Yt=Math.max(0,Ze/2-ze/2),ct=Math.max(0,Se/2-at/2),Jt={left:Yt.toString()+"px",top:ct.toString()+"px",width:ze.toString()+"px",height:at.toString()+"px",position:"absolute"};vl(ae,Jt),r.getOpt(xe).each(function(mt){vl(mt.element,Jt)}),s.run(function(mt){var rt=v.get();mt.setRect({x:rt.x*Ge+Yt,y:rt.y*Ge+ct,w:rt.w*Ge,h:rt.h*Ge}),mt.setClampRect({x:Yt,y:ct,w:ze,h:at}),mt.setViewPortRect({x:0,y:0,w:Ze,h:Se})})})},C=function(Ce,ae){Z.getOpt(Ce).each(function(xe){var Ge=Yi(xe.element),Ze=$o(xe.element),Se=ae.dom.naturalWidth,ze=ae.dom.naturalHeight,at=Math.min(Ge/Se,Ze/ze);at>=1?o.set(1):o.set(at)})},S=function(Ce,ae){var xe=le.fromTag("img");return Jn(xe,"src",ae),s$(xe.dom).then(function(){Ce.getSystem().isConnected()&&Z.getOpt(Ce).map(function(Ge){var Ze=gh({element:xe});Kn.replaceAt(Ge,1,_.some(Ze));var Se=m.get(),ze={x:0,y:0,w:xe.dom.naturalWidth,h:xe.dom.naturalHeight};m.set(ze);var at=hx.inflate(ze,-20,-20);v.set(at),(Se.w!==ze.w||Se.h!==ze.h)&&C(Ge,xe),p(Ge,xe)})})},E=function(Ce,ae){var xe=o.get(),Ge=ae>0?Math.min(2,xe+.1):Math.max(.1,xe-.1);o.set(Ge),Z.getOpt(Ce).each(function(Ze){var Se=Ze.components()[1].element;p(Ze,Se)})},R=function(){s.run(function(Ce){Ce.toggleVisibility(!0)})},M=function(){s.run(function(Ce){Ce.toggleVisibility(!1)})},H=function(){return v.get()},G=ju.sketch({dom:{tag:"div",classes:["tox-image-tools__image"]},components:[r.asSpec(),{dom:{tag:"img",attributes:{src:t}}},{dom:{tag:"div"},behaviours:zt([ar("image-panel-crop-events",[Ha(function(Ce){Z.getOpt(Ce).each(function(ae){var xe=ae.element.dom,Ge=Mc.create({x:10,y:10,w:100,h:100},{x:0,y:0,w:200,h:200},{x:0,y:0,w:200,h:200},xe,ge);Ge.toggleVisibility(!1),Ge.on("updateRect",function(Ze){var Se=Ze.rect,ze=o.get(),at={x:Math.round(Se.x/ze),y:Math.round(Se.y/ze),w:Math.round(Se.w/ze),h:Math.round(Se.h/ze)};v.set(at)}),s.set(Ge)})}),yl(function(){s.clear()})])])}],containerBehaviours:zt([Kn.config({}),ar("image-panel-events",[Ha(function(Ce){S(Ce,t)})])])}),Z=qr(G),ue=function(){var Ce=m.get();return{width:Ce.w,height:Ce.h}};return{memContainer:Z,updateSrc:S,zoom:E,showCrop:R,hideCrop:M,getRect:H,getMeasurements:ue}},bx=function(t,r,o,s,v){return dw({name:t,icon:_.some(r),disabled:o,tooltip:_.some(t),primary:!1,borderless:!1},s,v)},k5=function(t,r){r?Tn.enable(t):Tn.disable(t)},c$=function(t){var r=function(m,p,C){o.getOpt(m).each(function(S){k5(S,p)}),s.getOpt(m).each(function(S){k5(S,C)})},o=qr(bx("Undo","undo",!0,function(m){Rn(m,Su.undo(),{direction:1})},t)),s=qr(bx("Redo","redo",!0,function(m){Rn(m,Su.redo(),{direction:1})},t)),v=ju.sketch({dom:{tag:"div",classes:["tox-image-tools__toolbar","tox-image-tools__sidebar"]},components:[o.asSpec(),s.asSpec(),bx("Zoom in","zoom-in",!1,function(m){Rn(m,Su.zoom(),{direction:1})},t),bx("Zoom out","zoom-out",!1,function(m){Rn(m,Su.zoom(),{direction:-1})},t)]});return{container:v,updateButtonUndoStates:r}};function f$(){var t=[],r=-1,o=function(C){var S=t.splice(++r);return t.push(C),{state:C,removed:S}},s=function(){if(m())return t[--r]},v=function(){if(p())return t[++r]},m=function(){return r>0},p=function(){return r!==-1&&r<t.length-1};return{data:t,add:o,undo:s,redo:v,canUndo:m,canRedo:p}}var v$=function(t){var r=Dn(t),o=so(),s=f$();s.add(t);var v=function(){return r.get()},m=function(xe){r.set(xe)},p=function(){return o.get().getOrThunk(r.get)},C=function(xe){var Ge=S(xe);return M(),o.set(Ge),Ge.url},S=function(xe){return{blob:xe,url:URL.createObjectURL(xe)}},E=function(xe){URL.revokeObjectURL(xe.url)},R=function(xe){rd.each(xe,E)},M=function(){o.on(E),o.clear()},H=function(xe){var Ge=S(xe);m(Ge);var Ze=s.add(Ge).removed;return R(Ze),Ge.url},G=function(xe){var Ge=S(xe);return o.set(Ge),Ge.url},Z=function(xe){return o.get().fold(ge,function(Ge){H(Ge.blob),xe()})},ue=function(){var xe=s.undo();return m(xe),xe.url},Ce=function(){var xe=s.redo();return m(xe),xe.url},ae=function(){var xe=s.canUndo(),Ge=s.canRedo();return{undoEnabled:xe,redoEnabled:Ge}};return{getBlobState:v,setBlobState:m,addBlobState:H,getTempState:p,updateTempState:C,addTempState:G,applyTempState:Z,destroyTempState:M,undo:ue,redo:Ce,getHistoryStates:ae}},d$=function(t,r){var o=v$(t.currentState),s=function(mt,rt){var Kt=rt.event.direction;at.zoom(mt,Kt)},v=function(mt){var rt=o.getHistoryStates();Yt.updateButtonUndoStates(mt,rt.undoEnabled,rt.redoEnabled),Rn(mt,fo.formActionEvent,{name:fo.saveState(),value:rt.undoEnabled})},m=function(mt){Yt.updateButtonUndoStates(mt,!1,!1)},p=function(mt,rt){var Kt=o.undo();M(mt,Kt).then(function(gn){R(mt),v(mt)})},C=function(mt,rt){var Kt=o.redo();M(mt,Kt).then(function(gn){R(mt),v(mt)})},S=function(mt){return mt.toBlob()},E=function(mt){Rn(mt,fo.formActionEvent,{name:fo.disable(),value:{}})},R=function(mt){ct.getApplyButton(mt).each(function(rt){Tn.enable(rt)}),Rn(mt,fo.formActionEvent,{name:fo.enable(),value:{}})},M=function(mt,rt){return E(mt),at.updateSrc(mt,rt)},H=function(mt,rt,Kt,gn,vt){E(mt),fP(rt).then(Kt).then(S).then(gn).then(function(fn){return M(mt,fn)}).then(function(){v(mt),vt(),R(mt)}).catch(function(fn){console.log(fn),mt.getSystem().isConnected()&&R(mt)})},G=function(mt,rt,Kt){var gn=o.getBlobState().blob,vt=function(fn){return o.updateTempState(fn)};H(mt,gn,rt,vt,Kt)},Z=function(mt,rt){var Kt=o.getTempState().blob,gn=function(vt){return o.addTempState(vt)};H(mt,Kt,rt,gn,ge)},ue=function(mt,rt,Kt){var gn=o.getBlobState().blob,vt=function(fn){var wn=o.addBlobState(fn);return ae(mt),wn};H(mt,gn,rt,vt,Kt)},Ce=function(mt,rt){var Kt=function(){ae(mt);var gn=rt.event.swap;gn()};o.applyTempState(Kt)},ae=function(mt){var rt=o.getBlobState().url;return o.destroyTempState(),v(mt),rt},xe=function(mt){var rt=ae(mt);M(mt,rt).then(function(Kt){R(mt)})},Ge=function(mt,rt){xe(mt);var Kt=rt.event.swap;Kt(),at.hideCrop()},Ze=function(mt,rt){return G(mt,rt.event.transform,ge)},Se=function(mt,rt){return Z(mt,rt.event.transform)},ze=function(mt,rt){return ue(mt,rt.event.transform,rt.event.swap)},at=S5(t.currentState.url),Yt=c$(r),ct=i$(at,r),Jt=function(mt,rt){m(mt);var Kt=rt.event.transform,gn=rt.event.swap;Kt.fold(function(){gn()},function(vt){G(mt,vt,gn)})};return{dom:{tag:"div",attributes:{role:"presentation"}},components:[ct.memContainer.asSpec(),at.memContainer.asSpec(),Yt.container],behaviours:zt([Xt.config({store:{mode:"manual",getValue:function(){return o.getBlobState()}}}),ar("image-tools-events",[ft(Su.undo(),p),ft(Su.redo(),C),ft(Su.zoom(),s),ft(Su.back(),Ge),ft(Su.apply(),Ce),ft(Su.transform(),Ze),ft(Su.tempTransform(),Se),ft(Su.transformApply(),ze),ft(Su.swap(),Jt)]),av.self()])}},m$=function(t,r){var o={dom:{tag:"label",innerHtml:r.providers.translate(t.label),classes:["tox-label"]}},s=Tt(t.items,r.interpreter);return{dom:{tag:"div",classes:["tox-form__group"]},components:[o].concat(s),behaviours:zt([av.self(),Kn.config({}),Ep.domHtml(_.none()),Bn.config({mode:"acyclic"})])}},hO=function(t){return!Cr(t,"items")},x5="data-value",pO=function(t,r,o,s){return Tt(o,function(v){return hO(v)?{type:"togglemenuitem",text:v.text,value:v.value,active:v.value===s,onAction:function(){Xt.setValue(t,v.value),Rn(t,Ts,{name:r}),Vn.focus(t)}}:{type:"nestedmenuitem",text:v.text,getSubmenuItems:function(){return pO(t,r,v.items,s)}}})},bO=function(t,r){return la(t,function(o){return hO(o)?ai(o.value===r,o):bO(o.items,r)})},T5=function(t,r){var o=r.shared.providers,s=Bo(t.items).filter(hO),v=t.label.map(function(C){return Lg(C,o)}),m=Ir.parts.field({dom:{},factory:{sketch:function(C){return uO({uid:C.uid,text:s.map(function(S){return S.text}),icon:_.none(),tooltip:t.label,role:_.none(),fetch:function(S,E){var R=pO(S,t.name,t.items,Xt.getValue(S));E(Qb(R,ev.CLOSE_ON_EXECUTE,r,!1))},onSetup:K(ge),getApi:K({}),columns:1,presets:"normal",classes:[],dropdownBehaviours:[Oo.config({}),Xt.config({store:{mode:"manual",initialValue:s.map(function(S){return S.value}).getOr(""),getValue:function(S){return za(S.element,x5)},setValue:function(S,E){bO(t.items,E).each(function(R){Jn(S.element,x5,R.value),Rn(S,Op,{text:R.text})})}}})]},"tox-listbox",r.shared)}}}),p={dom:{tag:"div",classes:["tox-listboxfield"]},components:[m]};return Ir.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:nn([v.toArray(),[p]]),fieldBehaviours:zt([Tn.config({disabled:K(t.disabled),onDisabled:function(C){Ir.getField(C).each(Tn.disable)},onEnabled:function(C){Ir.getField(C).each(Tn.enable)}})])})},g$=function(t,r){return{dom:{tag:"div",classes:t.classes},components:Tt(t.items,r.shared.interpreter)}},E5=function(t,r){var o=Tt(t.options,function(v){return{dom:{tag:"option",value:v.value,innerHtml:v.text}}}),s=t.data.map(function(v){return Gc("initialValue",v)}).getOr({});return{uid:t.uid,dom:{tag:"select",classes:t.selectClasses,attributes:t.selectAttributes},components:o,behaviours:ci(t.selectBehaviours,[Vn.config({}),Xt.config({store:ve({mode:"manual",getValue:function(v){return Cl(v.element)},setValue:function(v,m){var p=mn(t.options,function(C){return C.value===m});p.isSome()&&Qm(v.element,m)}},s)})])}},h$=El({name:"HtmlSelect",configFields:[it("options"),si("selectBehaviours",[Vn,Xt]),ke("selectClasses",[]),ke("selectAttributes",{}),Hr("data")],factory:E5}),p$=function(t,r){var o=Tt(t.items,function(C){return{text:r.translate(C.text),value:C.value}}),s=t.label.map(function(C){return Lg(C,r)}),v=Ir.parts.field({dom:{},selectAttributes:{size:t.size},options:o,factory:h$,selectBehaviours:zt([Tn.config({disabled:function(){return t.disabled||r.isDisabled()}}),Oo.config({}),ar("selectbox-change",[ft(Um(),function(C,S){Rn(C,Ts,{name:t.name})})])])}),m=t.size>1?_.none():_.some(Qf("chevron-down",{tag:"div",classes:["tox-selectfield__icon-js"]},r.icons)),p={dom:{tag:"div",classes:["tox-selectfield"]},components:nn([[v],m.toArray()])};return Ir.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:nn([s.toArray(),[p]]),fieldBehaviours:zt([Tn.config({disabled:function(){return t.disabled||r.isDisabled()},onDisabled:function(C){Ir.getField(C).each(Tn.disable)},onEnabled:function(C){Ir.getField(C).each(Tn.enable)}}),vi()])})},b$=function(t,r){var o=function(C){return{dom:{tag:"th",innerHtml:r.translate(C)}}},s=function(C){return{dom:{tag:"thead"},components:[{dom:{tag:"tr"},components:Tt(C,o)}]}},v=function(C){return{dom:{tag:"td",innerHtml:r.translate(C)}}},m=function(C){return{dom:{tag:"tr"},components:Tt(C,v)}},p=function(C){return{dom:{tag:"tbody"},components:Tt(C,m)}};return{dom:{tag:"table",classes:["tox-dialog__table"]},components:[s(t.header),p(t.cells)],behaviours:zt([Oo.config({}),Vn.config({})])}},O5=function(t,r){var o=t.label.map(function(H){return Lg(H,r)}),s=[Tn.config({disabled:function(){return t.disabled||r.isDisabled()}}),vi(),Bn.config({mode:"execution",useEnter:t.multiline!==!0,useControlEnter:t.multiline===!0,execute:function(H){return dr(H,Hb),_.some(!0)}}),ar("textfield-change",[ft(Cd(),function(H,G){Rn(H,Ts,{name:t.name})}),ft(O0(),function(H,G){Rn(H,Ts,{name:t.name})})]),Oo.config({})],v=t.validation.map(function(H){return ed.config({getRoot:function(G){return Ga(G.element)},invalidClass:"tox-invalid",validator:{validate:function(G){var Z=Xt.getValue(G),ue=H.validator(Z);return au.pure(ue===!0?rr.value(Z):rr.error(ue))},validateOnLoad:H.validateOnLoad}})}).toArray(),m=t.placeholder.fold(K({}),function(H){return{placeholder:r.translate(H)}}),p=t.inputMode.fold(K({}),function(H){return{inputmode:H}}),C=ve(ve({},m),p),S=Ir.parts.field({tag:t.multiline===!0?"textarea":"input",inputAttributes:C,inputClasses:[t.classname],inputBehaviours:zt(nn([s,v])),selectOnFocus:!1,factory:Q2}),E=t.flex?["tox-form__group--stretched"]:[],R=E.concat(t.maximized?["tox-form-group--maximize"]:[]),M=[Tn.config({disabled:function(){return t.disabled||r.isDisabled()},onDisabled:function(H){Ir.getField(H).each(Tn.disable)},onEnabled:function(H){Ir.getField(H).each(Tn.enable)}}),vi()];return Z2(o,S,R,M)},y$=function(t,r){return O5({name:t.name,multiline:!1,label:t.label,inputMode:t.inputMode,placeholder:t.placeholder,flex:!1,disabled:t.disabled,classname:"tox-textfield",validation:_.none(),maximized:t.maximized},r)},w$=function(t,r){return O5({name:t.name,multiline:!0,label:t.label,inputMode:_.none(),placeholder:t.placeholder,flex:!0,disabled:t.disabled,classname:"tox-textarea",validation:_.none(),maximized:t.maximized},r)},C$=function(t,r){var o=t.stream.streams,s=o.setup(t,r);return Oa([ft(t.event,s),yl(function(){return r.cancel()})].concat(t.cancelEvent.map(function(v){return[ft(v,function(){return r.cancel()})]}).getOr([])))},S$=Object.freeze({__proto__:null,events:C$}),A5=function(t){var r=Dn(null),o=function(){return{timer:r.get()!==null?"set":"unset"}},s=function(m){r.set(m)},v=function(){var m=r.get();m!==null&&m.cancel()};return Si({readState:o,setTimer:s,cancel:v})},k$=function(t){return t.stream.streams.state(t)},x$=Object.freeze({__proto__:null,throttle:A5,init:k$}),T$=function(t,r){var o=t.stream,s=c4(t.onStream,o.delay);return r.setTimer(s),function(v,m){s.throttle(v,m),o.stopEvent&&m.stop()}},E$=[Yu("stream",fs("mode",{throttle:[it("delay"),ke("stopEvent",!0),ca("streams",{setup:T$,state:A5})]})),ke("event","input"),Hr("cancelEvent"),Fd("onStream")],D5=po({fields:E$,name:"streaming",active:S$,state:x$}),hw=function(t,r,o){var s=Xt.getValue(o);Xt.setValue(r,s),R5(r)},_5=function(t,r){var o=t.element,s=Cl(o),v=o.dom;za(o,"type")!=="number"&&r(v,s)},R5=function(t){_5(t,function(r,o){return r.setSelectionRange(o.length,o.length)})},B5=function(t,r){_5(t,function(o,s){return o.setSelectionRange(r,s.length)})},O$=function(t,r,o){if(t.selectsOver){var s=Xt.getValue(r),v=t.getDisplayText(s),m=Xt.getValue(o),p=t.getDisplayText(m);return p.indexOf(v)===0?_.some(function(){hw(t,r,o),B5(r,v.length)}):_.none()}else return _.none()},yO=K("alloy.typeahead.itemexecute"),A$=function(t,r,o,s){var v=function(S,E,R){t.previewing.set(!1);var M=Ao.getCoupled(S,"sandbox");if(Sr.isOpen(M))cr.getCurrent(M).each(function(G){Ur.getHighlighted(G).fold(function(){R(G)},function(){Hw(M,G.element,"keydown",E)})});else{var H=function(G){cr.getCurrent(G).each(R)};SE(t,p(S),S,M,s,H,ff.HighlightFirst).get(ge)}},m=JD(t),p=function(S){return function(E){return E.map(function(R){var M=Po(R.menus),H=Ln(M,function(Z){return Re(Z.items,function(ue){return ue.type==="item"})}),G=Xt.getState(S);return G.update(Tt(H,function(Z){return Z.data})),R})}},C=[Vn.config({}),Xt.config({onSetValue:t.onSetValue,store:ve({mode:"dataset",getDataKey:function(S){return Cl(S.element)},getFallbackEntry:function(S){return{value:S,meta:{}}},setValue:function(S,E){Qm(S.element,t.model.getDisplayText(E))}},t.initialData.map(function(S){return Gc("initialValue",S)}).getOr({}))}),D5.config({stream:{mode:"throttle",delay:t.responseTime,stopEvent:!1},onStream:function(S,E){var R=Ao.getCoupled(S,"sandbox"),M=Vn.isFocused(S);if(M&&Cl(S.element).length>=t.minChars){var H=cr.getCurrent(R).bind(function(Z){return Ur.getHighlighted(Z).map(Xt.getValue)});t.previewing.set(!0);var G=function(Z){cr.getCurrent(R).each(function(ue){H.fold(function(){t.model.selectsOver&&Ur.highlightFirst(ue)},function(Ce){Ur.highlightBy(ue,function(ae){var xe=Xt.getValue(ae);return xe.value===Ce.value}),Ur.getHighlighted(ue).orThunk(function(){return Ur.highlightFirst(ue),_.none()})})})};SE(t,p(S),S,R,s,G,ff.HighlightFirst).get(ge)}},cancelEvent:A0()}),Bn.config({mode:"special",onDown:function(S,E){return v(S,E,Ur.highlightFirst),_.some(!0)},onEscape:function(S){var E=Ao.getCoupled(S,"sandbox");return Sr.isOpen(E)?(Sr.close(E),_.some(!0)):_.none()},onUp:function(S,E){return v(S,E,Ur.highlightLast),_.some(!0)},onEnter:function(S){var E=Ao.getCoupled(S,"sandbox"),R=Sr.isOpen(E);if(R&&!t.previewing.get())return cr.getCurrent(E).bind(function(H){return Ur.getHighlighted(H)}).map(function(H){return Rn(S,yO(),{item:H}),!0});var M=Xt.getValue(S);return dr(S,A0()),t.onExecute(E,S,M),R&&Sr.close(E),_.some(!0)}}),xr.config({toggleClass:t.markers.openClass,aria:{mode:"expanded"}}),Ao.config({others:{sandbox:function(S){return kE(t,S,{onOpen:function(){return xr.on(S)},onClose:function(){return xr.off(S)}})}}}),ar("typeaheadevents",[js(function(S){var E=ge;Wb(t,p(S),S,s,E,ff.HighlightFirst).get(ge)}),ft(yO(),function(S,E){var R=Ao.getCoupled(S,"sandbox");hw(t.model,S,E.event.item),dr(S,A0()),t.onItemExecute(S,R,E.event.item,Xt.getValue(S)),Sr.close(R),R5(S)})].concat(t.dismissOnBlur?[ft(E0(),function(S){var E=Ao.getCoupled(S,"sandbox");Ks(E.element).isNone()&&Sr.close(E)})]:[]))];return{uid:t.uid,dom:ZD(Je(t,{inputAttributes:{role:"combobox","aria-autocomplete":"list","aria-haspopup":"true"}})),behaviours:ve(ve({},m),ci(t.typeaheadBehaviours,C)),eventOrder:t.eventOrder}},D$=K([Hr("lazySink"),it("fetch"),ke("minChars",5),ke("responseTime",1e3),sr("onOpen"),ke("getHotspot",_.some),ke("getAnchorOverrides",K({})),ke("layouts",_.none()),ke("eventOrder",{}),p0("model",{},[ke("getDisplayText",function(t){return t.meta!==void 0&&t.meta.text!==void 0?t.meta.text:t.value}),ke("selectsOver",!0),ke("populateFromBrowse",!0)]),sr("onSetValue"),ba("onExecute"),sr("onItemExecute"),ke("inputClasses",[]),ke("inputAttributes",{}),ke("inputStyles",{}),ke("matchWidth",!0),ke("useMinWidth",!1),ke("dismissOnBlur",!0),Nd(["openClass"]),Hr("initialData"),si("typeaheadBehaviours",[Vn,Xt,D5,Bn,xr,Ao]),Pu("previewing",function(){return Dn(!0)})].concat(Fk()).concat(xE())),_$=K([ql({schema:[$d()],name:"menu",overrides:function(t){return{fakeFocus:!0,onHighlight:function(r,o){t.previewing.get()?r.getSystem().getByUid(t.uid).each(function(s){O$(t.model,s,o).fold(function(){return Ur.dehighlight(r,o)},function(v){return v()})}):r.getSystem().getByUid(t.uid).each(function(s){t.model.populateFromBrowse&&hw(t.model,s,o)}),t.previewing.set(!1)},onExecute:function(r,o){return r.getSystem().getByUid(t.uid).toOptional().map(function(s){return Rn(s,yO(),{item:o}),!0})},onHover:function(r,o){t.previewing.set(!1),r.getSystem().getByUid(t.uid).each(function(s){t.model.populateFromBrowse&&hw(t.model,s,o)})}}}})]),R$=Hu({name:"Typeahead",configFields:D$(),partFields:_$(),factory:A$}),Ds=function(t){var r=function(){return Ds(t.toCached())},o=function(S){return Ds(t.bind(function(E){return E.fold(function(R){return au.pure(rr.error(R))},function(R){return S(R)})}))},s=function(S){return Ds(t.map(function(E){return E.bind(S)}))},v=function(S){return Ds(t.map(function(E){return E.map(S)}))},m=function(S){return Ds(t.map(function(E){return E.mapError(S)}))},p=function(S,E){return t.map(function(R){return R.fold(S,E)})},C=function(S,E){return Ds(au.nu(function(R){var M=!1,H=setTimeout(function(){M=!0,R(rr.error(E()))},S);t.get(function(G){M||(clearTimeout(H),R(G))})}))};return ve(ve({},t),{toCached:r,bindFuture:o,bindResult:s,mapResult:v,mapError:m,foldResult:p,withTimeout:C})},M5=function(t){return Ds(au.nu(t))},P5=function(t){return Ds(au.pure(rr.value(t)))},B$=function(t){return Ds(au.pure(rr.error(t)))},M$=function(t){return Ds(au.pure(t))},P$=function(t){return Ds(t.map(rr.value))},$$=function(t){return M5(function(r){t.then(function(o){r(rr.value(o))},function(o){r(rr.error(o))})})},N$={nu:M5,wrap:Ds,pure:P5,value:P5,error:B$,fromResult:M$,fromFuture:P$,fromPromise:$$},$5={type:"separator"},F$=function(t){return{type:"menuitem",value:t.url,text:t.title,meta:{attach:t.attach},onAction:ge}},wO=function(t,r){return{type:"menuitem",value:r,text:t,meta:{attach:void 0},onAction:ge}},z$=function(t){return Tt(t,F$)},I$=function(t,r){return Re(r,function(o){return o.type===t})},N5=function(t,r){return z$(I$(t,r))},L$=function(t){return N5("header",t.targets)},V$=function(t){return N5("anchor",t.targets)},F5=function(t){return _.from(t.anchorTop).map(function(r){return wO("<top>",r)}).toArray()},H$=function(t){return _.from(t.anchorBottom).map(function(r){return wO("<bottom>",r)}).toArray()},U$=function(t){return Tt(t,function(r){return wO(r,r)})},W$=function(t){return pt(t,function(r,o){var s=r.length===0||o.length===0;return s?r.concat(o):r.concat($5,o)},[])},CO=function(t,r){var o=t.toLowerCase();return Re(r,function(s){var v=s.meta!==void 0&&s.meta.text!==void 0?s.meta.text:s.text;return Fr(v.toLowerCase(),o)||Fr(s.value.toLowerCase(),o)})},j$=function(t,r,o){var s=Xt.getValue(r),v=s.meta.text!==void 0?s.meta.text:s.value,m=o.getLinkInformation();return m.fold(function(){return[]},function(p){var C=CO(v,U$(o.getHistory(t)));return t==="file"?W$([C,CO(v,L$(p)),CO(v,nn([F5(p),V$(p),H$(p)]))]):C})},z5=un("aria-invalid"),I5=function(t,r,o){var s,v=r.shared.providers,m=function(ae){var xe=Xt.getValue(ae);o.addToHistory(xe.value,t.filetype)},p=Ir.parts.field({factory:R$,dismissOnBlur:!0,inputClasses:["tox-textfield"],sandboxClasses:["tox-dialog__popups"],inputAttributes:{"aria-errormessage":z5,type:"url"},minChars:0,responseTime:0,fetch:function(ae){var xe=j$(t.filetype,ae,o),Ge=Qb(xe,ev.BUBBLE_TO_SANDBOX,r,!1);return au.pure(Ge)},getHotspot:function(ae){return G.getOpt(ae)},onSetValue:function(ae,xe){ae.hasConfigured(ed)&&ed.run(ae).get(ge)},typeaheadBehaviours:zt(nn([o.getValidationHandler().map(function(ae){return ed.config({getRoot:function(xe){return Ga(xe.element)},invalidClass:"tox-control-wrap--status-invalid",notify:{onInvalid:function(xe,Ge){E.getOpt(xe).each(function(Ze){Jn(Ze.element,"title",v.translate(Ge))})}},validator:{validate:function(xe){var Ge=Xt.getValue(xe);return N$.nu(function(Ze){ae({type:t.filetype,url:Ge.value},function(Se){if(Se.status==="invalid"){var ze=rr.error(Se.message);Ze(ze)}else{var at=rr.value(Se.message);Ze(at)}})})},validateOnLoad:!1}})}).toArray(),[Tn.config({disabled:function(){return t.disabled||v.isDisabled()}}),Oo.config({}),ar("urlinput-events",nn([t.filetype==="file"?[ft(Cd(),function(ae){Rn(ae,Ts,{name:t.name})})]:[],[ft(Um(),function(ae){Rn(ae,Ts,{name:t.name}),m(ae)}),ft(O0(),function(ae){Rn(ae,Ts,{name:t.name}),m(ae)})]]))]])),eventOrder:(s={},s[Cd()]=["streaming","urlinput-events","invalidating"],s),model:{getDisplayText:function(ae){return ae.value},selectsOver:!1,populateFromBrowse:!1},markers:{openClass:"tox-textfield--popup-open"},lazySink:r.shared.getSink,parts:{menu:pk(!1,1,"normal")},onExecute:function(ae,xe,Ge){Rn(xe,Hb,{})},onItemExecute:function(ae,xe,Ge,Ze){m(ae),Rn(ae,Ts,{name:t.name})}}),C=t.label.map(function(ae){return Lg(ae,v)}),S=function(ae,xe,Ge,Ze){return Ge===void 0&&(Ge=ae),Ze===void 0&&(Ze=ae),Qf(Ge,{tag:"div",classes:["tox-icon","tox-control-wrap__status-icon-"+ae],attributes:ve({title:v.translate(Ze),"aria-live":"polite"},xe.fold(function(){return{}},function(Se){return{id:Se}}))},v.icons)},E=qr(S("invalid",_.some(z5),"warning")),R=qr({dom:{tag:"div",classes:["tox-control-wrap__status-icon-wrap"]},components:[E.asSpec()]}),M=o.getUrlPicker(t.filetype),H=un("browser.url.event"),G=qr({dom:{tag:"div",classes:["tox-control-wrap"]},components:[p,R.asSpec()],behaviours:zt([Tn.config({disabled:function(){return t.disabled||v.isDisabled()}})])}),Z=qr(vO({name:t.name,icon:_.some("browse"),text:t.label.getOr(""),disabled:t.disabled,primary:!1,borderless:!0},function(ae){return dr(ae,H)},v,[],["tox-browse-url"])),ue=function(){return{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:nn([[G.asSpec()],M.map(function(){return Z.asSpec()}).toArray()])}},Ce=function(ae){cr.getCurrent(ae).each(function(xe){var Ge=Xt.getValue(xe),Ze=ve({fieldname:t.name},Ge);M.each(function(Se){Se(Ze).get(function(ze){Xt.setValue(xe,ze),Rn(ae,Ts,{name:t.name})})})})};return Ir.sketch({dom:A6(),components:C.toArray().concat([ue()]),fieldBehaviours:zt([Tn.config({disabled:function(){return t.disabled||v.isDisabled()},onDisabled:function(ae){Ir.getField(ae).each(Tn.disable),Z.getOpt(ae).each(Tn.disable)},onEnabled:function(ae){Ir.getField(ae).each(Tn.enable),Z.getOpt(ae).each(Tn.enable)}}),vi(),ar("url-input-events",[ft(H,Ce)])])})},_p=function(t,r){return ju.sketch({dom:{tag:"div",attributes:{role:"alert"},classes:["tox-notification","tox-notification--in","tox-notification--"+t.level]},components:[{dom:{tag:"div",classes:["tox-notification__icon"]},components:[Wu.sketch({dom:{tag:"button",classes:["tox-button","tox-button--naked","tox-button--icon"],innerHtml:nA(t.icon,r.icons),attributes:{title:r.translate(t.iconTooltip)}},action:function(o){Rn(o,Zv,{name:"alert-banner",value:t.url})},buttonBehaviours:zt([u4()])})]},{dom:{tag:"div",classes:["tox-notification__body"],innerHtml:r.translate(t.text)}}]})},yx=function(t,r){var o=Xt.config({store:{mode:"manual",getValue:function(S){var E=S.element.dom;return E.checked},setValue:function(S,E){var R=S.element.dom;R.checked=E}}}),s=function(S){return S.element.dom.click(),_.some(!0)},v=Ir.parts.field({factory:{sketch:dt},dom:{tag:"input",classes:["tox-checkbox__input"],attributes:{type:"checkbox"}},behaviours:zt([av.self(),Tn.config({disabled:function(){return t.disabled||r.isDisabled()}}),Oo.config({}),Vn.config({}),o,Bn.config({mode:"special",onEnter:s,onSpace:s,stopSpaceKeyup:!0}),ar("checkbox-events",[ft(Um(),function(S,E){Rn(S,Ts,{name:t.name})})])])}),m=Ir.parts.label({dom:{tag:"span",classes:["tox-checkbox__label"],innerHtml:r.translate(t.label)},behaviours:zt([ew.config({})])}),p=function(S){var E=S==="checked"?"selected":"unselected";return Qf(E,{tag:"span",classes:["tox-icon","tox-checkbox-icon__"+S]},r.icons)},C=qr({dom:{tag:"div",classes:["tox-checkbox__icons"]},components:[p("checked"),p("unchecked")]});return Ir.sketch({dom:{tag:"label",classes:["tox-checkbox"]},components:[v,C.asSpec(),m],fieldBehaviours:zt([Tn.config({disabled:function(){return t.disabled||r.isDisabled()},disableClass:"tox-checkbox--disabled",onDisabled:function(S){Ir.getField(S).each(Tn.disable)},onEnabled:function(S){Ir.getField(S).each(Tn.enable)}}),vi()])})},G$=function(t){return t.presets==="presentation"?ju.sketch({dom:{tag:"div",classes:["tox-form__group"],innerHtml:t.html}}):ju.sketch({dom:{tag:"div",classes:["tox-form__group"],innerHtml:t.html,attributes:{role:"document"}},containerBehaviours:zt([Oo.config({}),Vn.config({})])})},ji=function(t){return function(r,o,s){return bn(o,"name").fold(function(){return t(o,s)},function(v){return r.field(v,t(o,s))})}},SO=function(t){return function(r,o,s){var v=Je(o,{source:"dynamic"});return ji(t)(r,v,s)}},q$={bar:ji(function(t,r){return C6(t,r.shared)}),collection:ji(function(t,r){return pE(t,r.shared.providers)}),alertbanner:ji(function(t,r){return _p(t,r.shared.providers)}),input:ji(function(t,r){return y$(t,r.shared.providers)}),textarea:ji(function(t,r){return w$(t,r.shared.providers)}),label:ji(function(t,r){return m$(t,r.shared)}),iframe:SO(function(t,r){return nP(t,r.shared.providers)}),button:ji(function(t,r){return dO(t,r.shared.providers)}),checkbox:ji(function(t,r){return yx(t,r.shared.providers)}),colorinput:ji(function(t,r){return TE(t,r.shared,r.colorinput)}),colorpicker:ji(qM),dropzone:ji(function(t,r){return QM(t,r.shared.providers)}),grid:ji(function(t,r){return X_(t,r.shared)}),listbox:ji(function(t,r){return T5(t,r)}),selectbox:ji(function(t,r){return p$(t,r.shared.providers)}),sizeinput:ji(function(t,r){return gO(t,r.shared.providers)}),urlinput:ji(function(t,r){return I5(t,r,r.urlinput)}),customeditor:ji(lx),htmlpanel:ji(G$),imagetools:ji(function(t,r){return d$(t,r.shared.providers)}),table:ji(function(t,r){return b$(t,r.shared.providers)}),panel:ji(function(t,r){return g$(t,r)})},K$={field:function(t,r){return r}},kO=function(t,r,o){var s=Je(o,{shared:{interpreter:function(v){return wx(t,v,s)}}});return wx(t,r,s)},wx=function(t,r,o){return bn(q$,r.type).fold(function(){return console.error('Unknown factory type "'+r.type+'", defaulting to container: ',r),r},function(s){return s(t,r,o)})},X$=function(t,r){var o=K$;return wx(o,t,r)},L5={valignCentre:[],alignCentre:[],alignLeft:[],alignRight:[],right:[],left:[],bottom:[],top:[]},Y$=function(t,r,o){var s=12,v={maxHeightFunction:lg()},m=function(){return{type:"node",root:na(t()),node:_.from(t()),bubble:Mv(s,s,L5),layouts:{onRtl:function(){return[mm]},onLtr:function(){return[up]}},overrides:v}},p=function(){return{type:"hotspot",hotspot:r(),bubble:Mv(-s,s,L5),layouts:{onRtl:function(){return[nu]},onLtr:function(){return[Jo]}},overrides:v}};return function(){return o()?m():p()}},J$=function(t,r,o){var s=function(){return{type:"node",root:na(t()),node:_.from(t()),layouts:{onRtl:function(){return[tc]},onLtr:function(){return[tc]}}}},v=function(){return{type:"hotspot",hotspot:r(),layouts:{onRtl:function(){return[Li]},onLtr:function(){return[Li]}}}};return function(){return o()?s():v()}},Z$=function(t,r){return function(){return{type:"selection",root:r(),getSelection:function(){var o=t.selection.getRng();return _.some(fg.range(le.fromDom(o.startContainer),o.startOffset,le.fromDom(o.endContainer),o.endOffset))}}}},V5=function(t){return function(r){return{type:"node",root:t(),node:r}}},Q$=function(t,r,o){var s=xk(t),v=function(){return le.fromDom(t.getBody())},m=function(){return le.fromDom(t.getContentAreaContainer())},p=function(){return s||!o()};return{inlineDialog:Y$(m,r,p),banner:J$(m,r,p),cursor:Z$(t,v),node:V5(v)}},H5=function(t){return function(r,o){var s=BD(t);s(r,o)}},eN=function(t){return function(){return _k(t)}},tN=function(t){return function(){return iE(t)}},xO=function(t){return function(){return OD(t)}},TO=function(t){return{colorPicker:H5(t),hasCustomColors:eN(t),getColors:tN(t),getColorCols:xO(t)}},pw=function(t){return function(){return r8(t)}},nN=function(t){return{isDraggableModal:pw(t)}},rN=function(t){var r=Dn(YA(t)?"bottom":"top");return{isPositionedAtTop:function(){return r.get()==="top"},getDockingMode:r.get,setDockingMode:r.set}},U5=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",format:"bold"},{title:"Italic",format:"italic"},{title:"Underline",format:"underline"},{title:"Strikethrough",format:"strikethrough"},{title:"Superscript",format:"superscript"},{title:"Subscript",format:"subscript"},{title:"Code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Align",items:[{title:"Left",format:"alignleft"},{title:"Center",format:"aligncenter"},{title:"Right",format:"alignright"},{title:"Justify",format:"alignjustify"}]}],aN=function(t){return Cr(t,"items")},oN=function(t){return Cr(t,"block")},W5=function(t){return Cr(t,"inline")},j5=function(t){return Cr(t,"selector")},EO=function(t){return pt(t,function(r,o){if(aN(o)){var s=EO(o.items);return{customFormats:r.customFormats.concat(s.customFormats),formats:r.formats.concat([{title:o.title,items:s.formats}])}}else if(W5(o)||oN(o)||j5(o)){var v=_t(o.name)?o.name:o.title.toLowerCase(),m="custom-"+v;return{customFormats:r.customFormats.concat([{name:m,format:o}]),formats:r.formats.concat([{title:o.title,format:m,icon:o.icon}])}}else return ve(ve({},r),{formats:r.formats.concat(o)})},{customFormats:[],formats:[]})},iN=function(t,r){var o=EO(r),s=function(v){Ie(v,function(m){t.formatter.has(m.name)||t.formatter.register(m.name,m.format)})};return t.formatter?s(o.customFormats):t.on("init",function(){s(o.customFormats)}),o.formats},G5=function(t){return qA(t).map(function(r){var o=iN(t,r);return KA(t)?U5.concat(o):o}).getOr(U5)},q5=function(t,r,o){var s={type:"formatter",isSelected:r(t.format),getStylePreview:o(t.format)};return Je(t,s)},K5=function(t,r,o,s){var v=function(S){return q5(S,o,s)},m=function(S){var E={type:"submenu"};return Je(S,E)},p=function(S){var E=_t(S.name)?S.name:un(S.title),R="custom-"+E,M={type:"formatter",format:R,isSelected:o(R),getStylePreview:s(R)},H=Je(S,M);return t.formatter.register(E,H),H},C=function(S){return Tt(S,function(E){var R=Xr(E);if(Sa(E,"items")){var M=C(E.items);return Je(m(E),{getStyleItems:K(M)})}else return Sa(E,"format")?v(E):R.length===1&&er(R,"title")?Je(E,{type:"separator"}):p(E)})};return C(r)},uN=function(t){var r=function(M){return function(){return t.formatter.match(M)}},o=function(M){return function(){var H=t.formatter.get(M);return H!==void 0?_.some({tag:H.length>0&&(H[0].inline||H[0].block)||"div",styles:t.dom.parseStyle(t.formatter.getCssText(M))}):_.none()}},s=function(M){var H=M.items;return H!==void 0&&H.length>0?Ln(H,s):[M.format]},v=Dn([]),m=Dn([]),p=Dn([]),C=Dn([]),S=Dn(!1);t.on("PreInit",function(M){var H=G5(t),G=K5(t,H,r,o);v.set(G),m.set(Ln(G,s))}),t.on("addStyleModifications",function(M){var H=K5(t,M.items,r,o);p.set(H),S.set(M.replace),C.set(Ln(H,s))});var E=function(){var M=S.get()?[]:v.get(),H=p.get();return M.concat(H)},R=function(){var M=S.get()?[]:m.get(),H=C.get();return M.concat(H)};return{getData:E,getFlattenedKeys:R}},X5=function(t){return se(t)&&t.nodeType===1},lN=rd.trim,Y5=function(t){return function(r){return!!(X5(r)&&(r.contentEditable===t||r.getAttribute("data-mce-contenteditable")===t))}},sN=Y5("true"),cN=Y5("false"),OO=function(t,r,o,s,v){return{type:t,title:r,url:o,level:s,attach:v}},Rp=function(t){for(;t=t.parentNode;){var r=t.contentEditable;if(r&&r!=="inherit")return sN(t)}return!1},J5=function(t,r){return Tt(li(le.fromDom(r),t),function(o){return o.dom})},Z5=function(t){return t.innerText||t.textContent},fN=function(t){return t.id?t.id:un("h")},vN=function(t){return t&&t.nodeName==="A"&&(t.id||t.name)!==void 0},Q5=function(t){return vN(t)&&tR(t)},eR=function(t){return t&&/^(H[1-6])$/.test(t.nodeName)},tR=function(t){return Rp(t)&&!cN(t)},dN=function(t){return eR(t)&&tR(t)},mN=function(t){return eR(t)?parseInt(t.nodeName.substr(1),10):0},gN=function(t){var r=fN(t),o=function(){t.id=r};return OO("header",Z5(t),"#"+r,mN(t),o)},hN=function(t){var r=t.id||t.name,o=Z5(t);return OO("anchor",o||"#"+r,"#"+r,0,ge)},pN=function(t){return Tt(Re(t,dN),gN)},bN=function(t){return Tt(Re(t,Q5),hN)},yN=function(t){var r=J5("h1,h2,h3,h4,h5,h6,a:not([href])",t);return r},wN=function(t){return lN(t.title).length>0},nR=function(t){var r=yN(t);return Re(pN(r).concat(bN(r)),wN)},CN={find:nR},Cx="tinymce-url-history",rR=5,aR=function(t){return _t(t)&&/^https?/.test(t)},SN=function(t){return Fe(t)&&t.length<=rR&&wr(t,aR)},Sx=function(t){return ut(t)&&Mo(t,function(r){return!SN(r)}).isNone()},AO=function(){var t=Dk.getItem(Cx);if(t===null)return{};var r;try{r=JSON.parse(t)}catch(o){if(o instanceof SyntaxError)return console.log("Local storage "+Cx+" was not valid JSON",o),{};throw o}return Sx(r)?r:(console.log("Local storage "+Cx+" was not valid format",r),{})},kN=function(t){if(!Sx(t))throw new Error(`Bad format for history:
`+JSON.stringify(t));Dk.setItem(Cx,JSON.stringify(t))},xN=function(t){var r=AO();return bn(r,t).getOr([])},TN=function(t,r){if(!!aR(t)){var o=AO(),s=bn(o,r).getOr([]),v=Re(s,function(m){return m!==t});o[r]=[t].concat(v).slice(0,rR),kN(o)}},DO=function(t){return!!t},EN=function(t){return Lr(rd.makeMap(t,/[, ]/),DO)},_O=function(t){return _.from(ZA(t)).filter(Gt)},ON=function(t){var r=_.some(QA(t)).filter(DO),o=_.some(i8(t)).filter(DO),s=r.or(o).map(EN);return _O(t).fold(Zt,function(v){return s.fold(st,function(m){return Xr(m).length>0?m:!1})})},AN=function(t,r){var o=ON(t);return et(o)?o?_O(t):_.none():o[r]?_O(t):_.none()},DN=function(t,r){return AN(t,r).map(function(o){return function(s){return au.nu(function(v){var m=function(C,S){if(!_t(C))throw new Error("Expected value to be string");if(S!==void 0&&!ut(S))throw new Error("Expected meta to be a object");var E={value:C,meta:S};v(E)},p=ve({filetype:r,fieldname:s.fieldname},_.from(s.meta).getOr({}));o.call(t,m,s.value,p)})}})},bw=function(t){return _.from(t).filter(_t).getOrUndefined()},_N=function(t){return eD(t)?_.none():_.some({targets:CN.find(t.getBody()),anchorTop:bw(u8(t)),anchorBottom:bw(l8(t))})},RN=function(t){return _.from(s8(t))},oR=function(t){return{getHistory:xN,addToHistory:TN,getLinkInformation:function(){return _N(t)},getValidationHandler:function(){return RN(t)},getUrlPicker:function(r){return DN(t,r)}}},Bp=function(t,r,o){var s=Dn(!1),v=rN(r),m={shared:{providers:{icons:function(){return r.ui.registry.getAll().icons},menuItems:function(){return r.ui.registry.getAll().menuItems},translate:nc.translate,isDisabled:function(){return r.mode.isReadOnly()||r.ui.isDisabled()},getSetting:r.getParam.bind(r)},interpreter:function(p){return X$(p,m)},anchors:Q$(r,o,v.isPositionedAtTop),header:v,getSink:function(){return rr.value(t)}},urlinput:oR(r),styleselect:uN(r),colorinput:TO(r),dialog:nN(r),isContextMenuOpen:function(){return s.get()},setContextMenuState:function(p){return s.set(p)}};return m},BN=function(t,r,o){var s=function(Ze,Se){Ie([r,o],function(ze){ze.broadcastEvent(Ze,Se)})},v=function(Ze,Se){Ie([r,o],function(ze){ze.broadcastOn([Ze],Se)})},m=function(Ze){return v(Jd(),{target:Ze.target})},p=C1(),C=bo(p,"touchstart",m),S=bo(p,"touchmove",function(Ze){return s(Jp(),Ze)}),E=bo(p,"touchend",function(Ze){return s(oT(),Ze)}),R=bo(p,"mousedown",m),M=bo(p,"mouseup",function(Ze){Ze.raw.button===0&&v(Tl(),{target:Ze.target})}),H=function(Ze){return v(Jd(),{target:le.fromDom(Ze.target)})},G=function(Ze){Ze.button===0&&v(Tl(),{target:le.fromDom(Ze.target)})},Z=function(){Ie(t.editorManager.get(),function(Ze){t!==Ze&&Ze.fire("DismissPopups",{relatedTarget:t})})},ue=function(Ze){return s(D0(),ig(Ze))},Ce=function(Ze){v(mg(),{}),s(Ul(),ig(Ze))},ae=function(){return v(mg(),{})},xe=function(Ze){Ze.state&&v(Jd(),{target:le.fromDom(t.getContainer())})},Ge=function(Ze){v(Jd(),{target:le.fromDom(Ze.relatedTarget.getContainer())})};t.on("PostRender",function(){t.on("click",H),t.on("tap",H),t.on("mouseup",G),t.on("mousedown",Z),t.on("ScrollWindow",ue),t.on("ResizeWindow",Ce),t.on("ResizeEditor",ae),t.on("AfterProgressState",xe),t.on("DismissPopups",Ge)}),t.on("remove",function(){t.off("click",H),t.off("tap",H),t.off("mouseup",G),t.off("mousedown",Z),t.off("ScrollWindow",ue),t.off("ResizeWindow",Ce),t.off("ResizeEditor",ae),t.off("AfterProgressState",xe),t.off("DismissPopups",Ge),R.unbind(),C.unbind(),S.unbind(),E.unbind(),M.unbind()}),t.on("detach",function(){Y1(r),Y1(o),r.destroy(),o.destroy()})},nl=cS,ad=Vv,MN=K([ke("shell",!1),it("makeItem"),ke("setupItem",ge),Cs.field("listBehaviours",[Kn])]),PN=function(){return{behaviours:zt([Kn.config({})])}},$N=Zs({name:"items",overrides:PN}),NN=K([$N]),FN=K("CustomList"),Mp=function(t,r,o,s){var v=function(C,S){p(C).fold(function(){throw console.error("Custom List was defined to not be a shell, but no item container was specified in components"),new Error("Custom List was defined to not be a shell, but no item container was specified in components")},function(E){var R=Kn.contents(E),M=S.length,H=M-R.length,G=H>0?te(H,function(){return t.makeItem()}):[],Z=R.slice(M);Ie(Z,function(Ce){return Kn.remove(E,Ce)}),Ie(G,function(Ce){return Kn.append(E,Ce)});var ue=Kn.contents(E);Ie(ue,function(Ce,ae){t.setupItem(C,Ce,S[ae],ae)})})},m=t.shell?{behaviours:[Kn.config({})],components:[]}:{behaviours:[],components:r},p=function(C){return t.shell?_.some(C):fa(C,t,"items")};return{uid:t.uid,dom:t.dom,components:m.components,behaviours:ci(t.listBehaviours,m.behaviours),apis:{setItems:v}}},RO=Hu({name:FN(),configFields:MN(),partFields:NN(),factory:Mp,apis:{setItems:function(t,r,o){t.setItems(r,o)}}}),n0=K([it("dom"),ke("shell",!0),si("toolbarBehaviours",[Kn])]),zN=function(){return{behaviours:zt([Kn.config({})])}},IN=K([Zs({name:"groups",overrides:zN})]),LN=function(t,r,o,s){var v=function(C,S){m(C).fold(function(){throw console.error("Toolbar was defined to not be a shell, but no groups container was specified in components"),new Error("Toolbar was defined to not be a shell, but no groups container was specified in components")},function(E){Kn.set(E,S)})},m=function(C){return t.shell?_.some(C):fa(C,t,"groups")},p=t.shell?{behaviours:[Kn.config({})],components:[]}:{behaviours:[],components:r};return{uid:t.uid,dom:t.dom,components:p.components,behaviours:ci(t.toolbarBehaviours,p.behaviours),apis:{setGroups:v},domModification:{attributes:{role:"group"}}}},ov=Hu({name:"Toolbar",configFields:n0(),partFields:IN(),factory:LN,apis:{setGroups:function(t,r,o){t.setGroups(r,o)}}}),VN=ge,BO=Zt,r0=K([]),kx=Object.freeze({__proto__:null,setup:VN,isDocked:BO,getBehaviours:r0}),yw=function(t){var r=gi(ko(t,"position"),"fixed"),o=r?_.none():us(t);return o.orThunk(function(){var s=le.fromTag("span");return Ga(t).bind(function(v){Ji(v,s);var m=us(s);return qu(s),m})})},Gg=function(t){return yw(t).map(Ru).getOrThunk(function(){return ga(0,0)})},a0=Vl.generate([{static:[]},{absolute:["positionCss"]},{fixed:["positionCss"]}]),HN=function(t,r){var o=t.element;ki(o,r.transitionClass),zo(o,r.fadeOutClass),ki(o,r.fadeInClass),r.onShow(t)},iR=function(t,r){var o=t.element;ki(o,r.transitionClass),zo(o,r.fadeInClass),ki(o,r.fadeOutClass),r.onHide(t)},uR=function(t,r){return t.y<r.bottom&&t.bottom>r.y},lR=function(t,r){return t.y>=r.y},UN=function(t,r){return t.bottom<=r.bottom},MO=function(t,r,o){return wr(t,function(s){switch(s){case"bottom":return UN(r,o);case"top":return lR(r,o)}})},sR=function(t,r){return r.getInitialPos().map(function(o){return Xo(o.bounds.x,o.bounds.y,Yi(t),$o(t))})},WN=function(t,r,o){o.setInitialPos({style:Cf(t),position:eo(t,"position")||"static",bounds:r})},cR=function(t,r,o){return o.getInitialPos().bind(function(s){switch(o.clearInitialPos(),s.position){case"static":return _.some(a0.static());case"absolute":var v=yw(t).map(xo).getOrThunk(function(){return xo(Go())});return _.some(a0.absolute(Qo("absolute",bn(s.style,"left").map(function(m){return r.x-v.x}),bn(s.style,"top").map(function(m){return r.y-v.y}),bn(s.style,"right").map(function(m){return v.right-r.right}),bn(s.style,"bottom").map(function(m){return v.bottom-r.bottom}))));default:return _.none()}})},PO=function(t,r,o){return sR(t,o).filter(function(s){return MO(o.getModes(),s,r)}).bind(function(s){return cR(t,s,o)})},$O=function(t,r,o){var s=xo(t);if(MO(o.getModes(),s,r))return _.none();WN(t,s,o);var v=$i(),m=s.x-v.x,p=r.y-v.y,C=v.bottom-r.bottom,S=s.y<=r.y;return _.some(a0.fixed(Qo("fixed",_.some(m),S?_.some(p):_.none(),_.none(),S?_.none():_.some(C))))},jN=function(t,r,o){var s=t.element,v=gi(ko(s,"position"),"fixed");return v?PO(s,r,o):$O(s,r,o)},fR=function(t,r){var o=t.element;return sR(o,r).bind(function(s){return cR(o,s,r)})},vR=function(t,r,o){o.setDocked(!1),Ie(["left","right","top","bottom","position"],function(s){return Vr(t.element,s)}),r.onUndocked(t)},xx=function(t,r,o,s){var v=s.position==="fixed";o.setDocked(v),je(t.element,s);var m=v?r.onDocked:r.onUndocked;m(t)},dR=function(t,r,o,s,v){v===void 0&&(v=!1),r.contextual.each(function(m){m.lazyContext(t).each(function(p){var C=uR(p,s);if(C!==o.isVisible())if(o.setVisible(C),v&&!C)Lf(t.element,[m.fadeOutClass]),m.onHide(t);else{var S=C?HN:iR;S(t,m)}})})},GN=function(t,r,o){var s=r.lazyViewport(t),v=o.isDocked();v&&dR(t,r,o,s),jN(t,s,o).each(function(m){m.fold(function(){return vR(t,r,o)},function(p){return xx(t,r,o,p)},function(p){dR(t,r,o,s,!0),xx(t,r,o,p)})})},Pp=function(t,r,o){var s=t.element;o.setDocked(!1),fR(t,o).each(function(v){v.fold(function(){return vR(t,r,o)},function(m){return xx(t,r,o,m)},ge)}),o.setVisible(!0),r.contextual.each(function(v){Jc(s,[v.fadeInClass,v.fadeOutClass,v.transitionClass]),v.onShow(t)}),Tx(t,r,o)},Tx=function(t,r,o){t.getSystem().isConnected()&&GN(t,r,o)},mR=function(t,r,o){o.isDocked()&&Pp(t,r,o)},gR=function(t,r,o){return o.isDocked()},qN=function(t,r,o,s){return o.setModes(s)},Ex=function(t,r,o){return o.getModes()},gf=Object.freeze({__proto__:null,refresh:Tx,reset:mR,isDocked:gR,getModes:Ex,setModes:qN}),KN=function(t,r){return Oa([zf(jm(),function(o,s){t.contextual.each(function(v){if(Fu(o.element,v.transitionClass)){Jc(o.element,[v.transitionClass,v.fadeInClass]);var m=r.isVisible()?v.onShown:v.onHidden;m(o)}s.stop()})}),ft(D0(),function(o,s){Tx(o,t,r)}),ft(Ul(),function(o,s){mR(o,t,r)})])},od=Object.freeze({__proto__:null,events:KN}),XN=[pl("contextual",[jn("fadeInClass"),jn("fadeOutClass"),jn("transitionClass"),hu("lazyContext"),sr("onShow"),sr("onShown"),sr("onHide"),sr("onHidden")]),Ea("lazyViewport",$i),Mf("modes",["top","bottom"],go),sr("onDocked"),sr("onUndocked")],YN=function(t){var r=Dn(!1),o=Dn(!0),s=so(),v=Dn(t.modes),m=function(){return"docked:  "+r.get()+", visible: "+o.get()+", modes: "+v.get().join(",")};return Si({isDocked:r.get,setDocked:r.set,getInitialPos:s.get,setInitialPos:s.set,clearInitialPos:s.clear,isVisible:o.get,setVisible:o.set,getModes:v.get,setModes:v.set,readState:m})},hR=Object.freeze({__proto__:null,init:YN}),ou=po({fields:XN,name:"docking",active:od,apis:gf,state:hR}),id=K(un("toolbar-height-change")),ei={fadeInClass:"tox-editor-dock-fadein",fadeOutClass:"tox-editor-dock-fadeout",transitionClass:"tox-editor-dock-transition"},pR="tox-tinymce--toolbar-sticky-on",NO="tox-tinymce--toolbar-sticky-off",bR=function(t,r){var o=Ja(r),s=o.dom.defaultView.innerHeight,v=ml(o),m=le.fromDom(t.elm),p=Uc(m),C=$o(m),S=p.y,E=S+C,R=Ru(r),M=$o(r),H=R.top,G=H+M,Z=Math.abs(H-v.top)<2,ue=Math.abs(G-(v.top+s))<2;if(Z&&S<G)_m(v.left,S-M,o);else if(ue&&E>H){var Ce=S-s+C+M;_m(v.left,Ce,o)}},Ox=function(t,r){return er(ou.getModes(t),r)},FO=function(t){var r=function(s){return dl(s)+(parseInt(eo(s,"margin-top"),10)||0)+(parseInt(eo(s,"margin-bottom"),10)||0)},o=t.element;Ga(o).each(function(s){var v="padding-"+ou.getModes(t)[0];if(ou.isDocked(t)){var m=Yi(s);In(o,"width",m+"px"),In(s,v,r(o)+"px")}else Vr(o,"width"),Vr(s,v)})},yR=function(t,r){r?(zo(t,ei.fadeOutClass),Lf(t,[ei.transitionClass,ei.fadeInClass])):(zo(t,ei.fadeInClass),Lf(t,[ei.fadeOutClass,ei.transitionClass]))},Sm=function(t,r){var o=le.fromDom(t.getContainer());r?(ki(o,pR),zo(o,NO)):(ki(o,NO),zo(o,pR))},wR=function(t,r){var o=Ja(r);kl(o).filter(function(s){return!Qr(r,s)}).filter(function(s){return Qr(s,le.fromDom(o.dom.body))||_u(t,s)}).each(function(){return ef(r)})},o0=function(t,r){return Ks(t).orThunk(function(){return r().toOptional().bind(function(o){return Ks(o.element)})})},Ax=function(t,r,o){t.inline||(r.header.isPositionedAtTop()||t.on("ResizeEditor",function(){o().each(ou.reset)}),t.on("ResizeWindow ResizeEditor",function(){o().each(FO)}),t.on("SkinLoaded",function(){o().each(function(s){ou.isDocked(s)?ou.reset(s):ou.refresh(s)})}),t.on("FullscreenStateChanged",function(){o().each(ou.reset)})),t.on("AfterScrollIntoView",function(s){o().each(function(v){ou.refresh(v);var m=v.element;_S(m)&&bR(s,m)})}),t.on("PostRender",function(){Sm(t,!1)})},CR=function(t){return t().map(ou.isDocked).getOr(!1)},JN=function(){var t;return[Sl.config({channels:(t={},t[id()]={onReceive:FO},t)})]},SR=function(t,r){var o=so(),s=r.getSink,v=function(C){s().each(function(S){return C(S.element)})},m=function(C){t.inline||FO(C),Sm(t,ou.isDocked(C)),C.getSystem().broadcastOn([mg()],{}),s().each(function(S){return S.getSystem().broadcastOn([mg()],{})})},p=t.inline?[]:JN();return En([Vn.config({}),ou.config({contextual:ve({lazyContext:function(C){var S=dl(C.element),E=t.inline?t.getContentAreaContainer():t.getContainer(),R=xo(le.fromDom(E)),M=R.height-S,H=R.y+(Ox(C,"top")?0:S);return _.some(Xo(R.x,H,R.width,M))},onShow:function(){v(function(C){return yR(C,!0)})},onShown:function(C){v(function(S){return Jc(S,[ei.transitionClass,ei.fadeInClass])}),o.get().each(function(S){wR(C.element,S),o.clear()})},onHide:function(C){o0(C.element,s).fold(o.clear,o.set),v(function(S){return yR(S,!1)})},onHidden:function(){v(function(C){return Jc(C,[ei.transitionClass])})}},ei),lazyViewport:function(C){var S=$i(),E=n8(t),R=S.y+(Ox(C,"top")?E:0),M=S.height-(Ox(C,"bottom")?E:0);return Xo(S.x,R,S.width,M)},modes:[r.header.getDockingMode()],onDocked:m,onUndocked:m})],p,!0)},ZN=Object.freeze({__proto__:null,setup:Ax,isDocked:CR,getBehaviours:SR}),QN=function(t){var r=t.editor,o=t.sticky?SR:r0;return{uid:t.uid,dom:t.dom,components:t.components,behaviours:zt(o(r,t.sharedBackstage))}},i0=kn([jn("type"),Yu("items",nh([h0([jn("name"),eu("items",go)]),go]))].concat(sp)),eF=function(t){return Xa("GroupToolbarButton",i0,t)},tF=[Ta("text"),Ta("tooltip"),Ta("icon"),hu("fetch"),Ea("onSetup",function(){return ge})],nF=kn(En([jn("type")],tF,!0)),kR=function(t){return Xa("menubutton",nF,t)},rF=kn([jn("type"),Ta("tooltip"),Ta("icon"),Ta("text"),dv("select"),hu("fetch"),Ea("onSetup",function(){return ge}),Ll("presets","normal",["normal","color","listpreview"]),ke("columns",1),hu("onAction"),hu("onItemAction")]),Dx=function(t){return Xa("SplitButton",rF,t)},aF=function(t,r){var o=function(v,m){var p=Tt(m,function(C){var S={type:"menubutton",text:C.text,fetch:function(R){R(C.getItems())}},E=kR(S).mapError(function(R){return vv(R)}).getOrDie();return cO(E,"tox-mbtn",r.backstage,_.some("menuitem"))});Kn.set(v,p)},s={focus:Bn.focusIn,setMenus:o};return{uid:t.uid,dom:t.dom,components:[],behaviours:zt([Kn.config({}),ar("menubar-events",[Ha(function(v){t.onSetup(v)}),ft($f(),function(v,m){Io(v.element,".tox-mbtn--active").each(function(p){bu(m.event.target,".tox-mbtn").each(function(C){Qr(p,C)||v.getSystem().getByDom(p).each(function(S){v.getSystem().getByDom(C).each(function(E){Bc.expand(E),Bc.close(S),Vn.focus(E)})})})})}),ft(Zp(),function(v,m){m.event.prevFocus.bind(function(p){return v.getSystem().getByDom(p).toOptional()}).each(function(p){m.event.newFocus.bind(function(C){return v.getSystem().getByDom(C).toOptional()}).each(function(C){Bc.isOpen(p)&&(Bc.expand(C),Bc.close(p))})})})]),Bn.config({mode:"flow",selector:".tox-mbtn",onEscape:function(v){return t.onEscape(v),_.some(!0)}}),Oo.config({})]),apis:s,domModification:{attributes:{role:"menubar"}}}},_x=El({factory:aF,name:"silver.Menubar",configFields:[it("dom"),it("uid"),it("onEscape"),it("backstage"),ke("onSetup",ge)],apis:{focus:function(t,r){t.focus(r)},setMenus:function(t,r,o){t.setMenus(r,o)}}}),$p=function(t,r){return r.getAnimationRoot.fold(function(){return t.element},function(o){return o(t)})},km=function(t){return t.dimension.property},xm=function(t,r){return t.dimension.getDimension(r)},u0=function(t,r){var o=$p(t,r);Jc(o,[r.shrinkingClass,r.growingClass])},Tm=function(t,r){zo(t.element,r.openClass),ki(t.element,r.closedClass),In(t.element,km(r),"0px"),Da(t.element)},xR=function(t,r){zo(t.element,r.closedClass),ki(t.element,r.openClass),Vr(t.element,km(r))},TR=function(t,r,o,s){o.setCollapsed(),In(t.element,km(r),xm(r,t.element)),Da(t.element),u0(t,r),Tm(t,r),r.onStartShrink(t),r.onShrunk(t)},zO=function(t,r,o,s){var v=s.getOrThunk(function(){return xm(r,t.element)});o.setCollapsed(),In(t.element,km(r),v),Da(t.element);var m=$p(t,r);zo(m,r.growingClass),ki(m,r.shrinkingClass),Tm(t,r),r.onStartShrink(t)},ER=function(t,r,o){var s=xm(r,t.element),v=s==="0px"?TR:zO;v(t,r,o,_.some(s))},ww=function(t,r,o){var s=$p(t,r),v=Fu(s,r.shrinkingClass),m=xm(r,t.element);xR(t,r);var p=xm(r,t.element),C=function(){In(t.element,km(r),m),Da(t.element)},S=function(){Tm(t,r)},E=v?C:S;E(),zo(s,r.shrinkingClass),ki(s,r.growingClass),xR(t,r),In(t.element,km(r),p),o.setExpanded(),r.onStartGrow(t)},OR=function(t,r,o){if(o.isExpanded()){Vr(t.element,km(r));var s=xm(r,t.element);In(t.element,km(r),s)}},oF=function(t,r,o){o.isExpanded()||ww(t,r,o)},iF=function(t,r,o){o.isExpanded()&&ER(t,r,o)},Cw=function(t,r,o){o.isExpanded()&&TR(t,r,o)},IO=function(t,r,o){return o.isExpanded()},uF=function(t,r,o){return o.isCollapsed()},AR=function(t,r,o){var s=$p(t,r);return Fu(s,r.growingClass)===!0},LO=function(t,r,o){var s=$p(t,r);return Fu(s,r.shrinkingClass)===!0},lF=function(t,r,o){return AR(t,r)||LO(t,r)},sF=function(t,r,o){var s=o.isExpanded()?ER:ww;s(t,r,o)},e=Object.freeze({__proto__:null,refresh:OR,grow:oF,shrink:iF,immediateShrink:Cw,hasGrown:IO,hasShrunk:uF,isGrowing:AR,isShrinking:LO,isTransitioning:lF,toggleGrow:sF,disableTransitions:u0}),n=function(t,r,o){var s=r.expanded;return Gs(s?{classes:[r.openClass],styles:{}}:{classes:[r.closedClass],styles:Gc(r.dimension.property,"0px")})},a=function(t,r){return Oa([zf(jm(),function(o,s){var v=s.event.raw;if(v.propertyName===t.dimension.property){u0(o,t),r.isExpanded()&&Vr(o.element,t.dimension.property);var m=r.isExpanded()?t.onGrown:t.onShrunk;m(o)}})])},i=Object.freeze({__proto__:null,exhibit:n,events:a}),l=[it("closedClass"),it("openClass"),it("shrinkingClass"),it("growingClass"),Hr("getAnimationRoot"),sr("onShrunk"),sr("onStartShrink"),sr("onGrown"),sr("onStartGrow"),ke("expanded",!1),Yu("dimension",fs("property",{width:[ca("property","width"),ca("getDimension",function(t){return Yi(t)+"px"})],height:[ca("property","height"),ca("getDimension",function(t){return $o(t)+"px"})]}))],f=function(t){var r=Dn(t.expanded),o=function(){return"expanded: "+r.get()};return Si({isExpanded:function(){return r.get()===!0},isCollapsed:function(){return r.get()===!1},setCollapsed:Ht(r.set,!1),setExpanded:Ht(r.set,!0),readState:o})},g=Object.freeze({__proto__:null,init:f}),b=po({fields:l,name:"sliding",active:i,apis:e,state:g}),w="container",A=[si("slotBehaviours",[])],F=function(t){return"<alloy.field."+t+">"},I=function(t){var r=function(){var m=[],p=function(C,S){return m.push(C),Wy(w,F(C),S)};return{slot:p,record:K(m)}}(),o=t(r),s=r.record(),v=Tt(s,function(m){return Ai({name:m,pname:F(m)})});return Yy(w,A,v,V,o)},V=function(t,r){var o=function(ue){return Ky(t)},s=function(ue,Ce){return fa(ue,t,Ce)},v=function(ue,Ce){return function(ae,xe){return fa(ae,t,xe).map(function(Ge){return ue(Ge,xe)}).getOr(Ce)}},m=function(ue){return function(Ce,ae){Ie(ae,function(xe){return ue(Ce,xe)})}},p=function(ue,Ce){return za(ue.element,"aria-hidden")!=="true"},C=function(ue,Ce){if(!p(ue)){var ae=ue.element;Vr(ae,"display"),bi(ae,"aria-hidden"),Rn(ue,Nf(),{name:Ce,visible:!0})}},S=function(ue,Ce){if(p(ue)){var ae=ue.element;In(ae,"display","none"),Jn(ae,"aria-hidden","true"),Rn(ue,Nf(),{name:Ce,visible:!1})}},E=v(p,!1),R=v(S),M=m(R),H=function(ue){return M(ue,o())},G=v(C),Z={getSlotNames:o,getSlot:s,isShowing:E,hideSlot:R,hideAllSlots:H,showSlot:G};return{uid:t.uid,dom:t.dom,components:r,behaviours:Qd(t.slotBehaviours),apis:Z}},Y=Lr({getSlotNames:function(t,r){return t.getSlotNames(r)},getSlot:function(t,r,o){return t.getSlot(r,o)},isShowing:function(t,r,o){return t.isShowing(r,o)},hideSlot:function(t,r,o){return t.hideSlot(r,o)},hideAllSlots:function(t,r){return t.hideAllSlots(r)},showSlot:function(t,r,o){return t.showSlot(r,o)}},function(t){return Dd(t)}),X=ve(ve({},Y),{sketch:I}),ee=kn([Ta("icon"),Ta("tooltip"),Ea("onShow",ge),Ea("onHide",ge),Ea("onSetup",function(){return ge})]),re=function(t){return Xa("sidebar",ee,t)},fe=function(t){var r=t.ui.registry.getAll().sidebars;Ie(Xr(r),function(o){var s=r[o],v=function(){return gi(_.from(t.queryCommandValue("ToggleSidebar")),o)};t.ui.registry.addToggleButton(o,{icon:s.icon,tooltip:s.tooltip,onAction:function(m){t.execCommand("ToggleSidebar",!1,o),m.setActive(v())},onSetup:function(m){var p=function(){return m.setActive(v())};return t.on("ToggleSidebar",p),function(){t.off("ToggleSidebar",p)}}})})},ce=function(t){return{element:function(){return t.element.dom}}},ye=function(t,r){var o=Tt(Xr(r),function(s){var v=r[s],m=Is(re(v));return{name:s,getApi:ce,onSetup:m.onSetup,onShow:m.onShow,onHide:m.onHide}});return Tt(o,function(s){var v=Dn(ge);return t.slot(s.name,{dom:{tag:"div",classes:["tox-sidebar__pane"]},behaviours:Sk.unnamedEvents([L2(s,v),V2(s,v),ft(Nf(),function(m,p){var C=p.event,S=mn(o,function(E){return E.name===C.name});S.each(function(E){var R=C.visible?E.onShow:E.onHide;R(E.getApi(m))})})])})})},De=function(t){return X.sketch(function(r){return{dom:{tag:"div",classes:["tox-sidebar__pane-container"]},components:ye(r,t),slotBehaviours:Sk.unnamedEvents([Ha(function(o){return X.hideAllSlots(o)})])}})},he=function(t,r){var o=cr.getCurrent(t);o.each(function(s){return Kn.set(s,[De(r)])})},Be=function(t,r){var o=cr.getCurrent(t);o.each(function(s){var v=cr.getCurrent(s);v.each(function(m){b.hasGrown(s)?X.isShowing(m,r)?b.shrink(s):(X.hideAllSlots(m),X.showSlot(m,r)):(X.hideAllSlots(m),X.showSlot(m,r),b.grow(s))})})},qe=function(t){var r=cr.getCurrent(t);return r.bind(function(o){var s=b.isGrowing(o)||b.hasGrown(o);if(s){var v=cr.getCurrent(o);return v.bind(function(m){return mn(X.getSlotNames(m),function(p){return X.isShowing(m,p)})})}else return _.none()})},Ct=un("FixSizeEvent"),_n=un("AutoSizeEvent"),en=function(t){return{uid:t.uid,dom:{tag:"div",classes:["tox-sidebar"],attributes:{role:"complementary"}},components:[{dom:{tag:"div",classes:["tox-sidebar__slider"]},components:[],behaviours:zt([Oo.config({}),Vn.config({}),b.config({dimension:{property:"width"},closedClass:"tox-sidebar--sliding-closed",openClass:"tox-sidebar--sliding-open",shrinkingClass:"tox-sidebar--sliding-shrinking",growingClass:"tox-sidebar--sliding-growing",onShrunk:function(r){var o=cr.getCurrent(r);o.each(X.hideAllSlots),dr(r,_n)},onGrown:function(r){dr(r,_n)},onStartGrow:function(r){Rn(r,Ct,{width:ko(r.element,"width").getOr("")})},onStartShrink:function(r){Rn(r,Ct,{width:Yi(r.element)+"px"})}}),Kn.config({}),cr.config({find:function(r){var o=Kn.contents(r);return Bo(o)}})])}],behaviours:zt([av.childAt(0),ar("sidebar-sliding-events",[ft(Ct,function(r,o){In(r.element,"width",o.event.width)}),ft(_n,function(r,o){Vr(r.element,"width")})])])}},wt=function(t,r,o,s){Jn(t.element,"aria-busy",!0);var v=r.getRoot(t).getOr(t),m=zt([Bn.config({mode:"special",onTab:function(){return _.some(!0)},onShiftTab:function(){return _.some(!0)}}),Vn.config({})]),p=s(v,m),C=v.getSystem().build(p);Kn.append(v,jl(C)),C.hasConfigured(Bn)&&r.focus&&Bn.focusIn(C),o.isBlocked()||r.onBlock(t),o.blockWith(function(){return Kn.remove(v,C)})},Fn=function(t,r,o){bi(t.element,"aria-busy"),o.isBlocked()&&r.onUnblock(t),o.clear()},Dt=Object.freeze({__proto__:null,block:wt,unblock:Fn}),tn=[Ea("getRoot",_.none),pa("focus",!0),sr("onBlock"),sr("onUnblock")],At=function(){var t=A1(),r=function(o){t.set({destroy:o})};return Si({readState:t.isSet,blockWith:r,clear:t.clear,isBlocked:t.isSet})},jt=Object.freeze({__proto__:null,init:At}),an=po({fields:tn,name:"blocking",apis:Dt,state:jt}),bt=function(t){var r=t.dom.attributes!==void 0?t.dom.attributes:[];return pt(r,function(o,s){var v;return s.name==="class"?o:ve(ve({},o),(v={},v[s.name]=s.value,v))},{})},ln=function(t){return Array.prototype.slice.call(t.dom.classList,0)},Yn=function(t){var r=le.fromHtml(t),o=k(r),s=bt(r),v=ln(r),m=o.length===0?{}:{innerHtml:Zu(r)};return ve({tag:Un(r),classes:v,attributes:s},m)},oa=function(t){return function(r,o){return{dom:{tag:"div",attributes:{"aria-label":t.translate("Loading..."),tabindex:"0"},classes:["tox-throbber__busy-spinner"]},components:[{dom:Yn('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}}},Dr=function(t){return cr.getCurrent(t).each(function(r){return ef(r.element)})},Lo=function(t,r){var o="tabindex",s="data-mce-"+o;_.from(t.iframeElement).map(le.fromDom).each(function(v){r?(Ka(v,o).each(function(m){return Jn(v,s,m)}),Jn(v,o,-1)):(bi(v,o),Ka(v,s).each(function(m){Jn(v,o,m),bi(v,s)}))})},yo=function(t,r,o,s){var v=r.element;if(Lo(t,o),o)an.block(r,oa(s)),Vr(v,"display"),bi(v,"aria-hidden"),t.hasFocus()&&Dr(r);else{var m=cr.getCurrent(r).exists(function(p){return S1(p.element)});an.unblock(r),In(v,"display","none"),Jn(v,"aria-hidden","true"),m&&t.focus()}},Kl=function(t){return{uid:t.uid,dom:{tag:"div",attributes:{"aria-hidden":"true"},classes:["tox-throbber"],styles:{display:"none"}},behaviours:zt([Kn.config({}),an.config({focus:!1}),cr.config({find:function(r){return Bo(r.components())}})]),components:[]}},_s=function(t){return t.type==="focusin"},yt=function(t){if(_s(t)){var r=t.composed?Bo(t.composedPath()):_.from(t.target);return r.map(le.fromDom).filter(gr).exists(function(o){return Fu(o,"mce-pastebin")})}else return!1},Le=function(t,r,o){var s=Dn(!1),v=so(),m=function(C){s.get()&&!yt(C)&&(C.preventDefault(),Dr(r()),t.editorManager.setActive(t))};t.inline||t.on("PreInit",function(){t.dom.bind(t.getWin(),"focusin",m),t.on("BeforeExecCommand",function(C){C.command.toLowerCase()==="mcefocus"&&C.value!==!0&&m(C)})});var p=function(C){C!==s.get()&&(s.set(C),yo(t,r(),C,o.providers),t.fire("AfterProgressState",{state:C}))};t.on("ProgressState",function(C){if(v.on(hm.clearTimeout),xn(C.time)){var S=hm.setEditorTimeout(t,function(){return p(C.state)},C.time);v.set(S)}else p(C.state),v.clear()})},St=function(t,r){var o={len:0,list:[]},s=pt(t,function(v,m){var p=r(m,v.len);return p.fold(K(v),function(C){return{len:C.finish,list:v.list.concat([C])}})},o);return s.list},Ve=function(t,r,o){return{within:t,extra:r,withinWidth:o}},vn=function(t,r,o){var s=St(t,function(C,S){var E=o(C);return _.some({element:C,start:S,finish:S+E,width:E})}),v=Re(s,function(C){return C.finish<=r}),m=Qe(v,function(C,S){return C+S.width},0),p=s.slice(v.length);return{within:v,extra:p,withinWidth:m}},Vt=function(t){return Tt(t,function(r){return r.element})},Pn=function(t,r,o){var s=Vt(t.concat(r));return Ve(s,[],o)},mr=function(t,r,o,s){var v=Vt(t).concat([o]);return Ve(v,Vt(r),s)},Wa=function(t,r,o){return Ve(Vt(t),[],o)},rl=function(t,r,o){var s=vn(r,t,o);return s.extra.length===0?_.some(s):_.none()},_l=function(t,r,o,s){var v=rl(t,r,o).getOrThunk(function(){return vn(r,t-o(s),o)}),m=v.within,p=v.extra,C=v.withinWidth;return p.length===1&&p[0].width<=o(s)?Pn(m,p,C):p.length>=1?mr(m,p,s,C):Wa(m,p,C)},Pc=function(t,r){var o=Tt(r,function(s){return jl(s)});ov.setGroups(t,o)},al=function(t){return la(t,function(r){return Ks(r.element).bind(function(o){return r.getSystem().getByDom(o).toOptional()})})},ol=function(t,r,o){var s=r.builtGroups.get();if(s.length!==0){var v=uf(t,r,"primary"),m=Ao.getCoupled(t,"overflowGroup");In(v.element,"visibility","hidden");var p=s.concat([m]),C=al(p);o([]),Pc(v,p);var S=Yi(v.element),E=_l(S,r.builtGroups.get(),function(R){return Yi(R.element)},m);E.extra.length===0?(Kn.remove(v,m),o([])):(Pc(v,E.within),o(E.extra)),Vr(v.element,"visibility"),Da(v.element),C.each(Vn.focus)}},di=K([si("splitToolbarBehaviours",[Ao]),Pu("builtGroups",function(){return Dn([])})]),Em=K([Nd(["overflowToggledClass"]),dv("getOverflowBounds"),it("lazySink"),Pu("overflowGroups",function(){return Dn([])})].concat(di())),iu=K([Ai({factory:ov,schema:n0(),name:"primary"}),ql({schema:n0(),name:"overflow"}),ql({name:"overflow-button"}),ql({name:"overflow-group"})]),$c=K(function(t,r){Pi(t,Math.floor(r))}),ud=K([Nd(["toggledClass"]),it("lazySink"),hu("fetch"),dv("getBounds"),pl("fireDismissalEventInstead",[ke("event",Us())]),Pv()]),ro=K([ql({name:"button",overrides:function(t){return{dom:{attributes:{"aria-haspopup":"true"}},buttonBehaviours:zt([xr.config({toggleClass:t.markers.toggledClass,aria:{mode:"expanded"},toggleOnExecute:!1})])}}}),ql({factory:ov,schema:n0(),name:"toolbar",overrides:function(t){return{toolbarBehaviours:zt([Bn.config({mode:"cyclic",onEscape:function(r){return fa(r,t,"button").each(Vn.focus),_.none()}})])}}})]),_a=function(t,r){var o=Ao.getCoupled(t,"toolbarSandbox");Sr.isOpen(o)?Sr.close(o):Sr.open(o,r.toolbar())},ti=function(t,r,o,s){var v=o.getBounds.map(function(p){return p()}),m=o.lazySink(t).getOrDie();Lu.positionWithinBounds(m,r,{anchor:{type:"hotspot",hotspot:t,layouts:s,overrides:{maxWidthFunction:$c()}}},v)},hf=function(t,r,o,s,v){ov.setGroups(r,v),ti(t,r,o,s),xr.on(t)},ld=function(t,r,o){var s=Zw(),v=function(p,C){o.fetch().get(function(S){hf(t,C,o,r.layouts,S),s.link(t.element),Bn.focusIn(C)})},m=function(){xr.off(t),Vn.focus(t),s.unlink(t.element)};return{dom:{tag:"div",attributes:{id:s.id}},behaviours:zt([Bn.config({mode:"special",onEscape:function(p){return Sr.close(p),_.some(!0)}}),Sr.config({onOpen:v,onClose:m,isPartOf:function(p,C,S){return Rd(C,S)||Rd(t,S)},getAttachPoint:function(){return o.lazySink(t).getOrDie()}}),Sl.config({channels:ve(ve({},Iv(ve({isExtraPart:Zt},o.fireDismissalEventInstead.map(function(p){return{fireEventInstead:{event:p.event}}}).getOr({})))),Dh({doReposition:function(){Sr.getState(Ao.getCoupled(t,"toolbarSandbox")).each(function(p){ti(t,p,o,r.layouts)})}}))})])}},pf=function(t,r,o,s){return ve(ve({},Wu.sketch(ve(ve({},s.button()),{action:function(v){_a(v,s)},buttonBehaviours:Cs.augment({dump:s.button().buttonBehaviours},[Ao.config({others:{toolbarSandbox:function(v){return ld(v,o,t)}}})])}))),{apis:{setGroups:function(v,m){Sr.getState(Ao.getCoupled(v,"toolbarSandbox")).each(function(p){hf(v,p,t,o.layouts,m)})},reposition:function(v){Sr.getState(Ao.getCoupled(v,"toolbarSandbox")).each(function(m){ti(v,m,t,o.layouts)})},toggle:function(v){_a(v,s)},getToolbar:function(v){return Sr.getState(Ao.getCoupled(v,"toolbarSandbox"))},isOpen:function(v){return Sr.isOpen(Ao.getCoupled(v,"toolbarSandbox"))}}})},iv=Hu({name:"FloatingToolbarButton",factory:pf,configFields:ud(),partFields:ro(),apis:{setGroups:function(t,r,o){t.setGroups(r,o)},reposition:function(t,r){t.reposition(r)},toggle:function(t,r){t.toggle(r)},getToolbar:function(t,r){return t.getToolbar(r)},isOpen:function(t,r){return t.isOpen(r)}}}),Sw=K([it("items"),Nd(["itemSelector"]),si("tgroupBehaviours",[Bn])]),cF=K([Ac({name:"items",unit:"item"})]),DR=function(t,r,o,s){return{uid:t.uid,dom:t.dom,components:r,behaviours:ci(t.tgroupBehaviours,[Bn.config({mode:"flow",selector:t.markers.itemSelector})]),domModification:{attributes:{role:"toolbar"}}}},kw=Hu({name:"ToolbarGroup",configFields:Sw(),partFields:cF(),factory:DR}),_R=function(t){return Tt(t,function(r){return jl(r)})},VO=function(t,r,o){ol(t,o,function(s){o.overflowGroups.set(s),r.getOpt(t).each(function(v){iv.setGroups(v,_R(s))})})},fF=function(t,r,o,s){var v=qr(iv.sketch({fetch:function(){return au.nu(function(m){m(_R(t.overflowGroups.get()))})},layouts:{onLtr:function(){return[Jo,nu]},onRtl:function(){return[nu,Jo]},onBottomLtr:function(){return[Ti,yu]},onBottomRtl:function(){return[yu,Ti]}},getBounds:o.getOverflowBounds,lazySink:t.lazySink,fireDismissalEventInstead:{},markers:{toggledClass:t.markers.overflowToggledClass},parts:{button:s["overflow-button"](),toolbar:s.overflow()}}));return{uid:t.uid,dom:t.dom,components:r,behaviours:ci(t.splitToolbarBehaviours,[Ao.config({others:{overflowGroup:function(){return kw.sketch(ve(ve({},s["overflow-group"]()),{items:[v.asSpec()]}))}}})]),apis:{setGroups:function(m,p){t.builtGroups.set(Tt(p,m.getSystem().build)),VO(m,v,t)},refresh:function(m){return VO(m,v,t)},toggle:function(m){v.getOpt(m).each(function(p){iv.toggle(p)})},isOpen:function(m){return v.getOpt(m).map(iv.isOpen).getOr(!1)},reposition:function(m){v.getOpt(m).each(function(p){iv.reposition(p)})},getOverflow:function(m){return v.getOpt(m).bind(iv.getToolbar)}},domModification:{attributes:{role:"group"}}}},RR=Hu({name:"SplitFloatingToolbar",configFields:Em(),partFields:iu(),factory:fF,apis:{setGroups:function(t,r,o){t.setGroups(r,o)},refresh:function(t,r){t.refresh(r)},reposition:function(t,r){t.reposition(r)},toggle:function(t,r){t.toggle(r)},isOpen:function(t,r){return t.isOpen(r)},getOverflow:function(t,r){return t.getOverflow(r)}}}),vF=K([Nd(["closedClass","openClass","shrinkingClass","growingClass","overflowToggledClass"]),sr("onOpened"),sr("onClosed")].concat(di())),dF=K([Ai({factory:ov,schema:n0(),name:"primary"}),Ai({factory:ov,schema:n0(),name:"overflow",overrides:function(t){return{toolbarBehaviours:zt([b.config({dimension:{property:"height"},closedClass:t.markers.closedClass,openClass:t.markers.openClass,shrinkingClass:t.markers.shrinkingClass,growingClass:t.markers.growingClass,onShrunk:function(r){fa(r,t,"overflow-button").each(function(o){xr.off(o),Vn.focus(o)}),t.onClosed(r)},onGrown:function(r){Bn.focusIn(r),t.onOpened(r)},onStartGrow:function(r){fa(r,t,"overflow-button").each(xr.on)}}),Bn.config({mode:"acyclic",onEscape:function(r){return fa(r,t,"overflow-button").each(Vn.focus),_.some(!0)}})])}}}),ql({name:"overflow-button",overrides:function(t){return{buttonBehaviours:zt([xr.config({toggleClass:t.markers.overflowToggledClass,aria:{mode:"pressed"},toggleOnExecute:!1})])}}}),ql({name:"overflow-group"})]),Np=function(t,r){return fa(t,r,"overflow").map(b.hasGrown).getOr(!1)},HO=function(t,r){fa(t,r,"overflow-button").bind(function(){return fa(t,r,"overflow")}).each(function(o){we(t,r),b.toggleGrow(o)})},we=function(t,r){fa(t,r,"overflow").each(function(o){ol(t,r,function(s){var v=Tt(s,function(m){return jl(m)});ov.setGroups(o,v)}),fa(t,r,"overflow-button").each(function(s){b.hasGrown(o)&&xr.on(s)}),b.refresh(o)})},He=function(t,r,o,s){var v="alloy.toolbar.toggle",m=function(p,C){var S=Tt(C,p.getSystem().build);t.builtGroups.set(S)};return{uid:t.uid,dom:t.dom,components:r,behaviours:ci(t.splitToolbarBehaviours,[Ao.config({others:{overflowGroup:function(p){return kw.sketch(ve(ve({},s["overflow-group"]()),{items:[Wu.sketch(ve(ve({},s["overflow-button"]()),{action:function(C){dr(p,v)}}))]}))}}}),ar("toolbar-toggle-events",[ft(v,function(p){HO(p,t)})])]),apis:{setGroups:function(p,C){m(p,C),we(p,t)},refresh:function(p){return we(p,t)},toggle:function(p){return HO(p,t)},isOpen:function(p){return Np(p,t)}},domModification:{attributes:{role:"group"}}}},Rt=Hu({name:"SplitSlidingToolbar",configFields:vF(),partFields:dF(),factory:He,apis:{setGroups:function(t,r,o){t.setGroups(r,o)},refresh:function(t,r){t.refresh(r)},toggle:function(t,r){t.toggle(r)},isOpen:function(t,r){return t.isOpen(r)}}}),Ut=function(t){var r=t.title.fold(function(){return{}},function(o){return{attributes:{title:o}}});return{dom:ve({tag:"div",classes:["tox-toolbar__group"]},r),components:[kw.parts.items({})],items:t.items,markers:{itemSelector:"*:not(.tox-split-button) > .tox-tbtn:not([disabled]), .tox-split-button:not([disabled]), .tox-toolbar-nav-js:not([disabled])"},tgroupBehaviours:zt([Oo.config({}),Vn.config({})])}},Qn=function(t){return kw.sketch(Ut(t))},Wr=function(t,r){var o=Ha(function(s){var v=Tt(t.initGroups,Qn);ov.setGroups(s,v)});return zt([ac.toolbarButton(t.providers.isDisabled),vi(),Bn.config({mode:r,onEscape:t.onEscape,selector:".tox-toolbar__group"}),ar("toolbar-events",[o])])},ja=function(t){var r=t.cyclicKeying?"cyclic":"acyclic";return{uid:t.uid,dom:{tag:"div",classes:["tox-toolbar-overlord"]},parts:{"overflow-group":Ut({title:_.none(),items:[]}),"overflow-button":m5({name:"more",icon:_.some("more-drawer"),disabled:!1,tooltip:_.some("More..."),primary:!1,borderless:!1},_.none(),t.providers)},splitToolbarBehaviours:Wr(t,r)}},qg=function(t){var r=ja(t),o=4,s=RR.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}});return RR.sketch(ve(ve({},r),{lazySink:t.getSink,getOverflowBounds:function(){var v=t.moreDrawerData.lazyHeader().element,m=Uc(v),p=Ye(v),C=Uc(p),S=Math.max(p.dom.scrollHeight,C.height);return Xo(m.x+o,C.y,m.width-o*2,S)},parts:ve(ve({},r.parts),{overflow:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:t.attributes}}}),components:[s],markers:{overflowToggledClass:"tox-tbtn--enabled"}}))},rI=function(t){var r=Rt.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}}),o=Rt.parts.overflow({dom:{tag:"div",classes:["tox-toolbar__overflow"]}}),s=ja(t);return Rt.sketch(ve(ve({},s),{components:[r,o],markers:{openClass:"tox-toolbar__overflow--open",closedClass:"tox-toolbar__overflow--closed",growingClass:"tox-toolbar__overflow--growing",shrinkingClass:"tox-toolbar__overflow--shrinking",overflowToggledClass:"tox-tbtn--enabled"},onOpened:function(v){v.getSystem().broadcastOn([id()],{type:"opened"})},onClosed:function(v){v.getSystem().broadcastOn([id()],{type:"closed"})}}))},BR=function(t){var r=t.cyclicKeying?"cyclic":"acyclic";return ov.sketch({uid:t.uid,dom:{tag:"div",classes:["tox-toolbar"].concat(t.type===rc.scrolling?["tox-toolbar--scrolling"]:[])},components:[ov.parts.groups({})],toolbarBehaviours:Wr(t,r)})},aI=function(t,r,o){var s={getSocket:function(v){return nl.getPart(v,t,"socket")},setSidebar:function(v,m){nl.getPart(v,t,"sidebar").each(function(p){return he(p,m)})},toggleSidebar:function(v,m){nl.getPart(v,t,"sidebar").each(function(p){return Be(p,m)})},whichSidebar:function(v){return nl.getPart(v,t,"sidebar").bind(qe).getOrNull()},getHeader:function(v){return nl.getPart(v,t,"header")},getToolbar:function(v){return nl.getPart(v,t,"toolbar")},setToolbar:function(v,m){nl.getPart(v,t,"toolbar").each(function(p){p.getApis().setGroups(p,m)})},setToolbars:function(v,m){nl.getPart(v,t,"multiple-toolbar").each(function(p){RO.setItems(p,m)})},refreshToolbar:function(v){var m=nl.getPart(v,t,"toolbar");m.each(function(p){return p.getApis().refresh(p)})},toggleToolbarDrawer:function(v){nl.getPart(v,t,"toolbar").each(function(m){ri(m.getApis().toggle,function(p){return p(m)})})},isToolbarDrawerToggled:function(v){return nl.getPart(v,t,"toolbar").bind(function(m){return _.from(m.getApis().isOpen).map(function(p){return p(m)})}).getOr(!1)},getThrobber:function(v){return nl.getPart(v,t,"throbber")},focusToolbar:function(v){var m=nl.getPart(v,t,"toolbar").orThunk(function(){return nl.getPart(v,t,"multiple-toolbar")});m.each(function(p){Bn.focusIn(p)})},setMenubar:function(v,m){nl.getPart(v,t,"menubar").each(function(p){_x.setMenus(p,m)})},focusMenubar:function(v){nl.getPart(v,t,"menubar").each(function(m){_x.focus(m)})}};return{uid:t.uid,dom:t.dom,components:r,apis:s,behaviours:t.behaviours}},oI=ad.optional({factory:_x,name:"menubar",schema:[it("backstage")]}),iI=function(t){return t.type===rc.sliding?rI:t.type===rc.floating?qg:BR},uI=ad.optional({factory:{sketch:function(t){return RO.sketch({uid:t.uid,dom:t.dom,listBehaviours:zt([Bn.config({mode:"acyclic",selector:".tox-toolbar"})]),makeItem:function(){return BR({type:t.type,uid:un("multiple-toolbar-item"),cyclicKeying:!1,initGroups:[],providers:t.providers,onEscape:function(){return t.onEscape(),_.some(!0)}})},setupItem:function(r,o,s,v){ov.setGroups(o,s)},shell:!0})}},name:"multiple-toolbar",schema:[it("dom"),it("onEscape")]}),lI=ad.optional({factory:{sketch:function(t){var r=iI(t),o={type:t.type,uid:t.uid,onEscape:function(){return t.onEscape(),_.some(!0)},cyclicKeying:!1,initGroups:[],getSink:t.getSink,providers:t.providers,moreDrawerData:{lazyToolbar:t.lazyToolbar,lazyMoreButton:t.lazyMoreButton,lazyHeader:t.lazyHeader},attributes:t.attributes};return r(o)}},name:"toolbar",schema:[it("dom"),it("onEscape"),it("getSink")]}),sI=ad.optional({factory:{sketch:QN},name:"header",schema:[it("dom")]}),cI=ad.optional({name:"socket",schema:[it("dom")]}),fI=ad.optional({factory:{sketch:en},name:"sidebar",schema:[it("dom")]}),vI=ad.optional({factory:{sketch:Kl},name:"throbber",schema:[it("dom")]}),Vo=Hu({name:"OuterContainer",factory:aI,configFields:[it("dom"),it("behaviours")],partFields:[sI,oI,lI,uI,cI,fI,vI],apis:{getSocket:function(t,r){return t.getSocket(r)},setSidebar:function(t,r,o){t.setSidebar(r,o)},toggleSidebar:function(t,r,o){t.toggleSidebar(r,o)},whichSidebar:function(t,r){return t.whichSidebar(r)},getHeader:function(t,r){return t.getHeader(r)},getToolbar:function(t,r){return t.getToolbar(r)},setToolbar:function(t,r,o){var s=Tt(o,function(v){return Qn(v)});t.setToolbar(r,s)},setToolbars:function(t,r,o){var s=Tt(o,function(v){return Tt(v,Qn)});t.setToolbars(r,s)},refreshToolbar:function(t,r){return t.refreshToolbar(r)},toggleToolbarDrawer:function(t,r){t.toggleToolbarDrawer(r)},isToolbarDrawerToggled:function(t,r){return t.isToolbarDrawerToggled(r)},getThrobber:function(t,r){return t.getThrobber(r)},setMenubar:function(t,r,o){t.setMenubar(r,o)},focusMenubar:function(t,r){t.focusMenubar(r)},focusToolbar:function(t,r){t.focusToolbar(r)}}}),dI="file edit view insert format tools table help",u7={file:{title:"File",items:"newdocument restoredraft | preview | export print | deleteallconversations"},edit:{title:"Edit",items:"undo redo | cut copy paste pastetext | selectall | searchreplace"},view:{title:"View",items:"code | visualaid visualchars visualblocks | spellchecker | preview fullscreen | showcomments"},insert:{title:"Insert",items:"image link media addcomment pageembed template codesample inserttable | charmap emoticons hr | pagebreak nonbreaking anchor toc | insertdatetime"},format:{title:"Format",items:"bold italic underline strikethrough superscript subscript codeformat | formats blockformats fontformats fontsizes align lineheight | forecolor backcolor | language | removeformat"},tools:{title:"Tools",items:"spellchecker spellcheckerlanguage | a11ycheck code wordcount"},table:{title:"Table",items:"inserttable | cell row column | advtablesort | tableprops deletetable"},help:{title:"Help",items:"help"}},mI=function(t,r,o){var s=JB(o).split(/[ ,]/);return{text:t.title,getItems:function(){return Ln(t.items,function(v){var m=v.toLowerCase();return m.trim().length===0?[]:ua(s,function(p){return p===m})?[]:m==="separator"||m==="|"?[{type:"separator"}]:r.menuItems[m]?[r.menuItems[m]]:[]})}}},mF=function(t){return typeof t=="string"?t.split(" "):t},l7=function(t,r){var o=ve(ve({},u7),r.menus),s=Xr(r.menus).length>0,v=r.menubar===void 0||r.menubar===!0?mF(dI):mF(r.menubar===!1?"":r.menubar),m=Re(v,function(C){var S=Cr(u7,C);return s?S||bn(r.menus,C).exists(function(E){return Cr(E,"items")}):S}),p=Tt(m,function(C){var S=o[C];return mI({title:S.title,items:mF(S.items)},r,t)});return Re(p,function(C){var S=function(E){return E.type!=="separator"};return C.getItems().length>0&&ua(C.getItems(),S)})},s7=function(t){var r=function(){t._skinLoaded=!0,D8(t)};return function(){t.initialized?r():t.on("init",r)}},gI=function(t,r){return function(){return _8(t,{message:r})}},c7=function(t,r,o){return new M2(function(s,v){o.load(r,s,v),t.on("remove",function(){return o.unload(r)})})},hI=function(t,r){var o=r+"/skin.min.css";return c7(t,o,t.ui.styleSheetLoader)},pI=function(t,r){var o=Za(le.fromDom(t.getElement()));if(o){var s=r+"/skin.shadowdom.min.css";return c7(t,s,N2.DOM.styleSheetLoader)}else return M2.resolve()},f7=function(t,r){var o=F4(r);o&&r.contentCSS.push(o+(t?"/content.inline":"/content")+".min.css"),UA(r)===!1&&_t(o)?M2.all([hI(r,o),pI(r,o)]).then(s7(r),gI(r,"Skin could not be loaded")):s7(r)()},bI=Ht(f7,!1),yI=Ht(f7,!0),MR=function(t,r){return function(o){var s=Vd(),v=function(){o.setActive(t.formatter.match(r));var m=t.formatter.formatChanged(r,o.setActive);s.set(m)};return t.initialized?v():t.once("init",v),function(){t.off("init",v),s.clear()}}},PR=function(t,r,o){return function(s){var v=function(){return o(s)},m=function(){o(s),t.on(r,v)};return t.initialized?m():t.once("init",m),function(){t.off("init",m),t.off(r,v)}}},v7=function(t){return function(r){return function(){t.undoManager.transact(function(){t.focus(),t.execCommand("mceToggleFormat",!1,r.format)})}}},uv=function(t,r){return function(){return t.execCommand(r)}},wI=function(t,r,o){var s=function(C,S,E,R){var M=r.shared.providers.translate(C.title);if(C.type==="separator")return _.some({type:"separator",text:M});if(C.type==="submenu"){var H=Ln(C.getStyleItems(),function(G){return v(G,S,R)});return S===0&&H.length<=0?_.none():_.some({type:"nestedmenuitem",text:M,disabled:H.length<=0,getSubmenuItems:function(){return Ln(C.getStyleItems(),function(G){return v(G,S,R)})}})}else return _.some(ve({type:"togglemenuitem",text:M,icon:C.icon,active:C.isSelected(R),disabled:E,onAction:o.onAction(C)},C.getStylePreview().fold(function(){return{}},function(G){return{meta:{style:G}}})))},v=function(C,S,E){var R=C.type==="formatter"&&o.isInvalid(C);return S===0?R?[]:s(C,S,!1,E).toArray():s(C,S,R,E).toArray()},m=function(C){var S=o.getCurrentValue(),E=o.shouldHide?0:1;return Ln(C,function(R){return v(R,E,S)})},p=function(C,S){return function(E,R){var M=S(),H=m(M),G=Qb(H,ev.CLOSE_ON_EXECUTE,C,!1);R(G)}};return{validateItems:m,getFetch:p}},Rx=function(t,r,o){var s=o.dataset,v=s.type==="basic"?function(){return Tt(s.data,function(m){return q5(m,o.isSelectedFor,o.getPreviewFor)})}:s.getData;return{items:wI(t,r,o),getStyleItems:v}},UO=function(t,r,o){var s=Rx(t,r,o),v=s.items,m=s.getStyleItems,p=function(S){return{getComponent:K(S)}},C=PR(t,"NodeChange",function(S){var E=S.getComponent();o.updateText(E)});return uO({text:o.icon.isSome()?_.none():o.text,icon:o.icon,tooltip:_.from(o.tooltip),role:_.none(),fetch:v.getFetch(r,m),onSetup:C,getApi:p,columns:1,presets:"normal",classes:o.icon.isSome()?[]:["bespoke"],dropdownBehaviours:[]},"tox-tbtn",r.shared)},CI=function(t){return Tt(t,function(r){var o=r,s=r,v=r.split("=");return v.length>1&&(o=v[0],s=v[1]),{title:o,format:s}})},SI=function(t){return{type:"basic",data:t}},Bx;(function(t){t[t.SemiColon=0]="SemiColon",t[t.Space=1]="Space"})(Bx||(Bx={}));var kI=function(t,r){return r===Bx.SemiColon?t.replace(/;$/,"").split(";"):t.split(" ")},gF=function(t,r,o,s){var v=t.getParam(r,o,"string"),m=CI(kI(v,s));return{type:"basic",data:m}},hF=[{title:"Left",icon:"align-left",format:"alignleft",command:"JustifyLeft"},{title:"Center",icon:"align-center",format:"aligncenter",command:"JustifyCenter"},{title:"Right",icon:"align-right",format:"alignright",command:"JustifyRight"},{title:"Justify",icon:"align-justify",format:"alignjustify",command:"JustifyFull"}],d7=function(t){var r=function(){return mn(hF,function(C){return t.formatter.match(C.format)})},o=function(C){return function(){return t.formatter.match(C)}},s=function(C){return _.none},v=function(C){var S=r(),E=S.fold(K("left"),function(R){return R.title.toLowerCase()});Rn(C,iO,{icon:"align-"+E})},m=SI(hF),p=function(C){return function(){return mn(hF,function(S){return S.format===C.format}).each(function(S){return t.execCommand(S.command)})}};return{tooltip:"Align",text:_.none(),icon:_.some("align-left"),isSelectedFor:o,getCurrentValue:_.none,getPreviewFor:s,onAction:p,updateText:v,dataset:m,shouldHide:!1,isInvalid:function(C){return!t.formatter.canApply(C.format)}}},xI=function(t,r){return UO(t,r,d7(t))},TI=function(t,r){var o=Rx(t,r,d7(t));t.ui.registry.addNestedMenuItem("align",{text:r.shared.providers.translate("Align"),getSubmenuItems:function(){return o.items.validateItems(o.getStyleItems())}})},EI="Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats",OI=["-apple-system","Segoe UI","Roboto","Helvetica Neue","sans-serif"],m7=function(t){var r=t.split(/\s*,\s*/);return Tt(r,function(o){return o.replace(/^['"]+|['"]+$/g,"")})},AI=function(t){var r=function(){var o=m7(t.toLowerCase());return wr(OI,function(s){return o.indexOf(s.toLowerCase())>-1})};return t.indexOf("-apple-system")===0&&r()},g7=function(t){var r="System Font",o=function(){var E=function(Z){return Z?m7(Z)[0]:""},R=t.queryCommandValue("FontName"),M=S.data,H=R?R.toLowerCase():"",G=mn(M,function(Z){var ue=Z.format;return ue.toLowerCase()===H||E(ue).toLowerCase()===E(H).toLowerCase()}).orThunk(function(){return ai(AI(H),{title:r,format:H})});return{matchOpt:G,font:R}},s=function(E){return function(R){return R.exists(function(M){return M.format===E})}},v=function(){var E=o().matchOpt;return E},m=function(E){return function(){return _.some({tag:"div",styles:E.indexOf("dings")===-1?{"font-family":E}:{}})}},p=function(E){return function(){t.undoManager.transact(function(){t.focus(),t.execCommand("FontName",!1,E.format)})}},C=function(E){var R=o(),M=R.matchOpt,H=R.font,G=M.fold(K(H),function(Z){return Z.title});Rn(E,Op,{text:G})},S=gF(t,"font_formats",EI,Bx.SemiColon);return{tooltip:"Fonts",text:_.some(r),icon:_.none(),isSelectedFor:s,getCurrentValue:v,getPreviewFor:m,onAction:p,updateText:C,dataset:S,shouldHide:!1,isInvalid:Zt}},DI=function(t,r){return UO(t,r,g7(t))},_I=function(t,r){var o=Rx(t,r,g7(t));t.ui.registry.addNestedMenuItem("fontformats",{text:r.shared.providers.translate("Fonts"),getSubmenuItems:function(){return o.items.validateItems(o.getStyleItems())}})},RI="8pt 10pt 12pt 14pt 18pt 24pt 36pt",BI={"8pt":"1","10pt":"2","12pt":"3","14pt":"4","18pt":"5","24pt":"6","36pt":"7"},MI={"xx-small":"7pt","x-small":"8pt",small:"10pt",medium:"12pt",large:"14pt","x-large":"18pt","xx-large":"24pt"},PI=function(t,r){var o=Math.pow(10,r);return Math.round(t*o)/o},$I=function(t,r){return/[0-9.]+px$/.test(t)?PI(parseInt(t,10)*72/96,r||0)+"pt":bn(MI,t).getOr(t)},NI=function(t){return bn(BI,t).getOr("")},h7=function(t){var r=function(){var S=_.none(),E=C.data,R=t.queryCommandValue("FontSize");if(R)for(var M=function(G){var Z=$I(R,G),ue=NI(Z);S=mn(E,function(Ce){return Ce.format===R||Ce.format===Z||Ce.format===ue})},H=3;S.isNone()&&H>=0;H--)M(H);return{matchOpt:S,size:R}},o=function(S){return function(E){return E.exists(function(R){return R.format===S})}},s=function(){var S=r().matchOpt;return S},v=K(_.none),m=function(S){return function(){t.undoManager.transact(function(){t.focus(),t.execCommand("FontSize",!1,S.format)})}},p=function(S){var E=r(),R=E.matchOpt,M=E.size,H=R.fold(K(M),function(G){return G.title});Rn(S,Op,{text:H})},C=gF(t,"fontsize_formats",RI,Bx.Space);return{tooltip:"Font sizes",text:_.some("12pt"),icon:_.none(),isSelectedFor:o,getPreviewFor:v,getCurrentValue:s,onAction:m,updateText:p,dataset:C,shouldHide:!1,isInvalid:Zt}},FI=function(t,r){return UO(t,r,h7(t))},zI=function(t,r){var o=Rx(t,r,h7(t));t.ui.registry.addNestedMenuItem("fontsizes",{text:"Font sizes",getSubmenuItems:function(){return o.items.validateItems(o.getStyleItems())}})},p7=function(t,r){var o=r(),s=Tt(o,function(v){return v.format});return _.from(t.formatter.closest(s)).bind(function(v){return mn(o,function(m){return m.format===v})}).orThunk(function(){return ai(t.formatter.match("p"),{title:"Paragraph",format:"p"})})},II="Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;Preformatted=pre",b7=function(t){var r="Paragraph",o=function(p){return function(){return t.formatter.match(p)}},s=function(p){return function(){var C=t.formatter.get(p);return _.some({tag:C.length>0&&(C[0].inline||C[0].block)||"div",styles:t.dom.parseStyle(t.formatter.getCssText(p))})}},v=function(p){var C=p7(t,function(){return m.data}),S=C.fold(K(r),function(E){return E.title});Rn(p,Op,{text:S})},m=gF(t,"block_formats",II,Bx.SemiColon);return{tooltip:"Blocks",text:_.some(r),icon:_.none(),isSelectedFor:o,getCurrentValue:_.none,getPreviewFor:s,onAction:v7(t),updateText:v,dataset:m,shouldHide:!1,isInvalid:function(p){return!t.formatter.canApply(p.format)}}},LI=function(t,r){return UO(t,r,b7(t))},VI=function(t,r){var o=Rx(t,r,b7(t));t.ui.registry.addNestedMenuItem("blockformats",{text:"Blocks",getSubmenuItems:function(){return o.items.validateItems(o.getStyleItems())}})},y7=function(t,r){var o="Paragraph",s=function(p){return function(){return t.formatter.match(p)}},v=function(p){return function(){var C=t.formatter.get(p);return C!==void 0?_.some({tag:C.length>0&&(C[0].inline||C[0].block)||"div",styles:t.dom.parseStyle(t.formatter.getCssText(p))}):_.none()}},m=function(p){var C=function(M){var H=M.items;return H!==void 0&&H.length>0?Ln(H,C):[{title:M.title,format:M.format}]},S=Ln(G5(t),C),E=p7(t,K(S)),R=E.fold(K(o),function(M){return M.title});Rn(p,Op,{text:R})};return{tooltip:"Formats",text:_.some(o),icon:_.none(),isSelectedFor:s,getCurrentValue:_.none,getPreviewFor:v,onAction:v7(t),updateText:m,shouldHide:t.getParam("style_formats_autohide",!1,"boolean"),isInvalid:function(p){return!t.formatter.canApply(p.format)},dataset:r}},HI=function(t,r){var o=ve({type:"advanced"},r.styleselect);return UO(t,r,y7(t,o))},UI=function(t,r){var o=ve({type:"advanced"},r.styleselect),s=Rx(t,r,y7(t,o));t.ui.registry.addNestedMenuItem("formats",{text:"Formats",getSubmenuItems:function(){return s.items.validateItems(s.getStyleItems())}})},WI=function(t,r){var o=function(s,v){t.updateState.each(function(m){var p=m(s,v);r.set(p)}),t.renderComponents.each(function(m){var p=m(v,r.get()),C=Tt(p,s.getSystem().build);VC(s,C)})};return Oa([ft(ds(),function(s,v){var m=v;if(!m.universal){var p=t.channel;er(m.channels,p)&&o(s,m.data)}}),Ha(function(s,v){t.initialData.each(function(m){o(s,m)})})])},jI=Object.freeze({__proto__:null,events:WI}),GI=function(t,r,o){return o},qI=Object.freeze({__proto__:null,getState:GI}),KI=[it("channel"),Hr("renderComponents"),Hr("updateState"),Hr("initialData")],XI=function(){var t=Dn(_.none()),r=function(){return t.set(_.none())},o=function(){return t.get().getOr("none")};return{readState:o,get:t.get,set:t.set,clear:r}},YI=Object.freeze({__proto__:null,init:XI}),Nc=po({fields:KI,name:"reflecting",active:jI,apis:qI,state:YI}),JI=K([it("toggleClass"),it("fetch"),Fd("onExecute"),ke("getHotspot",_.some),ke("getAnchorOverrides",K({})),Pv(),Fd("onItemExecute"),Hr("lazySink"),it("dom"),sr("onOpen"),si("splitDropdownBehaviours",[Ao,Bn,Vn]),ke("matchWidth",!1),ke("useMinWidth",!1),ke("eventOrder",{}),Hr("role")].concat(xE())),ZI=Ai({factory:Wu,schema:[it("dom")],name:"arrow",defaults:function(){return{buttonBehaviours:zt([Vn.revoke()])}},overrides:function(t){return{dom:{tag:"span",attributes:{role:"presentation"}},action:function(r){r.getSystem().getByUid(t.uid).each(Ff)},buttonBehaviours:zt([xr.config({toggleOnExecute:!1,toggleClass:t.toggleClass})])}}}),QI=Ai({factory:Wu,schema:[it("dom")],name:"button",defaults:function(){return{buttonBehaviours:zt([Vn.revoke()])}},overrides:function(t){return{dom:{tag:"span",attributes:{role:"presentation"}},action:function(r){r.getSystem().getByUid(t.uid).each(function(o){t.onExecute(o,r)})}}}}),eL=K([ZI,QI,Zs({factory:{sketch:function(t){return{uid:t.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:t.text}}}},schema:[it("text")],name:"aria-descriptor"}),ql({schema:[$d()],name:"menu",defaults:function(t){return{onExecute:function(r,o){r.getSystem().getByUid(t.uid).each(function(s){t.onItemExecute(s,r,o)})}}}}),wE()]),tL=function(t,r,o,s){var v,m=function(M){cr.getCurrent(M).each(function(H){Ur.highlightFirst(H),Bn.focusIn(H)})},p=function(M){var H=m;Wb(t,dt,M,s,H,ff.HighlightFirst).get(ge)},C=function(M){return p(M),_.some(!0)},S=function(M){var H=uf(M,t,"button");return Ff(H),_.some(!0)},E=ve(ve({},Oa([Ha(function(M,H){var G=fa(M,t,"aria-descriptor");G.each(function(Z){var ue=un("aria");Jn(Z.element,"id",ue),Jn(M.element,"aria-describedby",ue)})})])),rp(_.some(p))),R={repositionMenus:function(M){xr.isOn(M)&&ym(M)}};return{uid:t.uid,dom:t.dom,components:r,apis:R,eventOrder:ve(ve({},t.eventOrder),(v={},v[Hl()]=["disabling","toggling","alloy.base.behaviour"],v)),events:E,behaviours:ci(t.splitDropdownBehaviours,[Ao.config({others:{sandbox:function(M){var H=uf(M,t,"arrow"),G={onOpen:function(){xr.on(H),xr.on(M)},onClose:function(){xr.off(H),xr.off(M)}};return kE(t,M,G)}}}),Bn.config({mode:"special",onSpace:S,onEnter:S,onDown:C}),Vn.config({}),xr.config({toggleOnExecute:!1,aria:{mode:"expanded"}})]),domModification:{attributes:{role:t.role.getOr("button"),"aria-haspopup":!0}}}},$R=Hu({name:"SplitDropdown",configFields:JI(),partFields:eL(),factory:tL,apis:{repositionMenus:function(t,r){return t.repositionMenus(r)}}}),nL=function(t){return{isDisabled:function(){return Tn.isDisabled(t)},setDisabled:function(r){return Tn.set(t,r)}}},rL=function(t){return{setActive:function(r){xr.set(t,r)},isActive:function(){return xr.isOn(t)},isDisabled:function(){return Tn.isDisabled(t)},setDisabled:function(r){return Tn.set(t,r)}}},w7=function(t,r){return t.map(function(o){return{"aria-label":r.translate(o),title:r.translate(o)}}).getOr({})},C7=un("focus-button"),pF=function(t,r,o,s,v,m){var p;return{dom:{tag:"button",classes:["tox-tbtn"].concat(r.isSome()?["tox-tbtn--select"]:[]),attributes:w7(o,m)},components:mp([t.map(function(C){return dx(C,m.icons)}),r.map(function(C){return mx(C,"tox-tbtn",m)})]),eventOrder:(p={},p[Hs()]=["focusing","alloy.base.behaviour","common-button-display-events"],p),buttonBehaviours:zt([ac.toolbarButton(m.isDisabled),vi(),ar("common-button-display-events",[ft(Hs(),function(C,S){S.event.prevent(),dr(C,C7)})])].concat(s.map(function(C){return Nc.config({channel:C,initialData:{icon:t,text:r},renderComponents:function(S,E){return mp([S.icon.map(function(R){return dx(R,m.icons)}),S.text.map(function(R){return mx(R,"tox-tbtn",m)})])}})}).toArray()).concat(v.getOr([])))}},aL=function(t,r,o,s){var v=r.shared;return iv.sketch({lazySink:v.getSink,fetch:function(){return au.nu(function(m){m(Tt(o(t.items),Qn))})},markers:{toggledClass:"tox-tbtn--enabled"},parts:{button:pF(t.icon,t.text,t.tooltip,_.none(),_.none(),v.providers),toolbar:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:s}}}})},S7=function(t,r,o){var s=Dn(ge),v=pF(t.icon,t.text,t.tooltip,_.none(),_.none(),o);return Wu.sketch({dom:v.dom,components:v.components,eventOrder:oO,buttonBehaviours:zt([ar("toolbar-button-events",[$P({onAction:t.onAction,getApi:r.getApi}),L2(r,s),V2(r,s)]),ac.toolbarButton(function(){return t.disabled||o.isDisabled()}),vi()].concat(r.toolbarButtonBehaviours))})},oL=function(t,r){return k7(t,r,[])},k7=function(t,r,o){return S7(t,{toolbarButtonBehaviours:[].concat(o.length>0?[ar("toolbarButtonWith",o)]:[]),getApi:nL,onSetup:t.onSetup},r)},iL=function(t,r){return x7(t,r,[])},x7=function(t,r,o){return Je(S7(t,{toolbarButtonBehaviours:[Kn.config({}),xr.config({toggleClass:"tox-tbtn--enabled",aria:{mode:"pressed"},toggleOnExecute:!1})].concat(o.length>0?[ar("toolbarToggleButtonWith",o)]:[]),getApi:rL,onSetup:t.onSetup},r))},uL=function(t,r,o){return function(s){return au.nu(function(v){return r.fetch(v)}).map(function(v){return _.from(zD(Je(Rk(un("menu-value"),v,function(m){r.onItemAction(t(s),m)},r.columns,r.presets,ev.CLOSE_ON_EXECUTE,r.select.getOr(Zt),o),{movement:G2(r.columns,r.presets),menuBehaviours:Sk.unnamedEvents(r.columns!=="auto"?[]:[Ha(function(m,p){$4(m,4,SA(r.presets)).each(function(C){var S=C.numRows,E=C.numColumns;Bn.setGridSize(m,S,E)})})])})))})}},lL=function(t,r){var o,s=un("channel-update-split-dropdown-display"),v=function(C){return{isDisabled:function(){return Tn.isDisabled(C)},setDisabled:function(S){return Tn.set(C,S)},setIconFill:function(S,E){Io(C.element,'svg path[id="'+S+'"], rect[id="'+S+'"]').each(function(R){Jn(R,"fill",E)})},setIconStroke:function(S,E){Io(C.element,'svg path[id="'+S+'"], rect[id="'+S+'"]').each(function(R){Jn(R,"stroke",E)})},setActive:function(S){Jn(C.element,"aria-pressed",S),Io(C.element,"span").each(function(E){C.getSystem().getByDom(E).each(function(R){return xr.set(R,S)})})},isActive:function(){return Io(C.element,"span").exists(function(S){return C.getSystem().getByDom(S).exists(xr.isOn)})}}},m=Dn(ge),p={getApi:v,onSetup:t.onSetup};return $R.sketch({dom:{tag:"div",classes:["tox-split-button"],attributes:ve({"aria-pressed":!1},w7(t.tooltip,r.providers))},onExecute:function(C){t.onAction(v(C))},onItemExecute:function(C,S,E){},splitDropdownBehaviours:zt([ac.splitButton(r.providers.isDisabled),vi(),ar("split-dropdown-events",[ft(C7,Vn.focus),L2(p,m),V2(p,m)]),ew.config({})]),eventOrder:(o={},o[bl()]=["alloy.base.behaviour","split-dropdown-events"],o),toggleClass:"tox-tbtn--enabled",lazySink:r.getSink,fetch:uL(v,t,r.providers),parts:{menu:pk(!1,t.columns,t.presets)},components:[$R.parts.button(pF(t.icon,t.text,_.none(),_.some(s),_.some([xr.config({toggleClass:"tox-tbtn--enabled",toggleOnExecute:!1})]),r.providers)),$R.parts.arrow({dom:{tag:"button",classes:["tox-tbtn","tox-split-button__chevron"],innerHtml:nA("chevron-down",r.providers.icons)},buttonBehaviours:zt([ac.splitButton(r.providers.isDisabled),vi(),u4()])}),$R.parts["aria-descriptor"]({text:r.providers.translate("To open the popup, press Shift+Enter")})]})},sL=[{name:"history",items:["undo","redo"]},{name:"styles",items:["styleselect"]},{name:"formatting",items:["bold","italic"]},{name:"alignment",items:["alignleft","aligncenter","alignright","alignjustify"]},{name:"indentation",items:["outdent","indent"]},{name:"permanent pen",items:["permanentpen"]},{name:"comments",items:["addcomment"]}],WO=function(t,r){return function(o,s,v){var m=t(o).mapError(function(p){return vv(p)}).getOrDie();return r(m,s,v)}},Mx={button:WO(gk,function(t,r){return oL(t,r.backstage.shared.providers)}),togglebutton:WO(fA,function(t,r){return iL(t,r.backstage.shared.providers)}),menubutton:WO(kR,function(t,r){return cO(t,"tox-tbtn",r.backstage,_.none())}),splitbutton:WO(Dx,function(t,r){return lL(t,r.backstage.shared)}),grouptoolbarbutton:WO(eF,function(t,r,o){var s,v=o.ui.registry.getAll().buttons,m=function(C){return NR(o,{buttons:v,toolbar:C,allowToolbarGroups:!1},r,_.none())},p=(s={},s[F1]=r.backstage.shared.header.isPositionedAtTop()?Wf.TopToBottom:Wf.BottomToTop,s);switch(F2(o)){case rc.floating:return aL(t,r.backstage,m,p);default:throw new Error("Toolbar groups are only supported when using floating toolbar mode")}}),styleSelectButton:function(t,r){return HI(t,r.backstage)},fontsizeSelectButton:function(t,r){return FI(t,r.backstage)},fontSelectButton:function(t,r){return DI(t,r.backstage)},formatButton:function(t,r){return LI(t,r.backstage)},alignMenuButton:function(t,r){return xI(t,r.backstage)}},cL=function(t,r,o){return bn(Mx,t.type).fold(function(){return console.error("skipping button defined by",t),_.none()},function(s){return _.some(s(t,r,o))})},T7={styleselect:Mx.styleSelectButton,fontsizeselect:Mx.fontsizeSelectButton,fontselect:Mx.fontSelectButton,formatselect:Mx.formatButton,align:Mx.alignMenuButton},fL=function(t){var r=Tt(sL,function(o){var s=Re(o.items,function(v){return Cr(t,v)||Cr(T7,v)});return{name:o.name,items:s}});return Re(r,function(o){return o.items.length>0})},vL=function(t){var r=t.split("|");return Tt(r,function(o){return{items:o.trim().split(" ")}})},dL=function(t){return We(t,function(r){return Cr(r,"name")&&Cr(r,"items")})},mL=function(t){var r=t.toolbar,o=t.buttons;return r===!1?[]:r===void 0||r===!0?fL(o):_t(r)?vL(r):dL(r)?r:(console.error("Toolbar type should be string, string[], boolean or ToolbarGroup[]"),[])},gL=function(t,r,o,s,v,m){return bn(r,o.toLowerCase()).orThunk(function(){return m.bind(function(p){return la(p,function(C){return bn(r,C+o.toLowerCase())})})}).fold(function(){return bn(T7,o.toLowerCase()).map(function(p){return p(t,v)}).orThunk(function(){return _.none()})},function(p){return p.type==="grouptoolbarbutton"&&!s?(console.warn("Ignoring the '"+o+"' toolbar button. Group toolbar buttons are only supported when using floating toolbar mode and cannot be nested."),_.none()):cL(p,v,t)})},NR=function(t,r,o,s){var v=mL(r),m=Tt(v,function(p){var C=Ln(p.items,function(S){return S.trim().length===0?[]:gL(t,r.buttons,S,r.allowToolbarGroups,o,s).toArray()});return{title:_.from(t.translate(p.name)),items:C}});return Re(m,function(p){return p.items.length>0})},E7=function(t,r,o,s){var v=r.outerContainer,m=o.toolbar,p=o.buttons;if(We(m,_t)){var C=m.map(function(S){var E={toolbar:S,buttons:p,allowToolbarGroups:o.allowToolbarGroups};return NR(t,E,{backstage:s},_.none())});Vo.setToolbars(v,C)}else Vo.setToolbar(v,NR(t,o,{backstage:s},_.none()))},O7=On(),hL=O7.os.isiOS()&&O7.os.version.major<=12,pL=function(t,r){var o=t.dom,s=t.getWin(),v=t.getDoc().documentElement,m=Dn(ga(s.innerWidth,s.innerHeight)),p=Dn(ga(v.offsetWidth,v.offsetHeight)),C=function(){var H=m.get();(H.left!==s.innerWidth||H.top!==s.innerHeight)&&(m.set(ga(s.innerWidth,s.innerHeight)),rE(t))},S=function(){var H=t.getDoc().documentElement,G=p.get();(G.left!==H.offsetWidth||G.top!==H.offsetHeight)&&(p.set(ga(H.offsetWidth,H.offsetHeight)),rE(t))},E=function(H){return R8(t,H)};o.bind(s,"resize",C),o.bind(s,"scroll",E);var R=_1(le.fromDom(t.getBody()),"load",S),M=r.uiMothership.element;t.on("hide",function(){In(M,"display","none")}),t.on("show",function(){Vr(M,"display")}),t.on("NodeChange",S),t.on("remove",function(){R.unbind(),o.unbind(s,"resize",C),o.unbind(s,"scroll",E),s=null})},bL=function(t,r,o,s,v){var m=Dn(0),p=r.outerContainer;bI(t);var C=le.fromDom(v.targetNode),S=na(xa(C));Vu(C,r.mothership),ys(S,r.uiMothership),t.on("PostRender",function(){E7(t,r,o,s),m.set(t.getWin().innerWidth),Vo.setMenubar(p,l7(t,o)),Vo.setSidebar(p,o.sidebar),pL(t,r)});var E=Vo.getSocket(p).getOrDie("Could not find expected socket element");if(hL){vl(E.element,{overflow:"scroll","-webkit-overflow-scrolling":"touch"});var R=uB(function(){t.fire("ScrollContent")},20),M=bo(E.element,"scroll",R.throttle);t.on("remove",M.unbind)}tD(t,r),t.addCommand("ToggleSidebar",function(ue,Ce){Vo.toggleSidebar(p,Ce),t.fire("ToggleSidebar")}),t.addQueryValueHandler("ToggleSidebar",function(){return Vo.whichSidebar(p)});var H=F2(t),G=function(){Vo.refreshToolbar(r.outerContainer)};(H===rc.sliding||H===rc.floating)&&t.on("ResizeWindow ResizeEditor ResizeContent",function(){var ue=t.getWin().innerWidth;ue!==m.get()&&(G(),m.set(ue))});var Z={enable:function(){Fb(r,!1)},disable:function(){Fb(r,!0)},isDisabled:function(){return Tn.isDisabled(p)}};return{iframeContainer:E.element.dom,editorContainer:p.element.dom,api:Z}},yL=Object.freeze({__proto__:null,render:bL}),bF=function(t){var r=/^[0-9\.]+(|px)$/i;return r.test(""+t)?_.some(parseInt(""+t,10)):_.none()},yF=function(t){return xn(t)?t+"px":t},FR=function(t,r,o){var s=r.filter(function(m){return t<m}),v=o.filter(function(m){return t>m});return s.or(v).getOr(t)},wL=function(t){var r=WA(t),o=GA(t),s=V4(t);return bF(r).map(function(v){return FR(v,o,s)})},CL=function(t){var r=wL(t);return r.getOr(WA(t))},A7=function(t){var r=I4(t),o=jA(t),s=L4(t);return bF(r).map(function(v){return FR(v,o,s)})},SL=function(t){var r=A7(t);return r.getOr(I4(t))},kL=function(t,r,o,s,v){var m=o.uiMothership,p=o.outerContainer,C=N2.DOM,S=xk(t),E=Tk(t),R=L4(t).or(A7(t)),M=s.shared.header,H=M.isPositionedAtTop,G=F2(t),Z=G===rc.sliding||G===rc.floating,ue=Dn(!1),Ce=function(){return ue.get()&&!t.removed},ae=function(mt){return Z?mt.fold(K(0),function(rt){return rt.components().length>1?$o(rt.components()[1].element):0}):0},xe=function(mt){switch(W4(t)){case dp.auto:var rt=Vo.getToolbar(p),Kt=ae(rt),gn=$o(mt.element)-Kt,vt=xo(r),fn=vt.y>gn;if(fn)return"top";var wn=Ye(r),Er=Math.max(wn.dom.scrollHeight,$o(wn)),ia=vt.bottom<Er-gn;if(ia)return"bottom";var ao=$i(),lv=ao.bottom<vt.bottom-gn;return lv?"bottom":"top";case dp.bottom:return"bottom";case dp.top:default:return"top"}},Ge=function(mt){var rt=v.get();ou.setModes(rt,[mt]),M.setDockingMode(mt);var Kt=H()?Wf.TopToBottom:Wf.BottomToTop;Jn(rt.element,F1,Kt)},Ze=function(){var mt=R.getOrThunk(function(){var rt=bF(eo(Go(),"margin-left")).getOr(0);return Yi(Go())-Ru(r).left+rt});In(v.get().element,"max-width",mt+"px")},Se=function(){var mt=Vo.getToolbar(p),rt=ae(mt),Kt=xo(r),gn=H()?Math.max(Kt.y-$o(v.get().element)+rt,0):Kt.bottom;vl(p.element,{position:"absolute",top:Math.round(gn)+"px",left:Math.round(Kt.x)+"px"})},ze=function(){m.broadcastOn([mg()],{})},at=function(mt){if(mt===void 0&&(mt=!1),!!Ce()){if(S||Ze(),Z&&Vo.refreshToolbar(p),S||Se(),E){var rt=v.get();mt?ou.reset(rt):ou.refresh(rt)}ze()}},Yt=function(mt){if(mt===void 0&&(mt=!0),!(S||!E||!Ce())){var rt=M.getDockingMode(),Kt=xe(v.get());Kt!==rt&&(Ge(Kt),mt&&at(!0))}},ct=function(){ue.set(!0),In(p.element,"display","flex"),C.addClass(t.getBody(),"mce-edit-focus"),Vr(m.element,"display"),Yt(!1),at()},Jt=function(){ue.set(!1),o.outerContainer&&(In(p.element,"display","none"),C.removeClass(t.getBody(),"mce-edit-focus")),In(m.element,"display","none")};return{isVisible:Ce,isPositionedAtTop:H,show:ct,hide:Jt,update:at,updateMode:Yt,repositionPopups:ze}},D7=function(t,r){var o=xo(t);return{pos:r?o.y:o.bottom,bounds:o}},xL=function(t,r,o,s){var v=Dn(D7(r,o.isPositionedAtTop())),m=function(C){var S=D7(r,o.isPositionedAtTop()),E=S.pos,R=S.bounds,M=v.get(),H=M.pos,G=M.bounds,Z=R.height!==G.height||R.width!==G.width;v.set({pos:E,bounds:R}),Z&&rE(t,C),o.isVisible()&&(H!==E?o.update(!0):Z&&(o.updateMode(),o.repositionPopups()))};s||(t.on("activate",o.show),t.on("deactivate",o.hide)),t.on("SkinLoaded ResizeWindow",function(){return o.update(!0)}),t.on("NodeChange keydown",function(C){hm.requestAnimationFrame(function(){return m(C)})}),t.on("ScrollWindow",function(){return o.updateMode()});var p=Vd();p.set(_1(le.fromDom(t.getBody()),"load",m)),t.on("remove",function(){p.clear()})},TL=function(t,r,o,s,v){var m=r.mothership,p=r.uiMothership,C=r.outerContainer,S=Dn(null),E=le.fromDom(v.targetNode),R=kL(t,E,r,s,S),M=t8(t);yI(t);var H=function(){if(S.get()){R.show();return}S.set(Vo.getHeader(C).getOrDie());var ue=z2(t);ys(ue,m),ys(ue,p),E7(t,r,o,s),Vo.setMenubar(C,l7(t,o)),R.show(),xL(t,E,R,M),t.nodeChanged()},G=function(){return hm.setEditorTimeout(t,H,0)};t.on("show",H),t.on("hide",R.hide),M||(t.on("focus",G),t.on("blur",R.hide)),t.on("init",function(){(t.hasFocus()||M)&&G()}),tD(t,r);var Z={show:function(){R.show()},hide:function(){R.hide()},enable:function(){Fb(r,!1)},disable:function(){Fb(r,!0)},isDisabled:function(){return Tn.isDisabled(C)}};return{editorContainer:C.element.dom,api:Z}},EL=Object.freeze({__proto__:null,render:TL}),OL="contexttoolbar-show",_7="contexttoolbar-hide",AL=function(t){return{hide:function(){return dr(t,lh())},getValue:function(){return Xt.getValue(t)}}},R7=function(t,r){return ft(aO,function(o,s){var v=t.get(o),m=AL(v);r.onAction(m,s.event.buttonApi)})},DL=function(t,r,o){var s=r.original;s.primary;var v=Q(s,["primary"]),m=Is(gk(ve(ve({},v),{type:"button",onAction:ge})));return k7(m,o.backstage.shared.providers,[R7(t,r)])},_L=function(t,r,o){var s=r.original;s.primary;var v=Q(s,["primary"]),m=Is(fA(ve(ve({},v),{type:"togglebutton",onAction:ge})));return x7(m,o.backstage.shared.providers,[R7(t,r)])},RL=function(t,r,o){var s={backstage:{shared:{providers:o}}};return r.type==="contextformtogglebutton"?_L(t,r,s):DL(t,r,s)},BL=function(t,r,o){var s=Tt(r,function(p){return qr(RL(t,p,o))}),v=function(){return Tt(s,function(p){return p.asSpec()})},m=function(p){return la(r,function(C,S){return C.primary?_.from(s[S]).bind(function(E){return E.getOpt(p)}).filter(qt(Tn.isDisabled)):_.none()})};return{asSpecs:v,findPrimary:m}},B7=function(t,r){var o=t.label.fold(function(){return{}},function(m){return{"aria-label":m}}),s=qr(Q2.sketch({inputClasses:["tox-toolbar-textfield","tox-toolbar-nav-js"],data:t.initValue(),inputAttributes:o,selectOnFocus:!0,inputBehaviours:zt([Bn.config({mode:"special",onEnter:function(m){return v.findPrimary(m).map(function(p){return Ff(p),!0})},onLeft:function(m,p){return p.cut(),_.none()},onRight:function(m,p){return p.cut(),_.none()}})])})),v=BL(s,t.commands,r);return[{title:_.none(),items:[s.asSpec()]},{title:_.none(),items:v.asSpecs()}]},ML=function(t,r,o){return BR({type:t,uid:un("context-toolbar"),initGroups:B7(r,o),onEscape:_.none,cyclicKeying:!0,providers:o})},PL={renderContextForm:ML,buildInitGroups:B7},M7=function(t,r,o){return o===void 0&&(o=.01),r.bottom-t.y>=o&&t.bottom-r.y>=o},$L=function(t){var r=t.getBoundingClientRect();if(r.height<=0&&r.width<=0){var o=ot(le.fromDom(t.startContainer),t.startOffset).element,s=Ba(o)?Ga(o):_.some(o);return s.filter(gr).map(function(v){return v.dom.getBoundingClientRect()}).getOr(r)}else return r},wF=function(t){var r=t.selection.getRng(),o=$L(r);if(t.inline){var s=ml();return Xo(s.left+o.left,s.top+o.top,o.width,o.height)}else{var v=Uc(le.fromDom(t.getBody()));return Xo(v.x+o.left,v.y+o.top,o.width,o.height)}},NL=function(t,r){return r.filter(qa).map(Uc).getOrThunk(function(){return wF(t)})},FL=function(t,r,o){var s=Math.max(t.x+o,r.x),v=Math.min(t.right-o,r.right);return{x:s,width:v-s}},zL=function(t,r,o,s,v,m){var p=le.fromDom(t.getContainer()),C=Io(p,".tox-editor-header").getOr(p),S=xo(C),E=S.y>=r.bottom,R=s&&!E;if(t.inline&&R)return{y:Math.max(S.bottom+m,o.y),bottom:o.bottom};if(t.inline&&!R)return{y:o.y,bottom:Math.min(S.y-m,o.bottom)};var M=v==="line"?xo(p):r;return R?{y:Math.max(S.bottom+m,o.y),bottom:Math.min(M.bottom-m,o.bottom)}:{y:Math.max(M.y+m,o.y),bottom:Math.min(S.y-m,o.bottom)}},P7=function(t,r,o,s){s===void 0&&(s=0);var v=Af(window),m=xo(le.fromDom(t.getContentAreaContainer())),p=H4(t)||U4(t)||kk(t),C=FL(m,v,s),S=C.x,E=C.width;if(t.inline&&!p)return Xo(S,v.y,E,v.height);var R=r.header.isPositionedAtTop(),M=zL(t,m,v,R,o,s),H=M.y,G=M.bottom;return Xo(S,H,E,G-H)},zR=12,$7={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"],inset:["tox-pop--inset"]},N7={maxHeightFunction:lg(),maxWidthFunction:$c()},IL=function(t,r){var o=t.selection.getRng(),s=ot(le.fromDom(o.startContainer),o.startOffset);return o.startContainer===o.endContainer&&o.startOffset===o.endOffset-1&&Qr(s.element,r)},LL=function(t,r,o){var s=ko(t,"position");In(t,"position",r);var v=o(t);return s.each(function(m){return In(t,"position",m)}),v},F7=function(t){return t==="node"},VL=function(t,r,o,s,v){var m=wF(t),p=s.lastElement().exists(function(E){return Qr(o,E)});if(IL(t,o))return p?ZO:tc;if(p)return LL(r,s.getMode(),function(){var E=M7(m,xo(r));return E&&!s.isReposition()?tB:ZO});var C=s.getMode()==="fixed"?v.y+ml().top:v.y,S=$o(r)+zR;return C+S<=m.y?tc:gm},HL=function(t,r,o,s){var v=function(S){return function(E,R,M,H,G){var Z=VL(t,H,S,o,G),ue=ve(ve({},E),{y:G.y,height:G.height});return ve(ve({},Z(ue,R,M,H,G)),{alwaysFit:!0})}},m=function(S){return F7(s)?[v(S)]:[]},p={onLtr:function(S){return[tl,Li,yu,nu,Ti,Jo].concat(m(S))},onRtl:function(S){return[tl,Li,Ti,Jo,yu,nu].concat(m(S))}},C={onLtr:function(S){return[Li,nu,Jo,yu,Ti,tl].concat(m(S))},onRtl:function(S){return[Li,Jo,nu,Ti,yu,tl].concat(m(S))}};return r?C:p},UL=function(t,r,o,s){return r==="line"?{bubble:Mv(zR,0,$7),layouts:{onLtr:function(){return[h1]},onRtl:function(){return[Av]}},overrides:N7}:{bubble:Mv(0,zR,$7,1/zR),layouts:HL(t,o,s,r),overrides:N7}},CF=function(t,r){var o=Re(r,function(p){return p.predicate(t.dom)}),s=Pe(o,function(p){return p.type==="contexttoolbar"}),v=s.pass,m=s.fail;return{contextToolbars:v,contextForms:m}},WL=function(t){if(t.length<=1)return t;var r=function(C){return ua(t,function(S){return S.position===C})},o=function(C){return Re(t,function(S){return S.position===C})},s=r("selection"),v=r("node");if(s||v)if(v&&s){var m=o("node"),p=Tt(o("selection"),function(C){return ve(ve({},C),{position:"node"})});return m.concat(p)}else return o(s?"selection":"node");else return o("line")},jL=function(t){if(t.length<=1)return t;var r=function(s){return mn(t,function(v){return v.position===s})},o=r("selection").orThunk(function(){return r("node")}).orThunk(function(){return r("line")}).map(function(s){return s.position});return o.fold(function(){return[]},function(s){return Re(t,function(v){return v.position===s})})},GL=function(t,r,o){var s=CF(t,r);if(s.contextForms.length>0)return _.some({elem:t,toolbars:[s.contextForms[0]]});var v=CF(t,o);if(v.contextForms.length>0)return _.some({elem:t,toolbars:[v.contextForms[0]]});if(s.contextToolbars.length>0||v.contextToolbars.length>0){var m=WL(s.contextToolbars.concat(v.contextToolbars));return _.some({elem:t,toolbars:m})}else return _.none()},qL=function(t,r,o){return t(r)?_.none():uh(r,function(s){if(gr(s)){var v=CF(s,o.inNodeScope),m=v.contextToolbars,p=v.contextForms,C=p.length>0?p:jL(m);return C.length>0?_.some({elem:s,toolbars:C}):_.none()}else return _.none()},t)},KL=function(t,r){var o=le.fromDom(r.getBody()),s=function(p){return Qr(p,o)},v=function(p){return!s(p)&&!_u(o,p)},m=le.fromDom(r.selection.getNode());return v(m)?_.none():GL(m,t.inNodeScope,t.inEditorScope).orThunk(function(){return qL(s,m,t)})},XL=function(t,r){var o={},s=[],v=[],m={},p={},C=function(R,M){var H=Is(y4(M));o[R]=H,H.launch.map(function(G){m["form:"+R+""]=ve(ve({},M.launch),{type:G.type==="contextformtogglebutton"?"togglebutton":"button",onAction:function(){r(H)}})}),H.scope==="editor"?v.push(H):s.push(H),p[R]=H},S=function(R,M){hA(M).each(function(H){M.scope==="editor"?v.push(H):s.push(H),p[R]=H})},E=Xr(t);return Ie(E,function(R){var M=t[R];M.type==="contextform"?C(R,M):M.type==="contexttoolbar"&&S(R,M)}),{forms:o,inNodeScope:s,inEditorScope:v,lookupTable:p,formNavigators:m}},z7=un("forward-slide"),I7=un("backward-slide"),SF=un("change-slide-event"),kF="tox-pop--resizing",YL=function(t){var r=Dn([]);return Jr.sketch({dom:{tag:"div",classes:["tox-pop"]},fireDismissalEventInstead:{event:"doNotDismissYet"},onShow:function(o){r.set([]),Jr.getContent(o).each(function(s){Vr(s.element,"visibility")}),zo(o.element,kF),Vr(o.element,"width")},inlineBehaviours:zt([ar("context-toolbar-events",[zf(jm(),function(o,s){s.event.raw.propertyName==="width"&&(zo(o.element,kF),Vr(o.element,"width"))}),ft(SF,function(o,s){var v=o.element;Vr(v,"width");var m=Yi(v);Jr.setContent(o,s.event.contents),ki(v,kF);var p=Yi(v);In(v,"width",m+"px"),Jr.getContent(o).each(function(C){s.event.focus.bind(function(S){return ef(S),Ks(v)}).orThunk(function(){return Bn.focusIn(C),kl(xa(v))})}),hm.setTimeout(function(){In(o.element,"width",p+"px")},0)}),ft(z7,function(o,s){Jr.getContent(o).each(function(v){r.set(r.get().concat([{bar:v,focus:kl(xa(o.element))}]))}),Rn(o,SF,{contents:s.event.forwardContents,focus:_.none()})}),ft(I7,function(o,s){ku(r.get()).each(function(v){r.set(r.get().slice(0,r.get().length-1)),Rn(o,SF,{contents:jl(v.bar),focus:v.focus})})})]),Bn.config({mode:"special",onEscape:function(o){return ku(r.get()).fold(function(){return t.onEscape()},function(s){return dr(o,I7),_.some(!0)})}})]),lazySink:function(){return rr.value(t.sink)}})},xF="tox-pop--transition",JL=function(t,r,o,s){var v=s.backstage,m=v.shared,p=On().deviceType.isTouch,C=so(),S=so(),E=so(),R=Eo(YL({sink:o,onEscape:function(){return t.focus(),_.some(!0)}})),M=function(){var ct=E.get().getOr("node"),Jt=F7(ct)?1:0;return P7(t,m,ct,Jt)},H=function(){return!t.removed&&!(p()&&v.isContextMenuOpen())},G=function(ct){return gi(hi(ct,C.get(),Qr),!0)},Z=function(){if(H()){var ct=M(),Jt=gi(E.get(),"node")?NL(t,C.get()):wF(t);return ct.height<=0||!M7(Jt,ct)}else return!0},ue=function(){C.clear(),S.clear(),E.clear(),Jr.hide(R)},Ce=function(){if(Jr.isOpen(R)){var ct=R.element;Vr(ct,"display"),Z()?In(ct,"display","none"):(S.set(0),Jr.reposition(R))}},ae=function(ct){return{dom:{tag:"div",classes:["tox-pop__dialog"]},components:[ct],behaviours:zt([Bn.config({mode:"acyclic"}),ar("pop-dialog-wrap-events",[Ha(function(Jt){t.shortcuts.add("ctrl+F9","focus statusbar",function(){return Bn.focusIn(Jt)})}),yl(function(Jt){t.shortcuts.remove("ctrl+F9")})])])}},xe=So(function(){return XL(r,function(ct){var Jt=Se([ct]);Rn(R,z7,{forwardContents:ae(Jt)})})}),Ge=function(ct,Jt){return NR(t,{buttons:ct,toolbar:Jt.items,allowToolbarGroups:!1},s,_.some(["form:"]))},Ze=function(ct,Jt){return PL.buildInitGroups(ct,Jt)},Se=function(ct){var Jt=t.ui.registry.getAll().buttons,mt=xe(),rt=ve(ve({},Jt),mt.formNavigators),Kt=F2(t)===rc.scrolling?rc.scrolling:rc.default,gn=nn(Tt(ct,function(vt){return vt.type==="contexttoolbar"?Ge(rt,vt):Ze(vt,m.providers)}));return BR({type:Kt,uid:un("context-toolbar"),initGroups:gn,onEscape:_.none,cyclicKeying:!0,providers:m.providers})},ze=function(ct,Jt){var mt=ct==="node"?m.anchors.node(Jt):m.anchors.cursor(),rt=UL(t,ct,p(),{lastElement:C.get,isReposition:function(){return gi(S.get(),0)},getMode:function(){return Lu.getMode(o)}});return Je(mt,rt)},at=function(ct,Jt){if(Yt.cancel(),!!H()){var mt=Se(ct),rt=ct[0].position,Kt=ze(rt,Jt);E.set(rt),S.set(1);var gn=R.element;Vr(gn,"display"),G(Jt)||(zo(gn,xF),Lu.reset(o,R)),Jr.showWithinBounds(R,ae(mt),{anchor:Kt,transition:{classes:[xF],mode:"placement"}},function(){return _.some(M())}),Jt.fold(C.clear,C.set),Z()&&In(gn,"display","none")}},Yt=c4(function(){if(!(!t.hasFocus()||t.removed))if(Fu(R.element,xF))Yt.throttle();else{var ct=xe();KL(ct,t).fold(ue,function(Jt){at(Jt.toolbars,_.some(Jt.elem))})}},17);t.on("init",function(){t.on("remove",ue),t.on("ScrollContent ScrollWindow ObjectResized ResizeEditor longpress",Ce),t.on("click keyup focus SetContent",Yt.throttle),t.on(_7,ue),t.on(OL,function(ct){var Jt=xe();bn(Jt.lookupTable,ct.toolbarKey).each(function(mt){at([mt],ai(ct.target!==t,ct.target)),Jr.getContent(R).each(Bn.focusIn)})}),t.on("focusout",function(ct){hm.setEditorTimeout(t,function(){Ks(o.element).isNone()&&Ks(R.element).isNone()&&ue()},0)}),t.on("SwitchMode",function(){t.mode.isReadOnly()&&ue()}),t.on("AfterProgressState",function(ct){ct.state?ue():t.hasFocus()&&Yt.throttle()}),t.on("NodeChange",function(ct){Ks(R.element).fold(Yt.throttle,ge)})})},ZL=function(t){var r=[{name:"alignleft",text:"Align left",cmd:"JustifyLeft",icon:"align-left"},{name:"aligncenter",text:"Align center",cmd:"JustifyCenter",icon:"align-center"},{name:"alignright",text:"Align right",cmd:"JustifyRight",icon:"align-right"},{name:"alignjustify",text:"Justify",cmd:"JustifyFull",icon:"align-justify"}];Ie(r,function(o){t.ui.registry.addToggleButton(o.name,{tooltip:o.text,icon:o.icon,onAction:uv(t,o.cmd),onSetup:MR(t,o.name)})}),t.ui.registry.addButton("alignnone",{tooltip:"No alignment",icon:"align-none",onAction:uv(t,"JustifyNone")})},QL={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},eV=function(){var t="[0-9]+",r="[+-]?"+t,o="[eE]"+r,s="\\.",v=function(C){return"(?:"+C+")?"},m=["Infinity",t+s+v(t)+v(o),s+t+v(o),t+v(o)].join("|"),p="[+-]?(?:"+m+")";return new RegExp("^("+p+")(.*)$")}(),tV=function(t,r){return ua(r,function(o){return ua(QL[o],function(s){return t===s})})},nV=function(t,r){var o=_.from(eV.exec(t));return o.bind(function(s){var v=Number(s[1]),m=s[2];return tV(m,r)?_.some({value:v,unit:m}):_.none()})},rV=function(t,r){return nV(t,r).map(function(o){var s=o.value,v=o.unit;return s+v})},L7=function(t,r){var o=function(){var s=r.getOptions(t),v=r.getCurrent(t).map(r.hash),m=so();return Tt(s,function(p){return{type:"togglemenuitem",text:r.display(p),onSetup:function(C){var S=function(R){R&&(m.on(function(M){return M.setActive(!1)}),m.set(C)),C.setActive(R)};S(gi(v,r.hash(p)));var E=r.watcher(t,p,S);return function(){m.clear(),E()}},onAction:function(){return r.setCurrent(t,p)}}})};t.ui.registry.addMenuButton(r.name,{tooltip:r.text,icon:r.icon,fetch:function(s){return s(o())},onSetup:r.onToolbarSetup}),t.ui.registry.addNestedMenuItem(r.name,{type:"nestedmenuitem",text:r.text,getSubmenuItems:o,onSetup:r.onMenuSetup})},aV={name:"lineheight",text:"Line height",icon:"line-height",getOptions:XB,hash:function(t){return rV(t,["fixed","relative","empty"]).getOr(t)},display:dt,watcher:function(t,r,o){return t.formatter.formatChanged("lineheight",o,!1,{value:r}).unbind},getCurrent:function(t){return _.from(t.queryCommandValue("LineHeight"))},setCurrent:function(t,r){return t.execCommand("LineHeight",!1,r)}},oV=function(t){var r=_.from(YB(t));return r.map(function(o){return{name:"language",text:"Language",icon:"language",getOptions:K(o),hash:function(s){return Me(s.customCode)?s.code:s.code+"/"+s.customCode},display:function(s){return s.title},watcher:function(s,v,m){return s.formatter.formatChanged("lang",m,!1,{value:v.code,customValue:v.customCode}).unbind},getCurrent:function(s){var v=le.fromDom(s.selection.getNode());return Vm(v,function(m){return _.some(m).filter(gr).bind(function(p){var C=Ka(p,"lang");return C.map(function(S){var E=Ka(p,"data-mce-lang").getOrUndefined();return{code:S,customCode:E,title:""}})})})},setCurrent:function(s,v){return s.execCommand("Lang",!1,v)},onToolbarSetup:function(s){var v=Vd();return s.setActive(t.formatter.match("lang",{},void 0,!0)),v.set(t.formatter.formatChanged("lang",s.setActive,!0)),v.clear}}})},iV=function(t){L7(t,aV),oV(t).each(function(r){return L7(t,r)})},uV=function(t,r){TI(t,r),_I(t,r),UI(t,r),VI(t,r),zI(t,r)},lV=function(t){return PR(t,"NodeChange",function(r){r.setDisabled(!t.queryCommandState("outdent"))})},sV=function(t){t.ui.registry.addButton("outdent",{tooltip:"Decrease indent",icon:"outdent",onSetup:lV(t),onAction:uv(t,"outdent")}),t.ui.registry.addButton("indent",{tooltip:"Increase indent",icon:"indent",onAction:uv(t,"indent")})},cV=function(t){sV(t)},TF=function(t,r){return function(){t.execCommand("mceToggleFormat",!1,r)}},fV=function(t){rd.each([{name:"bold",text:"Bold",icon:"bold"},{name:"italic",text:"Italic",icon:"italic"},{name:"underline",text:"Underline",icon:"underline"},{name:"strikethrough",text:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",icon:"superscript"}],function(s,v){t.ui.registry.addToggleButton(s.name,{tooltip:s.text,icon:s.icon,onSetup:MR(t,s.name),onAction:TF(t,s.name)})});for(var r=1;r<=6;r++){var o="h"+r;t.ui.registry.addToggleButton(o,{text:o.toUpperCase(),tooltip:"Heading "+r,onSetup:MR(t,o),onAction:TF(t,o)})}},vV=function(t){rd.each([{name:"cut",text:"Cut",action:"Cut",icon:"cut"},{name:"copy",text:"Copy",action:"Copy",icon:"copy"},{name:"paste",text:"Paste",action:"Paste",icon:"paste"},{name:"help",text:"Help",action:"mceHelp",icon:"help"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all"},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"remove",text:"Remove",action:"Delete",icon:"remove"}],function(r){t.ui.registry.addButton(r.name,{tooltip:r.text,icon:r.icon,onAction:uv(t,r.action)})})},dV=function(t){rd.each([{name:"blockquote",text:"Blockquote",action:"mceBlockQuote",icon:"quote"}],function(r){t.ui.registry.addToggleButton(r.name,{tooltip:r.text,icon:r.icon,onAction:uv(t,r.action),onSetup:MR(t,r.name)})})},mV=function(t){fV(t),vV(t),dV(t)},gV=function(t){rd.each([{name:"bold",text:"Bold",action:"Bold",icon:"bold",shortcut:"Meta+B"},{name:"italic",text:"Italic",action:"Italic",icon:"italic",shortcut:"Meta+I"},{name:"underline",text:"Underline",action:"Underline",icon:"underline",shortcut:"Meta+U"},{name:"strikethrough",text:"Strikethrough",action:"Strikethrough",icon:"strike-through",shortcut:""},{name:"subscript",text:"Subscript",action:"Subscript",icon:"subscript",shortcut:""},{name:"superscript",text:"Superscript",action:"Superscript",icon:"superscript",shortcut:""},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting",shortcut:""},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document",shortcut:""},{name:"cut",text:"Cut",action:"Cut",icon:"cut",shortcut:"Meta+X"},{name:"copy",text:"Copy",action:"Copy",icon:"copy",shortcut:"Meta+C"},{name:"paste",text:"Paste",action:"Paste",icon:"paste",shortcut:"Meta+V"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all",shortcut:"Meta+A"}],function(r){t.ui.registry.addMenuItem(r.name,{text:r.text,icon:r.icon,shortcut:r.shortcut,onAction:uv(t,r.action)})}),t.ui.registry.addMenuItem("codeformat",{text:"Code",icon:"sourcecode",onAction:TF(t,"code")})},hV=function(t){mV(t),gV(t)},IR=function(t,r){return PR(t,"Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",function(o){o.setDisabled(t.mode.isReadOnly()||!t.undoManager[r]())})},pV=function(t){t.ui.registry.addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Meta+Z",onSetup:IR(t,"hasUndo"),onAction:uv(t,"undo")}),t.ui.registry.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Meta+Y",onSetup:IR(t,"hasRedo"),onAction:uv(t,"redo")})},bV=function(t){t.ui.registry.addButton("undo",{tooltip:"Undo",icon:"undo",disabled:!0,onSetup:IR(t,"hasUndo"),onAction:uv(t,"undo")}),t.ui.registry.addButton("redo",{tooltip:"Redo",icon:"redo",disabled:!0,onSetup:IR(t,"hasRedo"),onAction:uv(t,"redo")})},yV=function(t){pV(t),bV(t)},wV=function(t){return PR(t,"VisualAid",function(r){r.setActive(t.hasVisual)})},CV=function(t){t.ui.registry.addToggleMenuItem("visualaid",{text:"Visual aids",onSetup:wV(t),onAction:uv(t,"mceToggleVisualAid")})},SV=function(t){t.ui.registry.addButton("visualaid",{tooltip:"Visual aids",text:"Visual aids",onAction:uv(t,"mceToggleVisualAid")})},kV=function(t){SV(t),CV(t)},xV=function(t,r){ZL(t),hV(t),uV(t,r),yV(t),V8(t),kV(t),cV(t),iV(t)},jO=function(t,r){return{type:"makeshift",x:t,y:r}},TV=function(t,r,o){return jO(t.x+r,t.y+o)},V7=function(t){return t.type==="longpress"||t.type.indexOf("touch")===0},EV=function(t){if(V7(t)){var r=t.touches[0];return jO(r.pageX,r.pageY)}else return jO(t.pageX,t.pageY)},OV=function(t){if(V7(t)){var r=t.touches[0];return jO(r.clientX,r.clientY)}else return jO(t.clientX,t.clientY)},AV=function(t,r){var o=N2.DOM.getPos(t);return TV(r,o.x,o.y)},DV=function(t,r){return r.type==="contextmenu"||r.type==="longpress"?t.inline?EV(r):AV(t.getContentAreaContainer(),OV(r)):H7(t)},H7=function(t){return{type:"selection",root:le.fromDom(t.selection.getNode())}},_V=function(t){return{type:"node",node:_.some(le.fromDom(t.selection.getNode())),root:le.fromDom(t.getBody())}},U7=function(t,r,o){switch(o){case"node":return _V(t);case"point":return DV(t,r);case"selection":return H7(t)}},RV=function(t,r,o,s,v,m){var p=o(),C=U7(t,r,m);Qb(p,ev.CLOSE_ON_EXECUTE,s,!1).map(function(S){r.preventDefault(),Jr.showMenuAt(v,{anchor:C},{menu:{markers:pm("normal")},data:S})})},BV={onLtr:function(){return[Li,nu,Jo,yu,Ti,tl,tc,gm,mm,Ng,up,ip]},onRtl:function(){return[Li,Jo,nu,Ti,yu,tl,tc,gm,up,ip,mm,Ng]}},MV=12,PV={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"]},$V=function(t,r){var o=t.selection;if(o.isCollapsed()||r.touches.length<1)return!1;var s=r.touches[0],v=o.getRng(),m=xy(t.getWin(),fg.domRange(v));return m.exists(function(p){return p.left<=s.clientX&&p.right>=s.clientX&&p.top<=s.clientY&&p.bottom>=s.clientY})},NV=function(t){var r=t.selection.getRng(),o=function(){hm.setEditorTimeout(t,function(){t.selection.setRng(r)},10),m()};t.once("touchend",o);var s=function(p){p.preventDefault(),p.stopImmediatePropagation()};t.on("mousedown",s,!0);var v=function(){return m()};t.once("longpresscancel",v);var m=function(){t.off("touchend",o),t.off("longpresscancel",v),t.off("mousedown",s)}},FV=function(t,r,o){var s=U7(t,r,o),v=o==="point"?MV:0;return ve({bubble:Mv(0,v,PV),layouts:BV,overrides:{maxWidthFunction:$c(),maxHeightFunction:lg()}},s)},zV=function(t,r,o,s,v,m,p){var C=FV(t,r,m);Qb(o,ev.CLOSE_ON_EXECUTE,s,!0).map(function(S){r.preventDefault(),Jr.showMenuWithinBounds(v,{anchor:C},{menu:{markers:pm("normal"),highlightImmediately:p},data:S,type:"horizontal"},function(){return _.some(P7(t,s.shared,m==="node"?"node":"selection"))}),t.fire(_7)})},IV=function(t,r,o,s,v,m){var p=On(),C=p.os.isiOS(),S=p.os.isOSX(),E=p.os.isAndroid(),R=p.deviceType.isTouch(),M=function(){return!(E||C||S&&R)},H=function(){var Z=o();zV(t,r,Z,s,v,m,M())};if((S||C)&&m!=="node"){var G=function(){NV(t),H()};$V(t,r)?G():(t.once("selectionchange",G),t.once("touchend",function(){return t.off("selectionchange",G)}))}else H()},W7=function(t){return typeof t=="string"?t.split(/[ ,]/):t},j7=function(t){return t.getParam("contextmenu_never_use_native",!1,"boolean")},LV=function(t,r,o){var s=t.ui.registry.getAll().contextMenus;return _.from(t.getParam(r)).map(W7).getOrThunk(function(){return Re(W7(o),function(v){return Cr(s,v)})})},VV=function(t){return t.getParam("contextmenu")===!1},HV=function(t){return LV(t,"contextmenu","link linkchecker image imagetools table spellchecker configurepermanentpen")},UV=function(t){return t.getParam("contextmenu_avoid_overlap","","string")},G7=function(t){return _t(t)?t==="|":t.type==="separator"},EF={type:"separator"},q7=function(t){var r=function(o){return{text:o.text,icon:o.icon,disabled:o.disabled,shortcut:o.shortcut}};if(_t(t))return t;switch(t.type){case"separator":return EF;case"submenu":return ve(ve({type:"nestedmenuitem"},r(t)),{getSubmenuItems:function(){var o=t.getSubmenuItems();return _t(o)?o:Tt(o,q7)}});default:return ve(ve({type:"menuitem"},r(t)),{onAction:ht(t.onAction)})}},K7=function(t,r){if(r.length===0)return t;var o=ku(t).filter(function(v){return!G7(v)}),s=o.fold(function(){return[]},function(v){return[EF]});return t.concat(s).concat(r).concat([EF])},WV=function(t,r,o){var s=pt(r,function(v,m){return bn(t,m.toLowerCase()).map(function(p){var C=p.update(o);if(_t(C))return K7(v,C.split(" "));if(C.length>0){var S=Tt(C,q7);return K7(v,S)}else return v}).getOrThunk(function(){return v.concat([m])})},[]);return s.length>0&&G7(s[s.length-1])&&s.pop(),s},jV=function(t,r){return r.ctrlKey&&!j7(t)},X7=function(t,r){return r.type!=="longpress"&&(r.button!==2||r.target===t.getBody()&&r.pointerType==="")},Y7=function(t,r){return X7(t,r)?t.selection.getStart(!0):r.target},GV=function(t,r){var o=UV(t),s=X7(t,r)?"selection":"point";if(cu(o)){var v=Y7(t,r),m=X2(le.fromDom(v),o);return m?"node":s}else return s},qV=function(t,r,o){var s=On(),v=s.deviceType.isTouch,m=Eo(Jr.sketch({dom:{tag:"div"},lazySink:r,onEscape:function(){return t.focus()},onShow:function(){return o.setContextMenuState(!0)},onHide:function(){return o.setContextMenuState(!1)},fireDismissalEventInstead:{},inlineBehaviours:zt([ar("dismissContextMenu",[ft(Us(),function(S,E){Sr.close(S),t.focus()})])])})),p=function(S){return Jr.hide(m)},C=function(S){if(j7(t)&&S.preventDefault(),!(jV(t,S)||VV(t))){var E=GV(t,S),R=function(){var H=Y7(t,S),G=t.ui.registry.getAll(),Z=HV(t);return WV(G.contextMenus,Z,H)},M=v()?IV:RV;M(t,S,R,o,m,E)}};t.on("init",function(){var S="ResizeEditor ScrollContent ScrollWindow longpresscancel"+(v()?"":" ResizeWindow");t.on(S,p),t.on("longpress contextmenu",C)})},OF=Vl.generate([{offset:["x","y"]},{absolute:["x","y"]},{fixed:["x","y"]}]),LR=function(t){return function(r){return r.translate(-t.left,-t.top)}},VR=function(t){return function(r){return r.translate(t.left,t.top)}},Fp=function(t){return function(r,o){return pt(t,function(s,v){return v(s)},ga(r,o))}},HR=function(t,r,o){return t.fold(Fp([VR(o),LR(r)]),Fp([LR(r)]),Fp([]))},Px=function(t,r,o){return t.fold(Fp([VR(o)]),Fp([]),Fp([VR(r)]))},J7=function(t,r,o){return t.fold(Fp([]),Fp([LR(o)]),Fp([VR(r),LR(o)]))},KV=function(t,r,o,s,v,m){var p=Px(t,v,m),C=Px(r,v,m);return Math.abs(p.left-C.left)<=o&&Math.abs(p.top-C.top)<=s},XV=function(t,r,o,s,v,m){var p=Px(t,v,m),C=Px(r,v,m),S=Math.abs(p.left-C.left),E=Math.abs(p.top-C.top);return ga(S,E)},Z7=function(t,r,o){var s=t.fold(function(v,m){return{position:_.some("absolute"),left:_.some(v+"px"),top:_.some(m+"px")}},function(v,m){return{position:_.some("absolute"),left:_.some(v-o.left+"px"),top:_.some(m-o.top+"px")}},function(v,m){return{position:_.some("fixed"),left:_.some(v+"px"),top:_.some(m+"px")}});return ve({right:_.none(),bottom:_.none()},s)},YV=function(t,r,o){return t.fold(function(s,v){return UR(s+r,v+o)},function(s,v){return l0(s+r,v+o)},function(s,v){return xw(s+r,v+o)})},AF=function(t,r,o,s){var v=function(m,p){return function(C,S){var E=m(r,o,s);return p(C.getOr(E.left),S.getOr(E.top))}};return t.fold(v(J7,UR),v(Px,l0),v(HR,xw))},UR=OF.offset,l0=OF.absolute,xw=OF.fixed,Q7=function(t,r){var o=za(t,r);return Me(o)?NaN:parseInt(o,10)},JV=function(t,r){var o=t.element,s=Q7(o,r.leftAttr),v=Q7(o,r.topAttr);return isNaN(s)||isNaN(v)?_.none():_.some(ga(s,v))},ZV=function(t,r,o){var s=t.element;Jn(s,r.leftAttr,o.left+"px"),Jn(s,r.topAttr,o.top+"px")},QV=function(t,r){var o=t.element;bi(o,r.leftAttr),bi(o,r.topAttr)},e9=function(t,r,o,s){return JV(t,r).fold(function(){return o},function(v){return xw(v.left+s.left,v.top+s.top)})},t9=function(t,r,o,s,v,m){var p=e9(t,r,o,s),C=r.mustSnap?r9(t,r,p,v,m):a9(t,r,p,v,m),S=HR(p,v,m);return ZV(t,r,S),C.fold(function(){return{coord:xw(S.left,S.top),extra:_.none()}},function(E){return{coord:E.output,extra:E.extra}})},n9=function(t,r){QV(t,r)},ez=function(t,r,o,s){return la(t,function(v){var m=v.sensor,p=KV(r,m,v.range.left,v.range.top,o,s);return p?_.some({output:AF(v.output,r,o,s),extra:v.extra}):_.none()})},r9=function(t,r,o,s,v){var m=r.getSnapPoints(t),p=ez(m,o,s,v);return p.orThunk(function(){var C=pt(m,function(S,E){var R=E.sensor,M=XV(o,R,E.range.left,E.range.top,s,v);return S.deltas.fold(function(){return{deltas:_.some(M),snap:_.some(E)}},function(H){var G=(M.left+M.top)/2,Z=(H.left+H.top)/2;return G<=Z?{deltas:_.some(M),snap:_.some(E)}:S})},{deltas:_.none(),snap:_.none()});return C.snap.map(function(S){return{output:AF(S.output,o,s,v),extra:S.extra}})})},a9=function(t,r,o,s,v){var m=r.getSnapPoints(t);return ez(m,o,s,v)},o9=function(t,r,o){return{coord:AF(t.output,t.output,r,o),extra:t.extra}},i9=function(t,r,o,s){var v=r.getTarget(t.element);if(r.repositionTarget){var m=Ja(t.element),p=ml(m),C=Gg(v),S=o9(s,p,C),E=Z7(S.coord,p,C);Qa(v,E)}},u9=Object.freeze({__proto__:null,snapTo:i9}),DF="data-initial-z-index",l9=function(t){Ga(t.element).filter(gr).each(function(r){Ka(r,DF).fold(function(){return Vr(r,"z-index")},function(o){return In(r,"z-index",o)}),bi(r,DF)})},s9=function(t){Ga(t.element).filter(gr).each(function(r){ko(r,"z-index").each(function(o){Jn(r,DF,o)}),In(r,"z-index",eo(t.element,"z-index"))})},tz=function(t,r){t.getSystem().addToGui(r),s9(r)},c9=function(t){l9(t),t.getSystem().removeFromGui(t)},nz=function(t,r,o){return t.getSystem().build(ju.sketch({dom:{styles:{left:"0px",top:"0px",width:"100%",height:"100%",position:"fixed","z-index":"1000000000000000"},classes:[r]},events:o}))},f9=pl("snaps",[it("getSnapPoints"),sr("onSensor"),it("leftAttr"),it("topAttr"),ke("lazyViewport",$i),ke("mustSnap",!1)]),_F=[ke("useFixed",Zt),it("blockerClass"),ke("getTarget",dt),ke("onDrag",ge),ke("repositionTarget",!0),ke("onDrop",ge),Ea("getBounds",$i),f9],v9=function(t){return Bl(ko(t,"left"),ko(t,"top"),ko(t,"position"),function(r,o,s){var v=s==="fixed"?xw:UR;return v(parseInt(r,10),parseInt(o,10))}).getOrThunk(function(){var r=Ru(t);return l0(r.left,r.top)})},d9=function(t,r,o,s,v){var m=v.bounds,p=Px(r,o,s),C=el(p.left,m.x,m.x+m.width-v.width),S=el(p.top,m.y,m.y+m.height-v.height),E=l0(C,S);return r.fold(function(){var R=J7(E,o,s);return UR(R.left,R.top)},K(E),function(){var R=HR(E,o,s);return xw(R.left,R.top)})},m9=function(t,r,o,s,v,m,p){var C=r.fold(function(){var S=YV(o,m.left,m.top),E=HR(S,s,v);return xw(E.left,E.top)},function(S){var E=t9(t,S,o,m,s,v);return E.extra.each(function(R){S.onSensor(t,R)}),E.coord});return d9(t,C,s,v,p)},g9=function(t,r,o,s){var v=r.getTarget(t.element);if(r.repositionTarget){var m=Ja(t.element),p=ml(m),C=Gg(v),S=v9(v),E=m9(t,r.snaps,S,p,C,s,o),R=Z7(E,p,C);Qa(v,R)}r.onDrag(t,v,s)},rz=function(t,r){return{bounds:t.getBounds(),height:dl(r.element),width:Bu(r.element)}},RF=function(t,r,o,s,v){var m=o.update(s,v),p=o.getStartData().getOrThunk(function(){return rz(r,t)});m.each(function(C){g9(t,r,p,C)})},az=function(t,r,o,s){r.each(c9),o.snaps.each(function(m){n9(t,m)});var v=o.getTarget(t.element);s.reset(),o.onDrop(t,v)},BF=function(t){return function(r,o){var s=function(v){o.setStartData(rz(r,v))};return Oa(En([ft(D0(),function(v){o.getStartData().each(function(){return s(v)})})],t(r,o,s),!0))}},h9=function(t){return Oa([ft(Hs(),t.forceDrop),ft(k0(),t.drop),ft(wd(),function(r,o){t.move(o.event)}),ft(S0(),t.delayDrop)])},p9=function(t){return _.from(ga(t.x,t.y))},b9=function(t,r){return ga(r.left-t.left,r.top-t.top)},y9=Object.freeze({__proto__:null,getData:p9,getDelta:b9}),oz=function(t,r,o){return[ft(Hs(),function(s,v){var m=v.event.raw;if(m.button===0){v.stop();var p=function(){return az(s,_.some(E),t,r)},C=ID(p,200),S={drop:p,delayDrop:C.schedule,forceDrop:p,move:function(M){C.cancel(),RF(s,t,r,y9,M)}},E=nz(s,t.blockerClass,h9(S)),R=function(){o(s),tz(s,E)};R()}})]},w9=En(En([],_F,!0),[ca("dragger",{handlers:BF(oz)})],!1),C9=function(t){return Oa([ft(Kc(),t.forceDrop),ft(mv(),t.drop),ft(Iw(),t.drop),ft(Vs(),function(r,o){t.move(o.event)})])},S9=function(t){var r=t[0];return _.some(ga(r.clientX,r.clientY))},k9=function(t){var r=t.raw,o=r.touches;return o.length===1?S9(o):_.none()},x9=function(t,r){return ga(r.left-t.left,r.top-t.top)},iz=Object.freeze({__proto__:null,getData:k9,getDelta:x9}),uz=function(t,r,o){var s=so(),v=function(m){az(m,s.get(),t,r),s.clear()};return[ft(Kc(),function(m,p){p.stop();var C=function(){return v(m)},S={drop:C,delayDrop:ge,forceDrop:C,move:function(M){RF(m,t,r,iz,M)}},E=nz(m,t.blockerClass,C9(S));s.set(E);var R=function(){o(m),tz(m,E)};R()}),ft(Vs(),function(m,p){p.stop(),RF(m,t,r,iz,p.event)}),ft(mv(),function(m,p){p.stop(),v(m)}),ft(Iw(),v)]},T9=En(En([],_F,!0),[ca("dragger",{handlers:BF(uz)})],!1),E9=function(t,r,o){return En(En([],oz(t,r,o),!0),uz(t,r,o),!0)},O9=En(En([],_F,!0),[ca("dragger",{handlers:BF(E9)})],!1),A9=w9,D9=T9,_9=O9,R9=Object.freeze({__proto__:null,mouse:A9,touch:D9,mouseOrTouch:_9}),B9=function(){var t=_.none(),r=_.none(),o=function(){t=_.none(),r=_.none()},s=function(S,E){var R=t.map(function(M){return S.getDelta(M,E)});return t=_.some(E),R},v=function(S,E){return S.getData(E).bind(function(R){return s(S,R)})},m=function(S){r=_.some(S)},p=function(){return r},C=K({});return Si({readState:C,reset:o,update:v,getStartData:p,setStartData:m})},M9=Object.freeze({__proto__:null,init:B9}),Tw=Id({branchKey:"mode",branches:R9,name:"dragging",active:{events:function(t,r){var o=t.dragger;return o.handlers(t,r)}},extra:{snap:function(t){return{sensor:t.sensor,range:t.range,output:t.output,extra:_.from(t.extra)}}},state:M9,apis:u9}),MF=40,WR=MF/2,lz=function(t,r,o,s,v,m){return t.fold(function(){return Tw.snap({sensor:l0(o-WR,s-WR),range:ga(v,m),output:l0(_.some(o),_.some(s)),extra:{td:r}})},function(p){var C=o-WR,S=s-WR,E=MF,R=MF,M=p.element.dom.getBoundingClientRect();return Tw.snap({sensor:l0(C,S),range:ga(E,R),output:l0(_.some(o-M.width/2),_.some(s-M.height/2)),extra:{td:r}})})},sz=function(t,r,o){var s=function(v,m){return v.exists(function(p){return Qr(p,m)})};return{getSnapPoints:t,leftAttr:"data-drag-left",topAttr:"data-drag-top",onSensor:function(v,m){var p=m.td;s(r.get(),p)||(r.set(p),o(p))},mustSnap:!0}},cz=function(t){return qr(Wu.sketch({dom:{tag:"div",classes:["tox-selector"]},buttonBehaviours:zt([Tw.config({mode:"mouseOrTouch",blockerClass:"blocker",snaps:t}),ew.config({})]),eventOrder:{mousedown:["dragging","alloy.base.behaviour"],touchstart:["dragging","alloy.base.behaviour"]}}))},P9=function(t,r){var o=Dn([]),s=Dn([]),v=Dn(!1),m=so(),p=so(),C=function(at){var Yt=Uc(at);return lz(G.getOpt(r),at,Yt.x,Yt.y,Yt.width,Yt.height)},S=function(){return Tt(o.get(),function(at){return C(at)})},E=function(at){var Yt=Uc(at);return lz(Z.getOpt(r),at,Yt.right,Yt.bottom,Yt.width,Yt.height)},R=function(){return Tt(s.get(),function(at){return E(at)})},M=sz(S,m,function(at){p.get().each(function(Yt){t.fire("TableSelectorChange",{start:at,finish:Yt})})}),H=sz(R,p,function(at){m.get().each(function(Yt){t.fire("TableSelectorChange",{start:Yt,finish:at})})}),G=cz(M),Z=cz(H),ue=Eo(G.asSpec()),Ce=Eo(Z.asSpec()),ae=function(at,Yt,ct,Jt){var mt=Yt.dom.getBoundingClientRect();Vr(at.element,"display");var rt=$s(le.fromDom(t.getBody())).dom.innerHeight,Kt=ct(mt),gn=Jt(mt,rt);(Kt||gn)&&In(at.element,"display","none")},xe=function(at,Yt,ct,Jt){var mt=ct(Yt);Tw.snapTo(at,mt);var rt=function(gn){return gn[Jt]<0},Kt=function(gn,vt){return gn[Jt]>vt};ae(at,Yt,rt,Kt)},Ge=function(at){return xe(ue,at,C,"top")},Ze=function(){return m.get().each(Ge)},Se=function(at){return xe(Ce,at,E,"bottom")},ze=function(){return p.get().each(Se)};On().deviceType.isTouch()&&(t.on("TableSelectionChange",function(at){v.get()||(ru(r,ue),ru(r,Ce),v.set(!0)),m.set(at.start),p.set(at.finish),at.otherCells.each(function(Yt){o.set(Yt.upOrLeftCells),s.set(Yt.downOrRightCells),Ge(at.start),Se(at.finish)})}),t.on("ResizeEditor ResizeWindow ScrollContent",function(){Ze(),ze()}),t.on("TableSelectionClear",function(){v.get()&&(ps(ue),ps(Ce),v.set(!1)),m.clear(),p.clear()}))},$9=function(t){return t.nodeType===1&&(t.nodeName==="BR"||!!t.getAttribute("data-mce-bogus")||t.getAttribute("data-mce-type")==="bookmark")},N9=function(t,r,o){r.delimiter||(r.delimiter="\xBB");var s=function(m){var p=m||[],C=Tt(p,function(E,R){return Wu.sketch({dom:{tag:"div",classes:["tox-statusbar__path-item"],attributes:{role:"button","data-index":R,"tab-index":-1,"aria-level":R+1},innerHtml:E.name},action:function(M){t.focus(),t.selection.select(E.element),t.nodeChanged()},buttonBehaviours:zt([ac.button(o.isDisabled),vi()])})}),S={dom:{tag:"div",classes:["tox-statusbar__path-divider"],attributes:{"aria-hidden":!0},innerHtml:" "+r.delimiter+" "}};return pt(C.slice(1),function(E,R){var M=E;return M.push(S),M.push(R),M},[C[0]])},v=function(m){for(var p=[],C=m.length;C-- >0;){var S=m[C];if(S.nodeType===1&&!$9(S)){var E=t.fire("ResolveName",{name:S.nodeName.toLowerCase(),target:S});if(E.isDefaultPrevented()||p.push({name:E.name,element:S}),E.isPropagationStopped())break}}return p};return{dom:{tag:"div",classes:["tox-statusbar__path"],attributes:{role:"navigation"}},behaviours:zt([Bn.config({mode:"flow",selector:"div[role=button]"}),Tn.config({disabled:o.isDisabled}),vi(),Oo.config({}),Kn.config({}),ar("elementPathEvents",[Ha(function(m,p){t.shortcuts.add("alt+F11","focus statusbar elementpath",function(){return Bn.focusIn(m)}),t.on("NodeChange",function(C){var S=v(C.parents);S.length>0?Kn.set(m,s(S)):Kn.set(m,[])})})])]),components:[]}},Ew;(function(t){t[t.None=0]="None",t[t.Both=1]="Both",t[t.Vertical=2]="Vertical"})(Ew||(Ew={}));var F9=function(t,r,o,s,v){var m={};return m.height=FR(s+r.top,GA(t),V4(t)),o===Ew.Both&&(m.width=FR(v+r.left,jA(t),L4(t))),m},fz=function(t,r,o){var s=le.fromDom(t.getContainer()),v=F9(t,r,o,$o(s),Yi(s));ta(v,function(m,p){return In(s,p,yF(m))}),wD(t)},z9=function(t){var r=!t.hasPlugin("autoresize"),o=t.getParam("resize",r);return o===!1?Ew.None:o==="both"?Ew.Both:Ew.Vertical},jR=function(t,r,o,s){var v=20,m=ga(o*v,s*v);return fz(t,m,r),_.some(!0)},I9=function(t,r){var o=z9(t);return o===Ew.None?_.none():_.some(Qf("resize-handle",{tag:"div",classes:["tox-statusbar__resize-handle"],attributes:{title:r.translate("Resize")},behaviours:[Tw.config({mode:"mouse",repositionTarget:!1,onDrag:function(s,v,m){return fz(t,m,o)},blockerClass:"tox-blocker"}),Bn.config({mode:"special",onLeft:function(){return jR(t,o,-1,0)},onRight:function(){return jR(t,o,1,0)},onUp:function(){return jR(t,o,0,-1)},onDown:function(){return jR(t,o,0,1)}}),Oo.config({}),Vn.config({})]},r.icons))},L9=function(t,r){var o,s=function(v,m,p){return Kn.set(v,[kv(r.translate(["{0} "+p,m[p]]))])};return Wu.sketch({dom:{tag:"button",classes:["tox-statusbar__wordcount"]},components:[],buttonBehaviours:zt([ac.button(r.isDisabled),vi(),Oo.config({}),Kn.config({}),Xt.config({store:{mode:"memory",initialValue:{mode:"words",count:{words:0,characters:0}}}}),ar("wordcount-events",[js(function(v){var m=Xt.getValue(v),p=m.mode==="words"?"characters":"words";Xt.setValue(v,{mode:p,count:m.count}),s(v,m.count,p)}),Ha(function(v){t.on("wordCountUpdate",function(m){var p=Xt.getValue(v).mode;Xt.setValue(v,{mode:p,count:m.wordCount}),s(v,m.wordCount,p)})})])]),eventOrder:(o={},o[Hl()]=["disabling","alloy.base.behaviour","wordcount-events"],o)})},V9=function(t,r){var o=function(){var m=nc.translate(["Powered by {0}","Tiny"]),p='<a href="https://www.tiny.cloud/?utm_campaign=editor_referral&amp;utm_medium=poweredby&amp;utm_source=tinymce&amp;utm_content=v5" rel="noopener" target="_blank" tabindex="-1" aria-label="'+m+'">'+m+"</a>";return{dom:{tag:"span",classes:["tox-statusbar__branding"],innerHtml:p}}},s=function(){var m=[];return t.getParam("elementpath",!0,"boolean")&&m.push(N9(t,{},r)),t.hasPlugin("wordcount")&&m.push(L9(t,r)),t.getParam("branding",!0,"boolean")&&m.push(o()),m.length>0?[{dom:{tag:"div",classes:["tox-statusbar__text-container"]},components:m}]:[]},v=function(){var m=s(),p=I9(t,r);return m.concat(p.toArray())};return{dom:{tag:"div",classes:["tox-statusbar"]},components:v()}},H9=function(t){var r,o=t.inline,s=o?EL:yL,v=Tk(t)?ZN:kx,m=_.none(),p=On(),C=p.browser.isIE(),S=C?["tox-platform-ie"]:[],E=p.deviceType.isTouch(),R="tox-platform-touch",M=E?[R]:[],H=YA(t),G=z2(t),Z=nc.isRtl()?{attributes:{dir:"rtl"}}:{},ue={attributes:(r={},r[F1]=H?Wf.BottomToTop:Wf.TopToBottom,r)},Ce=function(){return m.bind(Vo.getHeader)},ae=function(){return v.isDocked(Ce)},xe=function(){In(uc.element,"width",document.body.clientWidth+"px")},Ge=function(){var il=Qr(Go(),G)&&eo(G,"display")==="grid",s0={dom:ve({tag:"div",classes:["tox","tox-silver-sink","tox-tinymce-aux"].concat(S).concat(M)},Z),behaviours:zt([Lu.config({useFixed:function(){return ae()}})])},Nx={dom:{styles:{width:document.body.clientWidth+"px"}},events:Oa([ft(Ul(),xe)])};return Je(s0,il?Nx:{})},Ze=Eo(Ge()),Se=function(){return rr.value(Ze)},ze=qr({dom:{tag:"div",classes:["tox-anchorbar"]}}),at=function(){return m.bind(function(il){return ze.getOpt(il)}).getOrDie("Could not find a anchor bar element")},Yt=function(){return m.bind(function(il){return Vo.getToolbar(il)}).getOrDie("Could not find more toolbar element")},ct=function(){return m.bind(function(il){return Vo.getThrobber(il)}).getOrDie("Could not find throbber element")},Jt=Bp(Ze,t,at),mt=Vo.parts.menubar({dom:{tag:"div",classes:["tox-menubar"]},backstage:Jt,onEscape:function(){t.focus()}}),rt=F2(t),Kt=Vo.parts.toolbar(ve({dom:{tag:"div",classes:["tox-toolbar"]},getSink:Se,providers:Jt.shared.providers,onEscape:function(){t.focus()},type:rt,lazyToolbar:Yt,lazyHeader:function(){return Ce().getOrDie("Could not find header element")}},ue)),gn=Vo.parts["multiple-toolbar"]({dom:{tag:"div",classes:["tox-toolbar-overlord"]},providers:Jt.shared.providers,onEscape:function(){t.focus()},type:rt}),vt=Vo.parts.socket({dom:{tag:"div",classes:["tox-edit-area"]}}),fn=Vo.parts.sidebar({dom:{tag:"div",classes:["tox-sidebar"]}}),wn=Vo.parts.throbber({dom:{tag:"div",classes:["tox-throbber"]},backstage:Jt}),Er=t.getParam("statusbar",!0,"boolean"),ia=Er&&!o?_.some(V9(t,Jt.shared.providers)):_.none(),ao={dom:{tag:"div",classes:["tox-sidebar-wrap"]},components:[vt,fn]},lv=kk(t),bf=U4(t),GF=H4(t),qF=function(){return lv?[gn]:bf?[Kt]:[]},qR=Vo.parts.header({dom:ve({tag:"div",classes:["tox-editor-header"]},ue),components:nn([GF?[mt]:[],qF(),xk(t)?[]:[ze.asSpec()]]),sticky:Tk(t),editor:t,sharedBackstage:Jt.shared}),KF=nn([H?[]:[qR],o?[]:[ao],H?[qR]:[]]),qO={dom:{tag:"div",classes:["tox-editor-container"]},components:KF},KR=nn([[qO],o?[]:ia.toArray(),[wn]]),KO=j4(t),XR=ve(ve({role:"application"},nc.isRtl()?{dir:"rtl"}:{}),KO?{"aria-hidden":"true"}:{}),cd=Eo(Vo.sketch({dom:{tag:"div",classes:["tox","tox-tinymce"].concat(o?["tox-tinymce-inline"]:[]).concat(H?["tox-tinymce--toolbar-bottom"]:[]).concat(M).concat(S),styles:ve({visibility:"hidden"},KO?{opacity:"0",border:"0"}:{}),attributes:XR},components:KR,behaviours:zt([vi(),Tn.config({disableClass:"tox-tinymce--disabled"}),Bn.config({mode:"cyclic",selector:".tox-menubar, .tox-toolbar, .tox-toolbar__primary, .tox-toolbar__overflow--open, .tox-sidebar__overflow--open, .tox-statusbar__path, .tox-statusbar__wordcount, .tox-statusbar__branding a, .tox-statusbar__resize-handle"})])}));m=_.some(cd),t.shortcuts.add("alt+F9","focus menubar",function(){Vo.focusMenubar(cd)}),t.shortcuts.add("alt+F10","focus toolbar",function(){Vo.focusToolbar(cd)}),t.addCommand("ToggleToolbarDrawer",function(){Vo.toggleToolbarDrawer(cd)}),t.addQueryStateHandler("ToggleToolbarDrawer",function(){return Vo.isToolbarDrawerToggled(cd)});var XO=GD(cd),uc=GD(Ze);BN(t,XO,uc);var XF=function(){var il={broadcastAll:uc.broadcast,broadcastOn:uc.broadcastOn,register:ge};return{channels:il}},YF=function(){var il=yF(CL(t)),s0=yF(SL(t));return t.inline||(Nl("div","width",s0)&&In(cd.element,"width",s0),Nl("div","height",il)?In(cd.element,"height",il):In(cd.element,"height","200px")),il},JF=function(){v.setup(t,Jt.shared,Ce),xV(t,Jt),qV(t,Se,Jt),fe(t),Le(t,ct,Jt.shared),Lr(ZB(t),function(sc,sv){t.ui.registry.addGroupToolbarButton(sv,sc)});var il=t.ui.registry.getAll(),s0=il.buttons,Nx=il.menuItems,ZF=il.contextToolbars,Fx=il.sidebars,QF=XA(t),rn={menuItems:Nx,menus:a8(t),menubar:o8(t),toolbar:QF.getOrThunk(function(){return G4(t)}),allowToolbarGroups:rt===rc.floating,buttons:s0,sidebar:Fx};JL(t,ZF,Ze,{backstage:Jt}),P9(t,Ze);var lr=t.getElement(),va=YF(),Do={mothership:XO,uiMothership:uc,outerContainer:cd},lc={targetNode:lr,height:va};return s.render(t,Do,rn,Jt,lc)};return{mothership:XO,uiMothership:uc,backstage:Jt,renderUI:JF,getUi:XF}},U9=function(t,r){var o=_.from(za(t,"id")).fold(function(){var s=un("dialog-describe");return Jn(r,"id",s),s},dt);Jn(t,"aria-describedby",o)},W9=function(t,r){var o=Ka(t,"id").fold(function(){var s=un("dialog-label");return Jn(r,"id",s),s},dt);Jn(t,"aria-labelledby",o)},j9=K([it("lazySink"),Hr("dragBlockClass"),Ea("getBounds",$i),ke("useTabstopAt",st),ke("eventOrder",{}),si("modalBehaviours",[Bn]),ba("onExecute"),Ev("onEscape")]),PF={sketch:dt},G9=K([Zs({name:"draghandle",overrides:function(t,r){return{behaviours:zt([Tw.config({mode:"mouse",getTarget:function(o){return u1(o,'[role="dialog"]').getOr(o)},blockerClass:t.dragBlockClass.getOrDie(new Error(`The drag blocker class was not specified for a dialog with a drag handle: 
`+JSON.stringify(r,null,2)).message),getBounds:t.getDragBounds})])}}}),Ai({schema:[it("dom")],name:"title"}),Ai({factory:PF,schema:[it("dom")],name:"close"}),Ai({factory:PF,schema:[it("dom")],name:"body"}),Zs({factory:PF,schema:[it("dom")],name:"footer"}),ql({factory:{sketch:function(t,r){return ve(ve({},t),{dom:r.dom,components:r.components})}},schema:[ke("dom",{tag:"div",styles:{position:"fixed",left:"0px",top:"0px",right:"0px",bottom:"0px"}}),ke("components",[])],name:"blocker"})]),q9=function(t,r,o,s){var v,m=so(),p=function(Z){m.set(Z);var ue=t.lazySink(Z).getOrDie(),Ce=s.blocker(),ae=ue.getSystem().build(ve(ve({},Ce),{components:Ce.components.concat([jl(Z)]),behaviours:zt([Vn.config({}),ar("dialog-blocker-events",[zf(vs(),function(){Bn.focusIn(Z)})])])}));ru(ue,ae),Bn.focusIn(Z)},C=function(Z){m.clear(),Ga(Z.element).each(function(ue){Z.getSystem().getByDom(ue).each(function(Ce){ps(Ce)})})},S=function(Z){return uf(Z,t,"body")},E=function(Z){return uf(Z,t,"footer")},R=function(Z,ue){an.block(Z,ue)},M=function(Z){an.unblock(Z)},H=un("modal-events"),G=ve(ve({},t.eventOrder),(v={},v[bl()]=[H].concat(t.eventOrder["alloy.system.attached"]||[]),v));return{uid:t.uid,dom:t.dom,components:r,apis:{show:p,hide:C,getBody:S,getFooter:E,setIdle:M,setBusy:R},eventOrder:G,domModification:{attributes:{role:"dialog","aria-modal":"true"}},behaviours:ci(t.modalBehaviours,[Kn.config({}),Bn.config({mode:"cyclic",onEnter:t.onExecute,onEscape:t.onEscape,useTabstopAt:t.useTabstopAt}),an.config({getRoot:m.get}),ar(H,[Ha(function(Z){W9(Z.element,uf(Z,t,"title").element),U9(Z.element,uf(Z,t,"body").element)})])])}},Gi=Hu({name:"ModalDialog",configFields:j9(),partFields:G9(),factory:q9,apis:{show:function(t,r){t.show(r)},hide:function(t,r){t.hide(r)},getBody:function(t,r){return t.getBody(r)},getFooter:function(t,r){return t.getFooter(r)},setBusy:function(t,r,o){t.setBusy(r,o)},setIdle:function(t,r){t.setIdle(r)}}}),K9=kn([jn("type"),jn("name")].concat(vp)),X9=yi,vz=[Yo("name","name",pr(function(){return un("button-name")}),go),Ta("icon"),Ll("align","end",["start","end"]),pa("primary",!1),pa("disabled",!1)],dz=En(En([],vz,!0),[jn("text")],!1),$F=En([Il("type",["submit","cancel","custom"])],dz,!0),Y9=En([Il("type",["menu"]),Ta("text"),Ta("tooltip"),Ta("icon"),eu("items",K9)],vz,!0),J9=fs("type",{submit:$F,cancel:$F,custom:$F,menu:Y9}),Z9=[jn("type"),jn("text"),Il("level",["info","warn","error","success"]),jn("icon"),ke("url","")],Q9=kn(Z9),eH=function(t){return[jn("type"),t]},tH=[jn("type"),jn("text"),pa("disabled",!1),pa("primary",!1),Yo("name","name",pr(function(){return un("button-name")}),go),Ta("icon"),pa("borderless",!1)],nH=kn(tH),rH=[jn("type"),jn("name"),jn("label"),pa("disabled",!1)],aH=kn(rH),oH=yi,NF=[jn("type"),jn("name")],sd=NF.concat([Ta("label")]),iH=sd.concat([ke("columns","auto")]),uH=kn(iH),lH=h0([jn("value"),jn("text"),jn("icon")]),sH=sd,cH=kn(sH),fH=go,vH=sd,dH=kn(vH),mH=go,gH=NF.concat([Lm("tag","textarea"),jn("scriptId"),jn("scriptUrl"),Ju("settings",void 0)]),hH=NF.concat([Lm("tag","textarea"),hu("init")]),pH=zm(function(t){return Xa("customeditor.old",gl(hH),t).orThunk(function(){return Xa("customeditor.new",gl(gH),t)})}),bH=go,yH=sd,wH=kn(yH),CH=Xx(),SH=function(t){return[jn("type"),Bf("columns"),t]},kH=[jn("type"),jn("html"),Ll("presets","presentation",["presentation","document"])],xH=kn(kH),TH=sd.concat([pa("sandboxed",!0)]),EH=kn(TH),OH=go,AH=sd.concat([Yu("currentState",kn([it("blob"),jn("url")]))]),DH=kn(AH),_H=sd.concat([Ta("inputMode"),Ta("placeholder"),pa("maximized",!1),pa("disabled",!1)]),RH=kn(_H),BH=go,MH=function(t){return[jn("type"),jn("label"),t]},PH=[jn("text"),jn("value")],$H=[jn("text"),eu("items",Yx("items",function(){return mz}))],mz=nh([kn(PH),kn($H)]),NH=sd.concat([eu("items",mz),pa("disabled",!1)]),FH=kn(NH),zH=go,IH=sd.concat([Ls("items",[jn("text"),jn("value")]),bc("size",1),pa("disabled",!1)]),LH=kn(IH),VH=go,HH=sd.concat([pa("constrain",!0),pa("disabled",!1)]),UH=kn(HH),gz=kn([jn("width"),jn("height")]),WH=[jn("type"),eu("header",go),eu("cells",Rf(go))],jH=kn(WH),GH=sd.concat([Ta("placeholder"),pa("maximized",!1),pa("disabled",!1)]),qH=kn(GH),KH=go,XH=sd.concat([Ll("filetype","file",["image","media","file"]),ke("disabled",!1)]),YH=kn(XH),JH=kn([jn("value"),ke("meta",{})]),FF=function(t){return Yo("items","items",qn(),Rf(zm(function(r){return Xa("Checking item of "+t,zF,r).fold(function(o){return rr.error(vv(o))},function(o){return rr.value(o)})})))},zF=Rw(function(){return Gp("type",{alertbanner:Q9,bar:kn(eH(FF("bar"))),button:nH,checkbox:aH,colorinput:cH,colorpicker:dH,dropzone:wH,grid:kn(SH(FF("grid"))),iframe:EH,input:RH,listbox:FH,selectbox:LH,sizeinput:UH,textarea:qH,urlinput:YH,customeditor:pH,htmlpanel:xH,imagetools:DH,collection:uH,label:kn(MH(FF("label"))),table:jH,panel:hz})}),ZH=[jn("type"),ke("classes",[]),eu("items",zF)],hz=kn(ZH),QH=[Yo("name","name",pr(function(){return un("tab-name")}),go),jn("title"),eu("items",zF)],eU=[jn("type"),Ls("tabs",QH)],tU=kn(eU),nU=dz,rU=J9,aU=kn([jn("title"),Yu("body",Gp("type",{panel:hz,tabpanel:tU})),Lm("size","normal"),eu("buttons",rU),ke("initialData",{}),Ea("onAction",ge),Ea("onChange",ge),Ea("onSubmit",ge),Ea("onClose",ge),Ea("onCancel",ge),ke("onTabChange",ge)]),oU=function(t){return Xa("dialog",aU,t)},iU=kn(En([Il("type",["cancel","custom"])],nU,!0)),uU=kn([jn("title"),jn("url"),yd("height"),yd("width"),hl("buttons",iU),Ea("onAction",ge),Ea("onCancel",ge),Ea("onClose",ge),Ea("onMessage",ge)]),lU=function(t){return Xa("dialog",uU,t)},IF=function(t){return ut(t)?[t].concat(Ln(Po(t),IF)):Fe(t)?Ln(t,IF):[]},sU=function(t){return _t(t.type)&&_t(t.name)},cU={checkbox:oH,colorinput:fH,colorpicker:mH,dropzone:CH,input:BH,iframe:OH,sizeinput:gz,selectbox:VH,listbox:zH,size:gz,textarea:KH,urlinput:JH,customeditor:bH,collection:lH,togglemenuitem:X9},fU=function(t){return _.from(cU[t.type])},vU=function(t){return Re(IF(t),sU)},dU=function(t){var r=vU(t),o=Ln(r,function(s){return fU(s).fold(function(){return[]},function(v){return[Yu(s.name,v)]})});return kn(o)},pz=function(t){var r=Is(oU(t)),o=dU(t),s=t.initialData;return{internalDialog:r,dataValidator:o,initialData:s}},GO={open:function(t,r){var o=pz(r);return t(o.internalDialog,o.initialData,o.dataValidator)},openUrl:function(t,r){var o=Is(lU(r));return t(o)},redial:function(t){return pz(t)}},bz=function(t){var r=[],o={};return ta(t,function(s,v){s.fold(function(){r.push(v)},function(m){o[v]=m})}),r.length>0?rr.error(r):rr.value(o)},mU=function(t,r){var o=qr(Xb.sketch(function(s){return{dom:{tag:"div",classes:["tox-form"].concat(t.classes)},components:Tt(t.items,function(v){return kO(s,v,r)})}}));return{dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[o.asSpec()]}],behaviours:zt([Bn.config({mode:"acyclic",useTabstopAt:qt(Yb)}),av.memento(o),Ep.memento(o,{postprocess:function(s){return bz(s).fold(function(v){return console.error(v),{}},dt)}})])}},gU=function(t,r){return{uid:t.uid,dom:t.dom,components:t.components,events:rp(t.action),behaviours:ci(t.tabButtonBehaviours,[Vn.config({}),Bn.config({mode:"execution",useSpace:!0,useEnter:!0}),Xt.config({store:{mode:"memory",initialValue:t.value}})]),domModification:t.domModification}},hU=El({name:"TabButton",configFields:[ke("uid",void 0),it("value"),Yo("dom","dom",Ni(function(){return{attributes:{role:"tab",id:un("aria"),"aria-selected":"false"}}}),zs()),Hr("action"),ke("domModification",{}),si("tabButtonBehaviours",[Vn,Bn,Xt]),it("view")],factory:gU}),pU=K([it("tabs"),it("dom"),ke("clickToDismiss",!1),si("tabbarBehaviours",[Ur,Bn]),Nd(["tabClass","selectedClass"])]),bU=Ac({factory:hU,name:"tabs",unit:"tab",overrides:function(t){var r=function(s,v){Ur.dehighlight(s,v),Rn(s,zi(),{tabbar:s,button:v})},o=function(s,v){Ur.highlight(s,v),Rn(s,Lw(),{tabbar:s,button:v})};return{action:function(s){var v=s.getSystem().getByUid(t.uid).getOrDie(),m=Ur.isHighlighted(v,s),p=function(){return m&&t.clickToDismiss?r:m?ge:o}();p(v,s)},domModification:{classes:[t.markers.tabClass]}}}}),yU=K([bU]),wU=function(t,r,o,s){return{uid:t.uid,dom:t.dom,components:r,"debug.sketcher":"Tabbar",domModification:{attributes:{role:"tablist"}},behaviours:ci(t.tabbarBehaviours,[Ur.config({highlightClass:t.markers.selectedClass,itemClass:t.markers.tabClass,onHighlight:function(v,m){Jn(m.element,"aria-selected","true")},onDehighlight:function(v,m){Jn(m.element,"aria-selected","false")}}),Bn.config({mode:"flow",getInitial:function(v){return Ur.getHighlighted(v).map(function(m){return m.element})},selector:"."+t.markers.tabClass,executeOnMove:!0})])}},yz=Hu({name:"Tabbar",configFields:pU(),partFields:yU(),factory:wU}),CU=function(t,r){return{uid:t.uid,dom:t.dom,behaviours:ci(t.tabviewBehaviours,[Kn.config({})]),domModification:{attributes:{role:"tabpanel"}}}},SU=El({name:"Tabview",configFields:[si("tabviewBehaviours",[Kn])],factory:CU}),kU=K([ke("selectFirst",!0),sr("onChangeTab"),sr("onDismissTab"),ke("tabs",[]),si("tabSectionBehaviours",[])]),xU=Ai({factory:yz,schema:[it("dom"),jc("markers",[it("tabClass"),it("selectedClass")])],name:"tabbar",defaults:function(t){return{tabs:t.tabs}}}),TU=Ai({factory:SU,name:"tabview"}),EU=K([xU,TU]),OU=function(t,r,o,s){var v=function(p){var C=Xt.getValue(p);fa(p,t,"tabview").each(function(S){var E=mn(t.tabs,function(R){return R.value===C});E.each(function(R){var M=R.view();Ka(p.element,"id").each(function(H){Jn(S.element,"aria-labelledby",H)}),Kn.set(S,M),t.onChangeTab(S,p,M)})})},m=function(p,C){fa(p,t,"tabbar").each(function(S){C(S).each(Ff)})};return{uid:t.uid,dom:t.dom,components:r,behaviours:Qd(t.tabSectionBehaviours),events:Oa(nn([t.selectFirst?[Ha(function(p,C){m(p,Ur.getFirst)})]:[],[ft(Lw(),function(p,C){var S=C.event.button;v(S)}),ft(zi(),function(p,C){var S=C.event.button;t.onDismissTab(p,S)})]])),apis:{getViewItems:function(p){return fa(p,t,"tabview").map(function(C){return Kn.contents(C)}).getOr([])},showTab:function(p,C){var S=function(E){var R=Ur.getCandidates(E),M=mn(R,function(H){return Xt.getValue(H)===C});return M.filter(function(H){return!Ur.isHighlighted(E,H)})};m(p,S)}}}},$x=Hu({name:"TabSection",configFields:kU(),partFields:EU(),factory:OU,apis:{getViewItems:function(t,r){return t.getViewItems(r)},showTab:function(t,r,o){t.showTab(r,o)}}}),AU=function(t,r,o){return Tt(t,function(s,v){Kn.set(o,t[v].view());var m=r.dom.getBoundingClientRect();return Kn.set(o,[]),m.height})},DU=function(t){return Bo(uu(t,function(r,o){return r>o?-1:r<o?1:0}))},_U=function(t,r,o){var s=Ye(t).dom,v=u1(t,".tox-dialog-wrap").getOr(t),m=eo(v,"position")==="fixed",p;m?p=Math.max(s.clientHeight,window.innerHeight):p=Math.max(s.offsetHeight,s.scrollHeight);var C=$o(r),S=r.dom.offsetLeft>=o.dom.offsetLeft+Yi(o),E=S?Math.max($o(o),C):C,R=parseInt(eo(t,"margin-top"),10)||0,M=parseInt(eo(t,"margin-bottom"),10)||0,H=$o(t)+R+M,G=H-E;return p-G},RU=function(t,r){Bo(t).each(function(o){return $x.showTab(r,o.value)})},wz=function(t,r){In(t,"height",r+"px"),On().browser.isIE()?Vr(t,"flex-basis"):In(t,"flex-basis",r+"px")},GR=function(t,r,o){u1(t,'[role="dialog"]').each(function(s){Io(s,'[role="tablist"]').each(function(v){o.get().map(function(m){return In(r,"height","0"),In(r,"flex-basis","0"),Math.min(m,_U(s,r,v))}).each(function(m){wz(r,m)})})})},LF=function(t){return Io(t,'[role="tabpanel"]')},BU=function(t){var r=function(){var s=so(),v=[Ha(function(p){var C=p.element;LF(C).each(function(S){In(S,"visibility","hidden"),p.getSystem().getByDom(S).toOptional().each(function(E){var R=AU(t,S,E),M=DU(R);M.fold(s.clear,s.set)}),GR(C,S,s),Vr(S,"visibility"),RU(t,p),hm.requestAnimationFrame(function(){GR(C,S,s)})})}),ft(Ul(),function(p){var C=p.element;LF(C).each(function(S){GR(C,S,s)})}),ft(Nk,function(p,C){var S=p.element;LF(S).each(function(E){var R=kl(xa(E));In(E,"visibility","hidden");var M=ko(E,"height").map(function(Z){return parseInt(Z,10)});Vr(E,"height"),Vr(E,"flex-basis");var H=E.dom.getBoundingClientRect().height,G=M.forall(function(Z){return H>Z});G?(s.set(H),GR(S,E,s)):M.each(function(Z){wz(E,Z)}),Vr(E,"visibility"),R.each(ef)})})],m=!1;return{extraEvents:v,selectFirst:m}}(),o=function(){var s=[],v=!0;return{extraEvents:s,selectFirst:v}}();return{smartTabHeight:r,naiveTabHeight:o}},Cz="send-data-to-section",Sz="send-data-to-view",MU=function(t,r){var o=Dn({}),s=function(S){var E=Xt.getValue(S),R=bz(E).getOr({}),M=o.get(),H=Je(M,R);o.set(H)},v=function(S){var E=o.get();Xt.setValue(S,E)},m=Dn(null),p=Tt(t.tabs,function(S){return{value:S.name,dom:{tag:"div",classes:["tox-dialog__body-nav-item"],innerHtml:r.shared.providers.translate(S.title)},view:function(){return[Xb.sketch(function(E){return{dom:{tag:"div",classes:["tox-form"]},components:Tt(S.items,function(R){return kO(E,R,r)}),formBehaviours:zt([Bn.config({mode:"acyclic",useTabstopAt:qt(Yb)}),ar("TabView.form.events",[Ha(v),yl(s)]),Sl.config({channels:Pf([{key:Cz,value:{onReceive:s}},{key:Sz,value:{onReceive:v}}])})])}})]}}}),C=BU(p).smartTabHeight;return $x.sketch({dom:{tag:"div",classes:["tox-dialog__body"]},onChangeTab:function(S,E,R){var M=Xt.getValue(E);Rn(S,YD,{name:M,oldName:m.get()}),m.set(M)},tabs:p,components:[$x.parts.tabbar({dom:{tag:"div",classes:["tox-dialog__body-nav"]},components:[yz.parts.tabs({})],markers:{tabClass:"tox-tab",selectedClass:"tox-dialog__body-nav-item--active"},tabbarBehaviours:zt([Oo.config({})])}),$x.parts.tabview({dom:{tag:"div",classes:["tox-dialog__body-content"]}})],selectFirst:C.selectFirst,tabSectionBehaviours:zt([ar("tabpanel",C.extraEvents),Bn.config({mode:"acyclic"}),cr.config({find:function(S){return Bo($x.getViewItems(S))}}),Xt.config({store:{mode:"manual",getValue:function(S){return S.getSystem().broadcastOn([Cz],{}),o.get()},setValue:function(S,E){o.set(E),S.getSystem().broadcastOn([Sz],{})}}})])})},VF=un("update-dialog"),kz=un("update-title"),xz=un("update-body"),Tz=un("update-footer"),Ez=un("body-send-message"),Oz=function(t,r,o,s){var v=function(C){switch(C.body.type){case"tabpanel":return[MU(C.body,o)];default:return[mU(C.body,o)]}},m=function(C,S){return _.some({isTabPanel:function(){return S.body.type==="tabpanel"}})},p={"aria-live":"polite"};return{dom:{tag:"div",classes:["tox-dialog__content-js"],attributes:ve(ve({},r.map(function(C){return{id:C}}).getOr({})),s?p:{})},components:[],behaviours:zt([av.childAt(0),Nc.config({channel:xz,updateState:m,renderComponents:v,initialData:t})])}},PU=function(t,r,o,s){return Oz(t,_.some(r),o,s)},$U=function(t,r){var o=Oz(t,_.none(),r,!1);return Gi.parts.body(o)},NU=function(t){var r={dom:{tag:"div",classes:["tox-dialog__content-js"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-iframe"]},components:[Y_({dom:{tag:"iframe",attributes:{src:t.url}},behaviours:zt([Oo.config({}),Vn.config({})])})]}],behaviours:zt([Bn.config({mode:"acyclic",useTabstopAt:qt(Yb)})])};return Gi.parts.body(r)},FU=J4.deviceType.isTouch(),Az=function(t,r){return{dom:{tag:"div",styles:{display:"none"},classes:["tox-dialog__header"]},components:[t,r]}},Dz=function(t,r){return Gi.parts.close(Wu.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":r.translate("Close")}},action:t,buttonBehaviours:zt([Oo.config({})])}))},_z=function(){return Gi.parts.title({dom:{tag:"div",classes:["tox-dialog__title"],innerHtml:"",styles:{display:"none"}}})},Rz=function(t,r){return Gi.parts.body({dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[{dom:Yn("<p>"+r.translate(t)+"</p>")}]}]})},Bz=function(t){return Gi.parts.footer({dom:{tag:"div",classes:["tox-dialog__footer"]},components:t})},Mz=function(t,r){return[ju.sketch({dom:{tag:"div",classes:["tox-dialog__footer-start"]},components:t}),ju.sketch({dom:{tag:"div",classes:["tox-dialog__footer-end"]},components:r})]},HF=function(t){var r,o="tox-dialog",s=o+"-wrap",v=s+"__backdrop",m=o+"__disable-scroll";return Gi.sketch({lazySink:t.lazySink,onEscape:function(p){return t.onEscape(p),_.some(!0)},useTabstopAt:function(p){return!Yb(p)},dom:{tag:"div",classes:[o].concat(t.extraClasses),styles:ve({position:"relative"},t.extraStyles)},components:En([t.header,t.body],t.footer.toArray(),!0),parts:{blocker:{dom:Yn('<div class="'+s+'"></div>'),components:[{dom:{tag:"div",classes:FU?[v,v+"--opaque"]:[v]}}]}},dragBlockClass:s,modalBehaviours:zt(En([Vn.config({}),ar("dialog-events",t.dialogEvents.concat([zf(vs(),function(p,C){Bn.focusIn(p)})])),ar("scroll-lock",[Ha(function(){ki(Go(),m)}),yl(function(){zo(Go(),m)})])],t.extraBehaviours,!0)),eventOrder:ve((r={},r[Hl()]=["dialog-events"],r[bl()]=["scroll-lock","dialog-events","alloy.base.behaviour"],r[Gm()]=["alloy.base.behaviour","dialog-events","scroll-lock"],r),t.eventOrder)})},Pz=function(t){return Wu.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":t.translate("Close"),title:t.translate("Close")}},components:[Qf("close",{tag:"div",classes:["tox-icon"]},t.icons)],action:function(r){dr(r,oc)}})},$z=function(t,r,o){var s=function(v){return[kv(o.translate(v.title))]};return{dom:{tag:"div",classes:["tox-dialog__title"],attributes:ve({},r.map(function(v){return{id:v}}).getOr({}))},components:s(t),behaviours:zt([Nc.config({channel:kz,renderComponents:s})])}},Nz=function(){return{dom:Yn('<div class="tox-dialog__draghandle"></div>')}},zU=function(t,r,o){return ju.sketch({dom:Yn('<div class="tox-dialog__header"></div>'),components:[$z(t,_.some(r),o),Nz(),Pz(o)],containerBehaviours:zt([Tw.config({mode:"mouse",blockerClass:"blocker",getTarget:function(s){return bu(s,'[role="dialog"]').getOrDie()},snaps:{getSnapPoints:function(){return[]},leftAttr:"data-drag-left",topAttr:"data-drag-top"}})])})},IU=function(t,r){var o=Gi.parts.title($z(t,_.none(),r)),s=Gi.parts.draghandle(Nz()),v=Gi.parts.close(Pz(r)),m=[o].concat(t.draggable?[s]:[]).concat([v]);return ju.sketch({dom:Yn('<div class="tox-dialog__header"></div>'),components:m})},Fz=function(t,r){return IU({title:r.shared.providers.translate(t),draggable:r.dialog.isDraggableModal()},r.shared.providers)},zz=function(t,r,o){return{dom:{tag:"div",classes:["tox-dialog__busy-spinner"],attributes:{"aria-label":o.translate(t)},styles:{left:"0px",right:"0px",bottom:"0px",top:"0px",position:"absolute"}},behaviours:r,components:[{dom:Yn('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}},Iz=function(t,r,o){return{onClose:function(){return o.closeWindow()},onBlock:function(s){Gi.setBusy(t(),function(v,m){return zz(s.message,m,r)})},onUnblock:function(){Gi.setIdle(t())}}},Lz=function(t,r,o,s){var v,m=function(p,C){return _.some(C)};return Eo(HF(ve(ve({},t),{lazySink:s.shared.getSink,extraBehaviours:En([Nc.config({channel:VF,updateState:m,initialData:r}),Ep.memory({})],t.extraBehaviours,!0),onEscape:function(p){dr(p,oc)},dialogEvents:o,eventOrder:(v={},v[ds()]=[Nc.name(),Sl.name()],v[bl()]=["scroll-lock",Nc.name(),"messages","dialog-events","alloy.base.behaviour"],v[Gm()]=["alloy.base.behaviour","dialog-events","messages",Nc.name(),"scroll-lock"],v)})))},Vz=function(t){var r=function(o){var s=Tt(o.items,function(v){var m=Dn(!1);return ve(ve({},v),{storage:m})});return ve(ve({},o),{items:s})};return Tt(t,function(o){return o.type==="menu"?r(o):o})},Hz=function(t){return pt(t,function(r,o){if(o.type==="menu"){var s=o;return pt(s.items,function(v,m){return v[m.name]=m.storage,v},r)}return r},{})},Uz=function(t,r){return[pv(vs(),eP),t(Es,function(o,s){r.onClose(),s.onClose()}),t(oc,function(o,s,v,m){s.onCancel(o),dr(m,Es)}),ft(Ub,function(o,s){return r.onUnblock()}),ft($k,function(o,s){return r.onBlock(s.event)})]},LU=function(t,r){var o=function(v,m){return ft(v,function(p,C){s(p,function(S,E){m(t(),S,C.event,p)})})},s=function(v,m){Nc.getState(v).get().each(function(p){m(p,v)})};return En(En([],Uz(o,r),!0),[o(Zv,function(v,m,p){m.onAction(v,{name:p.name})})],!1)},VU=function(t,r,o){var s=function(m,p){return ft(m,function(C,S){v(C,function(E,R){p(t(),E,S.event,C)})})},v=function(m,p){Nc.getState(m).get().each(function(C){p(C.internalDialog,m)})};return En(En([],Uz(s,r),!0),[s(Hb,function(m,p){return p.onSubmit(m)}),s(Ts,function(m,p,C){p.onChange(m,{name:C.name})}),s(Zv,function(m,p,C,S){var E=function(){return Bn.focusIn(S)},R=function(G){return Lp(G,"disabled")||Ka(G,"aria-disabled").exists(function(Z){return Z==="true"})},M=xa(S.element),H=kl(M);p.onAction(m,{name:C.name,value:C.value}),kl(M).fold(E,function(G){R(G)||H.exists(function(Z){return _u(G,Z)&&R(Z)})?E():o().toOptional().filter(function(Z){return!_u(Z.element,G)}).each(E)})}),s(YD,function(m,p,C){p.onTabChange(m,{newTabName:C.name,oldTabName:C.oldName})}),yl(function(m){var p=t();Xt.setValue(m,p.getData())})],!1)},UF={initUrlDialog:LU,initDialog:VU},HU=function(t,r){return e0(t,t.type,r)},UU=function(t,r,o){return mn(r,function(s){return s.name===o}).bind(function(s){return s.memento.getOpt(t)})},WU=function(t,r){var o=r.map(function(C){return C.footerButtons}).getOr([]),s=Pe(o,function(C){return C.align==="start"}),v=function(C,S){return ju.sketch({dom:{tag:"div",classes:["tox-dialog__footer-"+C]},components:Tt(S,function(E){return E.memento.asSpec()})})},m=v("start",s.pass),p=v("end",s.fail);return[m,p]},Wz=function(t,r){var o=function(s,v){var m=Tt(v.buttons,function(C){var S=qr(HU(C,r));return{name:C.name,align:C.align,memento:S}}),p=function(C,S){return UU(C,m,S)};return _.some({lookupByName:p,footerButtons:m})};return{dom:Yn('<div class="tox-dialog__footer"></div>'),components:[],behaviours:zt([Nc.config({channel:Tz,initialData:t,updateState:o,renderComponents:WU})])}},jU=function(t,r){return Wz(t,r)},jz=function(t,r){return Gi.parts.footer(Wz(t,r))},WF=function(t,r){var o=t.getRoot();if(o.getSystem().isConnected()){var s=cr.getCurrent(t.getFormWrapper()).getOr(t.getFormWrapper());return Xb.getField(s,r).fold(function(){var v=t.getFooter(),m=Nc.getState(v);return m.get().bind(function(p){return p.lookupByName(s,r)})},function(v){return _.some(v)})}else return _.none()},GU=function(t,r){var o=t.getRoot();return Nc.getState(o).get().map(function(s){return Is(Xa("data",s.dataValidator,r))}).getOr(r)},Gz=function(t,r,o){var s=function(ue){var Ce=t.getRoot();Ce.getSystem().isConnected()&&ue(Ce)},v=function(){var ue=t.getRoot(),Ce=ue.getSystem().isConnected()?t.getFormWrapper():ue,ae=Xt.getValue(Ce),xe=Lr(o,function(Ge){return Ge.get()});return ve(ve({},ae),xe)},m=function(ue){s(function(Ce){var ae=Z.getData(),xe=ve(ve({},ae),ue),Ge=GU(t,xe),Ze=t.getFormWrapper();Xt.setValue(Ze,Ge),ta(o,function(Se,ze){Cr(xe,ze)&&Se.set(xe[ze])})})},p=function(ue){WF(t,ue).each(Tn.disable)},C=function(ue){WF(t,ue).each(Tn.enable)},S=function(ue){WF(t,ue).each(Vn.focus)},E=function(ue){if(!_t(ue))throw new Error("The dialogInstanceAPI.block function should be passed a blocking message of type string as an argument");s(function(Ce){Rn(Ce,$k,{message:ue})})},R=function(){s(function(ue){dr(ue,Ub)})},M=function(ue){s(function(Ce){var ae=t.getBody(),xe=Nc.getState(ae);xe.get().exists(function(Ge){return Ge.isTabPanel()})&&cr.getCurrent(ae).each(function(Ge){$x.showTab(Ge,ue)})})},H=function(ue){s(function(Ce){var ae=r(ue);Ce.getSystem().broadcastOn([VF],ae),Ce.getSystem().broadcastOn([kz],ae.internalDialog),Ce.getSystem().broadcastOn([xz],ae.internalDialog),Ce.getSystem().broadcastOn([Tz],ae.internalDialog),Z.setData(ae.initialData)})},G=function(){s(function(ue){dr(ue,Es)})},Z={getData:v,setData:m,disable:p,enable:C,focus:S,block:E,unblock:R,showTab:M,redial:H,close:G};return Z},qU=function(t){switch(t){case"large":return["tox-dialog--width-lg"];case"medium":return["tox-dialog--width-md"];default:return[]}},KU=function(t,r,o){var s=Fz(t.internalDialog.title,o),v=$U({body:t.internalDialog.body},o),m=Vz(t.internalDialog.buttons),p=Hz(m),C=jz({buttons:m},o),S=UF.initDialog(function(){return G},Iz(function(){return M},o.shared.providers,r),o.shared.getSink),E=qU(t.internalDialog.size),R={header:s,body:v,footer:_.some(C),extraClasses:E,extraBehaviours:[],extraStyles:{}},M=Lz(R,t,S,o),H=function(){var Z=function(){var ue=Gi.getBody(M);return cr.getCurrent(ue).getOr(ue)};return{getRoot:K(M),getBody:function(){return Gi.getBody(M)},getFooter:function(){return Gi.getFooter(M)},getFormWrapper:Z}}(),G=Gz(H,r.redial,p);return{dialog:M,instanceApi:G}},XU=function(t,r,o,s){var v,m,p=un("dialog-label"),C=un("dialog-content"),S=function(ae,xe){return _.some(xe)},E=qr(zU({title:t.internalDialog.title,draggable:!0},p,o.shared.providers)),R=qr(PU({body:t.internalDialog.body},C,o,s)),M=Vz(t.internalDialog.buttons),H=Hz(M),G=qr(jU({buttons:M},o)),Z=UF.initDialog(function(){return Ce},{onBlock:function(ae){an.block(ue,function(xe,Ge){return zz(ae.message,Ge,o.shared.providers)})},onUnblock:function(){an.unblock(ue)},onClose:function(){return r.closeWindow()}},o.shared.getSink),ue=Eo({dom:{tag:"div",classes:["tox-dialog","tox-dialog-inline"],attributes:(v={role:"dialog"},v["aria-labelledby"]=p,v["aria-describedby"]=C,v)},eventOrder:(m={},m[ds()]=[Nc.name(),Sl.name()],m[Hl()]=["execute-on-form"],m[bl()]=["reflecting","execute-on-form"],m),behaviours:zt([Bn.config({mode:"cyclic",onEscape:function(ae){return dr(ae,Es),_.some(!0)},useTabstopAt:function(ae){return!Yb(ae)&&(Un(ae)!=="button"||za(ae,"disabled")!=="disabled")}}),Nc.config({channel:VF,updateState:S,initialData:t}),Vn.config({}),ar("execute-on-form",Z.concat([zf(vs(),function(ae,xe){Bn.focusIn(ae)})])),an.config({getRoot:function(){return _.some(ue)}}),Kn.config({}),Ep.memory({})]),components:[E.asSpec(),R.asSpec(),G.asSpec()]}),Ce=Gz({getRoot:K(ue),getFooter:function(){return G.get(ue)},getBody:function(){return R.get(ue)},getFormWrapper:function(){var ae=R.get(ue);return cr.getCurrent(ae).getOr(ae)}},r.redial,H);return{dialog:ue,instanceApi:Ce}},jF=tinymce.util.Tools.resolve("tinymce.util.URI"),YU=function(t){var r=function(p){t.getSystem().isConnected()&&p(t)},o=function(p){if(!_t(p))throw new Error("The urlDialogInstanceAPI.block function should be passed a blocking message of type string as an argument");r(function(C){Rn(C,$k,{message:p})})},s=function(){r(function(p){dr(p,Ub)})},v=function(){r(function(p){dr(p,Es)})},m=function(p){r(function(C){C.getSystem().broadcastOn([Ez],p)})};return{block:o,unblock:s,close:v,sendMessage:m}},JU=["insertContent","setContent","execCommand","close","block","unblock"],qz=function(t){return ut(t)&&JU.indexOf(t.mceAction)!==-1},ZU=function(t){return!qz(t)&&ut(t)&&Cr(t,"mceAction")},QU=function(t,r,o){switch(o.mceAction){case"insertContent":t.insertContent(o.content);break;case"setContent":t.setContent(o.content);break;case"execCommand":var s=et(o.ui)?o.ui:!1;t.execCommand(o.cmd,s,o.value);break;case"close":r.close();break;case"block":r.block(o.message);break;case"unblock":r.unblock();break}},eW=function(t,r,o,s){var v,m=Fz(t.title,s),p=NU(t),C=t.buttons.bind(function(xe){return xe.length===0?_.none():_.some(jz({buttons:xe},s))}),S=UF.initUrlDialog(function(){return ae},Iz(function(){return Ce},s.shared.providers,r)),E=ve(ve({},t.height.fold(function(){return{}},function(xe){return{height:xe+"px","max-height":xe+"px"}})),t.width.fold(function(){return{}},function(xe){return{width:xe+"px","max-width":xe+"px"}})),R=t.width.isNone()&&t.height.isNone()?["tox-dialog--width-lg"]:[],M=new jF(t.url,{base_uri:new jF(window.location.href)}),H=M.protocol+"://"+M.host+(M.port?":"+M.port:""),G=Vd(),Z=[ar("messages",[Ha(function(){var xe=bo(le.fromDom(window),"message",function(Ge){if(M.isSameOrigin(new jF(Ge.raw.origin))){var Ze=Ge.raw.data;qz(Ze)?QU(o,ae,Ze):ZU(Ze)&&t.onMessage(ae,Ze)}});G.set(xe)}),yl(G.clear)]),Sl.config({channels:(v={},v[Ez]={onReceive:function(xe,Ge){Io(xe.element,"iframe").each(function(Ze){var Se=Ze.dom.contentWindow;Se.postMessage(Ge,H)})}},v)})],ue={header:m,body:p,footer:C,extraClasses:R,extraBehaviours:Z,extraStyles:E},Ce=Lz(ue,t,S,s),ae=YU(Ce);return{dialog:Ce,instanceApi:ae}},tW=function(t){var r=t.backstage.shared,o=function(s,v){var m=function(){Gi.hide(E),v()},p=qr(e0({name:"close-alert",text:"OK",primary:!0,align:"end",disabled:!1,icon:_.none()},"cancel",t.backstage)),C=_z(),S=Dz(m,r.providers),E=Eo(HF({lazySink:function(){return r.getSink()},header:Az(C,S),body:Rz(s,r.providers),footer:_.some(Bz(Mz([],[p.asSpec()]))),onEscape:m,extraClasses:["tox-alert-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[ft(oc,m)],eventOrder:{}}));Gi.show(E);var R=p.get(E);Vn.focus(R)};return{open:o}},nW=function(t){var r=t.backstage.shared,o=function(s,v){var m=function(H){Gi.hide(R),v(H)},p=qr(e0({name:"yes",text:"Yes",primary:!0,align:"end",disabled:!1,icon:_.none()},"submit",t.backstage)),C=e0({name:"no",text:"No",primary:!1,align:"end",disabled:!1,icon:_.none()},"cancel",t.backstage),S=_z(),E=Dz(function(){return m(!1)},r.providers),R=Eo(HF({lazySink:function(){return r.getSink()},header:Az(S,E),body:Rz(s,r.providers),footer:_.some(Bz(Mz([],[C,p.asSpec()]))),onEscape:function(){return m(!1)},extraClasses:["tox-confirm-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[ft(oc,function(){return m(!1)}),ft(Hb,function(){return m(!0)})],eventOrder:{}}));Gi.show(R);var M=p.get(R);Vn.focus(M)};return{open:o}},rW=function(t,r){return Is(Xa("data",r,t))},aW=function(t){return X2(t,".tox-alert-dialog")||X2(t,".tox-confirm-dialog")},oW=function(t,r,o){return r&&o?[]:[ou.config({contextual:{lazyContext:function(){return _.some(xo(le.fromDom(t.getContentAreaContainer())))},fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition"},modes:["top"]})]},iW=function(t){var r=t.backstage,o=t.editor,s=Tk(o),v=tW(t),m=nW(t),p=function(Z,ue,Ce){return ue!==void 0&&ue.inline==="toolbar"?R(Z,r.shared.anchors.inlineDialog(),Ce,ue.ariaAttrs):ue!==void 0&&ue.inline==="cursor"?R(Z,r.shared.anchors.cursor(),Ce,ue.ariaAttrs):E(Z,Ce)},C=function(Z,ue){return S(Z,ue)},S=function(Z,ue){var Ce=function(ae){var xe=eW(ae,{closeWindow:function(){Gi.hide(xe.dialog),ue(xe.instanceApi)}},o,r);return Gi.show(xe.dialog),xe.instanceApi};return GO.openUrl(Ce,Z)},E=function(Z,ue){var Ce=function(ae,xe,Ge){var Ze=xe,Se={dataValidator:Ge,initialData:Ze,internalDialog:ae},ze=KU(Se,{redial:GO.redial,closeWindow:function(){Gi.hide(ze.dialog),ue(ze.instanceApi)}},r);return Gi.show(ze.dialog),ze.instanceApi.setData(Ze),ze.instanceApi};return GO.open(Ce,Z)},R=function(Z,ue,Ce,ae){var xe=function(Ge,Ze,Se){var ze=rW(Ze,Se),at=so(),Yt=r.shared.header.isPositionedAtTop(),ct={dataValidator:Se,initialData:ze,internalDialog:Ge},Jt=function(){return at.on(function(Kt){Jr.reposition(Kt),ou.refresh(Kt)})},mt=XU(ct,{redial:GO.redial,closeWindow:function(){at.on(Jr.hide),o.off("ResizeEditor",Jt),at.clear(),Ce(mt.instanceApi)}},r,ae),rt=Eo(Jr.sketch(ve(ve({lazySink:r.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:{}},Yt?{}:{fireRepositionEventInstead:{}}),{inlineBehaviours:zt(En([ar("window-manager-inline-events",[ft(Us(),function(Kt,gn){dr(mt.dialog,oc)})])],oW(o,s,Yt),!0)),isExtraPart:function(Kt,gn){return aW(gn)}})));return at.set(rt),Jr.showWithin(rt,jl(mt.dialog),{anchor:ue},_.some(Go())),(!s||!Yt)&&(ou.refresh(rt),o.on("ResizeEditor",Jt)),mt.instanceApi.setData(ze),Bn.focusIn(mt.dialog),mt.instanceApi};return GO.open(xe,Z)},M=function(Z,ue){m.open(Z,function(Ce){ue(Ce)})},H=function(Z,ue){v.open(Z,function(){ue()})},G=function(Z){Z.close()};return{open:p,openUrl:C,alert:H,close:G,confirm:M}};function uW(){jr.add("silver",function(t){var r=H9(t),o=r.uiMothership,s=r.backstage,v=r.renderUI,m=r.getUi;l6.register(t,s.shared);var p=iW({editor:t,backstage:s});return{renderUI:v,getWindowManagerImpl:K(p),getNotificationManagerImpl:function(){return iB(t,{backstage:s},o)},ui:m()}})}uW()})();tinymce.IconManager.add("default",{icons:{"accessibility-check":'<svg width="24" height="24"><path d="M12 2a2 2 0 012 2 2 2 0 01-2 2 2 2 0 01-2-2c0-1.1.9-2 2-2zm8 7h-5v12c0 .6-.4 1-1 1a1 1 0 01-1-1v-5c0-.6-.4-1-1-1a1 1 0 00-1 1v5c0 .6-.4 1-1 1a1 1 0 01-1-1V9H4a1 1 0 110-2h16c.6 0 1 .4 1 1s-.4 1-1 1z" fill-rule="nonzero"/></svg>',"action-next":'<svg width="24" height="24"><path fill-rule="nonzero" d="M5.7 7.3a1 1 0 00-1.4 1.4l7.7 7.7 7.7-7.7a1 1 0 10-1.4-1.4L12 13.6 5.7 7.3z"/></svg>',"action-prev":'<svg width="24" height="24"><path fill-rule="nonzero" d="M18.3 15.7a1 1 0 001.4-1.4L12 6.6l-7.7 7.7a1 1 0 001.4 1.4L12 9.4l6.3 6.3z"/></svg>',"align-center":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm3 4h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 110-2zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 010-2zm-3-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2z" fill-rule="evenodd"/></svg>',"align-justify":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2z" fill-rule="evenodd"/></svg>',"align-left":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm0 4h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2zm0-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2z" fill-rule="evenodd"/></svg>',"align-none":'<svg width="24" height="24"><path d="M14.2 5L13 7H5a1 1 0 110-2h9.2zm4 0h.8a1 1 0 010 2h-2l1.2-2zm-6.4 4l-1.2 2H5a1 1 0 010-2h6.8zm4 0H19a1 1 0 010 2h-4.4l1.2-2zm-6.4 4l-1.2 2H5a1 1 0 010-2h4.4zm4 0H19a1 1 0 010 2h-6.8l1.2-2zM7 17l-1.2 2H5a1 1 0 010-2h2zm4 0h8a1 1 0 010 2H9.8l1.2-2zm5.2-13.5l1.3.7-9.7 16.3-1.3-.7 9.7-16.3z" fill-rule="evenodd"/></svg>',"align-right":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm6 4h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm-6-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2z" fill-rule="evenodd"/></svg>',"arrow-left":'<svg width="24" height="24"><path d="M5.6 13l12 6a1 1 0 001.4-1V6a1 1 0 00-1.4-.9l-12 6a1 1 0 000 1.8z" fill-rule="evenodd"/></svg>',"arrow-right":'<svg width="24" height="24"><path d="M18.5 13l-12 6A1 1 0 015 18V6a1 1 0 011.4-.9l12 6a1 1 0 010 1.8z" fill-rule="evenodd"/></svg>',bold:'<svg width="24" height="24"><path d="M7.8 19c-.3 0-.5 0-.6-.2l-.2-.5V5.7c0-.2 0-.4.2-.5l.6-.2h5c1.5 0 2.7.3 3.5 1 .7.6 1.1 1.4 1.1 2.5a3 3 0 01-.6 1.9c-.4.6-1 1-1.6 1.2.4.1.9.3 1.3.6s.8.7 1 1.2c.4.4.5 1 .5 1.6 0 1.3-.4 2.3-1.3 3-.8.7-2.1 1-3.8 1H7.8zm5-8.3c.6 0 1.2-.1 1.6-.5.4-.3.6-.7.6-1.3 0-1.1-.8-1.7-2.3-1.7H9.3v3.5h3.4zm.5 6c.7 0 1.3-.1 1.7-.4.4-.4.6-.9.6-1.5s-.2-1-.7-1.4c-.4-.3-1-.4-2-.4H9.4v3.8h4z" fill-rule="evenodd"/></svg>',bookmark:'<svg width="24" height="24"><path d="M6 4v17l6-4 6 4V4c0-.6-.4-1-1-1H7a1 1 0 00-1 1z" fill-rule="nonzero"/></svg>',"border-style":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="2" x="3" y="6" rx="1"/><rect width="2.8" height="2" x="3" y="16" rx="1"/><rect width="2.8" height="2" x="6.8" y="16" rx="1"/><rect width="2.8" height="2" x="10.6" y="16" rx="1"/><rect width="2.8" height="2" x="14.4" y="16" rx="1"/><rect width="2.8" height="2" x="18.2" y="16" rx="1"/><rect width="8" height="2" x="3" y="11" rx="1"/><rect width="8" height="2" x="13" y="11" rx="1"/></g></svg>',"border-width":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="5" x="3" y="5" rx="1"/><rect width="18" height="3.5" x="3" y="11.5" rx="1"/><rect width="18" height="2" x="3" y="17" rx="1"/></g></svg>',brightness:'<svg width="24" height="24"><path d="M12 17c.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 01-.7.3 1 1 0 01-.7-.3 1 1 0 01-.3-.7v-1c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3zm0-10a1 1 0 01-.7-.3A1 1 0 0111 6V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 01-.7.3zm7 4c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 01-.7.3h-1a1 1 0 01-.7-.3 1 1 0 01-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1zM7 12c0 .3-.1.5-.3.7a1 1 0 01-.7.3H5a1 1 0 01-.7-.3A1 1 0 014 12c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1c.3 0 .5.1.7.3.2.2.3.4.3.7zm10 3.5l.7.8c.2.1.3.4.3.6 0 .3-.1.6-.3.8a1 1 0 01-.8.3 1 1 0 01-.6-.3l-.8-.7a1 1 0 01-.3-.8c0-.2.1-.5.3-.7a1 1 0 011.4 0zm-10-7l-.7-.8a1 1 0 01-.3-.6c0-.3.1-.6.3-.8.2-.2.5-.3.8-.3.2 0 .5.1.7.3l.7.7c.2.2.3.5.3.8 0 .2-.1.5-.3.7a1 1 0 01-.7.3 1 1 0 01-.8-.3zm10 0a1 1 0 01-.8.3 1 1 0 01-.7-.3 1 1 0 01-.3-.7c0-.3.1-.6.3-.8l.8-.7c.1-.2.4-.3.6-.3.3 0 .6.1.8.3.2.2.3.5.3.8 0 .2-.1.5-.3.7l-.7.7zm-10 7c.2-.2.5-.3.8-.3.2 0 .5.1.7.3a1 1 0 010 1.4l-.8.8a1 1 0 01-.6.3 1 1 0 01-.8-.3 1 1 0 01-.3-.8c0-.2.1-.5.3-.6l.7-.8zM12 8a4 4 0 013.7 2.4 4 4 0 010 3.2A4 4 0 0112 16a4 4 0 01-3.7-2.4 4 4 0 010-3.2A4 4 0 0112 8zm0 6.5c.7 0 1.3-.2 1.8-.7.5-.5.7-1.1.7-1.8s-.2-1.3-.7-1.8c-.5-.5-1.1-.7-1.8-.7s-1.3.2-1.8.7c-.5.5-.7 1.1-.7 1.8s.2 1.3.7 1.8c.5.5 1.1.7 1.8.7z" fill-rule="evenodd"/></svg>',browse:'<svg width="24" height="24"><path d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2h-4v-2h4V8H5v10h4v2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-8 9.4l-2.3 2.3a1 1 0 11-1.4-1.4l4-4a1 1 0 011.4 0l4 4a1 1 0 01-1.4 1.4L13 13.4V20a1 1 0 01-2 0v-6.6z" fill-rule="nonzero"/></svg>',cancel:'<svg width="24" height="24"><path d="M12 4.6a7.4 7.4 0 110 14.8 7.4 7.4 0 010-14.8zM12 3a9 9 0 100 18 9 9 0 000-18zm0 8L14.8 8l1 1.1-2.7 2.8 2.7 2.7-1.1 1.1-2.7-2.7-2.7 2.7-1-1.1 2.6-2.7-2.7-2.7 1-1.1 2.8 2.7z" fill-rule="nonzero"/></svg>',"cell-background-color":'<svg width="24" height="24"><path d="M15.7 2l1.6 1.6-2.7 2.6 5.9 5.8c.7.7.7 1.7 0 2.4l-6.3 6.1a1.7 1.7 0 01-2.4 0l-6.3-6.1c-.7-.7-.7-1.7 0-2.4L15.7 2zM18 12l-4.5-4L9 12h9zM4 16s2 2.4 2 3.8C6 21 5.1 22 4 22s-2-1-2-2.2C2 18.4 4 16 4 16z"/></svg>',"cell-border-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M5 13v5h2v2H5a2 2 0 01-2-2v-5h2zm8-7V4h6a2 2 0 012 2h-8z" opacity=".2"/><path fill-rule="nonzero" d="M13 4v2H5v7H3V6c0-1.1.9-2 2-2h8zm-2.6 14.1l.1-.1.1.1.2.3.2.2.2.2c.4.6.8 1.2.8 1.7 0 .8-.7 1.5-1.5 1.5S9 21.3 9 20.5c0-.5.4-1.1.8-1.7l.2-.2.2-.2.2-.3z"/><path d="M13 11l-2 2H5v-2h6V6h2z"/><path fill-rule="nonzero" d="M18.4 8l1 1-1.8 1.9 4 4c.5.4.5 1.1 0 1.6l-4.3 4.2a1.2 1.2 0 01-1.6 0l-4.4-4.2c-.4-.5-.4-1.2 0-1.7l7-6.8zm1.6 7l-3-3-3 3h6z"/></g></svg>',"change-case":'<svg width="24" height="24"><path d="M18.4 18.2v-.6c-.5.8-1.3 1.2-2.4 1.2-2.2 0-3.3-1.6-3.3-4.8 0-3.1 1-4.7 3.3-4.7 1.1 0 1.8.3 2.4 1.1v-.6c0-.5.4-.8.8-.8s.8.3.8.8v8.4c0 .5-.4.8-.8.8a.8.8 0 01-.8-.8zm-2-7.4c-1.3 0-1.8.9-1.8 3.2 0 2.4.5 3.3 1.7 3.3 1.3 0 1.8-.9 1.8-3.2 0-2.4-.5-3.3-1.7-3.3zM10 15.7H5.5l-.8 2.6a1 1 0 01-1 .7h-.2a.7.7 0 01-.7-1l4-12a1 1 0 012 0l4 12a.7.7 0 01-.8 1h-.2a1 1 0 01-1-.7l-.8-2.6zm-.3-1.5l-2-6.5-1.9 6.5h3.9z" fill-rule="evenodd"/></svg>',"character-count":'<svg width="24" height="24"><path d="M4 11.5h16v1H4v-1zm4.8-6.8V10H7.7V5.8h-1v-1h2zM11 8.3V9h2v1h-3V7.7l2-1v-.9h-2v-1h3v2.4l-2 1zm6.3-3.4V10h-3.1V9h2.1V8h-2.1V6.8h2.1v-1h-2.1v-1h3.1zM5.8 16.4c0-.5.2-.8.5-1 .2-.2.6-.3 1.2-.3l.8.1c.2 0 .4.2.5.3l.4.4v2.8l.2.3H8.2v-.1-.2l-.6.3H7c-.4 0-.7 0-1-.2a1 1 0 01-.3-.9c0-.3 0-.6.3-.8.3-.2.7-.4 1.2-.4l.6-.2h.3v-.2l-.1-.2a.8.8 0 00-.5-.1 1 1 0 00-.4 0l-.3.4h-1zm2.3.8h-.2l-.2.1-.4.1a1 1 0 00-.4.2l-.2.2.1.3.5.1h.4l.4-.4v-.6zm2-3.4h1.2v1.7l.5-.3h.5c.5 0 .9.1 1.2.5.3.4.5.8.5 1.4 0 .6-.2 1.1-.5 1.5-.3.4-.7.6-1.3.6l-.6-.1-.4-.4v.4h-1.1v-5.4zm1.1 3.3c0 .3 0 .6.2.8a.7.7 0 001.2 0l.2-.8c0-.4 0-.6-.2-.8a.7.7 0 00-.6-.3l-.6.3-.2.8zm6.1-.5c0-.2 0-.3-.2-.4a.8.8 0 00-.5-.2c-.3 0-.5.1-.6.3l-.2.9c0 .3 0 .6.2.8.1.2.3.3.6.3.2 0 .4 0 .5-.2l.2-.4h1.1c0 .5-.3.8-.6 1.1a2 2 0 01-1.3.4c-.5 0-1-.2-1.3-.6a2 2 0 01-.5-1.4c0-.6.1-1.1.5-1.5.3-.4.8-.5 1.4-.5.5 0 1 0 1.2.3.4.3.5.7.5 1.2h-1v-.1z" fill-rule="evenodd"/></svg>',"checklist-rtl":'<svg width="24" height="24"><path d="M5 17h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm14.2 11c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 8c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8z" fill-rule="evenodd"/></svg>',checklist:'<svg width="24" height="24"><path d="M11 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0-6h8a1 1 0 010 2h-8a1 1 0 010-2zM7.2 16c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 8c-.2.3-.7.4-1 0L3.8 6.9a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8z" fill-rule="evenodd"/></svg>',checkmark:'<svg width="24" height="24"><path d="M18.2 5.4a1 1 0 011.6 1.2l-8 12a1 1 0 01-1.5.1l-5-5a1 1 0 111.4-1.4l4.1 4.1 7.4-11z" fill-rule="nonzero"/></svg>',"chevron-down":'<svg width="10" height="10"><path d="M8.7 2.2c.3-.3.8-.3 1 0 .4.4.4.9 0 1.2L5.7 7.8c-.3.3-.9.3-1.2 0L.2 3.4a.8.8 0 010-1.2c.3-.3.8-.3 1.1 0L5 6l3.7-3.8z" fill-rule="nonzero"/></svg>',"chevron-left":'<svg width="10" height="10"><path d="M7.8 1.3L4 5l3.8 3.7c.3.3.3.8 0 1-.4.4-.9.4-1.2 0L2.2 5.7a.8.8 0 010-1.2L6.6.2C7 0 7.4 0 7.8.2c.3.3.3.8 0 1.1z" fill-rule="nonzero"/></svg>',"chevron-right":'<svg width="10" height="10"><path d="M2.2 1.3a.8.8 0 010-1c.4-.4.9-.4 1.2 0l4.4 4.1c.3.4.3.9 0 1.2L3.4 9.8c-.3.3-.8.3-1.2 0a.8.8 0 010-1.1L6 5 2.2 1.3z" fill-rule="nonzero"/></svg>',"chevron-up":'<svg width="10" height="10"><path d="M8.7 7.8L5 4 1.3 7.8c-.3.3-.8.3-1 0a.8.8 0 010-1.2l4.1-4.4c.3-.3.9-.3 1.2 0l4.2 4.4c.3.3.3.9 0 1.2-.3.3-.8.3-1.1 0z" fill-rule="nonzero"/></svg>',close:'<svg width="24" height="24"><path d="M17.3 8.2L13.4 12l3.9 3.8a1 1 0 01-1.5 1.5L12 13.4l-3.8 3.9a1 1 0 01-1.5-1.5l3.9-3.8-3.9-3.8a1 1 0 011.5-1.5l3.8 3.9 3.8-3.9a1 1 0 011.5 1.5z" fill-rule="evenodd"/></svg>',"code-sample":'<svg width="24" height="26"><path d="M7.1 11a2.8 2.8 0 01-.8 2 2.8 2.8 0 01.8 2v1.7c0 .3.1.6.4.8.2.3.5.4.8.4.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.7 0-1.4-.3-2-.8-.5-.6-.8-1.3-.8-2V15c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 01-.4-.4v-.8c0-.2.2-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V9.3c0-.7.3-1.4.8-2 .6-.5 1.3-.8 2-.8.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8V11zm9.8 0V9.3c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 01-.4-.4V7c0-.2.1-.4.4-.4.7 0 1.4.3 2 .8.5.6.8 1.3.8 2V11c0 .3.1.6.4.8.2.3.5.4.8.4.2 0 .4.2.4.4v.8c0 .2-.2.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8v1.7c0 .7-.3 1.4-.8 2-.6.5-1.3.8-2 .8a.4.4 0 01-.4-.4v-.8c0-.2.1-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V15a2.8 2.8 0 01.8-2 2.8 2.8 0 01-.8-2zm-3.3-.4c0 .4-.1.8-.5 1.1-.3.3-.7.5-1.1.5-.4 0-.8-.2-1.1-.5-.4-.3-.5-.7-.5-1.1 0-.5.1-.9.5-1.2.3-.3.7-.4 1.1-.4.4 0 .8.1 1.1.4.4.3.5.7.5 1.2zM12 13c.4 0 .8.1 1.1.5.4.3.5.7.5 1.1 0 1-.1 1.6-.5 2a3 3 0 01-1.1 1c-.4.3-.8.4-1.1.4a.5.5 0 01-.5-.5V17a3 3 0 001-.2l.6-.6c-.6 0-1-.2-1.3-.5-.2-.3-.3-.7-.3-1 0-.5.1-1 .5-1.2.3-.4.7-.5 1.1-.5z" fill-rule="evenodd"/></svg>',"color-levels":'<svg width="24" height="24"><path d="M17.5 11.4A9 9 0 0118 14c0 .5 0 1-.2 1.4 0 .4-.3.9-.5 1.3a6.2 6.2 0 01-3.7 3 5.7 5.7 0 01-3.2 0A5.9 5.9 0 017.6 18a6.2 6.2 0 01-1.4-2.6 6.7 6.7 0 010-2.8c0-.4.1-.9.3-1.3a13.6 13.6 0 012.3-4A20 20 0 0112 4a26.4 26.4 0 013.2 3.4 18.2 18.2 0 012.3 4zm-2 4.5c.4-.7.5-1.4.5-2a7.3 7.3 0 00-1-3.2c.2.6.2 1.2.2 1.9a4.5 4.5 0 01-1.3 3 5.3 5.3 0 01-2.3 1.5 4.9 4.9 0 01-2 .1 4.3 4.3 0 002.4.8 4 4 0 002-.6 4 4 0 001.5-1.5z" fill-rule="evenodd"/></svg>',"color-picker":'<svg width="24" height="24"><path d="M12 3a9 9 0 000 18 1.5 1.5 0 001.1-2.5c-.2-.3-.4-.6-.4-1 0-.8.7-1.5 1.5-1.5H16a5 5 0 005-5c0-4.4-4-8-9-8zm-5.5 9a1.5 1.5 0 110-3 1.5 1.5 0 010 3zm3-4a1.5 1.5 0 110-3 1.5 1.5 0 010 3zm5 0a1.5 1.5 0 110-3 1.5 1.5 0 010 3zm3 4a1.5 1.5 0 110-3 1.5 1.5 0 010 3z" fill-rule="nonzero"/></svg>',"color-swatch-remove-color":'<svg width="24" height="24"><path stroke="#000" stroke-width="2" d="M21 3L3 21" fill-rule="evenodd"/></svg>',"color-swatch":'<svg width="24" height="24"><rect x="3" y="3" width="18" height="18" rx="1" fill-rule="evenodd"/></svg>',"comment-add":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M9 19l3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 00-1 1v10c0 .6.4 1 1 1h4v2zm-2 4v-4H5a3 3 0 01-3-3V6a3 3 0 013-3h14a3 3 0 013 3v10a3 3 0 01-3 3h-6.4L7 23z"/><path d="M13 10h2a1 1 0 010 2h-2v2a1 1 0 01-2 0v-2H9a1 1 0 010-2h2V8a1 1 0 012 0v2z"/></g></svg>',comment:'<svg width="24" height="24"><path fill-rule="nonzero" d="M9 19l3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 00-1 1v10c0 .6.4 1 1 1h4v2zm-2 4v-4H5a3 3 0 01-3-3V6a3 3 0 013-3h14a3 3 0 013 3v10a3 3 0 01-3 3h-6.4L7 23z"/></svg>',contrast:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 015.7 2.3A8 8 0 1112 4zm-6 8a6 6 0 006 6V6a6 6 0 00-6 6z" fill-rule="evenodd"/></svg>',copy:'<svg width="24" height="24"><path d="M16 3H6a2 2 0 00-2 2v11h2V5h10V3zm1 4a2 2 0 012 2v10a2 2 0 01-2 2h-7a2 2 0 01-2-2V9c0-1.2.9-2 2-2h7zm0 12V9h-7v10h7z" fill-rule="nonzero"/></svg>',crop:'<svg width="24" height="24"><path d="M17 8v7h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v2c0 .6-.4 1-1 1a1 1 0 01-1-1v-2H7V9H5a1 1 0 110-2h2V5c0-.6.4-1 1-1s1 .4 1 1v2h7l3-3 1 1-3 3zM9 9v5l5-5H9zm1 6h5v-5l-5 5z" fill-rule="evenodd"/></svg>',"cut-column":'<svg width="24" height="24"><path fill-rule="evenodd" d="M7.2 4.5c.9 0 1.6.4 2.2 1A3.7 3.7 0 0110.5 8v.5l1 1 4-4 1-.5a3.3 3.3 0 012 0c.4 0 .7.3 1 .5L17 8h4v13h-6V10l-1.5 1.5.5.5v4l-2.5-2.5-1 1v.5c0 .4 0 .8-.3 1.2-.2.5-.4.9-.8 1.2-.6.7-1.3 1-2.2 1-.8.2-1.5 0-2-.6l-.5-.8-.2-1c0-.4 0-.8.3-1.2A3.9 3.9 0 017 12.7c.5-.2 1-.3 1.5-.2l1-1-1-1c-.5 0-1 0-1.5-.2-.5-.1-1-.4-1.4-.9-.4-.3-.6-.7-.8-1.2L4.5 7c0-.4 0-.7.2-1 0-.3.3-.6.5-.8.5-.5 1.2-.8 2-.7zm12.3 5h-3v10h3v-10zM8 13.8h-.3l-.4.2a2.8 2.8 0 00-.7.4v.1a2.8 2.8 0 00-.6.8l-.1.4v.7l.2.5.5.2h.7a2.6 2.6 0 00.8-.3 2.4 2.4 0 00.7-.7 2.5 2.5 0 00.3-.8 1.5 1.5 0 000-.8 1 1 0 00-.2-.4 1 1 0 00-.5-.2H8zm3.5-3.7c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4zM7 5.8h-.4a1 1 0 00-.5.3 1 1 0 00-.2.5v.7a2.5 2.5 0 00.3.8l.2.3h.1l.4.4.4.2.4.1h.7L9 9l.2-.4a1.6 1.6 0 000-.8 2.6 2.6 0 00-.3-.8A2.5 2.5 0 007.7 6l-.4-.1H7z"/></svg>',"cut-row":'<svg width="24" height="24"><path fill-rule="evenodd" d="M22 3v5H9l3 3 2-2h4l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8.7.6 1 1.3 1 2.2.2.8 0 1.5-.6 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 01-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 018.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 010-2c0-.4.3-.7.5-1l2 2V3h14zM8.5 15.3h-.3a2.6 2.6 0 00-.8.4 2.5 2.5 0 00-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 00.8-.3L9 18V18l.4-.4.2-.4.1-.4v-.3-.4a1 1 0 00-.2-.5 1 1 0 00-.4-.2h-.5zm7 0H15a1 1 0 00-.4.3 1 1 0 00-.2.5 1.5 1.5 0 000 .7v.4a2.8 2.8 0 00.5.7h.1a2.8 2.8 0 00.8.6l.4.1h.7l.5-.2.2-.5v-.4-.3a2.6 2.6 0 00-.3-.8 2.4 2.4 0 00-.7-.7 2.5 2.5 0 00-.8-.3h-.3zM12 11.6c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4zm8.5-7.1h-11v2h11v-2z"/></svg>',cut:'<svg width="24" height="24"><path d="M18 15c.6.7 1 1.4 1 2.3 0 .8-.2 1.5-.7 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 01-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 018.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 010-2c0-.4.3-.7.5-1l6 6 6-6 .5 1a3.3 3.3 0 010 2c0 .4-.3.7-.5 1l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8zm-8.5 2.2l.1-.4v-.3-.4a1 1 0 00-.2-.5 1 1 0 00-.4-.2 1.6 1.6 0 00-.8 0 2.6 2.6 0 00-.8.3 2.5 2.5 0 00-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 00.8-.3 2.8 2.8 0 001-1zm2.5-2.8c.4 0 .7-.1 1-.4.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4s-.7.1-1 .4c-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4zm5.4 4l.2-.5v-.4-.3a2.6 2.6 0 00-.3-.8 2.4 2.4 0 00-.7-.7 2.5 2.5 0 00-.8-.3 1.5 1.5 0 00-.8 0 1 1 0 00-.4.2 1 1 0 00-.2.5 1.5 1.5 0 000 .7v.4l.3.4.3.4a2.8 2.8 0 00.8.5l.4.1h.7l.5-.2z" fill-rule="evenodd"/></svg>',"document-properties":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 00-2 2v14c0 1.1.9 2 2 2h10a2 2 0 002-2V7.6L14.4 3zM17 19H7V5h6v4h4v10z" fill-rule="nonzero"/></svg>',drag:'<svg width="24" height="24"><path d="M13 5h2v2h-2V5zm0 4h2v2h-2V9zM9 9h2v2H9V9zm4 4h2v2h-2v-2zm-4 0h2v2H9v-2zm0 4h2v2H9v-2zm4 0h2v2h-2v-2zM9 5h2v2H9V5z" fill-rule="evenodd"/></svg>',"duplicate-column":'<svg width="24" height="24"><path d="M17 6v16h-7V6h7zm-2 2h-3v12h3V8zm-2-6v2H8v15H6V2h7z"/></svg>',"duplicate-row":'<svg width="24" height="24"><path d="M22 11v7H6v-7h16zm-2 2H8v3h12v-3zm-1-6v2H4v5H2V7h17z"/></svg>',duplicate:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M16 3v2H6v11H4V5c0-1.1.9-2 2-2h10zm3 8h-2V9h-7v10h9a2 2 0 01-2 2h-7a2 2 0 01-2-2V9c0-1.2.9-2 2-2h7a2 2 0 012 2v2z"/><path d="M17 14h1a1 1 0 010 2h-1v1a1 1 0 01-2 0v-1h-1a1 1 0 010-2h1v-1a1 1 0 012 0v1z"/></g></svg>',"edit-block":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19.8 8.8l-9.4 9.4c-.2.2-.5.4-.9.4l-5.4 1.2 1.2-5.4.5-.8 9.4-9.4c.7-.7 1.8-.7 2.5 0l2.1 2.1c.7.7.7 1.8 0 2.5zm-2-.2l1-.9v-.3l-2.2-2.2a.3.3 0 00-.3 0l-1 1L18 8.5zm-1 1l-2.5-2.4-6 6 2.5 2.5 6-6zm-7 7.1l-2.6-2.4-.3.3-.1.2-.7 3 3.1-.6h.1l.4-.5z"/></svg>',"edit-image":'<svg width="24" height="24"><path d="M18 16h2V7a2 2 0 00-2-2H7v2h11v9zM6 17h15a1 1 0 010 2h-1v1a1 1 0 01-2 0v-1H6a2 2 0 01-2-2V7H3a1 1 0 110-2h1V4a1 1 0 112 0v13zm3-5.3l1.3 2 3-4.7 3.7 6H7l2-3.3z" fill-rule="nonzero"/></svg>',"embed-page":'<svg width="24" height="24"><path d="M19 6V5H5v14h2A13 13 0 0119 6zm0 1.4c-.8.8-1.6 2.4-2.2 4.6H19V7.4zm0 5.6h-2.4c-.4 1.8-.6 3.8-.6 6h3v-6zm-4 6c0-2.2.2-4.2.6-6H13c-.7 1.8-1.1 3.8-1.1 6h3zm-4 0c0-2.2.4-4.2 1-6H9.6A12 12 0 008 19h3zM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 01-1-1V4c0-.6.4-1 1-1zm11.8 9c.4-1.9 1-3.4 1.8-4.5a9.2 9.2 0 00-4 4.5h2.2zm-3.4 0a12 12 0 012.8-4 12 12 0 00-5 4h2.2z" fill-rule="nonzero"/></svg>',embed:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 01-1-1V4c0-.6.4-1 1-1zm1 2v14h14V5H5zm4.8 2.6l5.6 4a.5.5 0 010 .8l-5.6 4A.5.5 0 019 16V8a.5.5 0 01.8-.4z" fill-rule="nonzero"/></svg>',emoji:'<svg width="24" height="24"><path d="M9 11c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 00-1 1c0 .6.4 1 1 1zm6 0c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 00-1 1c0 .6.4 1 1 1zm-3 5.5c2.1 0 4-1.5 4.4-3.5H7.6c.5 2 2.3 3.5 4.4 3.5zM12 4a8 8 0 100 16 8 8 0 000-16zm0 14.5a6.5 6.5 0 110-13 6.5 6.5 0 010 13z" fill-rule="nonzero"/></svg>',export:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M14.4 3L18 7v1h-5V5H7v14h9a1 1 0 012 0c0 1-.8 2-1.9 2H7c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2h7.5z"/><path d="M18.1 12c.5 0 .9.4.9 1 0 .5-.3 1-.8 1h-7.3c-.5 0-.9-.4-.9-1 0-.5.3-1 .8-1h7.3z"/><path d="M16.4 9.2a1 1 0 011.4.2l2.4 3.6-2.4 3.6a1 1 0 01-1.7-1v-.2l1.7-2.4-1.6-2.4a1 1 0 01.2-1.4z"/></g></svg>',fill:'<svg width="24" height="26"><path d="M16.6 12l-9-9-1.4 1.4 2.4 2.4-5.2 5.1c-.5.6-.5 1.6 0 2.2L9 19.6a1.5 1.5 0 002.2 0l5.5-5.5c.5-.6.5-1.6 0-2.2zM5.2 13L10 8.2l4.8 4.8H5.2zM19 14.5s-2 2.2-2 3.5c0 1.1.9 2 2 2a2 2 0 002-2c0-1.3-2-3.5-2-3.5z" fill-rule="nonzero"/></svg>',"flip-horizontally":'<svg width="24" height="24"><path d="M14 19h2v-2h-2v2zm4-8h2V9h-2v2zM4 7v10c0 1.1.9 2 2 2h3v-2H6V7h3V5H6a2 2 0 00-2 2zm14-2v2h2a2 2 0 00-2-2zm-7 16h2V3h-2v18zm7-6h2v-2h-2v2zm-4-8h2V5h-2v2zm4 12a2 2 0 002-2h-2v2z" fill-rule="nonzero"/></svg>',"flip-vertically":'<svg width="24" height="24"><path d="M5 14v2h2v-2H5zm8 4v2h2v-2h-2zm4-14H7a2 2 0 00-2 2v3h2V6h10v3h2V6a2 2 0 00-2-2zm2 14h-2v2a2 2 0 002-2zM3 11v2h18v-2H3zm6 7v2h2v-2H9zm8-4v2h2v-2h-2zM5 18c0 1.1.9 2 2 2v-2H5z" fill-rule="nonzero"/></svg>',"format-painter":'<svg width="24" height="24"><path d="M18 5V4c0-.5-.4-1-1-1H5a1 1 0 00-1 1v4c0 .6.5 1 1 1h12c.6 0 1-.4 1-1V7h1v4H9v9c0 .6.4 1 1 1h2c.6 0 1-.4 1-1v-7h8V5h-3z" fill-rule="nonzero"/></svg>',format:'<svg width="24" height="24"><path fill-rule="evenodd" d="M17 5a1 1 0 010 2h-4v11a1 1 0 01-2 0V7H7a1 1 0 110-2h10z"/></svg>',fullscreen:'<svg width="24" height="24"><path d="M15.3 10l-1.2-1.3 2.9-3h-2.3a.9.9 0 110-1.7H19c.5 0 .9.4.9.9v4.4a.9.9 0 11-1.8 0V7l-2.9 3zm0 4l3 3v-2.3a.9.9 0 111.7 0V19c0 .5-.4.9-.9.9h-4.4a.9.9 0 110-1.8H17l-3-2.9 1.3-1.2zM10 15.4l-2.9 3h2.3a.9.9 0 110 1.7H5a.9.9 0 01-.9-.9v-4.4a.9.9 0 111.8 0V17l2.9-3 1.2 1.3zM8.7 10L5.7 7v2.3a.9.9 0 01-1.7 0V5c0-.5.4-.9.9-.9h4.4a.9.9 0 010 1.8H7l3 2.9-1.3 1.2z" fill-rule="nonzero"/></svg>',gallery:'<svg width="24" height="24"><path fill-rule="nonzero" d="M5 15.7l2.3-2.2c.3-.3.7-.3 1 0L11 16l5.1-5c.3-.4.8-.4 1 0l2 1.9V8H5v7.7zM5 18V19h3l1.8-1.9-2-2L5 17.9zm14-3l-2.5-2.4-6.4 6.5H19v-4zM4 6h16c.6 0 1 .4 1 1v13c0 .6-.4 1-1 1H4a1 1 0 01-1-1V7c0-.6.4-1 1-1zm6 7a2 2 0 110-4 2 2 0 010 4zM4.5 4h15a.5.5 0 110 1h-15a.5.5 0 010-1zm2-2h11a.5.5 0 110 1h-11a.5.5 0 010-1z"/></svg>',gamma:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 01-1-1V4c0-.6.4-1 1-1zm1 2v14h14V5H5zm6.5 11.8V14L9.2 8.7a5.1 5.1 0 00-.4-.8l-.1-.2H8 8v-1l.3-.1.3-.1h.7a1 1 0 01.6.5l.1.3a8.5 8.5 0 01.3.6l1.9 4.6 2-5.2a1 1 0 011-.6.5.5 0 01.5.6L13 14v2.8a.7.7 0 01-1.4 0z" fill-rule="nonzero"/></svg>',help:'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M12 5.5a6.5 6.5 0 00-6 9 6.3 6.3 0 001.4 2l1 1a6.3 6.3 0 003.6 1 6.5 6.5 0 006-9 6.3 6.3 0 00-1.4-2l-1-1a6.3 6.3 0 00-3.6-1zM12 4a7.8 7.8 0 015.7 2.3A8 8 0 1112 4z"/><path d="M9.6 9.7a.7.7 0 01-.7-.8c0-1.1 1.5-1.8 3.2-1.8 1.8 0 3.2.8 3.2 2.4 0 1.4-.4 2.1-1.5 2.8-.2 0-.3.1-.3.2a2 2 0 00-.8.8.8.8 0 01-1.4-.6c.3-.7.8-1 1.3-1.5l.4-.2c.7-.4.8-.6.8-1.5 0-.5-.6-.9-1.7-.9-.5 0-1 .1-1.4.3-.2 0-.3.1-.3.2v-.2c0 .4-.4.8-.8.8z" fill-rule="nonzero"/><circle cx="12" cy="16" r="1"/></g></svg>',"highlight-bg-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path id="tox-icon-highlight-bg-color__color" d="M3 18h18v3H3z"/><path fill-rule="nonzero" d="M7.7 16.7H3l3.3-3.3-.7-.8L10.2 8l4 4.1-4 4.2c-.2.2-.6.2-.8 0l-.6-.7-1.1 1.1zm5-7.5L11 7.4l3-2.9a2 2 0 012.6 0L18 6c.7.7.7 2 0 2.7l-2.9 2.9-1.8-1.8-.5-.6"/></g></svg>',home:'<svg width="24" height="24"><path fill-rule="nonzero" d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></svg>',"horizontal-rule":'<svg width="24" height="24"><path d="M4 11h16v2H4z" fill-rule="evenodd"/></svg>',"image-options":'<svg width="24" height="24"><path d="M6 10a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2zm12 0a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2zm-6 0a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2z" fill-rule="nonzero"/></svg>',image:'<svg width="24" height="24"><path d="M5 15.7l3.3-3.2c.3-.3.7-.3 1 0L12 15l4.1-4c.3-.4.8-.4 1 0l2 1.9V5H5v10.7zM5 18V19h3l2.8-2.9-2-2L5 17.9zm14-3l-2.5-2.4-6.4 6.5H19v-4zM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 01-1-1V4c0-.6.4-1 1-1zm6 8a2 2 0 100-4 2 2 0 000 4z" fill-rule="nonzero"/></svg>',indent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 110-2zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 010-2zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 010-2zm-5 4h12a1 1 0 010 2H7a1 1 0 010-2zm-2.6-3.8L6.2 12l-1.8-1.2a1 1 0 011.2-1.6l3 2a1 1 0 010 1.6l-3 2a1 1 0 11-1.2-1.6z" fill-rule="evenodd"/></svg>',info:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 015.7 2.3A8 8 0 1112 4zm-1 3v2h2V7h-2zm3 10v-1h-1v-5h-3v1h1v4h-1v1h4z" fill-rule="evenodd"/></svg>',"insert-character":'<svg width="24" height="24"><path d="M15 18h4l1-2v4h-6v-3.3l1.4-1a6 6 0 001.8-2.9 6.3 6.3 0 00-.1-4.1 5.8 5.8 0 00-3-3.2c-.6-.3-1.3-.5-2.1-.5a5.1 5.1 0 00-3.9 1.8 6.3 6.3 0 00-1.3 6 6.2 6.2 0 001.8 3l1.4.9V20H4v-4l1 2h4v-.5l-2-1L5.4 15A6.5 6.5 0 014 11c0-1 .2-1.9.6-2.7A7 7 0 016.3 6C7.1 5.4 8 5 9 4.5c1-.3 2-.5 3.1-.5a8.8 8.8 0 015.7 2 7 7 0 011.7 2.3 6 6 0 01.2 4.8c-.2.7-.6 1.3-1 1.9a7.6 7.6 0 01-3.6 2.5v.5z" fill-rule="evenodd"/></svg>',"insert-time":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M12 19a7 7 0 100-14 7 7 0 000 14zm0 2a9 9 0 110-18 9 9 0 010 18z"/><path d="M16 12h-3V7c0-.6-.4-1-1-1a1 1 0 00-1 1v7h5c.6 0 1-.4 1-1s-.4-1-1-1z"/></g></svg>',invert:'<svg width="24" height="24"><path d="M18 19.3L16.5 18a5.8 5.8 0 01-3.1 1.9 6.1 6.1 0 01-5.5-1.6A5.8 5.8 0 016 14v-.3l.1-1.2A13.9 13.9 0 017.7 9l-3-3 .7-.8 2.8 2.9 9 8.9 1.5 1.6-.7.6zm0-5.5v.3l-.1 1.1-.4 1-1.2-1.2a4.3 4.3 0 00.2-1v-.2c0-.4 0-.8-.2-1.3l-.5-1.4a14.8 14.8 0 00-3-4.2L12 6a26.1 26.1 0 00-2.2 2.5l-1-1a20.9 20.9 0 012.9-3.3L12 4l1 .8a22.2 22.2 0 014 5.4c.6 1.2 1 2.4 1 3.6z" fill-rule="evenodd"/></svg>',italic:'<svg width="24" height="24"><path d="M16.7 4.7l-.1.9h-.3c-.6 0-1 0-1.4.3-.3.3-.4.6-.5 1.1l-2.1 9.8v.6c0 .5.4.8 1.4.8h.2l-.2.8H8l.2-.8h.2c1.1 0 1.8-.5 2-1.5l2-9.8.1-.5c0-.6-.4-.8-1.4-.8h-.3l.2-.9h5.8z" fill-rule="evenodd"/></svg>',language:'<svg width="24" height="24"><path d="M12 3a9 9 0 110 18 9 9 0 010-18zm4.3 13.3c-.5 1-1.2 2-2 2.9a7.5 7.5 0 003.2-2.1l-.2-.2a6 6 0 00-1-.6zm-8.6 0c-.5.2-.9.5-1.2.8.9 1 2 1.7 3.2 2a10 10 0 01-2-2.8zm3.6-.8c-.8 0-1.6.1-2.2.3.5 1 1.2 1.9 2.1 2.7zm1.5 0v3c.9-.8 1.6-1.7 2.1-2.7-.6-.2-1.4-.3-2.1-.3zm-6-2.7H4.5c.2 1 .5 2.1 1 3h.3l1.3-1a10 10 0 01-.3-2zm12.7 0h-2.3c0 .7-.1 1.4-.3 2l1.6 1.1c.5-1 .9-2 1-3.1zm-3.8 0h-3V14c1 0 2 .1 2.7.4.2-.5.3-1 .3-1.6zm-4.4 0h-3l.3 1.6c.8-.3 1.7-.4 2.7-.4v-1.3zm-5.5-5c-.7 1-1.1 2.2-1.3 3.5h2.3c0-1 .2-1.8.5-2.6l-1.5-1zm2.9 1.4v.1c-.2.6-.4 1.3-.4 2h3V9.4c-1 0-1.8-.1-2.6-.3zm6.6 0h-.1l-2.4.3v1.8h3l-.5-2.1zm3-1.4l-.3.1-1.3.8c.3.8.5 1.6.5 2.6h2.3a7.5 7.5 0 00-1.3-3.5zm-9 0l2 .2V5.5a9 9 0 00-2 2.2zm3.5-2.3V8c.6 0 1.3 0 1.9-.2a9 9 0 00-2-2.3zm-3-.7h-.1c-1.1.4-2.1 1-3 1.8l1.2.7a10 10 0 011.9-2.5zm4.4 0l.1.1a10 10 0 011.8 2.4l1.1-.7a7.5 7.5 0 00-3-1.8z"/></svg>',"line-height":'<svg width="24" height="24"><path d="M21 5a1 1 0 01.1 2H13a1 1 0 01-.1-2H21zm0 4a1 1 0 01.1 2H13a1 1 0 01-.1-2H21zm0 4a1 1 0 01.1 2H13a1 1 0 01-.1-2H21zm0 4a1 1 0 01.1 2H13a1 1 0 01-.1-2H21zM7 3.6l3.7 3.7a1 1 0 01-1.3 1.5h-.1L8 7.3v9.2l1.3-1.3a1 1 0 011.3 0h.1c.4.4.4 1 0 1.3v.1L7 20.4l-3.7-3.7a1 1 0 011.3-1.5h.1L6 16.7V7.4L4.7 8.7a1 1 0 01-1.3 0h-.1a1 1 0 010-1.3v-.1L7 3.6z"/></svg>',line:'<svg width="24" height="24"><path d="M15 9l-8 8H4v-3l8-8 3 3zm1-1l-3-3 1-1h1c-.2 0 0 0 0 0l2 2s0 .2 0 0v1l-1 1zM4 18h16v2H4v-2z" fill-rule="evenodd"/></svg>',link:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 011.4 1.4l-2.1 2a2 2 0 102.7 2.8l4.8-4.8a1 1 0 000-1.4 1 1 0 111.4-1.3 2.9 2.9 0 010 4L9.6 20a3.9 3.9 0 01-5.5-5.5l2-2zm11.6-.6a1 1 0 01-1.4-1.4l2-2a2 2 0 10-2.6-2.8L11 10.3a1 1 0 000 1.4A1 1 0 119.6 13a2.9 2.9 0 010-4L14.4 4a3.9 3.9 0 015.5 5.5l-2 2z" fill-rule="nonzero"/></svg>',"list-bull-circle":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M11 16a2 2 0 100-4 2 2 0 000 4zm0 1a3 3 0 110-6 3 3 0 010 6zM11 26a2 2 0 100-4 2 2 0 000 4zm0 1a3 3 0 110-6 3 3 0 010 6zM11 36a2 2 0 100-4 2 2 0 000 4zm0 1a3 3 0 110-6 3 3 0 010 6z" fill-rule="nonzero"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-default":'<svg width="48" height="48"><g fill-rule="evenodd"><circle cx="11" cy="14" r="3"/><circle cx="11" cy="24" r="3"/><circle cx="11" cy="34" r="3"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-square":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M8 11h6v6H8zM8 21h6v6H8zM8 31h6v6H8z"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-num-default-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 17v-4.8l-1.6 1v-1.1l1.6-1h1.2V17zM33.3 17.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm1.7 5.7c0-1.2 1-2 2.2-2 1.3 0 2.1.8 2.1 1.8 0 .7-.3 1.2-1.3 2.2l-1.2 1v.2h2.6v1h-4.3v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H35zm-1.7 4.3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm3.2 7.3v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H35c0-1.1 1-1.8 2.2-1.8 1.2 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.7.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .6 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm-3.3 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z"/></g></svg>',"list-num-default":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10 17v-4.8l-1.5 1v-1.1l1.6-1h1.2V17h-1.2zm3.6.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zm-5 5.7c0-1.2.8-2 2.1-2s2.1.8 2.1 1.8c0 .7-.3 1.2-1.4 2.2l-1.1 1v.2h2.6v1H8.6v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H8.5zm6.3 4.3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zM10 34.4v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H8.6c0-1.1 1-1.8 2.2-1.8 1.3 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.8.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .7 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm4.7 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z"/></g></svg>',"list-num-lower-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M36.5 16c-.9 0-1.5-.5-1.5-1.3s.6-1.3 1.8-1.4h1v-.4c0-.4-.2-.6-.7-.6-.4 0-.7.1-.8.4h-1.1c0-.8.8-1.4 2-1.4S39 12 39 13V16h-1.2v-.6c-.3.4-.8.7-1.4.7zm.4-.8c.6 0 1-.4 1-.9V14h-1c-.5.1-.7.3-.7.6 0 .4.3.6.7.6zM33.1 16.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zM37.7 26c-.7 0-1.2-.2-1.5-.7v.7H35v-6.3h1.2v2.5c.3-.5.8-.9 1.5-.9 1.1 0 1.8 1 1.8 2.4 0 1.5-.7 2.4-1.8 2.4zm-.5-3.6c-.6 0-1 .5-1 1.3s.4 1.4 1 1.4c.7 0 1-.6 1-1.4 0-.8-.3-1.3-1-1.3zM33.2 26.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm6 7h-1c-.1-.5-.4-.8-1-.8s-1 .5-1 1.4c0 1 .4 1.4 1 1.4.5 0 .9-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm-6.1 3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.3 15.2c.5 0 1-.4 1-.9V14h-1c-.5.1-.8.3-.8.6 0 .4.3.6.8.6zm-.4.9c-1 0-1.5-.6-1.5-1.4 0-.8.6-1.3 1.7-1.4h1.1v-.4c0-.4-.2-.6-.7-.6-.5 0-.8.1-.9.4h-1c0-.8.8-1.4 2-1.4 1.1 0 1.8.6 1.8 1.6V16h-1.1v-.6h-.1c-.2.4-.7.7-1.3.7zm4.6 0c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm-3.2 10c-.6 0-1.2-.3-1.4-.8v.7H8.5v-6.3H10v2.5c.3-.5.8-.9 1.4-.9 1.2 0 1.9 1 1.9 2.4 0 1.5-.7 2.4-1.9 2.4zm-.4-3.7c-.7 0-1 .5-1 1.3s.3 1.4 1 1.4c.6 0 1-.6 1-1.4 0-.8-.4-1.3-1-1.3zm4 3.7c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm-2.2 7h-1.2c0-.5-.4-.8-.9-.8-.6 0-1 .5-1 1.4 0 1 .4 1.4 1 1.4.5 0 .8-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm1.8 3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-greek-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 16c-1.2 0-2-.8-2-2.3 0-1.5.8-2.4 2-2.4.6 0 1 .4 1.3 1v-.9H40v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1-.7h-.2c-.2.4-.7.8-1.3.8zm.3-1c.6 0 1-.5 1-1.3s-.4-1.3-1-1.3-1 .5-1 1.3.4 1.4 1 1.4zM33.3 16.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zM36 21.9c0-1.5.8-2.3 2.1-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.9 1.3.9.3 1.3.8 1.3 1.7 0 1.2-.7 1.9-1.8 1.9-.6 0-1.1-.3-1.4-.8v2.2H36V22zm1.8 1.2v-1h.3c.5 0 .9-.2.9-.7 0-.5-.3-.8-.9-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1 1.3s1-.4 1-1-.4-1-1.2-1h-.3zM33.3 26.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zM37.1 34.6L34.8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.2.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2zm.7 1a2 2 0 00-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1zM33.3 36.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-greek":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.5 15c.7 0 1-.5 1-1.3s-.3-1.3-1-1.3c-.5 0-.9.5-.9 1.3s.4 1.4 1 1.4zm-.3 1c-1.1 0-1.8-.8-1.8-2.3 0-1.5.7-2.4 1.8-2.4.7 0 1.1.4 1.3 1h.1v-.9h1.2v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1.1-.7h-.1c-.2.4-.7.8-1.4.8zm5 .1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm-4.9 7v-1h.3c.6 0 1-.2 1-.7 0-.5-.4-.8-1-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1.1 1.3.6 0 1-.4 1-1s-.5-1-1.3-1h-.3zM8.6 22c0-1.5.7-2.3 2-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.8 1.3.8.3 1.3.8 1.3 1.7 0 1.2-.8 1.9-1.9 1.9-.6 0-1.1-.3-1.3-.8v2.2H8.5V22zm6.2 4.2c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zm-4.5 8.5L8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.1.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2zm.7 1a2 2 0 00-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1zm4.5.5c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M32.9 16v-1.2h-1.3V16H33zm0 10v-1.2h-1.3V26H33zm0 10v-1.2h-1.3V36H33z"/><path fill-rule="nonzero" d="M36 21h-1.5v5H36zM36 31h-1.5v5H36zM39 21h-1.5v5H39zM39 31h-1.5v5H39zM42 31h-1.5v5H42zM36 11h-1.5v5H36zM36 19h-1.5v1H36zM36 29h-1.5v1H36zM39 19h-1.5v1H39zM39 29h-1.5v1H39zM42 29h-1.5v1H42zM36 9h-1.5v1H36z"/></g></svg>',"list-num-lower-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 16v-1.2h1.3V16H15zm0 10v-1.2h1.3V26H15zm0 10v-1.2h1.3V36H15z"/><path fill-rule="nonzero" d="M12 21h1.5v5H12zM12 31h1.5v5H12zM9 21h1.5v5H9zM9 31h1.5v5H9zM6 31h1.5v5H6zM12 11h1.5v5H12zM12 19h1.5v1H12zM12 29h1.5v1H12zM9 19h1.5v1H9zM9 29h1.5v1H9zM6 29h1.5v1H6zM12 9h1.5v1H12z"/></g></svg>',"list-num-upper-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M39.3 17l-.5-1.4h-2l-.5 1.4H35l2-6h1.6l2 6h-1.3zm-1.6-4.7l-.7 2.3h1.6l-.8-2.3zM33.4 17c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zm4.7 9.9h-2.7v-6H38c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7zm-1.4-5v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1zm0 4h1.1c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9h-1.1V26zM33 27.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm4.9 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2zm-4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-upper-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M12.6 17l-.5-1.4h-2L9.5 17H8.3l2-6H12l2 6h-1.3zM11 12.3l-.7 2.3h1.6l-.8-2.3zm4.7 4.8c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zM11.4 27H8.7v-6h2.6c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7zM10 22v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1zm0 4H11c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9H10V26zm5.4 1.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm-4.1 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2zm4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-upper-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M31.6 17v-1.2H33V17h-1.3zm0 10v-1.2H33V27h-1.3zm0 10v-1.2H33V37h-1.3z"/><path fill-rule="nonzero" d="M34.5 20H36v7h-1.5zM34.5 30H36v7h-1.5zM37.5 20H39v7h-1.5zM37.5 30H39v7h-1.5zM40.5 30H42v7h-1.5zM34.5 10H36v7h-1.5z"/></g></svg>',"list-num-upper-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 17v-1.2h1.3V17H15zm0 10v-1.2h1.3V27H15zm0 10v-1.2h1.3V37H15z"/><path fill-rule="nonzero" d="M12 20h1.5v7H12zM12 30h1.5v7H12zM9 20h1.5v7H9zM9 30h1.5v7H9zM6 30h1.5v7H6zM12 10h1.5v7H12z"/></g></svg>',lock:'<svg width="24" height="24"><path d="M16.3 11c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H8V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h.3zM10 8v3h4V8a1 1 0 00-.3-.7A1 1 0 0013 7h-2a1 1 0 00-.7.3 1 1 0 00-.3.7z" fill-rule="evenodd"/></svg>',ltr:'<svg width="24" height="24"><path d="M11 5h7a1 1 0 010 2h-1v11a1 1 0 01-2 0V7h-2v11a1 1 0 01-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 017.8 10a3.3 3.3 0 010-2.8 3.4 3.4 0 011.8-1.8L11 5zM4.4 16.2L6.2 15l-1.8-1.2a1 1 0 011.2-1.6l3 2a1 1 0 010 1.6l-3 2a1 1 0 11-1.2-1.6z" fill-rule="evenodd"/></svg>',"more-drawer":'<svg width="24" height="24"><path d="M6 10a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2zm12 0a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2zm-6 0a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2z" fill-rule="nonzero"/></svg>',"new-document":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 00-2 2v14c0 1.1.9 2 2 2h10a2 2 0 002-2V7.6L14.4 3zM17 19H7V5h6v4h4v10z" fill-rule="nonzero"/></svg>',"new-tab":'<svg width="24" height="24"><path d="M15 13l2-2v8H5V7h8l-2 2H7v8h8v-4zm4-8v5.5l-2-2-5.6 5.5H10v-1.4L15.5 7l-2-2H19z" fill-rule="evenodd"/></svg>',"non-breaking":'<svg width="24" height="24"><path d="M11 11H8a1 1 0 110-2h3V6c0-.6.4-1 1-1s1 .4 1 1v3h3c.6 0 1 .4 1 1s-.4 1-1 1h-3v3c0 .6-.4 1-1 1a1 1 0 01-1-1v-3zm10 4v5H3v-5c0-.6.4-1 1-1s1 .4 1 1v3h14v-3c0-.6.4-1 1-1s1 .4 1 1z" fill-rule="evenodd"/></svg>',notice:'<svg width="24" height="24"><path d="M17.8 9.8L15.4 4 20 8.5v7L15.5 20h-7L4 15.5v-7L8.5 4h7l2.3 5.8zm0 0l2.2 5.7-2.3-5.8zM13 17v-2h-2v2h2zm0-4V7h-2v6h2z" fill-rule="evenodd"/></svg>',"ordered-list-rtl":'<svg width="24" height="24"><path d="M6 17h8a1 1 0 010 2H6a1 1 0 010-2zm0-6h8a1 1 0 010 2H6a1 1 0 010-2zm0-6h8a1 1 0 010 2H6a1 1 0 110-2zm13-1v3.5a.5.5 0 11-1 0V5h-.5a.5.5 0 110-1H19zm-1 8.8l.2.2h1.3a.5.5 0 110 1h-1.6a1 1 0 01-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 00-.2-.2h-1.3a.5.5 0 01-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3zm2 4.2v2c0 .6-.4 1-1 1h-1.5a.5.5 0 010-1h1.2a.3.3 0 100-.6h-1.3a.4.4 0 110-.8h1.3a.3.3 0 000-.6h-1.2a.5.5 0 110-1H19c.6 0 1 .4 1 1z" fill-rule="evenodd"/></svg>',"ordered-list":'<svg width="24" height="24"><path d="M10 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 110-2zM6 4v3.5c0 .3-.2.5-.5.5a.5.5 0 01-.5-.5V5h-.5a.5.5 0 010-1H6zm-1 8.8l.2.2h1.3c.3 0 .5.2.5.5s-.2.5-.5.5H4.9a1 1 0 01-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 00-.2-.2H4.5a.5.5 0 01-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3zM7 17v2c0 .6-.4 1-1 1H4.5a.5.5 0 010-1h1.2c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.4a.4.4 0 110-.8h1.3c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.5a.5.5 0 110-1H6c.6 0 1 .4 1 1z" fill-rule="evenodd"/></svg>',orientation:'<svg width="24" height="24"><path d="M7.3 6.4L1 13l6.4 6.5 6.5-6.5-6.5-6.5zM3.7 13l3.6-3.7L11 13l-3.7 3.7-3.6-3.7zM12 6l2.8 2.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0L9.2 5.7a.8.8 0 010-1.2L13.6.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L12 4h1a9 9 0 11-4.3 16.9l1.5-1.5A7 7 0 1013 6h-1z" fill-rule="nonzero"/></svg>',outdent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 110-2zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 010-2zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 010-2zm-5 4h12a1 1 0 010 2H7a1 1 0 010-2zm1.6-3.8a1 1 0 01-1.2 1.6l-3-2a1 1 0 010-1.6l3-2a1 1 0 011.2 1.6L6.8 12l1.8 1.2z" fill-rule="evenodd"/></svg>',"page-break":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M5 11c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 010-2zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1h-1a1 1 0 010-2zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zM7 3v5h10V3c0-.6.4-1 1-1s1 .4 1 1v7H5V3c0-.6.4-1 1-1s1 .4 1 1zM6 22a1 1 0 01-1-1v-7h14v7c0 .6-.4 1-1 1a1 1 0 01-1-1v-5H7v5c0 .6-.4 1-1 1z"/></g></svg>',paragraph:'<svg width="24" height="24"><path fill-rule="evenodd" d="M10 5h7a1 1 0 010 2h-1v11a1 1 0 01-2 0V7h-2v11a1 1 0 01-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 016.8 10a3.3 3.3 0 010-2.8 3.4 3.4 0 011.8-1.8L10 5z"/></svg>',"paste-column-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 012.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h7v2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0112 1zm8 7v12h-6V8h6zm-1.5 1.5h-3v9h3v-9zM12 3a1 1 0 100 2 1 1 0 000-2z"/></svg>',"paste-column-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 012.8 2H18c1 0 2 .8 2 1.9V18c0 1-.8 2-1.9 2H11v-2h7V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v2H4V5c0-1 .8-2 1.9-2H9.2A3 3 0 0112 1zm-2 7v12H4V8h6zM8.5 9.5h-3v9h3v-9zM12 3a1 1 0 100 2 1 1 0 000-2z"/></svg>',"paste-row-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 012.8 2H18c1 0 2 .8 2 1.9V11h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h14c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0112 1zm10 11v5H8v-5h14zm-1.5 1.5h-11v2h11v-2zM12 3a1 1 0 100 2 1 1 0 000-2z"/></svg>',"paste-row-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 012.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h12v-4h2v4c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0112 1zm10 7v5H8V8h14zm-1.5 1.5h-11v2h11v-2zM12 3a1 1 0 100 2 1 1 0 000-2z"/></svg>',"paste-text":'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h3V9h9zM9 20H6a2 2 0 01-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0112 1a3 3 0 012.8 2H18a2 2 0 012 2v4h1v12H9v-1zm1.5-9.5v9h9v-9h-9zM12 3a1 1 0 00-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1zm0 9h6v2h-.5l-.5-1h-1v4h.8v1h-3.6v-1h.8v-4h-1l-.5 1H12v-2z" fill-rule="nonzero"/></svg>',paste:'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h3V9h9zM9 20H6a2 2 0 01-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0112 1a3 3 0 012.8 2H18a2 2 0 012 2v4h1v12H9v-1zm1.5-9.5v9h9v-9h-9zM12 3a1 1 0 00-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1z" fill-rule="nonzero"/></svg>',"permanent-pen":'<svg width="24" height="24"><path d="M10.5 17.5L8 20H3v-3l3.5-3.5a2 2 0 010-3L14 3l1 1-7.3 7.3a1 1 0 000 1.4l3.6 3.6c.4.4 1 .4 1.4 0L20 9l1 1-7.6 7.6a2 2 0 01-2.8 0l-.1-.1z" fill-rule="nonzero"/></svg>',plus:'<svg width="24" height="24"><path d="M12 4c.5 0 1 .4 1 .9V11h6a1 1 0 01.1 2H13v6a1 1 0 01-2 .1V13H5a1 1 0 01-.1-2H11V5c0-.6.4-1 1-1z"/></svg>',preferences:'<svg width="24" height="24"><path d="M20.1 13.5l-1.9.2a5.8 5.8 0 01-.6 1.5l1.2 1.5c.4.4.3 1 0 1.4l-.7.7a1 1 0 01-1.4 0l-1.5-1.2a6.2 6.2 0 01-1.5.6l-.2 1.9c0 .5-.5.9-1 .9h-1a1 1 0 01-1-.9l-.2-1.9a5.8 5.8 0 01-1.5-.6l-1.5 1.2a1 1 0 01-1.4 0l-.7-.7a1 1 0 010-1.4l1.2-1.5a6.2 6.2 0 01-.6-1.5l-1.9-.2a1 1 0 01-.9-1v-1c0-.5.4-1 .9-1l1.9-.2a5.8 5.8 0 01.6-1.5L5.2 7.3a1 1 0 010-1.4l.7-.7a1 1 0 011.4 0l1.5 1.2a6.2 6.2 0 011.5-.6l.2-1.9c0-.5.5-.9 1-.9h1c.5 0 1 .4 1 .9l.2 1.9a5.8 5.8 0 011.5.6l1.5-1.2a1 1 0 011.4 0l.7.7c.3.4.4 1 0 1.4l-1.2 1.5a6.2 6.2 0 01.6 1.5l1.9.2c.5 0 .9.5.9 1v1c0 .5-.4 1-.9 1zM12 15a3 3 0 100-6 3 3 0 000 6z" fill-rule="evenodd"/></svg>',preview:'<svg width="24" height="24"><path d="M3.5 12.5c.5.8 1.1 1.6 1.8 2.3 2 2 4.2 3.2 6.7 3.2s4.7-1.2 6.7-3.2a16.2 16.2 0 002.1-2.8 15.7 15.7 0 00-2.1-2.8c-2-2-4.2-3.2-6.7-3.2a9.3 9.3 0 00-6.7 3.2A16.2 16.2 0 003.2 12c0 .2.2.3.3.5zm-2.4-1l.7-1.2L4 7.8C6.2 5.4 8.9 4 12 4c3 0 5.8 1.4 8.1 3.8a18.2 18.2 0 012.8 3.7v1l-.7 1.2-2.1 2.5c-2.3 2.4-5 3.8-8.1 3.8-3 0-5.8-1.4-8.1-3.8a18.2 18.2 0 01-2.8-3.7 1 1 0 010-1zm12-3.3a2 2 0 102.7 2.6 4 4 0 11-2.6-2.6z" fill-rule="nonzero"/></svg>',print:'<svg width="24" height="24"><path d="M18 8H6a3 3 0 00-3 3v6h2v3h14v-3h2v-6a3 3 0 00-3-3zm-1 10H7v-4h10v4zm.5-5c-.8 0-1.5-.7-1.5-1.5s.7-1.5 1.5-1.5 1.5.7 1.5 1.5-.7 1.5-1.5 1.5zm.5-8H6v2h12V5z" fill-rule="nonzero"/></svg>',quote:'<svg width="24" height="24"><path d="M7.5 17h.9c.4 0 .7-.2.9-.6L11 13V8c0-.6-.4-1-1-1H6a1 1 0 00-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 00.8 1.3zm8 0h.9c.4 0 .7-.2.9-.6L19 13V8c0-.6-.4-1-1-1h-4a1 1 0 00-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 00.8 1.3z" fill-rule="nonzero"/></svg>',redo:'<svg width="24" height="24"><path d="M17.6 10H12c-2.8 0-4.4 1.4-4.9 3.5-.4 2 .3 4 1.4 4.6a1 1 0 11-1 1.8c-2-1.2-2.9-4.1-2.3-6.8.6-3 3-5.1 6.8-5.1h5.6l-3.3-3.3a1 1 0 111.4-1.4l5 5a1 1 0 010 1.4l-5 5a1 1 0 01-1.4-1.4l3.3-3.3z" fill-rule="nonzero"/></svg>',reload:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M5 22.1l-1.2-4.7v-.2a1 1 0 011-1l5 .4a1 1 0 11-.2 2l-2.2-.2a7.8 7.8 0 008.4.2 7.5 7.5 0 003.5-6.4 1 1 0 112 0 9.5 9.5 0 01-4.5 8 9.9 9.9 0 01-10.2 0l.4 1.4a1 1 0 11-2 .5zM13.6 7.4c0-.5.5-1 1-.9l2.8.2a8 8 0 00-9.5-1 7.5 7.5 0 00-3.6 7 1 1 0 01-2 0 9.5 9.5 0 014.5-8.6 10 10 0 0110.9.3l-.3-1a1 1 0 012-.5l1.1 4.8a1 1 0 01-1 1.2l-5-.4a1 1 0 01-.9-1z"/></g></svg>',"remove-formatting":'<svg width="24" height="24"><path d="M13.2 6a1 1 0 010 .2l-2.6 10a1 1 0 01-1 .8h-.2a.8.8 0 01-.8-1l2.6-10H8a1 1 0 110-2h9a1 1 0 010 2h-3.8zM5 18h7a1 1 0 010 2H5a1 1 0 010-2zm13 1.5L16.5 18 15 19.5a.7.7 0 01-1-1l1.5-1.5-1.5-1.5a.7.7 0 011-1l1.5 1.5 1.5-1.5a.7.7 0 011 1L17.5 17l1.5 1.5a.7.7 0 01-1 1z" fill-rule="evenodd"/></svg>',remove:'<svg width="24" height="24"><path d="M16 7h3a1 1 0 010 2h-1v9a3 3 0 01-3 3H9a3 3 0 01-3-3V9H5a1 1 0 110-2h3V6a3 3 0 013-3h2a3 3 0 013 3v1zm-2 0V6c0-.6-.4-1-1-1h-2a1 1 0 00-1 1v1h4zm2 2H8v9c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V9zm-7 3a1 1 0 012 0v4a1 1 0 01-2 0v-4zm4 0a1 1 0 012 0v4a1 1 0 01-2 0v-4z" fill-rule="nonzero"/></svg>',"resize-handle":'<svg width="10" height="10"><g fill-rule="nonzero"><path d="M8.1 1.1A.5.5 0 119 2l-7 7A.5.5 0 111 8l7-7zM8.1 5.1A.5.5 0 119 6l-3 3A.5.5 0 115 8l3-3z"/></g></svg>',resize:'<svg width="24" height="24"><path d="M4 5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h6c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 01-.7.3H7.4L18 16.6V13c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v6c0 .3-.1.5-.3.7a1 1 0 01-.7.3h-6a1 1 0 01-.7-.3 1 1 0 01-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3.6L6 7.4V11c0 .3-.1.5-.3.7a1 1 0 01-.7.3 1 1 0 01-.7-.3A1 1 0 014 11V5z" fill-rule="evenodd"/></svg>',"restore-draft":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1z"/><path d="M4.7 10H9a1 1 0 010 2H3a1 1 0 01-1-1V5a1 1 0 112 0v3l2.5-2.4a9.2 9.2 0 0110.8-1.5A9 9 0 0113.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 111.3-1.5 7.2 7.2 0 0011.6-3.7 7 7 0 00-3.5-7.7A7.2 7.2 0 008 7L4.7 10z" fill-rule="nonzero"/></g></svg>',"rotate-left":'<svg width="24" height="24"><path d="M4.7 10H9a1 1 0 010 2H3a1 1 0 01-1-1V5a1 1 0 112 0v3l2.5-2.4a9.2 9.2 0 0110.8-1.5A9 9 0 0113.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 111.3-1.5 7.2 7.2 0 0011.6-3.7 7 7 0 00-3.5-7.7A7.2 7.2 0 008 7L4.7 10z" fill-rule="nonzero"/></svg>',"rotate-right":'<svg width="24" height="24"><path d="M20 8V5a1 1 0 012 0v6c0 .6-.4 1-1 1h-6a1 1 0 010-2h4.3L16 7A7.2 7.2 0 007.7 6a7 7 0 003 13.1c1.9.1 3.7-.5 5-1.7a1 1 0 011.4 1.5A9.2 9.2 0 012.2 14c-.9-3.9 1-8 4.5-9.9 3.5-1.9 8-1.3 10.8 1.5L20 8z" fill-rule="nonzero"/></svg>',rtl:'<svg width="24" height="24"><path d="M8 5h8v2h-2v12h-2V7h-2v12H8v-7c-.5 0-1 0-1.4-.3A3.4 3.4 0 014.8 10a3.3 3.3 0 010-2.8 3.4 3.4 0 011.8-1.8L8 5zm12 11.2a1 1 0 11-1 1.6l-3-2a1 1 0 010-1.6l3-2a1 1 0 111 1.6L18.4 15l1.8 1.2z" fill-rule="evenodd"/></svg>',save:'<svg width="24" height="24"><path d="M5 16h14a2 2 0 012 2v2a2 2 0 01-2 2H5a2 2 0 01-2-2v-2c0-1.1.9-2 2-2zm0 2v2h14v-2H5zm10 0h2v2h-2v-2zm-4-6.4L8.7 9.3a1 1 0 10-1.4 1.4l4 4c.4.4 1 .4 1.4 0l4-4a1 1 0 10-1.4-1.4L13 11.6V4a1 1 0 00-2 0v7.6z" fill-rule="nonzero"/></svg>',search:'<svg width="24" height="24"><path d="M16 17.3a8 8 0 111.4-1.4l4.3 4.4a1 1 0 01-1.4 1.4l-4.4-4.3zm-5-.3a6 6 0 100-12 6 6 0 000 12z" fill-rule="nonzero"/></svg>',"select-all":'<svg width="24" height="24"><path d="M3 5h2V3a2 2 0 00-2 2zm0 8h2v-2H3v2zm4 8h2v-2H7v2zM3 9h2V7H3v2zm10-6h-2v2h2V3zm6 0v2h2a2 2 0 00-2-2zM5 21v-2H3c0 1.1.9 2 2 2zm-2-4h2v-2H3v2zM9 3H7v2h2V3zm2 18h2v-2h-2v2zm8-8h2v-2h-2v2zm0 8a2 2 0 002-2h-2v2zm0-12h2V7h-2v2zm0 8h2v-2h-2v2zm-4 4h2v-2h-2v2zm0-16h2V3h-2v2zM7 17h10V7H7v10zm2-8h6v6H9V9z" fill-rule="nonzero"/></svg>',selected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 012 2v12a2 2 0 01-2 2H6a2 2 0 01-2-2V6c0-1.1.9-2 2-2zm3.6 10.9L7 12.3a.7.7 0 00-1 1L9.6 17 18 8.6a.7.7 0 000-1 .7.7 0 00-1 0l-7.4 7.3z"/></svg>',settings:'<svg width="24" height="24"><path d="M11 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6V8H5a1 1 0 110-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.5V6zM8 8h2V6H8v2zm9 2.8v.2h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v.3c0 .2 0 .3-.2.5l-.6.2h-2.4c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6V13H5a1 1 0 010-2h8v-.3c0-.2 0-.3.2-.5l.6-.2h2.4c.3 0 .4 0 .6.2l.2.6zM14 13h2v-2h-2v2zm-3 2.8v.2h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6V18H5a1 1 0 010-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.6zM8 18h2v-2H8v2z" fill-rule="evenodd"/></svg>',sharpen:'<svg width="24" height="24"><path d="M16 6l4 4-8 9-8-9 4-4h8zm-4 10.2l5.5-6.2-.1-.1H12v-.3h5.1l-.2-.2H12V9h4.6l-.2-.2H12v-.3h4.1l-.2-.2H12V8h3.6l-.2-.2H8.7L6.5 10l.1.1H12v.3H6.9l.2.2H12v.3H7.3l.2.2H12v.3H7.7l.3.2h4v.3H8.2l.2.2H12v.3H8.6l.3.2H12v.3H9l.3.2H12v.3H9.5l.2.2H12v.3h-2l.2.2H12v.3h-1.6l.2.2H12v.3h-1.1l.2.2h.9v.3h-.7l.2.2h.5v.3h-.3l.3.2z" fill-rule="evenodd"/></svg>',sourcecode:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M9.8 15.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0l-4.4-4.1a.8.8 0 010-1.2l4.4-4.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L6 12l3.8 3.7zM14.2 15.7c-.3.3-.3.8 0 1 .4.4.9.4 1.2 0l4.4-4.1c.3-.3.3-.9 0-1.2l-4.4-4.2a.8.8 0 00-1.2 0c-.3.3-.3.8 0 1.1L18 12l-3.8 3.7z"/></g></svg>',"spell-check":'<svg width="24" height="24"><path d="M6 8v3H5V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h2c.3 0 .5.1.7.3.2.2.3.4.3.7v6H8V8H6zm0-3v2h2V5H6zm13 0h-3v5h3v1h-3a1 1 0 01-.7-.3 1 1 0 01-.3-.7V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3v1zm-5 1.5l-.1.7c-.1.2-.3.3-.6.3.3 0 .5.1.6.3l.1.7V10c0 .3-.1.5-.3.7a1 1 0 01-.7.3h-3V4h3c.3 0 .5.1.7.3.2.2.3.4.3.7v1.5zM13 10V8h-2v2h2zm0-3V5h-2v2h2zm3 5l1 1-6.5 7L7 15.5l1.3-1 2.2 2.2L16 12z" fill-rule="evenodd"/></svg>',"strike-through":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M15.6 8.5c-.5-.7-1-1.1-1.3-1.3-.6-.4-1.3-.6-2-.6-2.7 0-2.8 1.7-2.8 2.1 0 1.6 1.8 2 3.2 2.3 4.4.9 4.6 2.8 4.6 3.9 0 1.4-.7 4.1-5 4.1A6.2 6.2 0 017 16.4l1.5-1.1c.4.6 1.6 2 3.7 2 1.6 0 2.5-.4 3-1.2.4-.8.3-2-.8-2.6-.7-.4-1.6-.7-2.9-1-1-.2-3.9-.8-3.9-3.6C7.6 6 10.3 5 12.4 5c2.9 0 4.2 1.6 4.7 2.4l-1.5 1.1z"/><path d="M5 11h14a1 1 0 010 2H5a1 1 0 010-2z" fill-rule="nonzero"/></g></svg>',subscript:'<svg width="24" height="24"><path d="M10.4 10l4.6 4.6-1.4 1.4L9 11.4 4.4 16 3 14.6 7.6 10 3 5.4 4.4 4 9 8.6 13.6 4 15 5.4 10.4 10zM21 19h-5v-1l1-.8 1.7-1.6c.3-.4.5-.8.5-1.2 0-.3 0-.6-.2-.7-.2-.2-.5-.3-.9-.3a2 2 0 00-.8.2l-.7.3-.4-1.1 1-.6 1.2-.2c.8 0 1.4.3 1.8.7.4.4.6.9.6 1.5s-.2 1.1-.5 1.6a8 8 0 01-1.3 1.3l-.6.6h2.6V19z" fill-rule="nonzero"/></svg>',superscript:'<svg width="24" height="24"><path d="M15 9.4L10.4 14l4.6 4.6-1.4 1.4L9 15.4 4.4 20 3 18.6 7.6 14 3 9.4 4.4 8 9 12.6 13.6 8 15 9.4zm5.9 1.6h-5v-1l1-.8 1.7-1.6c.3-.5.5-.9.5-1.3 0-.3 0-.5-.2-.7-.2-.2-.5-.3-.9-.3l-.8.2-.7.4-.4-1.2c.2-.2.5-.4 1-.5.3-.2.8-.2 1.2-.2.8 0 1.4.2 1.8.6.4.4.6 1 .6 1.6 0 .5-.2 1-.5 1.5l-1.3 1.4-.6.5h2.6V11z" fill-rule="nonzero"/></svg>',"table-caption":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="12" height="2" x="3" y="4" rx="1"/><path d="M19 8a2 2 0 012 2v8a2 2 0 01-2 2H5a2 2 0 01-2-2v-8c0-1.1.9-2 2-2h14zM5 15v3h6v-3H5zm14 0h-6v3h6v-3zm0-5h-6v3h6v-3zM5 13h6v-3H5v3z"/></g></svg>',"table-cell-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M13 4v9H3V6c0-1.1.9-2 2-2h8zm-2 2H5v5h6V6z"/><path fill-rule="nonzero" d="M13 4h6a2 2 0 012 2v7h-8v-2h6V6h-6V4z" opacity=".2"/><path d="M18 20l-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3 .2-2.3 2 .7 3z"/><path fill-rule="nonzero" d="M3 13v5c0 1.1.9 2 2 2h8v-7h-2v5H5v-5H3z" opacity=".2"/></g></svg>',"table-cell-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-8 9H5v5h6v-5zm8 0h-6v5h6v-5zm-8-7H5v5h6V6z"/></svg>',"table-cell-select-all":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm0 2H5v12h14V6z"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2z" opacity=".2"/></g></svg>',"table-cell-select-inner":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm0 2H5v12h14V6z" opacity=".2"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2z"/></g></svg>',"table-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v7h-8v7H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-8 9H5v5h6v-5zm8-7h-6v5h6V6zm-8 0H5v5h6V6z"/><path d="M18 20l-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3 .2-2.3 2 .7 3z"/></g></svg>',"table-delete-column":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-4 4h-2V6h-2v2H9V6H5v12h4v-2h2v2h2v-2h2v2h4V6h-4v2zm.3.5l1 1.2-3 2.3 3 2.3-1 1.2L12 13l-3.3 2.6-1-1.2 3-2.3-3-2.3 1-1.2L12 11l3.3-2.5z"/></svg>',"table-delete-row":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm0 2H5v3h2.5v2H5v2h2.5v2H5v3h14v-3h-2.5v-2H19v-2h-2.5V9H19V6zm-4.7 1.8l1.2 1L13 12l2.6 3.3-1.2 1-2.3-3-2.3 3-1.2-1L11 12 8.5 8.7l1.2-1 2.3 3 2.3-3z"/></svg>',"table-delete-table":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM5 6v12h14V6H5z"/><path d="M14.4 8.6l1 1-2.3 2.4 2.3 2.4-1 1-2.4-2.3-2.4 2.3-1-1 2.3-2.4-2.3-2.4 1-1 2.4 2.3z"/></g></svg>',"table-insert-column-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M20 4c.6 0 1 .4 1 1v2a1 1 0 01-2 0V6h-8v12h8v-1a1 1 0 012 0v2c0 .5-.4 1-.9 1H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h15zM9 13H5v5h4v-5zm7-5c.5 0 1 .4 1 .9V11h2a1 1 0 01.1 2H17v2a1 1 0 01-2 .1V13h-2a1 1 0 01-.1-2H15V9c0-.6.4-1 1-1zM9 6H5v5h4V6z"/></svg>',"table-insert-column-before":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H4a1 1 0 01-1-1v-2a1 1 0 012 0v1h8V6H5v1a1 1 0 11-2 0V5c0-.6.4-1 1-1h15zm0 9h-4v5h4v-5zM8 8c.5 0 1 .4 1 .9V11h2a1 1 0 01.1 2H9v2a1 1 0 01-2 .1V13H5a1 1 0 01-.1-2H7V9c0-.6.4-1 1-1zm11-2h-4v5h4V6z"/></svg>',"table-insert-row-above":'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4a1 1 0 110 2H5v6h14V6h-1a1 1 0 010-2h2c.6 0 1 .4 1 1v13a2 2 0 01-2 2H5a2 2 0 01-2-2V5c0-.6.4-1 1-1h2zm5 10H5v4h6v-4zm8 0h-6v4h6v-4zM12 3c.5 0 1 .4 1 .9V6h2a1 1 0 010 2h-2v2a1 1 0 01-2 .1V8H9a1 1 0 010-2h2V4c0-.6.4-1 1-1z"/></svg>',"table-insert-row-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M12 13c.5 0 1 .4 1 .9V16h2a1 1 0 01.1 2H13v2a1 1 0 01-2 .1V18H9a1 1 0 01-.1-2H11v-2c0-.6.4-1 1-1zm6 7a1 1 0 010-2h1v-6H5v6h1a1 1 0 010 2H4a1 1 0 01-1-1V6c0-1.1.9-2 2-2h14a2 2 0 012 2v13c0 .5-.4 1-.9 1H18zM11 6H5v4h6V6zm8 0h-6v4h6V6z"/></svg>',"table-left-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm0 9h-4v5h4v-5zm-6 0H9v5h4v-5zm0-7H9v5h4V6zm6 0h-4v5h4V6z"/></svg>',"table-merge-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM5 15.5V18h3v-2.5H5zm14-5h-9V18h9v-7.5zM19 6h-4v2.5h4V6zM8 6H5v2.5h3V6zm5 0h-3v2.5h3V6zm-8 7.5h3v-3H5v3z"/></svg>',"table-row-numbering-rtl":'<svg width="24" height="24"><path d="M6 4a2 2 0 00-2 2v13c0 1.1.9 2 2 2h12a2 2 0 002-2V6a2 2 0 00-2-2H6zm0 12h8v3H6v-3zm11 0c.6 0 1 .4 1 1v1a1 1 0 01-2 0v-1c0-.6.4-1 1-1zM6 11h8v3H6v-3zm11 0c.6 0 1 .4 1 1v1a1 1 0 01-2 0v-1c0-.6.4-1 1-1zM6 6h8v3H6V6zm11 0c.6 0 1 .4 1 1v1a1 1 0 11-2 0V7c0-.6.4-1 1-1z"/></svg>',"table-row-numbering":'<svg width="24" height="24"><path d="M18 4a2 2 0 012 2v13a2 2 0 01-2 2H6a2 2 0 01-2-2V6c0-1.1.9-2 2-2h12zm0 12h-8v3h8v-3zM7 16a1 1 0 00-1 1v1a1 1 0 002 0v-1c0-.6-.4-1-1-1zm11-5h-8v3h8v-3zM7 11a1 1 0 00-1 1v1a1 1 0 002 0v-1c0-.6-.4-1-1-1zm11-5h-8v3h8V6zM7 6a1 1 0 00-1 1v1a1 1 0 102 0V7c0-.6-.4-1-1-1z"/></svg>',"table-row-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM5 15v3h6v-3H5zm14 0h-6v3h6v-3zm0-9h-6v3h6V6zM5 9h6V6H5v3z"/></svg>',"table-split-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM8 15.5H5V18h3v-2.5zm11-5h-9V18h9v-7.5zm-2.5 1l1 1-2 2 2 2-1 1-2-2-2 2-1-1 2-2-2-2 1-1 2 2 2-2zm-8.5-1H5v3h3v-3zM19 6h-4v2.5h4V6zM8 6H5v2.5h3V6zm5 0h-3v2.5h3V6z"/></svg>',"table-top-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-8 11H5v3h6v-3zm8 0h-6v3h6v-3zm0-5h-6v3h6v-3zM5 13h6v-3H5v3z"/></svg>',table:'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM5 14v4h6v-4H5zm14 0h-6v4h6v-4zm0-6h-6v4h6V8zM5 12h6V8H5v4z"/></svg>',template:'<svg width="24" height="24"><path d="M19 19v-1H5v1h14zM9 16v-4a5 5 0 116 0v4h4a2 2 0 012 2v3H3v-3c0-1.1.9-2 2-2h4zm4 0v-5l.8-.6a3 3 0 10-3.6 0l.8.6v5h2z" fill-rule="nonzero"/></svg>',"temporary-placeholder":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M9 7.6V6h2.5V4.5a.5.5 0 111 0V6H15v1.6a8 8 0 11-6 0zm-2.6 5.3a.5.5 0 00.3.6c.3 0 .6 0 .6-.3l.1-.2a5 5 0 013.3-2.8c.3-.1.4-.4.4-.6-.1-.3-.4-.5-.6-.4a6 6 0 00-4.1 3.7z"/><circle cx="14" cy="4" r="1"/><circle cx="12" cy="2" r="1"/><circle cx="10" cy="4" r="1"/></g></svg>',"text-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path id="tox-icon-text-color__color" d="M3 18h18v3H3z"/><path d="M8.7 16h-.8a.5.5 0 01-.5-.6l2.7-9c.1-.3.3-.4.5-.4h2.8c.2 0 .4.1.5.4l2.7 9a.5.5 0 01-.5.6h-.8a.5.5 0 01-.4-.4l-.7-2.2c0-.3-.3-.4-.5-.4h-3.4c-.2 0-.4.1-.5.4l-.7 2.2c0 .3-.2.4-.4.4zm2.6-7.6l-.6 2a.5.5 0 00.5.6h1.6a.5.5 0 00.5-.6l-.6-2c0-.3-.3-.4-.5-.4h-.4c-.2 0-.4.1-.5.4z"/></g></svg>',toc:'<svg width="24" height="24"><path d="M5 5c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 110-2zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 110-2zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 010-2zm0-4c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 110-2zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2z" fill-rule="evenodd"/></svg>',translate:'<svg width="24" height="24"><path d="M12.7 14.3l-.3.7-.4.7-2.2-2.2-3.1 3c-.3.4-.8.4-1 0a.7.7 0 010-1l3.1-3A12.4 12.4 0 016.7 9H8a10.1 10.1 0 001.7 2.4c.5-.5 1-1.1 1.4-1.8l.9-2H4.7a.7.7 0 110-1.5h4.4v-.7c0-.4.3-.8.7-.8.4 0 .7.4.7.8v.7H15c.4 0 .8.3.8.7 0 .4-.4.8-.8.8h-1.4a12.3 12.3 0 01-1 2.4 13.5 13.5 0 01-1.7 2.3l1.9 1.8zm4.3-3l2.7 7.3a.5.5 0 01-.4.7 1 1 0 01-1-.7l-.6-1.5h-3.4l-.6 1.5a1 1 0 01-1 .7.5.5 0 01-.4-.7l2.7-7.4a1 1 0 012 0zm-2.2 4.4h2.4L16 12.5l-1.2 3.2z" fill-rule="evenodd"/></svg>',underline:'<svg width="24" height="24"><path d="M16 5c.6 0 1 .4 1 1v5.5a4 4 0 01-.4 1.8l-1 1.4a5.3 5.3 0 01-5.5 1 5 5 0 01-1.6-1c-.5-.4-.8-.9-1.1-1.4a4 4 0 01-.4-1.8V6c0-.6.4-1 1-1s1 .4 1 1v5.5c0 .3 0 .6.2 1l.6.7a3.3 3.3 0 002.2.8 3.4 3.4 0 002.2-.8c.3-.2.4-.5.6-.8l.2-.9V6c0-.6.4-1 1-1zM8 17h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 010-2z" fill-rule="evenodd"/></svg>',undo:'<svg width="24" height="24"><path d="M6.4 8H12c3.7 0 6.2 2 6.8 5.1.6 2.7-.4 5.6-2.3 6.8a1 1 0 01-1-1.8c1.1-.6 1.8-2.7 1.4-4.6-.5-2.1-2.1-3.5-4.9-3.5H6.4l3.3 3.3a1 1 0 11-1.4 1.4l-5-5a1 1 0 010-1.4l5-5a1 1 0 011.4 1.4L6.4 8z" fill-rule="nonzero"/></svg>',unlink:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 011.4 1.4l-2 2a2 2 0 102.6 2.8l4.8-4.8a1 1 0 000-1.4 1 1 0 111.4-1.3 2.9 2.9 0 010 4L9.6 20a3.9 3.9 0 01-5.5-5.5l2-2zm11.6-.6a1 1 0 01-1.4-1.4l2.1-2a2 2 0 10-2.7-2.8L11 10.3a1 1 0 000 1.4A1 1 0 119.6 13a2.9 2.9 0 010-4L14.4 4a3.9 3.9 0 015.5 5.5l-2 2zM7.6 6.3a.8.8 0 01-1 1.1L3.3 4.2a.7.7 0 111-1l3.2 3.1zM5.1 8.6a.8.8 0 010 1.5H3a.8.8 0 010-1.5H5zm5-3.5a.8.8 0 01-1.5 0V3a.8.8 0 011.5 0V5zm6 11.8a.8.8 0 011-1l3.2 3.2a.8.8 0 01-1 1L16 17zm-2.2 2a.8.8 0 011.5 0V21a.8.8 0 01-1.5 0V19zm5-3.5a.7.7 0 110-1.5H21a.8.8 0 010 1.5H19z" fill-rule="nonzero"/></svg>',unlock:'<svg width="24" height="24"><path d="M16 5c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h-2V8a1 1 0 00-.3-.7A1 1 0 0016 7h-2a1 1 0 00-.7.3 1 1 0 00-.3.7v3h.3c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H4.8c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H11V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2z" fill-rule="evenodd"/></svg>',"unordered-list":'<svg width="24" height="24"><path d="M11 5h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zM4.5 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1z" fill-rule="evenodd"/></svg>',unselected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 012 2v12a2 2 0 01-2 2H6a2 2 0 01-2-2V6c0-1.1.9-2 2-2zm0 1a1 1 0 00-1 1v12c0 .6.4 1 1 1h12c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H6z"/></svg>',upload:'<svg width="24" height="24"><path d="M18 19v-2a1 1 0 012 0v3c0 .6-.4 1-1 1H5a1 1 0 01-1-1v-3a1 1 0 012 0v2h12zM11 6.4L8.7 8.7a1 1 0 01-1.4-1.4l4-4a1 1 0 011.4 0l4 4a1 1 0 11-1.4 1.4L13 6.4V16a1 1 0 01-2 0V6.4z" fill-rule="nonzero"/></svg>',user:'<svg width="24" height="24"><path d="M12 24a12 12 0 110-24 12 12 0 010 24zm-8.7-5.3a11 11 0 0017.4 0C19.4 16.3 14.6 15 12 15c-2.6 0-7.4 1.3-8.7 3.7zM12 13c2.2 0 4-2 4-4.5S14.2 4 12 4 8 6 8 8.5 9.8 13 12 13z" fill-rule="nonzero"/></svg>',"vertical-align":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="18" height="2" x="3" y="11" rx="1"/><path d="M12 2c.6 0 1 .4 1 1v4l2-1.3a1 1 0 011.2 1.5l-.1.1-4.1 3-4-3a1 1 0 011-1.7l2 1.5V3c0-.6.4-1 1-1zm0 11.8l4 2.9a1 1 0 01-1 1.7l-2-1.5V21c0 .5-.4 1-.9 1H12a1 1 0 01-1-1v-4l-2 1.3a1 1 0 01-1.2-.1l-.1-.1a1 1 0 01.1-1.3l.1-.1 4.1-3z"/></g></svg>',visualblocks:'<svg width="24" height="24"><path d="M9 19v2H7v-2h2zm-4 0v2a2 2 0 01-2-2h2zm8 0v2h-2v-2h2zm8 0a2 2 0 01-2 2v-2h2zm-4 0v2h-2v-2h2zM15 7a1 1 0 010 2v7a1 1 0 01-2 0V9h-1v7a1 1 0 01-2 0v-4a2.5 2.5 0 01-.2-5H15zM5 15v2H3v-2h2zm16 0v2h-2v-2h2zM5 11v2H3v-2h2zm16 0v2h-2v-2h2zM5 7v2H3V7h2zm16 0v2h-2V7h2zM5 3v2H3c0-1.1.9-2 2-2zm8 0v2h-2V3h2zm6 0a2 2 0 012 2h-2V3zM9 3v2H7V3h2zm8 0v2h-2V3h2z" fill-rule="evenodd"/></svg>',visualchars:'<svg width="24" height="24"><path d="M10 5h7a1 1 0 010 2h-1v11a1 1 0 01-2 0V7h-2v11a1 1 0 01-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 016.8 10a3.3 3.3 0 010-2.8 3.4 3.4 0 011.8-1.8L10 5z" fill-rule="evenodd"/></svg>',warning:'<svg width="24" height="24"><path d="M19.8 18.3c.2.5.3.9 0 1.2-.1.3-.5.5-1 .5H5.2c-.5 0-.9-.2-1-.5-.3-.3-.2-.7 0-1.2L11 4.7l.5-.5.5-.2c.2 0 .3 0 .5.2.2 0 .3.3.5.5l6.8 13.6zM12 18c.3 0 .5-.1.7-.3.2-.2.3-.4.3-.7a1 1 0 00-.3-.7 1 1 0 00-.7-.3 1 1 0 00-.7.3 1 1 0 00-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3zm.7-3l.3-4a1 1 0 00-.3-.7 1 1 0 00-.7-.3 1 1 0 00-.7.3 1 1 0 00-.3.7l.3 4h1.4z" fill-rule="evenodd"/></svg>',"zoom-in":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 111.4-1.4l4.3 4.4a1 1 0 01-1.4 1.4l-4.4-4.3zm-5-.3a6 6 0 100-12 6 6 0 000 12zm-1-9a1 1 0 012 0v6a1 1 0 01-2 0V8zm-2 4a1 1 0 010-2h6a1 1 0 010 2H8z" fill-rule="nonzero"/></svg>',"zoom-out":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 111.4-1.4l4.3 4.4a1 1 0 01-1.4 1.4l-4.4-4.3zm-5-.3a6 6 0 100-12 6 6 0 000 12zm-3-5a1 1 0 010-2h6a1 1 0 010 2H8z" fill-rule="nonzero"/></svg>'}});(function(){var x=tinymce.util.Tools.resolve("tinymce.PluginManager"),P=function(){return P=Object.assign||function(k){for(var $,J=1,me=arguments.length;J<me;J++){$=arguments[J];for(var ot in $)Object.prototype.hasOwnProperty.call($,ot)&&(k[ot]=$[ot])}return k},P.apply(this,arguments)},kt=function(B){var k=typeof B;return B===null?"null":k==="object"&&(Array.prototype.isPrototypeOf(B)||B.constructor&&B.constructor.name==="Array")?"array":k==="object"&&(String.prototype.isPrototypeOf(B)||B.constructor&&B.constructor.name==="String")?"string":k},$t=function(B){return function(k){return kt(k)===B}},_t=function(B){return function(k){return typeof k===B}},ut=function(B){return function(k){return B===k}},Fe=$t("string"),Ee=$t("object"),et=$t("array"),Me=ut(null),It=_t("boolean"),se=function(B){return B==null},Gt=function(B){return!se(B)},xn=_t("function"),We=_t("number"),ge=function(){},ht=function(B){return function(){return B}},Ue=function(B){return B},Wt=ht(!1),K=ht(!0),dt=function(){return Oe},Oe=function(){var B=function(J){return J()},k=Ue,$={fold:function(J,me){return J()},isSome:Wt,isNone:K,getOr:k,getOrThunk:B,getOrDie:function(J){throw new Error(J||"error: getOrDie called on none.")},getOrNull:ht(null),getOrUndefined:ht(void 0),or:k,orThunk:B,map:dt,each:ge,bind:dt,exists:Wt,forall:K,filter:function(){return dt()},toArray:function(){return[]},toString:ht("none()")};return $}(),Ht=function(B){var k=ht(B),$=function(){return me},J=function(ot){return ot(B)},me={fold:function(ot,Qt){return Qt(B)},isSome:K,isNone:Wt,getOr:k,getOrThunk:k,getOrDie:k,getOrNull:k,getOrUndefined:k,or:$,orThunk:$,map:function(ot){return Ht(ot(B))},each:function(ot){ot(B)},bind:J,exists:J,forall:J,filter:function(ot){return ot(B)?me:Oe},toArray:function(){return[B]},toString:function(){return"some("+B+")"}};return me},qt=function(B){return B==null?Oe:Ht(B)},Nt={some:Ht,none:dt,from:qt},Zt=Object.keys,st=Object.hasOwnProperty,jr=function(B,k){for(var $=Zt(B),J=0,me=$.length;J<me;J++){var ot=$[J],Qt=B[ot];k(Qt,ot)}},ve=function(B){return function(k,$){B[$]=k}},Q=function(B,k,$,J){var me={};return jr(B,function(ot,Qt){(k(ot,Qt)?$:J)(ot,Qt)}),me},En=function(B,k){var $={};return Q(B,k,ve($),ge),$},wo=function(B,k){return st.call(B,k)},j=function(B,k){return wo(B,k)&&B[k]!==void 0&&B[k]!==null},Nr=Array.prototype.push,$n=function(B){for(var k=[],$=0,J=B.length;$<J;++$){if(!et(B[$]))throw new Error("Arr.flatten item "+$+" was not an array, input: "+B);Nr.apply(k,B[$])}return k},_=function(B,k){return k>=0&&k<B.length?Nt.some(B[k]):Nt.none()},Zr=function(B){return _(B,0)},Mt=function(B,k){for(var $=0;$<B.length;$++){var J=k(B[$],$);if(J.isSome())return J}return Nt.none()};typeof window!="undefined"||Function("return this;")();var sn=function(B,k,$){if(Fe($)||It($)||We($))B.setAttribute(k,$+"");else throw console.error("Invalid call to Attribute.set. Key ",k,":: Value ",$,":: Element ",B),new Error("Attribute value was not simple")},_o=function(B,k,$){sn(B.dom,k,$)},mi=function(B,k){B.dom.removeAttribute(k)},er=function(B,k){var $=k||document,J=$.createElement("div");if(J.innerHTML=B,!J.hasChildNodes()||J.childNodes.length>1)throw console.error("HTML does not have a single root node",B),new Error("HTML must have a single root node");return vo(J.childNodes[0])},ua=function(B,k){var $=k||document,J=$.createElement(B);return vo(J)},te=function(B,k){var $=k||document,J=$.createTextNode(B);return vo(J)},vo=function(B){if(B==null)throw new Error("Node cannot be null or undefined");return{dom:B}},Tt=function(B,k,$){return Nt.from(B.dom.elementFromPoint(k,$)).map(vo)},Ie={fromHtml:er,fromTag:ua,fromText:te,fromDom:vo,fromPoint:Tt},dn=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),Pe=tinymce.util.Tools.resolve("tinymce.util.Promise"),Re=tinymce.util.Tools.resolve("tinymce.util.URI"),Qe=tinymce.util.Tools.resolve("tinymce.util.XHR"),pt=function(B){return B.getParam("image_dimensions",!0,"boolean")},tt=function(B){return B.getParam("image_advtab",!1,"boolean")},mn=function(B){return B.getParam("image_uploadtab",!0,"boolean")},zn=function(B){return B.getParam("image_prepend_url","","string")},nn=function(B){return B.getParam("image_class_list")},Ln=function(B){return B.getParam("image_description",!0,"boolean")},wr=function(B){return B.getParam("image_title",!1,"boolean")},Cn=function(B){return B.getParam("image_caption",!1,"boolean")},Kr=function(B){return B.getParam("image_list",!1)},Ro=function(B){return Gt(B.getParam("images_upload_url"))},Rl=function(B){return Gt(B.getParam("images_upload_handler"))},uu=function(B){return B.getParam("a11y_advanced_options",!1,"boolean")},lu=function(B){return B.getParam("automatic_uploads",!0,"boolean")},Bo=function(B,k){return Math.max(parseInt(B,10),parseInt(k,10))},ku=function(B){return new Pe(function(k){var $=document.createElement("img"),J=function(ot){$.onload=$.onerror=null,$.parentNode&&$.parentNode.removeChild($),k(ot)};$.onload=function(){var ot=Bo($.width,$.clientWidth),Qt=Bo($.height,$.clientHeight),fr={width:ot,height:Qt};J(Pe.resolve(fr))},$.onerror=function(){J(Pe.reject("Failed to get image dimensions for: "+B))};var me=$.style;me.visibility="hidden",me.position="fixed",me.bottom=me.left="0px",me.width=me.height="auto",document.body.appendChild($),$.src=B})},Ho=function(B){return B&&(B=B.replace(/px$/,"")),B},la=function(B){return B.length>0&&/^[0-9]+$/.test(B)&&(B+="px"),B},Xr=function(B){if(B.margin){var k=String(B.margin).split(" ");switch(k.length){case 1:B["margin-top"]=B["margin-top"]||k[0],B["margin-right"]=B["margin-right"]||k[0],B["margin-bottom"]=B["margin-bottom"]||k[0],B["margin-left"]=B["margin-left"]||k[0];break;case 2:B["margin-top"]=B["margin-top"]||k[0],B["margin-right"]=B["margin-right"]||k[1],B["margin-bottom"]=B["margin-bottom"]||k[0],B["margin-left"]=B["margin-left"]||k[1];break;case 3:B["margin-top"]=B["margin-top"]||k[0],B["margin-right"]=B["margin-right"]||k[1],B["margin-bottom"]=B["margin-bottom"]||k[2],B["margin-left"]=B["margin-left"]||k[1];break;case 4:B["margin-top"]=B["margin-top"]||k[0],B["margin-right"]=B["margin-right"]||k[1],B["margin-bottom"]=B["margin-bottom"]||k[2],B["margin-left"]=B["margin-left"]||k[3]}delete B.margin}return B},oo=function(B,k){var $=Kr(B);Fe($)?Qe.send({url:$,success:function(J){k(JSON.parse(J))}}):xn($)?$(k):k($)},ta=function(B,k,$){var J=function(){$.onload=$.onerror=null,B.selection&&(B.selection.select($),B.nodeChanged())};$.onload=function(){!k.width&&!k.height&&pt(B)&&B.dom.setAttribs($,{width:String($.clientWidth),height:String($.clientHeight)}),J()},$.onerror=J},Lr=function(B){return new Pe(function(k,$){var J=new FileReader;J.onload=function(){k(J.result)},J.onerror=function(){$(J.error.message)},J.readAsDataURL(B)})},Uo=function(B){return B.nodeName==="IMG"&&(B.hasAttribute("data-mce-object")||B.hasAttribute("data-mce-placeholder"))},ni=function(B,k){return Re.isDomSafe(k,"img",B.settings)},Ra=dn.DOM,hr=function(B){return B.style.marginLeft&&B.style.marginRight&&B.style.marginLeft===B.style.marginRight?Ho(B.style.marginLeft):""},Co=function(B){return B.style.marginTop&&B.style.marginBottom&&B.style.marginTop===B.style.marginBottom?Ho(B.style.marginTop):""},Mo=function(B){return B.style.borderWidth?Ho(B.style.borderWidth):""},Po=function(B,k){return B.hasAttribute(k)?B.getAttribute(k):""},bn=function(B,k){return B.style[k]?B.style[k]:""},Cr=function(B){return B.parentNode!==null&&B.parentNode.nodeName==="FIGURE"},Sa=function(B,k,$){$===""?B.removeAttribute(k):B.setAttribute(k,$)},gi=function(B){var k=Ra.create("figure",{class:"image"});Ra.insertAfter(k,B),k.appendChild(B),k.appendChild(Ra.create("figcaption",{contentEditable:"true"},"Caption")),k.contentEditable="false"},ul=function(B){var k=B.parentNode;Ra.insertAfter(B,k),Ra.remove(k)},Pr=function(B){Cr(B)?ul(B):gi(B)},tr=function(B,k){var $=B.getAttribute("style"),J=k($!==null?$:"");J.length>0?(B.setAttribute("style",J),B.setAttribute("data-mce-style",J)):B.removeAttribute("style")},hi=function(B,k){return function($,J,me){$.style[J]?($.style[J]=la(me),tr($,k)):Sa($,J,me)}},Bl=function(B,k){return B.style[k]?Ho(B.style[k]):Po(B,k)},ri=function(B,k){var $=la(k);B.style.marginLeft=$,B.style.marginRight=$},ai=function(B,k){var $=la(k);B.style.marginTop=$,B.style.marginBottom=$},su=function(B,k){var $=la(k);B.style.borderWidth=$},xu=function(B,k){B.style.borderStyle=k},qi=function(B){return bn(B,"borderStyle")},oi=function(B){return B.nodeName==="FIGURE"},Tu=function(B){return B.nodeName==="IMG"},Fr=function(B){return Ra.getAttrib(B,"alt").length===0&&Ra.getAttrib(B,"role")==="presentation"},Ri=function(B){return Fr(B)?"":Po(B,"alt")},Sn=function(){return{src:"",alt:"",title:"",width:"",height:"",class:"",style:"",caption:!1,hspace:"",vspace:"",border:"",borderStyle:"",isDecorative:!1}},Zl=function(B,k){var $=document.createElement("img");return Sa($,"style",k.style),(hr($)||k.hspace!=="")&&ri($,k.hspace),(Co($)||k.vspace!=="")&&ai($,k.vspace),(Mo($)||k.border!=="")&&su($,k.border),(qi($)||k.borderStyle!=="")&&xu($,k.borderStyle),B($.getAttribute("style"))},ii=function(B,k){var $=document.createElement("img");if(es(B,P(P({},k),{caption:!1}),$),fu($,k.alt,k.isDecorative),k.caption){var J=Ra.create("figure",{class:"image"});return J.appendChild($),J.appendChild(Ra.create("figcaption",{contentEditable:"true"},"Caption")),J.contentEditable="false",J}else return $},cu=function(B,k){return{src:Po(k,"src"),alt:Ri(k),title:Po(k,"title"),width:Bl(k,"width"),height:Bl(k,"height"),class:Po(k,"class"),style:B(Po(k,"style")),caption:Cr(k),hspace:hr(k),vspace:Co(k),border:Mo(k),borderStyle:bn(k,"borderStyle"),isDecorative:Fr(k)}},ui=function(B,k,$,J,me){$[J]!==k[J]&&me(B,J,$[J])},fu=function(B,k,$){if($){Ra.setAttrib(B,"role","presentation");var J=Ie.fromDom(B);_o(J,"alt","")}else{if(Me(k)){var J=Ie.fromDom(B);mi(J,"alt")}else{var J=Ie.fromDom(B);_o(J,"alt",k)}Ra.getAttrib(B,"role")==="presentation"&&Ra.setAttrib(B,"role","")}},Ql=function(B,k,$){($.alt!==k.alt||$.isDecorative!==k.isDecorative)&&fu(B,$.alt,$.isDecorative)},Ki=function(B,k){return function($,J,me){B($,me),tr($,k)}},es=function(B,k,$){var J=cu(B,$);ui($,J,k,"caption",function(me,ot,Qt){return Pr(me)}),ui($,J,k,"src",Sa),ui($,J,k,"title",Sa),ui($,J,k,"width",hi("width",B)),ui($,J,k,"height",hi("height",B)),ui($,J,k,"class",Sa),ui($,J,k,"style",Ki(function(me,ot){return Sa(me,"style",ot)},B)),ui($,J,k,"hspace",Ki(ri,B)),ui($,J,k,"vspace",Ki(ai,B)),ui($,J,k,"border",Ki(su,B)),ui($,J,k,"borderStyle",Ki(xu,B)),Ql($,J,k)},oe=function(B,k){var $=B.dom.styles.parse(k),J=Xr($),me=B.dom.styles.parse(B.dom.styles.serialize(J));return B.dom.styles.serialize(me)},Te=function(B){var k=B.selection.getNode(),$=B.dom.getParent(k,"figure.image");return $?B.dom.select("img",$)[0]:k&&(k.nodeName!=="IMG"||Uo(k))?null:k},le=function(B,k){var $=B.dom,J=En(B.schema.getTextBlockElements(),function(ot,Qt){return!B.schema.isValidChild(Qt,"figure")}),me=$.getParent(k.parentNode,function(ot){return j(J,ot.nodeName)},B.getBody());return me?$.split(me,k):k},$e=function(B){var k=Te(B);return k?cu(function($){return oe(B,$)},k):Sn()},Lt=function(B,k){var $=ii(function(ot){return oe(B,ot)},k);B.dom.setAttrib($,"data-mce-id","__mcenew"),B.focus(),B.selection.setContent($.outerHTML);var J=B.dom.select('*[data-mce-id="__mcenew"]')[0];if(B.dom.setAttrib(J,"data-mce-id",null),oi(J)){var me=le(B,J);B.selection.select(me)}else B.selection.select(J)},cn=function(B,k){B.dom.setAttrib(k,"src",k.getAttribute("src"))},Nn=function(B,k){if(k){var $=B.dom.is(k.parentNode,"figure.image")?k.parentNode:k;B.dom.remove($),B.focus(),B.nodeChanged(),B.dom.isEmpty(B.getBody())&&(B.setContent(""),B.selection.setCursorLocation())}},Un=function(B,k){var $=Te(B);if(es(function(me){return oe(B,me)},k,$),cn(B,$),oi($.parentNode)){var J=$.parentNode;le(B,J),B.selection.select($.parentNode)}else B.selection.select($),ta(B,k,$)},Or=function(B,k){var $=k.src;return P(P({},k),{src:ni(B,$)?$:""})},Rr=function(B,k){var $=Te(B);if($){var J=cu(function(Qt){return oe(B,Qt)},$),me=P(P({},J),k),ot=Or(B,me);me.src?Un(B,ot):Nn(B,$)}else k.src&&Lt(B,P(P({},Sn()),k))},gr=function(B,k){var $=Ee(B)&&Ee(k);return $?ka(B,k):k},Ba=function(B){return function(){for(var k=[],$=0;$<arguments.length;$++)k[$]=arguments[$];if(k.length===0)throw new Error("Can't merge zero objects");for(var J={},me=0;me<k.length;me++){var ot=k[me];for(var Qt in ot)wo(ot,Qt)&&(J[Qt]=B(J[Qt],ot[Qt]))}return J}},ka=Ba(gr),Eu=function(B){return B.length>0},So=tinymce.util.Tools.resolve("tinymce.util.ImageUploader"),Ou=tinymce.util.Tools.resolve("tinymce.util.Tools"),ll=function(B){return Fe(B.value)?B.value:""},Ma=function(B){return Fe(B.text)?B.text:Fe(B.title)?B.title:""},Pa=function(B,k){var $=[];return Ou.each(B,function(J){var me=Ma(J);if(J.menu!==void 0){var ot=Pa(J.menu,k);$.push({text:me,items:ot})}else{var Qt=k(J);$.push({text:me,value:Qt})}}),$},Ot=function(B){return B===void 0&&(B=ll),function(k){return k?Nt.from(k).map(function($){return Pa($,B)}):Nt.none()}},io=function(B){return Ot(ll)(B)},Gu=function(B){return wo(B,"items")},ts=function(B,k){return Mt(B,function($){return Gu($)?ts($.items,k):$.value===k?Nt.some($):Nt.none()})},ns=function(B,k){return B.bind(function($){return ts($,k)})},vr={sanitizer:Ot,sanitize:io,findEntry:ns},Bs=function(B){return{title:"Advanced",name:"advanced",items:[{type:"input",label:"Style",name:"style"},{type:"grid",columns:2,items:[{type:"input",label:"Vertical space",name:"vspace",inputMode:"numeric"},{type:"input",label:"Horizontal space",name:"hspace",inputMode:"numeric"},{type:"input",label:"Border width",name:"border",inputMode:"numeric"},{type:"listbox",name:"borderstyle",label:"Border style",items:[{text:"Select...",value:""},{text:"Solid",value:"solid"},{text:"Dotted",value:"dotted"},{text:"Dashed",value:"dashed"},{text:"Double",value:"double"},{text:"Groove",value:"groove"},{text:"Ridge",value:"ridge"},{text:"Inset",value:"inset"},{text:"Outset",value:"outset"},{text:"None",value:"none"},{text:"Hidden",value:"hidden"}]}]}]}},Au={makeTab:Bs},Fa=function(B){var k=vr.sanitizer(function(qa){return B.convertURL(qa.value||qa.url,"src")}),$=new Pe(function(qa){oo(B,function(Go){qa(k(Go).map(function(ma){return $n([[{text:"None",value:""}],ma])}))})}),J=vr.sanitize(nn(B)),me=tt(B),ot=mn(B),Qt=Ro(B),fr=Rl(B),ya=$e(B),xa=Ln(B),na=wr(B),Za=pt(B),ls=Cn(B),jo=uu(B),ra=lu(B),Ic=Nt.some(zn(B)).filter(function(qa){return Fe(qa)&&qa.length>0});return $.then(function(qa){return{image:ya,imageList:qa,classList:J,hasAdvTab:me,hasUploadTab:ot,hasUploadUrl:Qt,hasUploadHandler:fr,hasDescription:xa,hasImageTitle:na,hasDimensions:Za,hasImageCaption:ls,prependURL:Ic,hasAccessibilityOptions:jo,automaticUploads:ra}})},rs=function(B){var k={name:"src",type:"urlinput",filetype:"image",label:"Source"},$=B.imageList.map(function(na){return{name:"images",type:"listbox",label:"Image list",items:na}}),J={name:"alt",type:"input",label:"Alternative description",disabled:B.hasAccessibilityOptions&&B.image.isDecorative},me={name:"title",type:"input",label:"Image title"},ot={name:"dimensions",type:"sizeinput"},Qt={type:"label",label:"Accessibility",items:[{name:"isDecorative",type:"checkbox",label:"Image is decorative"}]},fr=B.classList.map(function(na){return{name:"classes",type:"listbox",label:"Class",items:na}}),ya={type:"label",label:"Caption",items:[{type:"checkbox",name:"caption",label:"Show caption"}]},xa=function(na){return na?{type:"grid",columns:2}:{type:"panel"}};return $n([[k],$.toArray(),B.hasAccessibilityOptions&&B.hasDescription?[Qt]:[],B.hasDescription?[J]:[],B.hasImageTitle?[me]:[],B.hasDimensions?[ot]:[],[P(P({},xa(B.classList.isSome()&&B.hasImageCaption)),{items:$n([fr.toArray(),B.hasImageCaption?[ya]:[]])})]])},pi=function(B){return{title:"General",name:"general",items:rs(B)}},Bi={makeTab:pi,makeItems:rs},sa=function(B){var k=[{type:"dropzone",name:"fileinput"}];return{title:"Upload",name:"upload",items:k}},as={makeTab:sa},Ml=function(B){return{prevImage:vr.findEntry(B.imageList,B.image.src),prevAlt:B.image.alt,open:!0}},Pl=function(B){return{src:{value:B.src,meta:{}},images:B.src,alt:B.alt,title:B.title,dimensions:{width:B.width,height:B.height},classes:B.class,caption:B.caption,style:B.style,vspace:B.vspace,border:B.border,hspace:B.hspace,borderstyle:B.borderStyle,fileinput:[],isDecorative:B.isDecorative}},Ms=function(B,k){return{src:B.src.value,alt:B.alt.length===0&&k?null:B.alt,title:B.title,width:B.dimensions.width,height:B.dimensions.height,class:B.classes,style:B.style,caption:B.caption,hspace:B.hspace,vspace:B.vspace,border:B.border,borderStyle:B.borderstyle,isDecorative:B.isDecorative}},vu=function(B,k){return/^(?:[a-zA-Z]+:)?\/\//.test(k)?Nt.none():B.prependURL.bind(function($){return k.substring(0,$.length)!==$?Nt.some($+k):Nt.none()})},du=function(B,k){var $=k.getData();vu(B,$.src.value).each(function(J){k.setData({src:{value:J,meta:$.src.meta}})})},Ps=function(B,k,$){B.hasDescription&&Fe($.alt)&&(k.alt=$.alt),B.hasAccessibilityOptions&&(k.isDecorative=$.isDecorative||k.isDecorative||!1),B.hasImageTitle&&Fe($.title)&&(k.title=$.title),B.hasDimensions&&(Fe($.width)&&(k.dimensions.width=$.width),Fe($.height)&&(k.dimensions.height=$.height)),Fe($.class)&&vr.findEntry(B.classList,$.class).each(function(J){k.classes=J.value}),B.hasImageCaption&&It($.caption)&&(k.caption=$.caption),B.hasAdvTab&&(Fe($.style)&&(k.style=$.style),Fe($.vspace)&&(k.vspace=$.vspace),Fe($.border)&&(k.border=$.border),Fe($.hspace)&&(k.hspace=$.hspace),Fe($.borderstyle)&&(k.borderstyle=$.borderstyle))},Xi=function(B,k){var $=k.getData(),J=$.src.meta;if(J!==void 0){var me=ka({},$);Ps(B,me,J),k.setData(me)}},Mi=function(B,k,$,J){var me=J.getData(),ot=me.src.value,Qt=me.src.meta||{};!Qt.width&&!Qt.height&&k.hasDimensions&&(Eu(ot)?B.imageSize(ot).then(function(fr){$.open&&J.setData({dimensions:fr})}).catch(function(fr){return console.error(fr)}):J.setData({dimensions:{width:"",height:""}}))},W=function(B,k,$){var J=$.getData(),me=vr.findEntry(B.imageList,J.src.value);k.prevImage=me,$.setData({images:me.map(function(ot){return ot.value}).getOr("")})},pe=function(B,k,$,J){du(k,J),Xi(k,J),Mi(B,k,$,J),W(k,$,J)},_e=function(B,k,$,J){var me=J.getData(),ot=vr.findEntry(k.imageList,me.images);ot.each(function(Qt){var fr=me.alt===""||$.prevImage.map(function(ya){return ya.text===me.alt}).getOr(!1);fr?Qt.value===""?J.setData({src:Qt,alt:$.prevAlt}):J.setData({src:Qt,alt:Qt.text}):J.setData({src:Qt})}),$.prevImage=ot,pe(B,k,$,J)},nt=function(B){var k=B["margin-top"]&&B["margin-bottom"]&&B["margin-top"]===B["margin-bottom"];return k?Ho(String(B["margin-top"])):""},Bt=function(B){var k=B["margin-right"]&&B["margin-left"]&&B["margin-right"]===B["margin-left"];return k?Ho(String(B["margin-right"])):""},hn=function(B){return B["border-width"]?Ho(String(B["border-width"])):""},$r=function(B){return B["border-style"]?String(B["border-style"]):""},Gr=function(B,k,$){return k(B(k($)))},nr=function(B,k,$){var J=Xr(B($.style)),me=ka({},$);return me.vspace=nt(J),me.hspace=Bt(J),me.border=hn(J),me.borderstyle=$r(J),me.style=Gr(B,k,J),me},da=function(B,k){var $=k.getData(),J=nr(B.parseStyle,B.serializeStyle,$);k.setData(J)},Aa=function(B,k,$){var J=ka(Pl(k.image),$.getData()),me=Zl(B.normalizeCss,Ms(J,!1));$.setData({style:me})},$l=function(B,k,$,J){var me=J.getData();J.block("Uploading image"),Zr(me.fileinput).fold(function(){J.unblock()},function(ot){var Qt=URL.createObjectURL(ot),fr=function(){J.unblock(),URL.revokeObjectURL(Qt)},ya=function(xa){J.setData({src:{value:xa,meta:{}}}),J.showTab("general"),pe(B,k,$,J)};Lr(ot).then(function(xa){var na=B.createBlobCache(ot,Qt,xa);k.automaticUploads?B.uploadImage(na).then(function(Za){ya(Za.url),fr()}).catch(function(Za){fr(),B.alertErr(Za)}):(B.addToBlobCache(na),ya(na.blobUri()),J.unblock())})})},Wo=function(B,k,$){return function(J,me){me.name==="src"?pe(B,k,$,J):me.name==="images"?_e(B,k,$,J):me.name==="alt"?$.prevAlt=J.getData().alt:me.name==="style"?da(B,J):me.name==="vspace"||me.name==="hspace"||me.name==="border"||me.name==="borderstyle"?Aa(B,k,J):me.name==="fileinput"?$l(B,k,$,J):me.name==="isDecorative"&&(J.getData().isDecorative?J.disable("alt"):J.enable("alt"))}},sl=function(B){return function(){B.open=!1}},On=function(B){if(B.hasAdvTab||B.hasUploadUrl||B.hasUploadHandler){var k={type:"tabpanel",tabs:$n([[Bi.makeTab(B)],B.hasAdvTab?[Au.makeTab(B)]:[],B.hasUploadTab&&(B.hasUploadUrl||B.hasUploadHandler)?[as.makeTab(B)]:[]])};return k}else{var $={type:"panel",items:Bi.makeItems(B)};return $}},os=function(B){return function(k){var $=Ml(k);return{title:"Insert/Edit Image",size:"normal",body:On(k),buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:Pl(k.image),onSubmit:B.onSubmit(k),onChange:Wo(B,k,$),onClose:sl($)}}},yf=function(B){return function(k){return function($){var J=ka(Pl(k.image),$.getData());B.execCommand("mceUpdateImage",!1,Ms(J,k.hasAccessibilityOptions)),B.editorUpload.uploadImagesAuto(),$.close()}}},Ar=function(B){return function(k){return ni(B,k)?ku(B.documentBaseURI.toAbsolute(k)).then(function($){return{width:String($.width),height:String($.height)}}):Pe.resolve({width:"",height:""})}},Fc=function(B){return function(k,$,J){return B.editorUpload.blobCache.create({blob:k,blobUri:$,name:k.name?k.name.replace(/\.[^\.]+$/,""):null,filename:k.name,base64:J.split(",")[1]})}},zc=function(B){return function(k){B.editorUpload.blobCache.add(k)}},md=function(B){return function(k){B.windowManager.alert(k)}},Qr=function(B){return function(k){return oe(B,k)}},Du=function(B){return function(k){return B.dom.parseStyle(k)}},gd=function(B){return function(k,$){return B.dom.serializeStyle(k,$)}},_u=function(B){return function(k){return So(B).upload([k],!1).then(function($){return $.length===0?Pe.reject("Failed to upload image"):$[0].status===!1?Pe.reject($[0].error.message):$[0]})}},Ja=function(B){var k={onSubmit:yf(B),imageSize:Ar(B),addToBlobCache:zc(B),createBlobCache:Fc(B),alertErr:md(B),normalizeCss:Qr(B),parseStyle:Du(B),serializeStyle:gd(B),uploadImage:_u(B)},$=function(){Fa(B).then(os(k)).then(B.windowManager.open)};return{open:$}},is=function(B){B.addCommand("mceImage",Ja(B).open),B.addCommand("mceUpdateImage",function(k,$){B.undoManager.transact(function(){return Rr(B,$)})})},Ye=function(B){var k=B.attr("class");return k&&/\bimage\b/.test(k)},$s=function(B){return function(k){for(var $=k.length,J=function(ot){ot.attr("contenteditable",B?"true":null)};$--;){var me=k[$];Ye(me)&&(me.attr("contenteditable",B?"false":null),Ou.each(me.getAll("figcaption"),J))}}},Ga=function(B){B.on("PreInit",function(){B.parser.addNodeFilter("figure",$s(!0)),B.serializer.addNodeFilter("figure",$s(!1))})},wf=function(B){B.ui.registry.addToggleButton("image",{icon:"image",tooltip:"Insert/edit image",onAction:Ja(B).open,onSetup:function(k){return k.setActive(Gt(Te(B))),B.selection.selectorChangedWithUnbind("img:not([data-mce-object],[data-mce-placeholder]),figure.image",k.setActive).unbind}}),B.ui.registry.addMenuItem("image",{icon:"image",text:"Image...",onAction:Ja(B).open}),B.ui.registry.addContextMenu("image",{update:function(k){return oi(k)||Tu(k)&&!Uo(k)?["image"]:[]}})};function us(){x.add("image",function(B){Ga(B),wf(B),is(B)})}us()})();(function(){var x=tinymce.util.Tools.resolve("tinymce.PluginManager"),P=function(){return P=Object.assign||function(Te){for(var le,$e=1,Lt=arguments.length;$e<Lt;$e++){le=arguments[$e];for(var cn in le)Object.prototype.hasOwnProperty.call(le,cn)&&(Te[cn]=le[cn])}return Te},P.apply(this,arguments)},kt=function(oe){var Te=typeof oe;return oe===null?"null":Te==="object"&&(Array.prototype.isPrototypeOf(oe)||oe.constructor&&oe.constructor.name==="Array")?"array":Te==="object"&&(String.prototype.isPrototypeOf(oe)||oe.constructor&&oe.constructor.name==="String")?"string":Te},$t=function(oe){return function(Te){return kt(Te)===oe}},_t=$t("string"),ut=$t("object"),Fe=$t("array"),Ee=function(oe){return oe==null},et=function(oe){return!Ee(oe)},Me=function(){},It=function(oe){return function(){return oe}},se=function(oe){return oe},Gt=It(!1),xn=It(!0),We=function(){return ge},ge=function(){var oe=function($e){return $e()},Te=se,le={fold:function($e,Lt){return $e()},isSome:Gt,isNone:xn,getOr:Te,getOrThunk:oe,getOrDie:function($e){throw new Error($e||"error: getOrDie called on none.")},getOrNull:It(null),getOrUndefined:It(void 0),or:Te,orThunk:oe,map:We,each:Me,bind:We,exists:Gt,forall:xn,filter:function(){return We()},toArray:function(){return[]},toString:It("none()")};return le}(),ht=function(oe){var Te=It(oe),le=function(){return Lt},$e=function(cn){return cn(oe)},Lt={fold:function(cn,Nn){return Nn(oe)},isSome:xn,isNone:Gt,getOr:Te,getOrThunk:Te,getOrDie:Te,getOrNull:Te,getOrUndefined:Te,or:le,orThunk:le,map:function(cn){return ht(cn(oe))},each:function(cn){cn(oe)},bind:$e,exists:$e,forall:$e,filter:function(cn){return cn(oe)?Lt:ge},toArray:function(){return[oe]},toString:function(){return"some("+oe+")"}};return Lt},Ue=function(oe){return oe==null?ge:ht(oe)},Wt={some:ht,none:We,from:Ue},K=Array.prototype.push,dt=function(oe,Te){for(var le=0,$e=oe.length;le<$e;le++){var Lt=oe[le];Te(Lt,le)}},Oe=function(oe){for(var Te=[],le=0,$e=oe.length;le<$e;++le){if(!Fe(oe[le]))throw new Error("Arr.flatten item "+le+" was not an array, input: "+oe);K.apply(Te,oe[le])}return Te},Ht=function(oe){var Te=oe,le=function(){return Te},$e=function(Lt){Te=Lt};return{get:le,set:$e}},qt=Object.keys,Nt=Object.hasOwnProperty,Zt=function(oe,Te){for(var le=qt(oe),$e=0,Lt=le.length;$e<Lt;$e++){var cn=le[$e],Nn=oe[cn];Te(Nn,cn)}},st=function(oe,Te){return jr(oe,Te)?Wt.from(oe[Te]):Wt.none()},jr=function(oe,Te){return Nt.call(oe,Te)},ve=function(oe){return oe.getParam("media_scripts")},Q=function(oe){return oe.getParam("audio_template_callback")},En=function(oe){return oe.getParam("video_template_callback")},wo=function(oe){return oe.getParam("media_live_embeds",!0)},j=function(oe){return oe.getParam("media_filter_html",!0)},Nr=function(oe){return oe.getParam("media_url_resolver")},$n=function(oe){return oe.getParam("media_alt_source",!0)},_=function(oe){return oe.getParam("media_poster",!0)},Zr=function(oe){return oe.getParam("media_dimensions",!0)},Mt=tinymce.util.Tools.resolve("tinymce.util.Tools"),sn=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),_o=tinymce.util.Tools.resolve("tinymce.html.SaxParser"),mi=function(oe,Te){if(oe){for(var le=0;le<oe.length;le++)if(Te.indexOf(oe[le].filter)!==-1)return oe[le]}},er=sn.DOM,ua=function(oe){return oe.replace(/px$/,"")},te=function(oe){var Te=oe.map.style,le=Te?er.parseStyle(Te):{};return{type:"ephox-embed-iri",source:oe.map["data-ephox-embed-iri"],altsource:"",poster:"",width:st(le,"max-width").map(ua).getOr(""),height:st(le,"max-height").map(ua).getOr("")}},vo=function(oe,Te){var le=Ht(!1),$e={};return _o({validate:!1,allow_conditional_comments:!0,start:function(Lt,cn){if(!le.get())if(jr(cn.map,"data-ephox-embed-iri"))le.set(!0),$e=te(cn);else{if(!$e.source&&Lt==="param"&&($e.source=cn.map.movie),(Lt==="iframe"||Lt==="object"||Lt==="embed"||Lt==="video"||Lt==="audio")&&($e.type||($e.type=Lt),$e=Mt.extend(cn.map,$e)),Lt==="script"){var Nn=mi(oe,cn.map.src);if(!Nn)return;$e={type:"script",source:cn.map.src,width:String(Nn.width),height:String(Nn.height)}}Lt==="source"&&($e.source?$e.altsource||($e.altsource=cn.map.src):$e.source=cn.map.src),Lt==="img"&&!$e.poster&&($e.poster=cn.map.src)}}}).parse(Te),$e.source=$e.source||$e.src||$e.data,$e.altsource=$e.altsource||"",$e.poster=$e.poster||"",$e},Tt=function(oe){var Te={mp3:"audio/mpeg",m4a:"audio/x-m4a",wav:"audio/wav",mp4:"video/mp4",webm:"video/webm",ogg:"video/ogg",swf:"application/x-shockwave-flash"},le=oe.toLowerCase().split(".").pop(),$e=Te[le];return $e||""},Ie=tinymce.util.Tools.resolve("tinymce.html.Schema"),dn=tinymce.util.Tools.resolve("tinymce.html.Writer"),Pe=sn.DOM,Re=function(oe){return/^[0-9.]+$/.test(oe)?oe+"px":oe},Qe=function(oe,Te){Zt(Te,function(le,$e){var Lt=""+le;if(oe.map[$e])for(var cn=oe.length;cn--;){var Nn=oe[cn];Nn.name===$e&&(Lt?(oe.map[$e]=Lt,Nn.value=Lt):(delete oe.map[$e],oe.splice(cn,1)))}else Lt&&(oe.push({name:$e,value:Lt}),oe.map[$e]=Lt)})},pt=function(oe,Te){var le=Te.map.style,$e=le?Pe.parseStyle(le):{};$e["max-width"]=Re(oe.width),$e["max-height"]=Re(oe.height),Qe(Te,{style:Pe.serializeStyle($e)})},tt=["source","altsource"],mn=function(oe,Te,le){var $e=dn(),Lt=Ht(!1),cn=0,Nn;return _o({validate:!1,allow_conditional_comments:!0,comment:function(Un){$e.comment(Un)},cdata:function(Un){$e.cdata(Un)},text:function(Un,Or){$e.text(Un,Or)},start:function(Un,Or,Rr){if(!Lt.get())if(jr(Or.map,"data-ephox-embed-iri"))Lt.set(!0),pt(Te,Or);else{switch(Un){case"video":case"object":case"embed":case"img":case"iframe":Te.height!==void 0&&Te.width!==void 0&&Qe(Or,{width:Te.width,height:Te.height});break}if(le)switch(Un){case"video":Qe(Or,{poster:Te.poster,src:""}),Te.altsource&&Qe(Or,{src:""});break;case"iframe":Qe(Or,{src:Te.source});break;case"source":if(cn<2&&(Qe(Or,{src:Te[tt[cn]],type:Te[tt[cn]+"mime"]}),!Te[tt[cn]]))return;cn++;break;case"img":if(!Te.poster)return;Nn=!0;break}}$e.start(Un,Or,Rr)},end:function(Un){if(!Lt.get()){if(Un==="video"&&le){for(var Or=0;Or<2;Or++)if(Te[tt[Or]]){var Rr=[];Rr.map={},cn<=Or&&(Qe(Rr,{src:Te[tt[Or]],type:Te[tt[Or]+"mime"]}),$e.start("source",Rr,!0))}}if(Te.poster&&Un==="object"&&le&&!Nn){var gr=[];gr.map={},Qe(gr,{src:Te.poster,width:Te.width,height:Te.height}),$e.start("img",gr,!0)}}$e.end(Un)}},Ie({})).parse(oe),$e.getContent()},zn=[{regex:/youtu\.be\/([\w\-_\?&=.]+)/i,type:"iframe",w:560,h:314,url:"www.youtube.com/embed/$1",allowFullscreen:!0},{regex:/youtube\.com(.+)v=([^&]+)(&([a-z0-9&=\-_]+))?/i,type:"iframe",w:560,h:314,url:"www.youtube.com/embed/$2?$4",allowFullscreen:!0},{regex:/youtube.com\/embed\/([a-z0-9\?&=\-_]+)/i,type:"iframe",w:560,h:314,url:"www.youtube.com/embed/$1",allowFullscreen:!0},{regex:/vimeo\.com\/([0-9]+)/,type:"iframe",w:425,h:350,url:"player.vimeo.com/video/$1?title=0&byline=0&portrait=0&color=8dc7dc",allowFullscreen:!0},{regex:/vimeo\.com\/(.*)\/([0-9]+)/,type:"iframe",w:425,h:350,url:"player.vimeo.com/video/$2?title=0&amp;byline=0",allowFullscreen:!0},{regex:/maps\.google\.([a-z]{2,3})\/maps\/(.+)msid=(.+)/,type:"iframe",w:425,h:350,url:'maps.google.com/maps/ms?msid=$2&output=embed"',allowFullscreen:!1},{regex:/dailymotion\.com\/video\/([^_]+)/,type:"iframe",w:480,h:270,url:"www.dailymotion.com/embed/video/$1",allowFullscreen:!0},{regex:/dai\.ly\/([^_]+)/,type:"iframe",w:480,h:270,url:"www.dailymotion.com/embed/video/$1",allowFullscreen:!0}],nn=function(oe){var Te=oe.match(/^(https?:\/\/|www\.)(.+)$/i);return Te&&Te.length>1?Te[1]==="www."?"https://":Te[1]:"https://"},Ln=function(oe,Te){for(var le=nn(Te),$e=oe.regex.exec(Te),Lt=le+oe.url,cn=function(Un){Lt=Lt.replace("$"+Un,function(){return $e[Un]?$e[Un]:""})},Nn=0;Nn<$e.length;Nn++)cn(Nn);return Lt.replace(/\?$/,"")},wr=function(oe){var Te=zn.filter(function(le){return le.regex.test(oe)});return Te.length>0?Mt.extend({},Te[0],{url:Ln(Te[0],oe)}):null},Cn=function(oe){var Te=oe.allowfullscreen?' allowFullscreen="1"':"";return'<iframe src="'+oe.source+'" width="'+oe.width+'" height="'+oe.height+'"'+Te+"></iframe>"},Kr=function(oe){var Te='<object data="'+oe.source+'" width="'+oe.width+'" height="'+oe.height+'" type="application/x-shockwave-flash">';return oe.poster&&(Te+='<img src="'+oe.poster+'" width="'+oe.width+'" height="'+oe.height+'" />'),Te+="</object>",Te},Ro=function(oe,Te){return Te?Te(oe):'<audio controls="controls" src="'+oe.source+'">'+(oe.altsource?`
<source src="`+oe.altsource+'"'+(oe.altsourcemime?' type="'+oe.altsourcemime+'"':"")+` />
`:"")+"</audio>"},Rl=function(oe,Te){return Te?Te(oe):'<video width="'+oe.width+'" height="'+oe.height+'"'+(oe.poster?' poster="'+oe.poster+'"':"")+` controls="controls">
<source src="`+oe.source+'"'+(oe.sourcemime?' type="'+oe.sourcemime+'"':"")+` />
`+(oe.altsource?'<source src="'+oe.altsource+'"'+(oe.altsourcemime?' type="'+oe.altsourcemime+'"':"")+` />
`:"")+"</video>"},uu=function(oe){return'<script src="'+oe.source+'"><\/script>'},lu=function(oe,Te){var le=Mt.extend({},Te);if(!le.source&&(Mt.extend(le,vo(ve(oe),le.embed)),!le.source))return"";le.altsource||(le.altsource=""),le.poster||(le.poster=""),le.source=oe.convertURL(le.source,"source"),le.altsource=oe.convertURL(le.altsource,"source"),le.sourcemime=Tt(le.source),le.altsourcemime=Tt(le.altsource),le.poster=oe.convertURL(le.poster,"poster");var $e=wr(le.source);if($e&&(le.source=$e.url,le.type=$e.type,le.allowfullscreen=$e.allowFullscreen,le.width=le.width||String($e.w),le.height=le.height||String($e.h)),le.embed)return mn(le.embed,le,!0);var Lt=mi(ve(oe),le.source);Lt&&(le.type="script",le.width=String(Lt.width),le.height=String(Lt.height));var cn=Q(oe),Nn=En(oe);return le.width=le.width||"300",le.height=le.height||"150",Mt.each(le,function(Un,Or){le[Or]=oe.dom.encode(""+Un)}),le.type==="iframe"?Cn(le):le.sourcemime==="application/x-shockwave-flash"?Kr(le):le.sourcemime.indexOf("audio")!==-1?Ro(le,cn):le.type==="script"?uu(le):Rl(le,Nn)},Bo=function(oe){return oe.hasAttribute("data-mce-object")||oe.hasAttribute("data-ephox-embed-iri")},ku=function(oe){oe.on("click keyup touchend",function(){var Te=oe.selection.getNode();Te&&oe.dom.hasClass(Te,"mce-preview-object")&&oe.dom.getAttrib(Te,"data-mce-selected")&&Te.setAttribute("data-mce-selected","2")}),oe.on("ObjectSelected",function(Te){var le=Te.target.getAttribute("data-mce-object");le==="script"&&Te.preventDefault()}),oe.on("ObjectResized",function(Te){var le=Te.target;if(le.getAttribute("data-mce-object")){var $e=le.getAttribute("data-mce-html");$e&&($e=unescape($e),le.setAttribute("data-mce-html",escape(mn($e,{width:String(Te.width),height:String(Te.height)}))))}})},Ho=tinymce.util.Tools.resolve("tinymce.util.Promise"),la={},Xr=function(oe,Te,le){return new Ho(function($e,Lt){var cn=function(Nn){return Nn.html&&(la[oe.source]=Nn),$e({url:oe.source,html:Nn.html?Nn.html:Te(oe)})};la[oe.source]?cn(la[oe.source]):le({url:oe.source},cn,Lt)})},oo=function(oe,Te){return Ho.resolve({html:Te(oe),url:oe.source})},ta=function(oe){return function(Te){return lu(oe,Te)}},Lr=function(oe,Te){var le=Nr(oe);return le?Xr(Te,ta(oe),le):oo(Te,ta(oe))},Uo=function(oe){return jr(la,oe)},ni=function(oe,Te){return st(Te,oe).bind(function(le){return st(le,"meta")})},Ra=function(oe,Te,le){return function($e){var Lt,cn=function(){return st(oe,$e)},Nn=function(){return st(Te,$e)},Un=function(gr){return st(gr,"value").bind(function(Ba){return Ba.length>0?Wt.some(Ba):Wt.none()})},Or=function(){return cn().bind(function(gr){return ut(gr)?Un(gr).orThunk(Nn):Nn().orThunk(function(){return Wt.from(gr)})})},Rr=function(){return Nn().orThunk(function(){return cn().bind(function(gr){return ut(gr)?Un(gr):Wt.from(gr)})})};return Lt={},Lt[$e]=($e===le?Or():Rr()).getOr(""),Lt}},hr=function(oe,Te){var le={};return st(oe,"dimensions").each(function($e){dt(["width","height"],function(Lt){st(Te,Lt).orThunk(function(){return st($e,Lt)}).each(function(cn){return le[Lt]=cn})})}),le},Co=function(oe,Te){var le=Te?ni(Te,oe).getOr({}):{},$e=Ra(oe,le,Te);return P(P(P(P(P({},$e("source")),$e("altsource")),$e("poster")),$e("embed")),hr(oe,le))},Mo=function(oe){var Te=P(P({},oe),{source:{value:st(oe,"source").getOr("")},altsource:{value:st(oe,"altsource").getOr("")},poster:{value:st(oe,"poster").getOr("")}});return dt(["width","height"],function(le){st(oe,le).each(function($e){var Lt=Te.dimensions||{};Lt[le]=$e,Te.dimensions=Lt})}),Te},Po=function(oe){return function(Te){var le=Te&&Te.msg?"Media embed handler error: "+Te.msg:"Media embed handler threw unknown error.";oe.notificationManager.open({type:"error",text:le})}},bn=function(oe,Te){return vo(ve(oe),Te)},Cr=function(oe){var Te=oe.selection.getNode(),le=Bo(Te)?oe.serializer.serialize(Te,{selection:!0}):"";return P({embed:le},vo(ve(oe),le))},Sa=function(oe,Te){return function(le){if(_t(le.url)&&le.url.trim().length>0){var $e=le.html,Lt=bn(Te,$e),cn=P(P({},Lt),{source:le.url,embed:$e});oe.setData(Mo(cn))}}},gi=function(oe,Te){for(var le=oe.dom.select("*[data-mce-object]"),$e=0;$e<Te.length;$e++)for(var Lt=le.length-1;Lt>=0;Lt--)Te[$e]===le[Lt]&&le.splice(Lt,1);oe.selection.select(le[0])},ul=function(oe,Te){var le=oe.dom.select("*[data-mce-object]");oe.insertContent(Te),gi(oe,le),oe.nodeChanged()},Pr=function(oe,Te,le){Te.embed=mn(Te.embed,Te),Te.embed&&(oe.source===Te.source||Uo(Te.source))?ul(le,Te.embed):Lr(le,Te).then(function($e){ul(le,$e.html)}).catch(Po(le))},tr=function(oe){var Te=Cr(oe),le=Ht(Te),$e=Mo(Te),Lt=function(Ma,Pa){var Ot=Co(Pa.getData(),"source");Ma.source!==Ot.source&&(Sa(ll,oe)({url:Ot.source,html:""}),Lr(oe,Ot).then(Sa(ll,oe)).catch(Po(oe)))},cn=function(Ma){var Pa=Co(Ma.getData()),Ot=bn(oe,Pa.embed);Ma.setData(Mo(Ot))},Nn=function(Ma,Pa){var Ot=Co(Ma.getData(),Pa),io=lu(oe,Ot);Ma.setData(Mo(P(P({},Ot),{embed:io})))},Un=[{name:"source",type:"urlinput",filetype:"media",label:"Source"}],Or=Zr(oe)?[{type:"sizeinput",name:"dimensions",label:"Constrain proportions",constrain:!0}]:[],Rr={title:"General",name:"general",items:Oe([Un,Or])},gr={type:"textarea",name:"embed",label:"Paste your embed code below:"},Ba={title:"Embed",items:[gr]},ka=[];$n(oe)&&ka.push({name:"altsource",type:"urlinput",filetype:"media",label:"Alternative source URL"}),_(oe)&&ka.push({name:"poster",type:"urlinput",filetype:"image",label:"Media poster (Image URL)"});var Eu={title:"Advanced",name:"advanced",items:ka},So=[Rr,Ba];ka.length>0&&So.push(Eu);var Ou={type:"tabpanel",tabs:So},ll=oe.windowManager.open({title:"Insert/Edit Media",size:"normal",body:Ou,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],onSubmit:function(Ma){var Pa=Co(Ma.getData());Pr(le.get(),Pa,oe),Ma.close()},onChange:function(Ma,Pa){switch(Pa.name){case"source":Lt(le.get(),Ma);break;case"embed":cn(Ma);break;case"dimensions":case"altsource":case"poster":Nn(Ma,Pa.name);break}le.set(Co(Ma.getData()))},initialData:$e})},hi=function(oe){var Te=function(){tr(oe)};return{showDialog:Te}},Bl=function(oe){var Te=function(){tr(oe)};oe.addCommand("mceMedia",Te)},ri=tinymce.util.Tools.resolve("tinymce.html.Node"),ai=tinymce.util.Tools.resolve("tinymce.Env"),su=tinymce.util.Tools.resolve("tinymce.html.DomParser"),xu=function(oe,Te){if(j(oe)===!1)return Te;var le=dn(),$e;return _o({validate:!1,allow_conditional_comments:!1,comment:function(Lt){$e||le.comment(Lt)},cdata:function(Lt){$e||le.cdata(Lt)},text:function(Lt,cn){$e||le.text(Lt,cn)},start:function(Lt,cn,Nn){if($e=!0,!(Lt==="script"||Lt==="noscript"||Lt==="svg")){for(var Un=cn.length-1;Un>=0;Un--){var Or=cn[Un].name;Or.indexOf("on")===0&&(delete cn.map[Or],cn.splice(Un,1)),Or==="style"&&(cn[Un].value=oe.dom.serializeStyle(oe.dom.parseStyle(cn[Un].value),Lt))}le.start(Lt,cn,Nn),$e=!1}},end:function(Lt){$e||le.end(Lt)}},Ie({})).parse(Te),le.getContent()},qi=function(oe){var Te=oe.name;return Te==="iframe"||Te==="video"||Te==="audio"},oi=function(oe,Te,le,$e){$e===void 0&&($e=null);var Lt=oe.attr(le);return et(Lt)?Lt:jr(Te,le)?null:$e},Tu=function(oe,Te,le){var $e=Te.name==="img"||oe.name==="video",Lt=$e?"300":null,cn=oe.name==="audio"?"30":"150",Nn=$e?cn:null;Te.attr({width:oi(oe,le,"width",Lt),height:oi(oe,le,"height",Nn)})},Fr=function(oe,Te,le,$e){for(var Lt=su({forced_root_block:!1,validate:!1},oe.schema).parse($e,{context:Te});Lt.firstChild;)le.append(Lt.firstChild)},Ri=function(oe,Te){var le=Te.name,$e=new ri("img",1);return $e.shortEnded=!0,Zl(oe,Te,$e),Tu(Te,$e,{}),$e.attr({style:Te.attr("style"),src:ai.transparentSrc,"data-mce-object":le,class:"mce-object mce-object-"+le}),$e},Sn=function(oe,Te){var le=Te.name,$e=new ri("span",1);$e.attr({contentEditable:"false",style:Te.attr("style"),"data-mce-object":le,class:"mce-preview-object mce-object-"+le}),Zl(oe,Te,$e);var Lt=oe.dom.parseStyle(Te.attr("style")),cn=new ri(le,1);if(Tu(Te,cn,Lt),cn.attr({src:Te.attr("src"),style:Te.attr("style"),class:Te.attr("class")}),le==="iframe")cn.attr({allowfullscreen:Te.attr("allowfullscreen"),frameborder:"0"});else{var Nn=["controls","crossorigin","currentTime","loop","muted","poster","preload"];dt(Nn,function(Rr){cn.attr(Rr,Te.attr(Rr))});var Un=$e.attr("data-mce-html");et(Un)&&Fr(oe,le,cn,unescape(Un))}var Or=new ri("span",1);return Or.attr("class","mce-shim"),$e.append(cn),$e.append(Or),$e},Zl=function(oe,Te,le){for(var $e=Te.attributes,Lt=$e.length;Lt--;){var cn=$e[Lt].name,Nn=$e[Lt].value;cn!=="width"&&cn!=="height"&&cn!=="style"&&((cn==="data"||cn==="src")&&(Nn=oe.convertURL(Nn,cn)),le.attr("data-mce-p-"+cn,Nn))}var Un=Te.firstChild&&Te.firstChild.value;Un&&(le.attr("data-mce-html",escape(xu(oe,Un))),le.firstChild=null)},ii=function(oe){var Te=oe.attr("class");return Te&&/\btiny-pageembed\b/.test(Te)},cu=function(oe){for(;oe=oe.parent;)if(oe.attr("data-ephox-embed-iri")||ii(oe))return!0;return!1},ui=function(oe){return function(Te){for(var le=Te.length,$e,Lt;le--;)$e=Te[le],!!$e.parent&&($e.parent.attr("data-mce-object")||$e.name==="script"&&(Lt=mi(ve(oe),$e.attr("src")),!Lt)||(Lt&&(Lt.width&&$e.attr("width",Lt.width.toString()),Lt.height&&$e.attr("height",Lt.height.toString())),qi($e)&&wo(oe)&&ai.ceFalse?cu($e)||$e.replace(Sn(oe,$e)):cu($e)||$e.replace(Ri(oe,$e))))}},fu=function(oe){oe.on("preInit",function(){var Te=oe.schema.getSpecialElements();Mt.each("video audio iframe object".split(" "),function($e){Te[$e]=new RegExp("</"+$e+"[^>]*>","gi")});var le=oe.schema.getBoolAttrs();Mt.each("webkitallowfullscreen mozallowfullscreen allowfullscreen".split(" "),function($e){le[$e]={}}),oe.parser.addNodeFilter("iframe,video,audio,object,embed,script",ui(oe)),oe.serializer.addAttributeFilter("data-mce-object",function($e,Lt){for(var cn=$e.length,Nn,Un,Or,Rr,gr,Ba,ka,Eu;cn--;)if(Nn=$e[cn],!!Nn.parent){for(ka=Nn.attr(Lt),Un=new ri(ka,1),ka!=="audio"&&ka!=="script"&&(Eu=Nn.attr("class"),Eu&&Eu.indexOf("mce-preview-object")!==-1?Un.attr({width:Nn.firstChild.attr("width"),height:Nn.firstChild.attr("height")}):Un.attr({width:Nn.attr("width"),height:Nn.attr("height")})),Un.attr({style:Nn.attr("style")}),Rr=Nn.attributes,Or=Rr.length;Or--;){var So=Rr[Or].name;So.indexOf("data-mce-p-")===0&&Un.attr(So.substr(11),Rr[Or].value)}ka==="script"&&Un.attr("type","text/javascript"),gr=Nn.attr("data-mce-html"),gr&&(Ba=new ri("#text",3),Ba.raw=!0,Ba.value=xu(oe,unescape(gr)),Un.append(Ba)),Nn.replace(Un)}})}),oe.on("SetContent",function(){oe.$("span.mce-preview-object").each(function(Te,le){var $e=oe.$(le);$e.find("span.mce-shim").length===0&&$e.append('<span class="mce-shim"></span>')})})},Ql=function(oe){oe.on("ResolveName",function(Te){var le;Te.target.nodeType===1&&(le=Te.target.getAttribute("data-mce-object"))&&(Te.name=le)})},Ki=function(oe){var Te=function(){return oe.execCommand("mceMedia")};oe.ui.registry.addToggleButton("media",{tooltip:"Insert/edit media",icon:"embed",onAction:Te,onSetup:function(le){var $e=oe.selection;return le.setActive(Bo($e.getNode())),$e.selectorChangedWithUnbind("img[data-mce-object],span[data-mce-object],div[data-ephox-embed-iri]",le.setActive).unbind}}),oe.ui.registry.addMenuItem("media",{icon:"embed",text:"Media...",onAction:Te})};function es(){x.add("media",function(oe){return Bl(oe),Ki(oe),Ql(oe),fu(oe),ku(oe),hi(oe)})}es()})();(function(){var x=function(u){var c=typeof u;return u===null?"null":c==="object"&&(Array.prototype.isPrototypeOf(u)||u.constructor&&u.constructor.name==="Array")?"array":c==="object"&&(String.prototype.isPrototypeOf(u)||u.constructor&&u.constructor.name==="String")?"string":c},P=function(u){return function(c){return x(c)===u}},kt=function(u){return function(c){return typeof c===u}},$t=function(u){return function(c){return u===c}},_t=P("string"),ut=P("object"),Fe=P("array"),Ee=$t(null),et=kt("boolean"),Me=$t(void 0),It=function(u){return u==null},se=function(u){return!It(u)},Gt=kt("function"),xn=kt("number"),We=function(){},ge=function(u,c){return function(){for(var d=[],h=0;h<arguments.length;h++)d[h]=arguments[h];return u(c.apply(null,d))}},ht=function(u,c){return function(d){return u(c(d))}},Ue=function(u){return function(){return u}},Wt=function(u){return u},K=function(u,c){return u===c};function dt(u){for(var c=[],d=1;d<arguments.length;d++)c[d-1]=arguments[d];return function(){for(var h=[],y=0;y<arguments.length;y++)h[y]=arguments[y];var T=c.concat(h);return u.apply(null,T)}}var Oe=function(u){return function(c){return!u(c)}},Ht=function(u){return function(){throw new Error(u)}},qt=Ue(!1),Nt=Ue(!0),Zt=function(){return st},st=function(){var u=function(h){return h()},c=Wt,d={fold:function(h,y){return h()},isSome:qt,isNone:Nt,getOr:c,getOrThunk:u,getOrDie:function(h){throw new Error(h||"error: getOrDie called on none.")},getOrNull:Ue(null),getOrUndefined:Ue(void 0),or:c,orThunk:u,map:Zt,each:We,bind:Zt,exists:qt,forall:Nt,filter:function(){return Zt()},toArray:function(){return[]},toString:Ue("none()")};return d}(),jr=function(u){var c=Ue(u),d=function(){return y},h=function(T){return T(u)},y={fold:function(T,D){return D(u)},isSome:Nt,isNone:qt,getOr:c,getOrThunk:c,getOrDie:c,getOrNull:c,getOrUndefined:c,or:d,orThunk:d,map:function(T){return jr(T(u))},each:function(T){T(u)},bind:h,exists:h,forall:h,filter:function(T){return T(u)?y:st},toArray:function(){return[u]},toString:function(){return"some("+u+")"}};return y},ve=function(u){return u==null?st:jr(u)},Q={some:jr,none:Zt,from:ve},En=Array.prototype.slice,wo=Array.prototype.indexOf,j=Array.prototype.push,Nr=function(u,c){return wo.call(u,c)},$n=function(u,c){return Nr(u,c)>-1},_=function(u,c){for(var d=0,h=u.length;d<h;d++){var y=u[d];if(c(y,d))return!0}return!1},Zr=function(u,c){for(var d=[],h=0;h<u;h++)d.push(c(h));return d},Mt=function(u,c){for(var d=u.length,h=new Array(d),y=0;y<d;y++){var T=u[y];h[y]=c(T,y)}return h},sn=function(u,c){for(var d=0,h=u.length;d<h;d++){var y=u[d];c(y,d)}},_o=function(u,c){for(var d=u.length-1;d>=0;d--){var h=u[d];c(h,d)}},mi=function(u,c){for(var d=[],h=[],y=0,T=u.length;y<T;y++){var D=u[y],N=c(D,y)?d:h;N.push(D)}return{pass:d,fail:h}},er=function(u,c){for(var d=[],h=0,y=u.length;h<y;h++){var T=u[h];c(T,h)&&d.push(T)}return d},ua=function(u,c,d){return _o(u,function(h,y){d=c(d,h,y)}),d},te=function(u,c,d){return sn(u,function(h,y){d=c(d,h,y)}),d},vo=function(u,c,d){for(var h=0,y=u.length;h<y;h++){var T=u[h];if(c(T,h))return Q.some(T);if(d(T,h))break}return Q.none()},Tt=function(u,c){return vo(u,c,qt)},Ie=function(u,c){for(var d=0,h=u.length;d<h;d++){var y=u[d];if(c(y,d))return Q.some(d)}return Q.none()},dn=function(u){for(var c=[],d=0,h=u.length;d<h;++d){if(!Fe(u[d]))throw new Error("Arr.flatten item "+d+" was not an array, input: "+u);j.apply(c,u[d])}return c},Pe=function(u,c){return dn(Mt(u,c))},Re=function(u,c){for(var d=0,h=u.length;d<h;++d){var y=u[d];if(c(y,d)!==!0)return!1}return!0},Qe=function(u){var c=En.call(u,0);return c.reverse(),c},pt=function(u,c){for(var d={},h=0,y=u.length;h<y;h++){var T=u[h];d[String(T)]=c(T,h)}return d},tt=function(u){return[u]},mn=function(u,c){var d=En.call(u,0);return d.sort(c),d},zn=function(u,c){return c>=0&&c<u.length?Q.some(u[c]):Q.none()},nn=function(u){return zn(u,0)},Ln=function(u){return zn(u,u.length-1)},wr=function(u,c){for(var d=0;d<u.length;d++){var h=c(u[d],d);if(h.isSome())return h}return Q.none()},Cn=function(){return Cn=Object.assign||function(c){for(var d,h=1,y=arguments.length;h<y;h++){d=arguments[h];for(var T in d)Object.prototype.hasOwnProperty.call(d,T)&&(c[T]=d[T])}return c},Cn.apply(this,arguments)};function Kr(u,c,d){if(d||arguments.length===2)for(var h=0,y=c.length,T;h<y;h++)(T||!(h in c))&&(T||(T=Array.prototype.slice.call(c,0,h)),T[h]=c[h]);return u.concat(T||Array.prototype.slice.call(c))}var Ro=function(u){var c=!1,d;return function(){for(var h=[],y=0;y<arguments.length;y++)h[y]=arguments[y];return c||(c=!0,d=u.apply(null,h)),d}},Rl=function(u,c,d,h){var y=u.isiOS()&&/ipad/i.test(d)===!0,T=u.isiOS()&&!y,D=u.isiOS()||u.isAndroid(),N=D||h("(pointer:coarse)"),q=y||!T&&D&&h("(min-device-width:768px)"),ne=T||D&&!q,be=c.isSafari()&&u.isiOS()&&/safari/i.test(d)===!1,Ke=!ne&&!q&&!be;return{isiPad:Ue(y),isiPhone:Ue(T),isTablet:Ue(q),isPhone:Ue(ne),isTouch:Ue(N),isAndroid:u.isAndroid,isiOS:u.isiOS,isWebView:Ue(be),isDesktop:Ue(Ke)}},uu=function(u,c){for(var d=0;d<u.length;d++){var h=u[d];if(h.test(c))return h}},lu=function(u,c){var d=uu(u,c);if(!d)return{major:0,minor:0};var h=function(y){return Number(c.replace(d,"$"+y))};return Ho(h(1),h(2))},Bo=function(u,c){var d=String(c).toLowerCase();return u.length===0?ku():lu(u,d)},ku=function(){return Ho(0,0)},Ho=function(u,c){return{major:u,minor:c}},la={nu:Ho,detect:Bo,unknown:ku},Xr=function(u,c){return wr(c.brands,function(d){var h=d.brand.toLowerCase();return Tt(u,function(y){var T;return h===((T=y.brand)===null||T===void 0?void 0:T.toLowerCase())}).map(function(y){return{current:y.name,version:la.nu(parseInt(d.version,10),0)}})})},oo=function(u,c){var d=String(c).toLowerCase();return Tt(u,function(h){return h.search(d)})},ta=function(u,c){return oo(u,c).map(function(d){var h=la.detect(d.versionRegexes,c);return{current:d.name,version:h}})},Lr=function(u,c){return oo(u,c).map(function(d){var h=la.detect(d.versionRegexes,c);return{current:d.name,version:h}})},Uo=function(u,c){return u.substring(c)},ni=function(u,c,d){return c===""||u.length>=c.length&&u.substr(d,d+c.length)===c},Ra=function(u,c){return Co(u,c)?Uo(u,c.length):u},hr=function(u,c){return u.indexOf(c)!==-1},Co=function(u,c){return ni(u,c,0)},Mo=function(u,c){return ni(u,c,u.length-c.length)},Po=function(u){return function(c){return c.replace(u,"")}},bn=Po(/^\s+|\s+$/g),Cr=function(u){return u.length>0},Sa=function(u){return!Cr(u)},gi=function(u){var c=parseFloat(u);return isNaN(c)?Q.none():Q.some(c)},ul=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Pr=function(u){return function(c){return hr(c,u)}},tr=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(u){return hr(u,"edge/")&&hr(u,"chrome")&&hr(u,"safari")&&hr(u,"applewebkit")}},{name:"Chrome",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,ul],search:function(u){return hr(u,"chrome")&&!hr(u,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(u){return hr(u,"msie")||hr(u,"trident")}},{name:"Opera",versionRegexes:[ul,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Pr("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Pr("firefox")},{name:"Safari",versionRegexes:[ul,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(u){return(hr(u,"safari")||hr(u,"mobile/"))&&hr(u,"applewebkit")}}],hi=[{name:"Windows",search:Pr("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(u){return hr(u,"iphone")||hr(u,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Pr("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:Pr("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Pr("linux"),versionRegexes:[]},{name:"Solaris",search:Pr("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Pr("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:Pr("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],Bl={browsers:Ue(tr),oses:Ue(hi)},ri="Edge",ai="Chrome",su="IE",xu="Opera",qi="Firefox",oi="Safari",Tu=function(){return Fr({current:void 0,version:la.unknown()})},Fr=function(u){var c=u.current,d=u.version,h=function(y){return function(){return c===y}};return{current:c,version:d,isEdge:h(ri),isChrome:h(ai),isIE:h(su),isOpera:h(xu),isFirefox:h(qi),isSafari:h(oi)}},Ri={unknown:Tu,nu:Fr,edge:Ue(ri),chrome:Ue(ai),ie:Ue(su),opera:Ue(xu),firefox:Ue(qi),safari:Ue(oi)},Sn="Windows",Zl="iOS",ii="Android",cu="Linux",ui="OSX",fu="Solaris",Ql="FreeBSD",Ki="ChromeOS",es=function(){return oe({current:void 0,version:la.unknown()})},oe=function(u){var c=u.current,d=u.version,h=function(y){return function(){return c===y}};return{current:c,version:d,isWindows:h(Sn),isiOS:h(Zl),isAndroid:h(ii),isOSX:h(ui),isLinux:h(cu),isSolaris:h(fu),isFreeBSD:h(Ql),isChromeOS:h(Ki)}},Te={unknown:es,nu:oe,windows:Ue(Sn),ios:Ue(Zl),android:Ue(ii),linux:Ue(cu),osx:Ue(ui),solaris:Ue(fu),freebsd:Ue(Ql),chromeos:Ue(Ki)},le=function(u,c,d){var h=Bl.browsers(),y=Bl.oses(),T=c.bind(function(q){return Xr(h,q)}).orThunk(function(){return ta(h,u)}).fold(Ri.unknown,Ri.nu),D=Lr(y,u).fold(Te.unknown,Te.nu),N=Rl(D,T,u,d);return{browser:T,os:D,deviceType:N}},$e={detect:le},Lt=function(u){return window.matchMedia(u).matches},cn=Ro(function(){return $e.detect(navigator.userAgent,Q.from(navigator.userAgentData),Lt)}),Nn=function(){return cn()},Un=function(u,c,d){return(u.compareDocumentPosition(c)&d)!=0},Or=function(u,c){return Un(u,c,Node.DOCUMENT_POSITION_CONTAINED_BY)},Rr=8,gr=9,Ba=11,ka=1,Eu=3,So=function(u,c){var d=c||document,h=d.createElement("div");if(h.innerHTML=u,!h.hasChildNodes()||h.childNodes.length>1)throw console.error("HTML does not have a single root node",u),new Error("HTML must have a single root node");return Ma(h.childNodes[0])},Ou=function(u,c){var d=c||document,h=d.createElement(u);return Ma(h)},ll=function(u,c){var d=c||document,h=d.createTextNode(u);return Ma(h)},Ma=function(u){if(u==null)throw new Error("Node cannot be null or undefined");return{dom:u}},Pa=function(u,c,d){return Q.from(u.dom.elementFromPoint(c,d)).map(Ma)},Ot={fromHtml:So,fromTag:Ou,fromText:ll,fromDom:Ma,fromPoint:Pa},io=function(u,c){var d=u.dom;if(d.nodeType!==ka)return!1;var h=d;if(h.matches!==void 0)return h.matches(c);if(h.msMatchesSelector!==void 0)return h.msMatchesSelector(c);if(h.webkitMatchesSelector!==void 0)return h.webkitMatchesSelector(c);if(h.mozMatchesSelector!==void 0)return h.mozMatchesSelector(c);throw new Error("Browser lacks native selectors")},Gu=function(u){return u.nodeType!==ka&&u.nodeType!==gr&&u.nodeType!==Ba||u.childElementCount===0},ts=function(u,c){var d=c===void 0?document:c.dom;return Gu(d)?[]:Mt(d.querySelectorAll(u),Ot.fromDom)},ns=function(u,c){var d=c===void 0?document:c.dom;return Gu(d)?Q.none():Q.from(d.querySelector(u)).map(Ot.fromDom)},vr=function(u,c){return u.dom===c.dom},Bs=function(u,c){var d=u.dom,h=c.dom;return d===h?!1:d.contains(h)},Au=function(u,c){return Or(u.dom,c.dom)},Fa=function(u,c){return Nn().browser.isIE()?Au(u,c):Bs(u,c)},rs=io,pi=Object.keys,Bi=Object.hasOwnProperty,sa=function(u,c){for(var d=pi(u),h=0,y=d.length;h<y;h++){var T=d[h],D=u[T];c(D,T)}},as=function(u,c){return Ml(u,function(d,h){return{k:h,v:c(d,h)}})},Ml=function(u,c){var d={};return sa(u,function(h,y){var T=c(h,y);d[T.k]=T.v}),d},Pl=function(u){return function(c,d){u[d]=c}},Ms=function(u,c,d,h){var y={};return sa(u,function(T,D){(c(T,D)?d:h)(T,D)}),y},vu=function(u,c){var d={};return Ms(u,c,Pl(d),We),d},du=function(u,c){var d=[];return sa(u,function(h,y){d.push(c(h,y))}),d},Ps=function(u){return du(u,Wt)},Xi=function(u){return pi(u).length},Mi=function(u,c){return W(u,c)?Q.from(u[c]):Q.none()},W=function(u,c){return Bi.call(u,c)},pe=function(u,c){return W(u,c)&&u[c]!==void 0&&u[c]!==null},_e=function(u){for(var c in u)if(Bi.call(u,c))return!1;return!0},nt=["tfoot","thead","tbody","colgroup"],Bt=function(u){return $n(nt,u)},hn=function(u,c){return{rows:u,columns:c}},$r=function(u,c){return{row:u,column:c}},Gr=function(u,c,d){return{element:u,rowspan:c,colspan:d}},nr=function(u,c,d,h){return{element:u,rowspan:c,colspan:d,isNew:h}},da=function(u,c,d,h,y,T){return{element:u,rowspan:c,colspan:d,row:h,column:y,isLocked:T}},Aa=function(u,c,d){return{element:u,cells:c,section:d}},$l=function(u,c,d,h){return{element:u,cells:c,section:d,isNew:h}},Wo=function(u,c,d){return{element:u,isNew:c,isLocked:d}},sl=function(u,c,d,h){return{element:u,cells:c,section:d,isNew:h}},On=function(u,c,d,h){return{startRow:u,startCol:c,finishRow:d,finishCol:h}},os=function(u,c,d){return{element:u,colspan:c,column:d}},yf=function(u,c){return{element:u,columns:c}};typeof window!="undefined"||Function("return this;")();var Ar=function(u){var c=u.dom.nodeName;return c.toLowerCase()},Fc=function(u){return u.dom.nodeType},zc=function(u){return function(c){return Fc(c)===u}},md=function(u){return Fc(u)===Rr||Ar(u)==="#comment"},Qr=zc(ka),Du=zc(Eu),gd=zc(gr),_u=zc(Ba),Ja=function(u){return function(c){return Qr(c)&&Ar(c)===u}},is=function(u){return Ot.fromDom(u.dom.ownerDocument)},Ye=function(u){return gd(u)?u:is(u)},$s=function(u){return Ot.fromDom(Ye(u).dom.defaultView)},Ga=function(u){return Q.from(u.dom.parentNode).map(Ot.fromDom)},wf=function(u){return Q.from(u.dom.parentElement).map(Ot.fromDom)},us=function(u,c){for(var d=Gt(c)?c:qt,h=u.dom,y=[];h.parentNode!==null&&h.parentNode!==void 0;){var T=h.parentNode,D=Ot.fromDom(T);if(y.push(D),d(D)===!0)break;h=T}return y},B=function(u){return Q.from(u.dom.previousSibling).map(Ot.fromDom)},k=function(u){return Q.from(u.dom.nextSibling).map(Ot.fromDom)},$=function(u){return Mt(u.dom.childNodes,Ot.fromDom)},J=function(u,c){var d=u.dom.childNodes;return Q.from(d[c]).map(Ot.fromDom)},me=function(u){return J(u,0)},ot=function(u){return _u(u)&&se(u.dom.host)},Qt=Gt(Element.prototype.attachShadow)&&Gt(Node.prototype.getRootNode),fr=Ue(Qt),ya=Qt?function(u){return Ot.fromDom(u.dom.getRootNode())}:Ye,xa=function(u){var c=ya(u);return ot(c)?Q.some(c):Q.none()},na=function(u){return Ot.fromDom(u.dom.host)},Za=function(u){if(fr()&&se(u.target)){var c=Ot.fromDom(u.target);if(Qr(c)&&ls(c)&&u.composed&&u.composedPath){var d=u.composedPath();if(d)return nn(d)}}return Q.from(u.target)},ls=function(u){return se(u.dom.shadowRoot)},jo=function(u){var c=Du(u)?u.dom.parentNode:u.dom;if(c==null||c.ownerDocument===null)return!1;var d=c.ownerDocument;return xa(Ot.fromDom(c)).fold(function(){return d.body.contains(c)},ht(jo,na))},ra=function(){return Ic(Ot.fromDom(document))},Ic=function(u){var c=u.dom.body;if(c==null)throw new Error("Body is not available yet");return Ot.fromDom(c)},qa=function(u,c,d){return er(us(u,d),c)},Go=function(u,c){return er($(u),c)},ma=function(u,c){var d=[];return sn($(u),function(h){c(h)&&(d=d.concat([h])),d=d.concat(ma(h,c))}),d},cl=function(u,c,d){return qa(u,function(h){return io(h,c)},d)},Jn=function(u,c){return Go(u,function(d){return io(d,c)})},fl=function(u,c){return ts(c,u)};function za(u,c,d,h,y){return u(d,h)?Q.some(d):Gt(y)&&y(d)?Q.none():c(d,h,y)}var Ka=function(u,c,d){for(var h=u.dom,y=Gt(d)?d:qt;h.parentNode;){h=h.parentNode;var T=Ot.fromDom(h);if(c(T))return Q.some(T);if(y(T))break}return Q.none()},Lp=function(u,c,d){var h=function(y,T){return T(y)};return za(h,Ka,u,c,d)},bi=function(u,c){var d=function(y){return c(Ot.fromDom(y))},h=Tt(u.dom.childNodes,d);return h.map(Ot.fromDom)},Xg=function(u,c){var d=function(h){for(var y=0;y<h.childNodes.length;y++){var T=Ot.fromDom(h.childNodes[y]);if(c(T))return Q.some(T);var D=d(h.childNodes[y]);if(D.isSome())return D}return Q.none()};return d(u.dom)},Ns=function(u,c,d){return Ka(u,function(h){return io(h,c)},d)},In=function(u,c){return bi(u,function(d){return io(d,c)})},vl=function(u,c){return ns(c,u)},Qa=function(u,c,d){var h=function(y,T){return io(y,T)};return za(h,Ns,u,c,d)},eo=function(u,c,d){if(_t(d)||et(d)||xn(d))u.setAttribute(c,d+"");else throw console.error("Invalid call to Attribute.set. Key ",c,":: Value ",d,":: Element ",u),new Error("Attribute value was not simple")},qo=function(u,c,d){eo(u.dom,c,d)},ko=function(u,c){var d=u.dom;sa(c,function(h,y){eo(d,y,h)})},Cf=function(u,c){sa(c,function(d,h){d.fold(function(){Da(u,h)},function(y){eo(u.dom,h,y)})})},Nl=function(u,c){var d=u.dom.getAttribute(c);return d===null?void 0:d},Vr=function(u,c){return Q.from(Nl(u,c))},Da=function(u,c){u.dom.removeAttribute(c)},mu=function(u){return te(u.dom.attributes,function(c,d){return c[d.name]=d.value,c},{})},fc=function(u,c,d){return d===void 0&&(d=K),u.exists(function(h){return d(h,c)})},$o=function(u){for(var c=[],d=function(y){c.push(y)},h=0;h<u.length;h++)u[h].each(d);return c},dl=function(u,c,d){return u.isSome()&&c.isSome()?Q.some(d(u.getOrDie(),c.getOrDie())):Q.none()},Vp=function(u,c){return u!=null?c(u):Q.none()},Sf=function(u){return u.bind(Wt)},ga=function(u,c){return u?Q.some(c):Q.none()},ss=function(u){return u.style!==void 0&&Gt(u.style.getPropertyValue)},Lc=function(u,c,d){if(!_t(d))throw console.error("Invalid call to CSS.set. Property ",c,":: Value ",d,":: Element ",u),new Error("CSS value must be a string: "+d);ss(u)&&u.style.setProperty(c,d)},Ru=function(u,c){ss(u)&&u.style.removeProperty(c)},uo=function(u,c,d){var h=u.dom;Lc(h,c,d)},Vc=function(u,c){var d=u.dom;sa(c,function(h,y){Lc(d,y,h)})},vc=function(u,c){var d=u.dom,h=window.getComputedStyle(d),y=h.getPropertyValue(c);return y===""&&!jo(u)?Yi(d,c):y},Yi=function(u,c){return ss(u)?u.style.getPropertyValue(c):""},Bu=function(u,c){var d=u.dom,h=Yi(d,c);return Q.from(h).filter(function(y){return y.length>0})},Pi=function(u,c){var d=u.dom;Ru(d,c),fc(Vr(u,"style").map(bn),"")&&Da(u,"style")},cv=function(u,c){var d=u.dom,h=c.dom;ss(d)&&ss(h)&&(h.style.cssText=d.style.cssText)},cs=function(u,c,d){return d===void 0&&(d=0),Vr(u,c).map(function(h){return parseInt(h,10)}).getOr(d)},Ko=function(u,c){return cs(u,c,1)},hd=function(u){return Ja("col")(u)?cs(u,"span",1)>1:Ko(u,"colspan")>1},Hp=function(u){return Ko(u,"rowspan")>1},kf=function(u,c){return parseInt(vc(u,c),10)},xf=Ue(10),lo=Ue(10),Tf=function(u,c){return Ef(u,c,Nt)},Ef=function(u,c,d){return Pe($(u),function(h){return io(h,c)?d(h)?[h]:[]:Ef(h,c,d)})},Ji=function(u,c,d){if(d===void 0&&(d=qt),d(c))return Q.none();if($n(u,Ar(c)))return Q.some(c);var h=function(y){return io(y,"table")||d(y)};return Ns(c,u.join(","),h)},dc=function(u,c){return Ji(["td","th"],u,c)},Of=function(u){return Tf(u,"th,td")},mc=function(u){return io(u,"colgroup")?Jn(u,"col"):Pe(Dm(u),function(c){return Jn(c,"col")})},La=function(u,c){return Qa(u,"table",c)},qu=function(u){return Tf(u,"tr")},Dm=function(u){return La(u).fold(Ue([]),function(c){return Jn(c,"colgroup")})},ml=function(u,c){return Mt(u,function(d){if(Ar(d)==="colgroup"){var h=Mt(mc(d),function(y){var T=cs(y,"span",1);return Gr(y,1,T)});return Aa(d,h,"colgroup")}else{var h=Mt(Of(d),function(T){var D=cs(T,"rowspan",1),N=cs(T,"colspan",1);return Gr(T,D,N)});return Aa(d,h,c(d))}})},_m=function(u){return Ga(u).map(function(c){var d=Ar(c);return Bt(d)?d:"tbody"}).getOr("tbody")},Up=function(u){var c=qu(u),d=Dm(u),h=Kr(Kr([],d,!0),c,!0);return ml(h,_m)},Yg=function(u,c){return ml(u,function(){return c})},Af=function(u,c,d){var h=u.cells,y=h.slice(0,c),T=h.slice(c),D=y.concat(d).concat(T);return Wn(u,D)},Df=function(u,c,d){return Af(u,c,[d])},Hc=function(u,c,d){var h=u.cells;h[c]=d},Wn=function(u,c){return sl(u.element,c,u.section,u.isNew)},Fl=function(u,c){var d=u.cells,h=Mt(d,c);return sl(u.element,h,u.section,u.isNew)},Mu=function(u,c){return u.cells[c]},Zi=function(u,c){return Mu(u,c).element},zl=function(u){return u.cells.length},mo=function(u){var c=mi(u,function(d){return d.section==="colgroup"});return{rows:c.fail,cols:c.pass}},Xo=function(u,c,d){var h=Mt(u.cells,d);return sl(c(u.element),h,u.section,!0)},xo="data-snooker-locked-cols",Uc=function(u){return Vr(u,xo).bind(function(c){return Q.from(c.match(/\d+/g))}).map(function(c){return pt(c,Nt)})},$i=function(u){var c=te(mo(u).rows,function(h,y){return sn(y.cells,function(T,D){T.isLocked&&(h[D]=!0)}),h},{}),d=du(c,function(h,y){return parseInt(y,10)});return mn(d)},on=function(u,c){return u+","+c},_f=function(u,c,d){return Q.from(u.access[on(c,d)])},Jg=function(u,c,d){var h=rr(u,function(y){return d(c,y.element)});return h.length>0?Q.some(h[0]):Q.none()},rr=function(u,c){var d=Pe(u.all,function(h){return h.cells});return er(d,c)},ha=function(u){var c={},d=0;return sn(u.cells,function(h){var y=h.colspan;Zr(y,function(T){var D=d+T;c[D]=os(h.element,y,D)}),d+=y}),c},Rm=function(u){var c={},d=[],h=nn(u).map(function(Ft){return Ft.element}).bind(La),y=h.bind(Uc).getOr({}),T=0,D=0,N=0,q=mi(u,function(Ft){return Ft.section==="colgroup"}),ne=q.pass,be=q.fail;sn(be,function(Ft){var Pt=[];sn(Ft.cells,function(yn){for(var Br=0;c[on(N,Br)]!==void 0;)Br++;for(var An=pe(y,Br.toString()),Hn=da(yn.element,yn.rowspan,yn.colspan,N,Br,An),yr=0;yr<yn.colspan;yr++)for(var ur=0;ur<yn.rowspan;ur++){var co=N+ur,fi=Br+yr,Cu=on(co,fi);c[Cu]=Hn,D=Math.max(D,fi+1)}Pt.push(Hn)}),T++,d.push(Aa(Ft.element,Pt,Ft.section)),N++});var Ke=Ln(ne).map(function(Ft){var Pt=ha(Ft),yn=yf(Ft.element,Ps(Pt));return{colgroups:[yn],columns:Pt}}).getOrThunk(function(){return{colgroups:[],columns:{}}}),xt=Ke.columns,lt=Ke.colgroups,Xe=hn(T,D);return{grid:Xe,access:c,all:d,columns:xt,colgroups:lt}},Fs=function(u){var c=Up(u);return Rm(c)},Ia=function(u){return Pe(u.all,function(c){return c.cells})},Bm=function(u){return Ps(u.columns)},Ku=function(u){return pi(u.columns).length>0},pd=function(u,c){return Q.from(u.columns[c])},or={fromTable:Fs,generate:Rm,getAt:_f,findItem:Jg,filterItems:rr,justCells:Ia,justColumns:Bm,hasColumns:Ku,getColumnAt:pd},gu=function(u,c){var d=c.column,h=c.column+c.colspan-1,y=c.row,T=c.row+c.rowspan-1;return d<=u.finishCol&&h>=u.startCol&&y<=u.finishRow&&T>=u.startRow},v0=function(u,c){return c.column>=u.startCol&&c.column+c.colspan-1<=u.finishCol&&c.row>=u.startRow&&c.row+c.rowspan-1<=u.finishRow},d0=function(u,c){for(var d=!0,h=dt(v0,c),y=c.startRow;y<=c.finishRow;y++)for(var T=c.startCol;T<=c.finishCol;T++)d=d&&or.getAt(u,y,T).exists(h);return d?Q.some(c):Q.none()},Va=function(u,c){return On(Math.min(u.row,c.row),Math.min(u.column,c.column),Math.max(u.row+u.rowspan-1,c.row+c.rowspan-1),Math.max(u.column+u.colspan-1,c.column+c.colspan-1))},Mm=function(u,c,d){var h=or.findItem(u,c,vr),y=or.findItem(u,d,vr);return h.bind(function(T){return y.map(function(D){return Va(T,D)})})},O=function(u,c,d){return Mm(u,c,d).bind(function(h){return d0(u,h)})},z=function(u,c,d,h){return or.findItem(u,c,vr).bind(function(y){var T=d>0?y.row+y.rowspan-1:y.row,D=h>0?y.column+y.colspan-1:y.column,N=or.getAt(u,T+d,D+h);return N.map(function(q){return q.element})})},U=function(u,c,d){return Mm(u,c,d).map(function(h){var y=or.filterItems(u,dt(gu,h));return Mt(y,function(T){return T.element})})},ie=function(u,c){var d=function(h,y){return Fa(y,h)};return or.findItem(u,c,d).map(function(h){return h.element})},Ae=function(u,c,d){return La(u).bind(function(h){var y=pr(h);return z(y,u,c,d)})},Je=function(u,c,d){var h=pr(u);return U(h,c,d)},pn=function(u,c,d,h,y){var T=pr(u),D=vr(u,d)?Q.some(c):ie(T,c),N=vr(u,y)?Q.some(h):ie(T,h);return D.bind(function(q){return N.bind(function(ne){return U(T,q,ne)})})},qn=function(u,c,d){var h=pr(u);return O(h,c,d)},pr=or.fromTable,ir=function(u,c){var d=Ga(u);d.each(function(h){h.dom.insertBefore(c.dom,u.dom)})},wa=function(u,c){var d=k(u);d.fold(function(){var h=Ga(u);h.each(function(y){to(y,c)})},function(h){ir(h,c)})},Ni=function(u,c){var d=me(u);d.fold(function(){to(u,c)},function(h){u.dom.insertBefore(c.dom,h.dom)})},to=function(u,c){u.dom.appendChild(c.dom)},Ux=function(u,c,d){J(u,d).fold(function(){to(u,c)},function(h){ir(h,c)})},Aw=function(u,c){ir(u,c),to(c,u)},Dw=function(u,c){sn(c,function(d){ir(u,d)})},Wx=function(u,c){sn(c,function(d,h){var y=h===0?u:c[h-1];wa(y,d)})},gc=function(u,c){sn(c,function(d){to(u,d)})},Zg=function(u){u.dom.textContent="",sn($(u),function(c){Xu(c)})},Xu=function(u){var c=u.dom;c.parentNode!==null&&c.parentNode.removeChild(c)},Pm=function(u){var c=$(u);c.length>0&&Dw(u,c),Xu(u)},m0=function(u,c){var d=function(T){if(!u(T))throw new Error("Can only get "+c+" value of a "+c+" node");return h(T).getOr("")},h=function(T){return u(T)?Q.from(T.dom.nodeValue):Q.none()},y=function(T,D){if(!u(T))throw new Error("Can only set raw "+c+" value of a "+c+" node");T.dom.nodeValue=D};return{get:d,getOption:h,set:y}},Qg=m0(Du,"text"),Wp=function(u){return Qg.get(u)},_w=function(u){return Qg.getOption(u)},jx=function(u,c){return Qg.set(u,c)},hc=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"];function eh(){var u=function(ne){return Ot.fromDom(ne.dom.cloneNode(!1))},c=function(ne){return Ye(ne).dom},d=function(ne){return Qr(ne)?Ar(ne)==="body"?!0:$n(hc,Ar(ne)):!1},h=function(ne){return Qr(ne)?$n(["br","img","hr","input"],Ar(ne)):!1},y=function(ne){return Qr(ne)&&Nl(ne,"contenteditable")==="false"},T=function(ne,be){return ne.dom.compareDocumentPosition(be.dom)},D=function(ne,be){var Ke=mu(ne);ko(be,Ke)},N=function(ne){var be=Ar(ne);return $n(["script","noscript","iframe","noframes","noembed","title","style","textarea","xmp"],be)},q=function(ne){return Qr(ne)?Vr(ne,"lang"):Q.none()};return{up:Ue({selector:Ns,closest:Qa,predicate:Ka,all:us}),down:Ue({selector:fl,predicate:ma}),styles:Ue({get:vc,getRaw:Bu,set:uo,remove:Pi}),attrs:Ue({get:Nl,set:qo,remove:Da,copyTo:D}),insert:Ue({before:ir,after:wa,afterAll:Wx,append:to,appendAll:gc,prepend:Ni,wrap:Aw}),remove:Ue({unwrap:Pm,remove:Xu}),create:Ue({nu:Ot.fromTag,clone:u,text:Ot.fromText}),query:Ue({comparePosition:T,prevSibling:B,nextSibling:k}),property:Ue({children:$,name:Ar,parent:Ga,document:c,isText:Du,isComment:md,isElement:Qr,isSpecial:N,getLanguage:q,getText:Wp,setText:jx,isBoundary:d,isEmptyTag:h,isNonEditable:y}),eq:vr,is:rs}}var Gx=function(u,c,d,h){var y=d[0],T=d.slice(1);return h(u,c,y,T)},g0=function(u,c,d){return d.length>0?Gx(u,c,d,qx):Q.none()},qx=function(u,c,d,h){var y=c(u,d);return ua(h,function(T,D){var N=c(u,D);return Kx(u,T,N)},y)},Kx=function(u,c,d){return c.bind(function(h){return d.filter(dt(u.eq,h))})},$m=function(u,c){return dt(u.eq,c)},th=function(u,c,d,h){h===void 0&&(h=qt);var y=[c].concat(u.up().all(c)),T=[d].concat(u.up().all(d)),D=function(be){var Ke=Ie(be,h);return Ke.fold(function(){return be},function(xt){return be.slice(0,xt+1)})},N=D(y),q=D(T),ne=Tt(N,function(be){return _(q,$m(u,be))});return{firstpath:N,secondpath:q,shared:ne}},Rw=g0,Bw=th,gl=eh(),kn=function(u,c){return Rw(gl,function(d,h){return u(h)},c)},Rf=function(u,c,d){return Bw(gl,u,c,d)},nh=function(u){return Ns(u,"table")},fv=function(u,c,d){var h=function(y){return function(T){return d!==void 0&&d(T)||vr(T,y)}};return vr(u,c)?Q.some({boxes:Q.some([u]),start:u,finish:c}):nh(u).bind(function(y){return nh(c).bind(function(T){if(vr(y,T))return Q.some({boxes:Je(y,u,c),start:u,finish:c});if(Fa(y,T)){var D=cl(c,"td,th",h(y)),N=D.length>0?D[D.length-1]:c;return Q.some({boxes:pn(y,u,y,c,T),start:u,finish:N})}else if(Fa(T,y)){var D=cl(u,"td,th",h(T)),q=D.length>0?D[D.length-1]:u;return Q.some({boxes:pn(T,u,y,c,T),start:u,finish:q})}else return Rf(u,c).shared.bind(function(ne){return Qa(ne,"table",d).bind(function(be){var Ke=cl(c,"td,th",h(be)),xt=Ke.length>0?Ke[Ke.length-1]:c,lt=cl(u,"td,th",h(be)),Xe=lt.length>0?lt[lt.length-1]:u;return Q.some({boxes:pn(be,u,y,c,T),start:Xe,finish:xt})})})})})},Nm=function(u,c){var d=fl(u,c);return d.length>0?Q.some(d):Q.none()},h0=function(u,c){return Tt(u,function(d){return io(d,c)})},zs=function(u,c,d){return vl(u,c).bind(function(h){return vl(u,d).bind(function(y){return kn(nh,[h,y]).map(function(T){return{first:h,last:y,table:T}})})})},bd=function(u,c){return Ns(u,"table").bind(function(d){return vl(d,c).bind(function(h){return fv(h,u).bind(function(y){return y.boxes.map(function(T){return{boxes:T,start:y.start,finish:y.finish}})})})})},Fm=function(u,c,d,h,y){return h0(u,y).bind(function(T){return Ae(T,c,d).bind(function(D){return bd(D,h)})})},go=function(u,c){return Nm(u,c)},yi=function(u,c,d){return zs(u,c,d).bind(function(h){var y=function(q){return vr(u,q)},T="thead,tfoot,tbody,table",D=Ns(h.first,T,y),N=Ns(h.last,T,y);return D.bind(function(q){return N.bind(function(ne){return vr(q,ne)?qn(h.table,h.first,h.last):Q.none()})})})},rh=function(u){if(!Fe(u))throw new Error("cases must be an array");if(u.length===0)throw new Error("there must be at least one case");var c=[],d={};return sn(u,function(h,y){var T=pi(h);if(T.length!==1)throw new Error("one and only one name per case");var D=T[0],N=h[D];if(d[D]!==void 0)throw new Error("duplicate key detected:"+D);if(D==="cata")throw new Error("cannot have a case named cata (sorry)");if(!Fe(N))throw new Error("case arguments must be an array");c.push(D),d[D]=function(){for(var q=[],ne=0;ne<arguments.length;ne++)q[ne]=arguments[ne];var be=q.length;if(be!==N.length)throw new Error("Wrong number of arguments to case "+D+". Expected "+N.length+" ("+N+"), got "+be);var Ke=function(xt){var lt=pi(xt);if(c.length!==lt.length)throw new Error("Wrong number of arguments to match. Expected: "+c.join(",")+`
Actual: `+lt.join(","));var Xe=Re(c,function(Ft){return $n(lt,Ft)});if(!Xe)throw new Error("Not all branches were specified when using match. Specified: "+lt.join(", ")+`
Required: `+c.join(", "));return xt[D].apply(null,q)};return{fold:function(){for(var xt=[],lt=0;lt<arguments.length;lt++)xt[lt]=arguments[lt];if(xt.length!==u.length)throw new Error("Wrong number of arguments to fold. Expected "+u.length+", got "+xt.length);var Xe=xt[y];return Xe.apply(null,q)},match:Ke,log:function(xt){console.log(xt,{constructors:c,constructor:D,params:q})}}}}),d},Wc={generate:rh},ah=Wc.generate([{none:[]},{multiple:["elements"]},{single:["element"]}]),jp=function(u,c,d,h){return u.fold(c,d,h)},Gp=ah.none,Xx=ah.multiple,zm=ah.single,Qi=function(u,c,d){var h=function(){return go(u(),d).fold(function(){return c().fold(Gp,zm)},function(y){return Xx(y)})};return{get:h}},Mw=tinymce.util.Tools.resolve("tinymce.PluginManager"),Xa=function(u,c){return Ot.fromDom(u.dom.cloneNode(c))},Is=function(u){return Xa(u,!1)},Yr=function(u){return Xa(u,!0)},vv=function(u,c){var d=Ot.fromTag(c),h=mu(u);return ko(d,h),d},fs=function(u,c){var d=vv(u,c),h=$(Yr(u));return gc(d,h),d},Yx=function(u,c){var d=vv(u,c);ir(u,d);var h=$(u);return gc(d,h),Xu(u),d},Yo=function(u,c){var d=function(N,q){if(!xn(q)&&!q.match(/^[0-9]+$/))throw new Error(u+".set accepts only positive integer values. Value was "+q);var ne=N.dom;ss(ne)&&(ne.style[u]=q+"px")},h=function(N){var q=c(N);if(q<=0||q===null){var ne=vc(N,u);return parseFloat(ne)||0}return q},y=h,T=function(N,q){return te(q,function(ne,be){var Ke=vc(N,be),xt=Ke===void 0?0:parseInt(Ke,10);return isNaN(xt)?ne:ne+xt},0)},D=function(N,q,ne){var be=T(N,ne),Ke=q>be?q-be:0;return Ke};return{set:d,get:h,getOuter:y,aggregate:T,max:D}},Pu=function(){var u=Nn().browser;return u.isIE()||u.isEdge()},Pw=function(u,c){return gi(u).getOr(c)},it=function(u,c,d){return Pw(vc(u,c),d)},Yu=function(u){return vc(u,"box-sizing")},Bf=function(u,c,d,h){var y=it(u,"padding-"+d,0),T=it(u,"padding-"+h,0),D=it(u,"border-"+d+"-width",0),N=it(u,"border-"+h+"-width",0);return c-y-T-D-N},jn=function(u,c){var d=u.dom,h=d.getBoundingClientRect().height||d.offsetHeight;return c==="border-box"?h:Bf(u,h,"top","bottom")},Il=function(u,c){var d=u.dom,h=d.getBoundingClientRect().width||d.offsetWidth;return c==="border-box"?h:Bf(u,h,"left","right")},Jx=function(u){return Pu()?jn(u,Yu(u)):it(u,"height",u.dom.offsetHeight)},hu=function(u){return Pu()?Il(u,Yu(u)):it(u,"width",u.dom.offsetWidth)},Im=function(u){return Il(u,"content-box")},jc=Yo("width",function(u){return u.dom.offsetWidth}),Ls=function(u){return jc.get(u)},eu=function(u){return jc.getOuter(u)},Hr=Im,pc=hu,yd=function(u,c){c===void 0&&(c=Nt);var d=u.grid,h=Zr(d.columns,Wt),y=Zr(d.rows,Wt);return Mt(h,function(T){var D=function(){return Pe(y,function(ne){return or.getAt(u,ne,T).filter(function(be){return be.column===T}).toArray()})},N=function(ne){return ne.colspan===1&&c(ne.element)},q=function(){return or.getAt(u,0,T)};return Ta(D,N,q)})},Ta=function(u,c,d){var h=u(),y=Tt(h,c),T=y.orThunk(function(){return Q.from(h[0]).orThunk(d)});return T.map(function(D){return D.element})},dv=function(u){var c=u.grid,d=Zr(c.rows,Wt),h=Zr(c.columns,Wt);return Mt(d,function(y){var T=function(){return Pe(h,function(q){return or.getAt(u,y,q).filter(function(ne){return ne.row===y}).fold(Ue([]),function(ne){return[ne]})})},D=function(q){return q.rowspan===1},N=function(){return or.getAt(u,y,0)};return Ta(T,D,N)})},hl=function(u,c){if(c<0||c>=u.length-1)return Q.none();var d=u[c].fold(function(){var y=Qe(u.slice(0,c));return wr(y,function(T,D){return T.map(function(N){return{value:N,delta:D+1}})})},function(y){return Q.some({value:y,delta:0})}),h=u[c+1].fold(function(){var y=u.slice(c+1);return wr(y,function(T,D){return T.map(function(N){return{value:N,delta:D+1}})})},function(y){return Q.some({value:y,delta:1})});return d.bind(function(y){return h.map(function(T){var D=T.delta+y.delta;return Math.abs(T.value-y.value)/D})})},pl=function(u,c){return function(d){return Zx(d)==="rtl"?c:u}},Zx=function(u){return vc(u,"direction")==="rtl"?"rtl":"ltr"},ke=Yo("height",function(u){var c=u.dom;return jo(u)?c.getBoundingClientRect().height:c.offsetHeight}),$u=function(u){return ke.get(u)},bc=function(u){return ke.getOuter(u)},Lm=Jx,Ll=function(u,c){var d=function(h,y){return Ll(u+h,c+y)};return{left:u,top:c,translate:d}},pa=Ll,Ea=function(u){var c=u.getBoundingClientRect();return pa(c.left,c.top)},Ju=function(u,c){return u!==void 0?u:c!==void 0?c:0},Mf=function(u){var c=u.dom.ownerDocument,d=c.body,h=c.defaultView,y=c.documentElement;if(d===u.dom)return pa(d.offsetLeft,d.offsetTop);var T=Ju(h==null?void 0:h.pageYOffset,y.scrollTop),D=Ju(h==null?void 0:h.pageXOffset,y.scrollLeft),N=Ju(y.clientTop,d.clientTop),q=Ju(y.clientLeft,d.clientLeft);return p0(u).translate(D-q,T-N)},p0=function(u){var c=u.dom,d=c.ownerDocument,h=d.body;return h===c?pa(h.offsetLeft,h.offsetTop):jo(u)?Ea(c):pa(0,0)},Dn=function(u,c){return{row:u,y:c}},qp=function(u,c){return{col:u,x:c}},Vl=function(u){var c=Mf(u);return c.left+eu(u)},$w=function(u){return Mf(u).left},oh=function(u,c){return qp(u,$w(c))},ih=function(u,c){return qp(u,Vl(c))},b0=function(u){return Mf(u).top},y0=function(u,c){return Dn(u,b0(c))},Gc=function(u,c){return Dn(u,b0(c)+bc(c))},Pf=function(u,c,d){if(d.length===0)return[];var h=Mt(d.slice(1),function(T,D){return T.map(function(N){return u(D,N)})}),y=d[d.length-1].map(function(T){return c(d.length-1,T)});return h.concat([y])},Qx=function(u){return-u},w0={delta:Wt,positions:function(u){return Pf(y0,Gc,u)},edge:b0},eT={delta:Wt,edge:$w,positions:function(u){return Pf(oh,ih,u)}},Nw={delta:Qx,edge:Vl,positions:function(u){return Pf(ih,oh,u)}},uh=pl(eT,Nw),Vm={delta:function(u,c){return uh(c).delta(u,c)},positions:function(u,c){return uh(c).positions(u,c)},edge:function(u){return uh(u).edge(u)}},Fw={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},qc=function(){var u="[0-9]+",c="[+-]?"+u,d="[eE]"+c,h="\\.",y=function(N){return"(?:"+N+")?"},T=["Infinity",u+h+y(u)+y(d),h+u+y(d),u+y(d)].join("|"),D="[+-]?(?:"+T+")";return new RegExp("^("+D+")(.*)$")}(),Hm=function(u,c){return _(c,function(d){return _(Fw[d],function(h){return u===h})})},C0=function(u,c){var d=Q.from(qc.exec(u));return d.bind(function(h){var y=Number(h[1]),T=h[2];return Hm(T,c)?Q.some({value:y,unit:T}):Q.none()})},zw=/(\d+(\.\d+)?)%/,tT=/(\d+(\.\d+)?)px|em/,nT=Ja("col"),No=function(u,c,d){var h=wf(u).getOrThunk(function(){return Ic(is(u))});return c(u)/d(h)*100},Kc=function(u,c){uo(u,"width",c+"px")},Vs=function(u,c){uo(u,"width",c+"%")},mv=function(u,c){uo(u,"height",c+"px")},Iw=function(u){return Lm(u)+"px"},Hs=function(u,c,d,h){var y=La(u).map(function(T){var D=d(T);return Math.floor(c/100*D)}).getOr(c);return h(u,y),y},wd=function(u,c,d,h){var y=parseFloat(u);return Mo(u,"%")&&Ar(c)!=="table"?Hs(c,y,d,h):y},S0=function(u){var c=Iw(u);return c?wd(c,u,$u,mv):$u(u)},k0=function(u,c,d){var h=d(u),y=Ko(u,c);return h/y},$f=function(u,c){return Bu(u,c).orThunk(function(){return Vr(u,c).map(function(d){return d+"px"})})},vs=function(u){return $f(u,"width")},Fi=function(u){return $f(u,"height")},Kp=function(u){return No(u,Ls,Hr)},x0=function(u){return nT(u)?Ls(u):pc(u)},Cd=function(u){return k0(u,"rowspan",S0)},Um=function(u){var c=vs(u);return c.bind(function(d){return C0(d,["fixed","relative","empty"])})},Wm=function(u,c,d){uo(u,"width",c+d)},rT=function(u){return Ls(u)+"px"},jm=function(u){return No(u,Ls,Hr)+"%"},T0=function(u){return vs(u).exists(function(c){return zw.test(c)})},aT=function(u){return vs(u).exists(function(c){return tT.test(c)})},no=function(u){return vs(u).isNone()},Xp=Ue(zw),gv=Ja("col"),E0=function(u){return vs(u).getOrThunk(function(){return x0(u)+"px"})},O0=function(u){return Fi(u).getOrThunk(function(){return Cd(u)+"px"})},ds=function(u){return Mt(or.justColumns(u),function(c){return Q.from(c.element)})},Hl=function(u){var c=Nn().browser,d=c.isChrome()||c.isFirefox();return gv(u)?d:!0},Sd=function(u,c,d,h,y,T){return u.filter(h).fold(function(){return T(hl(d,c))},function(D){return y(D)})},hv=function(u,c,d,h){var y=yd(u),T=or.hasColumns(u)?ds(u):y,D=[Q.some(Vm.edge(c))].concat(Mt(Vm.positions(y,c),function(q){return q.map(function(ne){return ne.x})})),N=Oe(hd);return Mt(T,function(q,ne){return Sd(q,ne,D,N,function(be){if(Hl(be))return d(be);var Ke=Vp(y[ne],Wt);return Sd(Ke,ne,D,N,function(xt){return h(Q.some(Ls(xt)))},h)},h)})},Yp=function(u){return u.map(function(c){return c+"px"}).getOr("")},lh=function(u,c){return hv(u,c,E0,Yp)},A0=function(u,c,d){return hv(u,c,Kp,function(h){return h.fold(function(){return d.minCellWidth()},function(y){return y/d.pixelWidth()*100})})},kd=function(u,c,d){return hv(u,c,x0,function(h){return h.getOrThunk(d.minCellWidth)})},Jp=function(u,c,d,h,y){var T=dv(u),D=[Q.some(d.edge(c))].concat(Mt(d.positions(T,c),function(N){return N.map(function(q){return q.y})}));return Mt(T,function(N,q){return Sd(N,q,D,Oe(Hp),h,y)})},oT=function(u,c,d){return Jp(u,c,d,Cd,function(h){return h.getOrThunk(lo)})},D0=function(u,c,d){return Jp(u,c,d,O0,Yp)},Ul=function(u,c){return function(){return jo(u)?c(u):parseFloat(Bu(u,"width").getOr("0"))}},bl=function(u){var c=Ul(u,Ls),d=Ue(0),h=function(y,T){return kd(y,u,T)};return{width:c,pixelWidth:c,getWidths:h,getCellDelta:d,singleColumnWidth:Ue([0]),minCellWidth:d,setElementWidth:We,adjustTableWidth:We,isRelative:!0,label:"none"}},Gm=function(u){var c=Ul(u,function(q){return parseFloat(jm(q))}),d=Ul(u,Ls),h=function(q){return q/d()*100},y=function(q,ne){return[100-q]},T=function(){return xf()/d()*100},D=function(q){var ne=c(),be=q/100*ne,Ke=ne+be;Vs(u,Ke)},N=function(q,ne){return A0(q,u,ne)};return{width:c,pixelWidth:d,getWidths:N,getCellDelta:h,singleColumnWidth:y,minCellWidth:T,setElementWidth:Vs,adjustTableWidth:D,isRelative:!0,label:"percent"}},Us=function(u){var c=Ul(u,Ls),d=Wt,h=function(D,N){var q=Math.max(xf(),D+N);return[q-D]},y=function(D){var N=c()+D;Kc(u,N)},T=function(D,N){return kd(D,u,N)};return{width:c,pixelWidth:c,getWidths:T,getCellDelta:d,singleColumnWidth:h,minCellWidth:xf,setElementWidth:Kc,adjustTableWidth:y,isRelative:!1,label:"pixel"}},pu=function(u,c){var d=Xp().exec(c);return d!==null?Gm(u):Us(u)},Zp=function(u){var c=vs(u);return c.fold(function(){return bl(u)},function(d){return pu(u,d)})},Nf={getTableSize:Zp,pixelSize:Us,percentageSize:Gm,noneSize:bl},Lw=function(u,c,d,h,y,T){return{minRow:u,minCol:c,maxRow:d,maxCol:h,allCells:y,selectedCells:T}},zi=function(u,c){var d=u.grid.columns,h=u.grid.rows,y=h,T=d,D=0,N=0,q=[],ne=[];return sa(u.access,function(be){if(q.push(be),c(be)){ne.push(be);var Ke=be.row,xt=Ke+be.rowspan-1,lt=be.column,Xe=lt+be.colspan-1;Ke<y?y=Ke:xt>D&&(D=xt),lt<T?T=lt:Xe>N&&(N=Xe)}}),Lw(y,T,D,N,q,ne)},Vw=function(u,c,d){var h=u[d].element,y=Ot.fromTag("td");to(y,Ot.fromTag("br"));var T=c?to:Ni;T(h,y)},sh=function(u,c,d,h){for(var y=c.grid.columns,T=c.grid.rows,D=0;D<T;D++)for(var N=!1,q=0;q<y;q++)if(!(D<d.minRow||D>d.maxRow||q<d.minCol||q>d.maxCol)){var ne=or.getAt(c,D,q).filter(h).isNone();ne?Vw(u,N,D):N=!0}},dr=function(u,c,d,h){sa(d.columns,function(D){(D.column<c.minCol||D.column>c.maxCol)&&Xu(D.element)});var y=er(Tf(u,"tr"),function(D){return D.dom.childElementCount===0});sn(y,Xu),(c.minCol===c.maxCol||c.minRow===c.maxRow)&&sn(Tf(u,"th,td"),function(D){Da(D,"rowspan"),Da(D,"colspan")}),Da(u,xo),Da(u,"data-snooker-col-series");var T=Nf.getTableSize(u);T.adjustTableWidth(h)},Rn=function(u,c,d,h){if(h.minCol===0&&c.grid.columns===h.maxCol+1)return 0;var y=kd(c,u,d),T=te(y,function(ne,be){return ne+be},0),D=te(y.slice(h.minCol,h.maxCol+1),function(ne,be){return ne+be},0),N=D/T*d.pixelWidth(),q=N-d.pixelWidth();return d.getCellDelta(q)},Ff=function(u,c){var d=function(xt){return io(xt.element,c)},h=Yr(u),y=Up(h),T=Nf.getTableSize(u),D=or.generate(y),N=zi(D,d),q="th:not("+c+"),td:not("+c+")",ne=Ef(h,"th,td",function(xt){return io(xt,q)});sn(ne,Xu),sh(y,D,N,d);var be=or.fromTable(u),Ke=Rn(u,be,T,N);return dr(h,N,D,Ke),h},_0="\xA0",Ws=function(u){return Ar(u)==="img"?1:_w(u).fold(function(){return $(u).length},function(c){return c.length})},Hw=function(u){return _w(u).filter(function(c){return c.trim().length!==0||c.indexOf(_0)>-1}).isSome()},Oa=["img","br"],R0=function(u){var c=Hw(u);return c||$n(Oa,Ar(u))},ch=function(u){return Xg(u,R0)},Qp=function(u){return ft(u,R0)},ft=function(u,c){var d=function(h){for(var y=$(h),T=y.length-1;T>=0;T--){var D=y[T];if(c(D))return Q.some(D);var N=d(D);if(N.isSome())return N}return Q.none()};return d(u)},fh={scope:["row","col"]},qm=function(u){return function(){var c=Ot.fromTag("td",u.dom);return to(c,Ot.fromTag("br",u.dom)),c}},Km=function(u){return function(){return Ot.fromTag("col",u.dom)}},xd=function(u){return function(){return Ot.fromTag("colgroup",u.dom)}},Td=function(u){return function(){return Ot.fromTag("tr",u.dom)}},pv=function(u,c,d){var h=fs(u,c);return sa(d,function(y,T){y===null?Da(h,T):qo(h,T,y)}),h},ho=function(u){return u},$a=function(u,c,d){var h=ch(u);return h.map(function(y){var T=d.join(","),D=cl(y,T,function(N){return vr(N,u)});return ua(D,function(N,q){var ne=Is(q);return Da(ne,"contenteditable"),to(N,ne),ne},c)}).getOr(c)},zf=function(u,c){sa(fh,function(d,h){return Vr(u,h).filter(function(y){return $n(d,y)}).each(function(y){return qo(c,h,y)})})},Ha=function(u,c,d){var h=function(D,N){cv(D.element,N),Pi(N,"height"),D.colspan!==1&&Pi(N,"width")},y=function(D){var N=Ot.fromTag(Ar(D.element),c.dom),q=d.getOr(["strong","em","b","i","span","font","h1","h2","h3","h4","h5","h6","p","div"]),ne=q.length>0?$a(D.element,N,q):N;return to(ne,Ot.fromTag("br")),h(D,N),zf(D.element,N),u(D.element,N),N},T=function(D){var N=Ot.fromTag(Ar(D.element),c.dom);return h(D,N),u(D.element,N),N};return{col:T,colgroup:xd(c),row:Td(c),cell:y,replace:pv,colGap:Km(c),gap:qm(c)}},yl=function(u){return{col:Km(u),colgroup:xd(u),row:Td(u),cell:qm(u),replace:ho,colGap:Km(u),gap:qm(u)}},B0=function(u,c){var d=c||document,h=d.createElement("div");return h.innerHTML=u,$(Ot.fromDom(h))},js=function(u){return Mt(u,Ot.fromDom)},e1=function(u){return u.nodeName.toLowerCase()},Zu=function(u){return Ot.fromDom(u.getBody())},yc=function(u){return u.getBoundingClientRect().width},If=function(u){return u.getBoundingClientRect().height},wi=function(u){return function(c){return vr(c,Zu(u))}},t1=function(u){return u?u.replace(/px$/,""):""},tu=function(u){return/^\d+(\.\d+)?$/.test(u)?u+"px":u},Ci=function(u){Da(u,"data-mce-style");var c=function(d){return Da(d,"data-mce-style")};sn(Of(u),c),sn(mc(u),c),sn(qu(u),c)},Xm=function(u,c){var d=u.dom.getStyle(c,"width")||u.dom.getAttrib(c,"width");return Q.from(d).filter(Cr)},iT=function(u){return/^(\d+(\.\d+)?)%$/.test(u)},vh=function(u){return/^(\d+(\.\d+)?)px$/.test(u)},Fo=function(u){return Ot.fromDom(u.selection.getStart())},un=function(u){return Ot.fromDom(u.selection.getEnd())},ms=function(u){return jp(u.get(),Ue([]),Wt,tt)},uT=function(u){var c=function(y,T){return Vr(y,T).exists(function(D){return parseInt(D,10)>1})},d=function(y){return c(y,"rowspan")||c(y,"colspan")},h=ms(u);return h.length>0&&Re(h,d)?Q.some(h):Q.none()},Uw=function(u,c,d){return jp(c.get(),Q.none,function(h){return h.length<=1?Q.none():yi(u,d.firstSelectedSelector,d.lastSelectedSelector).map(function(y){return{bounds:y,cells:h}})},Q.none)},Ym="data-mce-selected",Ww="td["+Ym+"],th["+Ym+"]",dh="["+Ym+"]",Xc="data-mce-first-selected",Ed="td["+Xc+"],th["+Xc+"]",M0="data-mce-last-selected",wc="td["+M0+"],th["+M0+"]",lT=dh,Od={selected:Ym,selectedSelector:Ww,firstSelected:Xc,firstSelectedSelector:Ed,lastSelected:M0,lastSelectedSelector:wc},Yc=function(u){return{element:u,mergable:Q.none(),unmergable:Q.none(),selection:[u]}},bv=function(u,c,d){return{element:d,mergable:Uw(c,u,Od),unmergable:uT(u),selection:ms(u)}},Ad=function(u,c,d){return{element:u,clipboard:c,generators:d}},jw=function(u,c,d,h){return{selection:ms(u),clipboard:d,generators:h}},To=function(u){return La(u).bind(function(c){return go(c,Od.firstSelectedSelector)}).fold(Ue(u),function(c){return c[0]})},yv=function(u){return function(c,d){var h=Ar(c),y=h==="col"||h==="colgroup"?To(c):c;return Qa(y,u,d)}},Dd=yv("th,td,caption"),wl=yv("th,td"),Si=function(u){return ms(u)},sT=function(u,c){var d=wl(u),h=d.bind(function(y){return La(y)}).map(function(y){return qu(y)});return dl(d,h,function(y,T){return er(T,function(D){return _(js(D.dom.cells),function(N){return Nl(N,c)==="1"||vr(N,y)})})}).getOr([])},cT=function(u){return La(u[0]).map(function(c){var d=Ff(c,lT);return Ci(d),[d]})},fT=function(u,c){return Mt(c,function(d){return u.selection.serializer.serialize(d.dom,{})}).join("")},Gw=function(u){return Mt(u,function(c){return c.dom.innerText}).join("")},Gs=function(u,c,d){u.on("BeforeGetContent",function(h){var y=function(T){h.preventDefault(),cT(T).each(function(D){h.content=h.format==="text"?Gw(D):fT(u,D)})};h.selection===!0&&jp(c.get(),We,y,We)}),u.on("BeforeSetContent",function(h){if(h.selection===!0&&h.paste===!0){var y=Si(c);nn(y).each(function(T){La(T).each(function(D){var N=er(B0(h.content),function(xt){return Ar(xt)!=="meta"}),q=Ja("table");if(N.length===1&&q(N[0])){h.preventDefault();var ne=Ot.fromDom(u.getDoc()),be=yl(ne),Ke=Ad(T,N[0],be);d.pasteCells(D,Ke).each(function(){u.focus()})}})})}})},n1=Wc.generate([{none:[]},{only:["index"]},{left:["index","next"]},{middle:["prev","index","next"]},{right:["prev","index"]}]),Jm=Cn({},n1),vT=function(u,c){return u.length===0?Jm.none():u.length===1?Jm.only(0):c===0?Jm.left(0,1):c===u.length-1?Jm.right(c-1,c):c>0&&c<u.length-1?Jm.middle(c-1,c,c+1):Jm.none()},P0=function(u,c,d,h,y){var T=u.slice(0),D=vT(u,c),N=Ue(Mt(T,Ue(0))),q=function(xt){return h.singleColumnWidth(T[xt],d)},ne=function(xt,lt){return y.calcLeftEdgeDeltas(T,xt,lt,d,h.minCellWidth(),h.isRelative)},be=function(xt,lt,Xe){return y.calcMiddleDeltas(T,xt,lt,Xe,d,h.minCellWidth(),h.isRelative)},Ke=function(xt,lt){return y.calcRightEdgeDeltas(T,xt,lt,d,h.minCellWidth(),h.isRelative)};return D.fold(N,q,ne,be,Ke)},qw=function(u,c,d){for(var h=0,y=u;y<c;y++)h+=d[y]!==void 0?d[y]:0;return h},$0=function(u,c){var d=or.justCells(u);return Mt(d,function(h){var y=qw(h.column,h.column+h.colspan,c);return{element:h.element,width:y,colspan:h.colspan}})},N0=function(u,c){var d=or.justColumns(u);return Mt(d,function(h,y){return{element:h.element,width:c[y],colspan:h.colspan}})},wv=function(u,c){var d=or.justCells(u);return Mt(d,function(h){var y=qw(h.row,h.row+h.rowspan,c);return{element:h.element,height:y,rowspan:h.rowspan}})},Cv=function(u,c){return Mt(u.all,function(d,h){return{element:d.element,height:c[h]}})},Ca=function(u){return ua(u,function(c,d){return c+d},0)},F0=function(u,c){return or.hasColumns(u)?N0(u,c):$0(u,c)},gs=function(u,c,d){var h=F0(u,c);sn(h,function(y){d.setElementWidth(y.element,y.width)})},z0=function(u,c,d,h,y){var T=or.fromTable(u),D=y.getCellDelta(c),N=y.getWidths(T,y),q=d===T.grid.columns-1,ne=h.clampTableDelta(N,d,D,y.minCellWidth(),q),be=P0(N,d,ne,y,h),Ke=Mt(be,function(xt,lt){return xt+N[lt]});gs(T,Ke,y),h.resizeTable(y.adjustTableWidth,ne,q)},dT=function(u,c,d,h){var y=or.fromTable(u),T=oT(y,u,h),D=Mt(T,function(be,Ke){return d===Ke?Math.max(c+be,lo()):be}),N=wv(y,D),q=Cv(y,D);sn(q,function(be){mv(be.element,be.height)}),sn(N,function(be){mv(be.element,be.height)});var ne=Ca(D);mv(u,ne)},mT=function(u,c,d,h,y){var T=or.generate(c),D=h.getWidths(T,h),N=h.pixelWidth(),q=y.calcRedestributedWidths(D,N,d.pixelDelta,h.isRelative),ne=q.newSizes,be=q.delta;gs(T,ne,h),h.adjustTableWidth(be)},Nu=function(u,c,d,h){var y=or.generate(c),T=h.getWidths(y,h);gs(y,T,h)},qs=function(u){return Mt(u,Ue(0))},I0=function(u,c,d,h,y){return y(u.slice(0,c)).concat(h).concat(y(u.slice(d)))},mh=function(u){return function(c,d,h,y){if(u(h)){var T=Math.max(y,c[d]-Math.abs(h)),D=Math.abs(T-c[d]);return h>=0?D:-D}else return h}},Zm=mh(function(u){return u<0}),L0=mh(Nt),Kw=function(){var u=function(N,q,ne,be,Ke){var xt=Zm(N,q,be,Ke);return I0(N,q,ne+1,[xt,0],qs)},c=function(N,q,ne,be){var Ke=(100+ne)/100,xt=Math.max(be,(N[q]+ne)/Ke);return Mt(N,function(lt,Xe){var Ft=Xe===q?xt:lt/Ke;return Ft-lt})},d=function(N,q,ne,be,Ke,xt){return xt?c(N,q,be,Ke):u(N,q,ne,be,Ke)},h=function(N,q,ne,be,Ke,xt,lt){return d(N,ne,be,Ke,xt,lt)},y=function(N,q){return N(q)},T=function(N,q,ne,be,Ke,xt){if(xt)return c(N,ne,be,Ke);var lt=Zm(N,ne,be,Ke);return qs(N.slice(0,ne)).concat([lt])},D=function(N,q,ne,be){if(be){var Ke=q+ne,xt=Ke/q,lt=Mt(N,function(Xe){return Xe/xt});return{delta:xt*100-100,newSizes:lt}}else return{delta:ne,newSizes:N}};return{resizeTable:y,clampTableDelta:Zm,calcLeftEdgeDeltas:d,calcMiddleDeltas:h,calcRightEdgeDeltas:T,calcRedestributedWidths:D}},Sv=function(){var u=function(D,N,q,ne,be){var Ke=ne>=0?q:N,xt=L0(D,Ke,ne,be);return I0(D,N,q+1,[xt,-xt],qs)},c=function(D,N,q,ne,be,Ke){return u(D,q,ne,be,Ke)},d=function(D,N,q){q&&D(N)},h=function(D,N,q,ne,be,Ke){if(Ke)return qs(D);var xt=ne/D.length;return Mt(D,Ue(xt))},y=function(D,N,q,ne,be){if(be){if(q>=0)return q;var Ke=te(D,function(xt,lt){return xt+lt-ne},0);return Math.max(-Ke,q)}else return Zm(D,N,q,ne)},T=function(D,N,q,ne){return{delta:0,newSizes:D}};return{resizeTable:d,clampTableDelta:y,calcLeftEdgeDeltas:u,calcMiddleDeltas:c,calcRightEdgeDeltas:h,calcRedestributedWidths:T}},V0=function(u,c){var d=Q.from(u.dom.documentElement).map(Ot.fromDom).getOr(u);return{parent:Ue(d),view:Ue(u),origin:Ue(pa(0,0)),isResizable:c}},H0=function(u,c,d){var h=function(){return Mf(c)};return{parent:Ue(c),view:Ue(u),origin:h,isResizable:d}},r1=function(u,c,d){return{parent:Ue(c),view:Ue(u),origin:Ue(pa(0,0)),isResizable:d}},a1={only:V0,detached:H0,body:r1},_d=Wc.generate([{invalid:["raw"]},{pixels:["value"]},{percent:["value"]}]),Xw=function(u,c,d){var h=d.substring(0,d.length-u.length),y=parseFloat(h);return h===y.toString()?c(y):_d.invalid(d)},ki=function(u){return Mo(u,"%")?Xw("%",_d.percent,u):Mo(u,"px")?Xw("px",_d.pixels,u):_d.invalid(u)},Cc=Cn(Cn({},_d),{from:ki}),zo=function(u,c){return Mt(u,function(d){var h=Cc.from(d);return h.fold(function(){return d},function(y){var T=y/c*100;return T+"%"},function(y){return y+"%"})})},Fu=function(u,c,d){var h=d/c;return Mt(u,function(y){var T=Cc.from(y);return T.fold(function(){return y},function(D){return D*h+"px"},function(D){return D/100*d+"px"})})},Lf=function(u,c){var d=u.fold(function(){return Ue("")},function(h){var y=h/c;return Ue(y+"px")},function(){var h=100/c;return Ue(h+"%")});return Zr(c,d)},Jc=function(u,c,d){return u.fold(function(){return c},function(h){return Fu(c,d,h)},function(h){return zo(c,d)})},U0=function(u,c,d){var h=Cc.from(d),y=Re(u,function(T){return T==="0px"})?Lf(h,u.length):Jc(h,u,c);return gT(y)},Cl=function(u,c){return u.length===0?c:ua(u,function(d,h){return Cc.from(h).fold(Ue(0),Wt,Wt)+d},0)},Qm=function(u,c){var d=Math.floor(u);return{value:d+c,remainder:u-d}},Yw=function(u,c){return Cc.from(u).fold(Ue(u),function(d){return d+c+"px"},function(d){return d+c+"%"})},gT=function(u){if(u.length===0)return u;var c=ua(u,function(h,y){var T=Cc.from(y).fold(function(){return{value:y,remainder:0}},function(D){return Qm(D,"px")},function(D){return{value:D+"%",remainder:0}});return{output:[T.value].concat(h.output),remainder:h.remainder+T.remainder}},{output:[],remainder:0}),d=c.output;return d.slice(0,d.length-1).concat([Yw(d[d.length-1],Math.round(c.remainder))])},hT=Cc.from,pT=function(u,c,d){sn(c,function(h){var y=u.slice(h.column,h.colspan+h.column),T=Cl(y,xf());uo(h.element,"width",T+d)})},bT=function(u,c,d){sn(c,function(h,y){var T=Cl([u[y]],xf());uo(h.element,"width",T+d)})},W0=function(u,c,d,h){sn(d,function(y){var T=u.slice(y.row,y.rowspan+y.row),D=Cl(T,lo());uo(y.element,"height",D+h)}),sn(c,function(y,T){uo(y.element,"height",u[T])})},o1=function(u){return hT(u).fold(Ue("px"),Ue("px"),Ue("%"))},Wl=function(u,c,d){var h=or.fromTable(u),y=h.all,T=or.justCells(h),D=or.justColumns(h);c.each(function(N){var q=o1(N),ne=Ls(u),be=lh(h,u),Ke=U0(be,ne,N);or.hasColumns(h)?bT(Ke,D,q):pT(Ke,T,q),uo(u,"width",N)}),d.each(function(N){var q=o1(N),ne=$u(u),be=D0(h,u,w0),Ke=U0(be,ne,N);W0(Ke,y,T,q),uo(u,"height",N)})},Jw=T0,kv=aT,gh=no,Sc=function(u){var c=or.fromTable(u);return c.grid},hs=function(u){var c=[],d=function(T){if(T===void 0)throw new Error("Event bind error: undefined handler");c.push(T)},h=function(T){c=er(c,function(D){return D!==T})},y=function(){for(var T=[],D=0;D<arguments.length;D++)T[D]=arguments[D];var N={};sn(u,function(q,ne){N[q]=T[ne]}),sn(c,function(q){q(N)})};return{bind:d,unbind:h,trigger:y}},Eo=function(u){var c=as(u,function(h){return{bind:h.bind,unbind:h.unbind}}),d=as(u,function(h){return h.trigger});return{registry:c,trigger:d}},jl=function(u,c){var d=null,h=function(){Ee(d)||(clearTimeout(d),d=null)},y=function(){for(var T=[],D=0;D<arguments.length;D++)T[D]=arguments[D];h(),d=setTimeout(function(){d=null,u.apply(null,T)},c)};return{cancel:h,throttle:y}},xv=function(u){return u.slice(0).sort()},j0=function(u,c){throw new Error("All required keys ("+xv(u).join(", ")+") were not specified. Specified keys were: "+xv(c).join(", ")+".")},Zn=function(u){throw new Error("Unsupported keys for object: "+xv(u).join(", "))},hh=function(u,c){if(!Fe(c))throw new Error("The "+u+" fields must be an array. Was: "+c+".");sn(c,function(d){if(!_t(d))throw new Error("The value "+d+" in the "+u+" fields was not a string.")})},yT=function(u,c){throw new Error("All values need to be of type: "+c+". Keys ("+xv(u).join(", ")+") were not.")},i1=function(u){var c=xv(u),d=Tt(c,function(h,y){return y<c.length-1&&h===c[y+1]});d.each(function(h){throw new Error("The field: "+h+" occurs more than once in the combined fields: ["+c.join(", ")+"].")})},u1=function(u,c){return wT(u,c,{validate:Gt,label:"function"})},wT=function(u,c,d){if(c.length===0)throw new Error("You must specify at least one required field.");return hh("required",c),i1(c),function(h){var y=pi(h),T=Re(c,function(N){return $n(y,N)});T||j0(c,y),u(c,y);var D=er(c,function(N){return!d.validate(h[N],N)});return D.length>0&&yT(D,d.label),h}},Io=function(u,c){var d=er(c,function(h){return!$n(u,h)});d.length>0&&Zn(d)},bu=function(u){return u1(Io,u)},Na=bu(["compare","extract","mutate","sink"]),Zw=bu(["element","start","stop","destroy"]),G0=bu(["forceDrop","drop","move","delayDrop"]),Rd=function(){var u=Q.none(),c=function(){u=Q.none()},d=function(T,D){var N=u.map(function(q){return T.compare(q,D)});return u=Q.some(D),N},h=function(T,D){var N=D.extract(T);N.each(function(q){var ne=d(D,q);ne.each(function(be){y.trigger.move(be)})})},y=Eo({move:hs(["info"])});return{onEvent:h,reset:c,events:y.registry}},Qw=function(){var u=Eo({move:hs(["info"])});return{onEvent:We,reset:We,events:u.registry}},Bd=function(){var u=Qw(),c=Rd(),d=u,h=function(){d.reset(),d=c},y=function(){d.reset(),d=u},T=function(N,q){d.onEvent(N,q)},D=function(){return d===c};return{on:h,off:y,isOn:D,onEvent:T,events:c.events}},eg=function(u,c,d){var h=!1,y=Eo({start:hs([]),stop:hs([])}),T=Bd(),D=function(){lt.stop(),T.isOn()&&(T.off(),y.trigger.stop())},N=jl(D,200),q=function(Ft){lt.start(Ft),T.on(),y.trigger.start()},ne=function(Ft){N.cancel(),T.onEvent(Ft,c)};T.events.move.bind(function(Ft){c.mutate(u,Ft.info)});var be=function(){h=!0},Ke=function(){h=!1},xt=function(Ft){return function(){for(var Pt=[],yn=0;yn<arguments.length;yn++)Pt[yn]=arguments[yn];h&&Ft.apply(null,Pt)}},lt=c.sink(G0({forceDrop:D,drop:xt(D),move:xt(ne),delayDrop:xt(N.throttle)}),d),Xe=function(){lt.destroy()};return{element:lt.element,go:q,on:be,off:Ke,destroy:Xe,events:y.registry}},eC=function(u,c,d,h,y,T,D){return{target:u,x:c,y:d,stop:h,prevent:y,kill:T,raw:D}},Zc=function(u){var c=Ot.fromDom(Za(u).getOr(u.target)),d=function(){return u.stopPropagation()},h=function(){return u.preventDefault()},y=ge(h,d);return eC(c,u.clientX,u.clientY,d,h,y,u)},zu=function(u,c){return function(d){u(d)&&c(Zc(d))}},CT=function(u,c,d,h,y){var T=zu(d,h);return u.dom.addEventListener(c,T,y),{unbind:dt(Md,u,c,T,y)}},ST=function(u,c,d,h){return CT(u,c,d,h,!1)},Md=function(u,c,d,h){u.dom.removeEventListener(c,d,h)},q0=Nt,Tv=function(u,c,d){return ST(u,c,q0,d)},Pd=Zc,K0=function(u,c){var d=Nl(u,c);return d===void 0||d===""?[]:d.split(" ")},kT=function(u,c,d){var h=K0(u,c),y=h.concat([d]);return qo(u,c,y.join(" ")),!0},xT=function(u,c,d){var h=er(K0(u,c),function(y){return y!==d});return h.length>0?qo(u,c,h.join(" ")):Da(u,c),!1},$d=function(u){return u.dom.classList!==void 0},Nd=function(u){return K0(u,"class")},l1=function(u,c){return kT(u,"class",c)},sr=function(u,c){return xT(u,"class",c)},ba=function(u,c){$d(u)?u.dom.classList.add(c):l1(u,c)},Fd=function(u){var c=$d(u)?u.dom.classList:Nd(u);c.length===0&&Da(u,"class")},Ev=function(u,c){if($d(u)){var d=u.dom.classList;d.remove(c)}else sr(u,c);Fd(u)},ca=function(u,c){return $d(u)&&u.dom.classList.contains(c)},s1=function(u){var c=u.replace(/\./g,"-"),d=function(h){return c+"-"+h};return{resolve:d}},c1=s1("ephox-dragster"),xi=c1.resolve,Ov=function(u){var c=Cn({layerClass:xi("blocker")},u),d=Ot.fromTag("div");qo(d,"role","presentation"),Vc(d,{position:"fixed",left:"0px",top:"0px",width:"100%",height:"100%"}),ba(d,xi("blocker")),ba(d,c.layerClass);var h=Ue(d),y=function(){Xu(d)};return{element:h,destroy:y}},f1=function(u,c){return pa(c.left-u.left,c.top-u.top)},TT=function(u){return Q.some(pa(u.x,u.y))},ET=function(u,c){u.mutate(c.left,c.top)},v1=function(u,c){var d=Ov(c),h=Tv(d.element(),"mousedown",u.forceDrop),y=Tv(d.element(),"mouseup",u.drop),T=Tv(d.element(),"mousemove",u.move),D=Tv(d.element(),"mouseout",u.delayDrop),N=function(){d.destroy(),y.unbind(),T.unbind(),D.unbind(),h.unbind()},q=function(be){to(be,d.element())},ne=function(){Xu(d.element())};return Zw({element:d.element,start:q,stop:ne,destroy:N})},tg=Na({compare:f1,extract:TT,sink:v1,mutate:ET}),X0=function(u,c){c===void 0&&(c={});var d=c.mode!==void 0?c.mode:tg;return eg(u,d,c)},d1=function(u){return Qa(u,"[contenteditable]")},ng=function(u,c){return c===void 0&&(c=!1),!Nn().browser.isIE()&&jo(u)?u.dom.isContentEditable:d1(u).fold(Ue(c),function(d){return m1(d)==="true"})},m1=function(u){return u.dom.contentEditable},Qu=s1("ephox-snooker"),zd=Qu.resolve,Qc=function(){var u=Eo({drag:hs(["xDelta","yDelta"])}),c=function(d,h){u.trigger.drag(d,h)};return{mutate:c,events:u.registry}},el=function(){var u=Eo({drag:hs(["xDelta","yDelta","target"])}),c=Q.none(),d=Qc();d.events.drag.bind(function(T){c.each(function(D){u.trigger.drag(T.xDelta,T.yDelta,D)})});var h=function(T){c=Q.some(T)},y=function(){return c};return{assign:h,get:y,mutate:d.mutate,events:u.registry}},tC=function(u,c,d,h,y){var T=Ot.fromTag("div");return Vc(T,{position:"absolute",left:c-h/2+"px",top:d+"px",height:y+"px",width:h+"px"}),ko(T,{"data-column":u,role:"presentation"}),T},Ii=function(u,c,d,h,y){var T=Ot.fromTag("div");return Vc(T,{position:"absolute",left:c+"px",top:d-y/2+"px",height:y+"px",width:h+"px"}),ko(T,{"data-row":u,role:"presentation"}),T},Y0=zd("resizer-bar"),Vf=zd("resizer-rows"),J0=zd("resizer-cols"),Z0=7,nC=function(u,c){return Pe(u.all,function(d,h){return c(d.element)?[h]:[]})},g1=function(u,c){var d=[];return Zr(u.grid.columns,function(h){var y=or.getColumnAt(u,h).map(function(T){return T.element});y.forall(c)&&d.push(h)}),er(d,function(h){var y=or.filterItems(u,function(T){return T.column===h});return Re(y,function(T){return c(T.element)})})},rg=function(u){var c=fl(u.parent(),"."+Y0);sn(c,Xu)},Q0=function(u,c,d){var h=u.origin();sn(c,function(y){y.each(function(T){var D=d(h,T);ba(D,Y0),to(u.parent(),D)})})},OT=function(u,c,d,h){Q0(u,c,function(y,T){var D=tC(T.col,T.x-y.left,d.top-y.top,Z0,h);return ba(D,J0),D})},AT=function(u,c,d,h){Q0(u,c,function(y,T){var D=Ii(T.row,d.left-y.left,T.y-y.top,h,Z0);return ba(D,Vf),D})},nu=function(u,c,d,h,y){var T=Mf(d),D=c.isResizable,N=h.length>0?w0.positions(h,d):[],q=N.length>0?nC(u,D):[],ne=er(N,function(lt,Xe){return _(q,function(Ft){return Xe===Ft})});AT(c,ne,T,eu(d));var be=y.length>0?Vm.positions(y,d):[],Ke=be.length>0?g1(u,D):[],xt=er(be,function(lt,Xe){return _(Ke,function(Ft){return Xe===Ft})});OT(c,xt,T,bc(d))},Jo=function(u,c){if(rg(u),u.isResizable(c)){var d=or.fromTable(c),h=dv(d),y=yd(d);nu(d,u,c,h,y)}},yu=function(u,c){var d=fl(u.parent(),"."+Y0);sn(d,c)},Ti=function(u){yu(u,function(c){uo(c,"display","none")})},tl=function(u){yu(u,function(c){uo(c,"display","block")})},Li=function(u){return ca(u,Vf)},h1=function(u){return ca(u,J0)},Av=zd("resizer-bar-dragging"),Dv=function(u){var c=el(),d=X0(c,{}),h=Q.none(),y=function(Xe,Ft){return Q.from(Nl(Xe,Ft))};c.events.drag.bind(function(Xe){y(Xe.target,"data-row").each(function(Ft){var Pt=kf(Xe.target,"top");uo(Xe.target,"top",Pt+Xe.yDelta+"px")}),y(Xe.target,"data-column").each(function(Ft){var Pt=kf(Xe.target,"left");uo(Xe.target,"left",Pt+Xe.xDelta+"px")})});var T=function(Xe,Ft){var Pt=kf(Xe,Ft),yn=cs(Xe,"data-initial-"+Ft,0);return Pt-yn};d.events.stop.bind(function(){c.get().each(function(Xe){h.each(function(Ft){y(Xe,"data-row").each(function(Pt){var yn=T(Xe,"top");Da(Xe,"data-initial-top"),lt.trigger.adjustHeight(Ft,yn,parseInt(Pt,10))}),y(Xe,"data-column").each(function(Pt){var yn=T(Xe,"left");Da(Xe,"data-initial-left"),lt.trigger.adjustWidth(Ft,yn,parseInt(Pt,10))}),Jo(u,Ft)})})});var D=function(Xe,Ft){lt.trigger.startAdjust(),c.assign(Xe),qo(Xe,"data-initial-"+Ft,kf(Xe,Ft)),ba(Xe,Av),uo(Xe,"opacity","0.2"),d.go(u.parent())},N=Tv(u.parent(),"mousedown",function(Xe){Li(Xe.target)&&D(Xe.target,"top"),h1(Xe.target)&&D(Xe.target,"left")}),q=function(Xe){return vr(Xe,u.view())},ne=function(Xe){return Qa(Xe,"table",q).filter(ng)},be=Tv(u.view(),"mouseover",function(Xe){ne(Xe.target).fold(function(){jo(Xe.target)&&rg(u)},function(Ft){h=Q.some(Ft),Jo(u,Ft)})}),Ke=function(){N.unbind(),be.unbind(),d.destroy(),rg(u)},xt=function(Xe){Jo(u,Xe)},lt=Eo({adjustHeight:hs(["table","delta","row"]),adjustWidth:hs(["table","delta","column"]),startAdjust:hs([])});return{destroy:Ke,refresh:xt,on:d.on,off:d.off,hideBars:dt(Ti,u),showBars:dt(tl,u),events:lt.registry}},ey=function(u,c,d){var h=w0,y=Vm,T=Dv(u),D=Eo({beforeResize:hs(["table","type"]),afterResize:hs(["table","type"]),startDrag:hs([])});return T.events.adjustHeight.bind(function(N){var q=N.table;D.trigger.beforeResize(q,"row");var ne=h.delta(N.delta,q);dT(q,ne,N.row,h),D.trigger.afterResize(q,"row")}),T.events.startAdjust.bind(function(N){D.trigger.startDrag()}),T.events.adjustWidth.bind(function(N){var q=N.table;D.trigger.beforeResize(q,"col");var ne=y.delta(N.delta,q),be=d(q);z0(q,ne,N.column,c,be),D.trigger.afterResize(q,"col")}),{on:T.on,off:T.off,hideBars:T.hideBars,showBars:T.showBars,destroy:T.destroy,events:D.registry}},rC={create:ey},p1=function(u,c){return u.fire("newrow",{node:c})},Hf=function(u,c){return u.fire("newcell",{node:c})},_v=function(u,c,d,h,y){u.fire("ObjectResizeStart",{target:c,width:d,height:h,origin:y})},aC=function(u,c,d,h,y){u.fire("ObjectResized",{target:c,width:d,height:h,origin:y})},DT=function(u,c,d,h,y){u.fire("TableSelectionChange",{cells:c,start:d,finish:h,otherCells:y})},b1=function(u){u.fire("TableSelectionClear")},Iu=function(u,c,d){u.fire("TableModified",Cn(Cn({},d),{table:c}))},y1={structure:!1,style:!0},Zo={structure:!0,style:!1},oC={structure:!0,style:!0},_T="tableprops tabledelete | tableinsertrowbefore tableinsertrowafter tabledeleterow | tableinsertcolbefore tableinsertcolafter tabledeletecol",ty={"border-collapse":"collapse",width:"100%"},iC=Zr(5,function(u){var c=u+1+"px";return{title:c,value:c}}),uC=Mt(["Solid","Dotted","Dashed","Double","Groove","Ridge","Inset","Outset","None","Hidden"],function(u){return{title:u,value:u.toLowerCase()}}),zt=function(u){var c;if(og(u)){var d=u.dom,h=(c=d.getParent(u.selection.getStart(),d.isBlock))!==null&&c!==void 0?c:u.getBody(),y=Hr(Ot.fromDom(h));return Cn(Cn({},ty),{width:y+"px"})}else return Bv(u)?vu(ty,function(T,D){return D!=="width"}):ty},RT={border:"1"},po="preservetable",ny=function(u){return u.getParam("table_sizing_mode","auto")},Id=function(u){return u.getParam("table_responsive_width")},w1=function(u){return u.getParam("table_border_widths",iC,"array")},Sl=function(u){return u.getParam("table_border_styles",uC,"array")},ag=function(u){return u.getParam("table_default_attributes",RT,"object")},ph=function(u){return u.getParam("table_default_styles",zt(u),"object")},C1=function(u){return u.getParam("table_resize_bars",!0,"boolean")},ef=function(u){return u.getParam("table_tab_navigation",!0,"boolean")},bh=function(u){return u.getParam("table_cell_advtab",!0,"boolean")},S1=function(u){return u.getParam("table_row_advtab",!0,"boolean")},kl=function(u){return u.getParam("table_advtab",!0,"boolean")},Ks=function(u){return u.getParam("table_appearance_options",!0,"boolean")},Uf=function(u){return u.getParam("table_grid",!0,"boolean")},Qo=function(u){return u.getParam("table_style_by_css",!1,"boolean")},ry=function(u){return u.getParam("table_cell_class_list",[],"array")},je=function(u){return u.getParam("table_row_class_list",[],"array")},Rv=function(u){return u.getParam("table_class_list",[],"array")},yh=function(u){return ny(u)==="relative"||Id(u)===!0},og=function(u){return ny(u)==="fixed"||Id(u)===!1},Bv=function(u){return ny(u)==="responsive"},kc=function(u){return u.getParam("table_toolbar",_T)},ay=function(u){return u.getParam("table_use_colgroups",!1,"boolean")},oy=function(u){var c="section",d=u.getParam("table_header_type",c,"string"),h=["section","cells","sectionCells","auto"];return $n(h,d)?d:c},k1=function(u){var c=["preservetable","resizetable"],d=u.getParam("table_column_resizing",po,"string");return Tt(c,function(h){return h===d}).getOr(po)},x1=function(u){return k1(u)==="preservetable"},lC=function(u){return k1(u)==="resizetable"},iy=function(u){var c=u.getParam("table_clone_elements");return _t(c)?Q.some(c.split(/[ ,]/)):Array.isArray(c)?Q.some(c):Q.none()},uy=function(u){var c=u.getParam("object_resizing",!0);return _t(c)?c==="table":c},ly=function(u){return u.getParam("table_background_color_map",[],"array")},sy=function(u){return u.getParam("table_border_color_map",[],"array")},cy=function(u,c){return yh(u)?Nf.percentageSize(c):og(u)?Nf.pixelSize(c):Nf.getTableSize(c)},Ld=function(u){Da(u,"width")},BT=function(u){var c=jm(u);Wl(u,Q.some(c),Q.none()),Ld(u)},sC=function(u){var c=rT(u);Wl(u,Q.some(c),Q.none()),Ld(u)},T1=function(u){Pi(u,"width");var c=mc(u),d=c.length>0?c:Of(u);sn(d,function(h){Pi(h,"width"),Ld(h)}),Ld(u)},wh=BT,E1=sC,O1=T1,A1=function(u){var c=or.fromTable(u);or.hasColumns(c)||sn(Of(u),function(d){var h=vc(d,"width");uo(d,"width",h),Da(d,"width")})},Vd=function(){var u=Ot.fromTag("div");return Vc(u,{position:"static",height:"0",width:"0",padding:"0",margin:"0",border:"0"}),to(ra(),u),u},cC=function(u,c){return u.inline?a1.body(Zu(u),Vd(),c):a1.only(Ot.fromDom(u.getDoc()),c)},so=function(u,c){u.inline&&Xu(c.parent())},D1="bar-",bo=function(u){return Nl(u,"data-mce-resize")!=="false"},_1=function(u){var c=Q.none(),d=Q.none(),h=Q.none(),y,T,D=function(Xe){return Xe.nodeName==="TABLE"},N=function(){return d},q=function(){return h.getOr(a1.only(Ot.fromDom(u.getBody()),bo))},ne=function(Xe){return cy(u,Xe)},be=function(){return x1(u)?Sv():Kw()},Ke=function(Xe){return Sc(Xe).columns},xt=function(Xe,Ft,Pt){var yn=Mo(Ft,"e");if(T===""&&wh(Xe),Pt!==y&&T!==""){uo(Xe,"width",T);var Br=be(),An=ne(Xe),Hn=x1(u)||yn?Ke(Xe)-1:0;z0(Xe,Pt-y,Hn,Br,An)}else if(iT(T)){var yr=parseFloat(T.replace("%","")),ur=Pt*yr/y;uo(Xe,"width",ur+"%")}vh(T)&&A1(Xe)},lt=function(){d.each(function(Xe){Xe.destroy()}),h.each(function(Xe){so(u,Xe)})};return u.on("init",function(){var Xe=cC(u,bo);if(h=Q.some(Xe),uy(u)&&C1(u)){var Ft=be(),Pt=rC.create(Xe,Ft,ne);Pt.on(),Pt.events.startDrag.bind(function(yn){c=Q.some(u.selection.getRng())}),Pt.events.beforeResize.bind(function(yn){var Br=yn.table.dom;_v(u,Br,yc(Br),If(Br),D1+yn.type)}),Pt.events.afterResize.bind(function(yn){var Br=yn.table,An=Br.dom;Ci(Br),c.each(function(Hn){u.selection.setRng(Hn),u.focus()}),aC(u,An,yc(An),If(An),D1+yn.type),u.undoManager.add()}),d=Q.some(Pt)}}),u.on("ObjectResizeStart",function(Xe){var Ft=Xe.target;if(D(Ft)){var Pt=Ot.fromDom(Ft);sn(u.dom.select(".mce-clonedresizable"),function(yn){u.dom.addClass(yn,"mce-"+k1(u)+"-columns")}),!kv(Pt)&&og(u)?E1(Pt):!Jw(Pt)&&yh(u)&&wh(Pt),gh(Pt)&&Co(Xe.origin,D1)&&wh(Pt),y=Xe.width,T=Bv(u)?"":Xm(u,Ft).getOr("")}}),u.on("ObjectResized",function(Xe){var Ft=Xe.target;if(D(Ft)){var Pt=Ot.fromDom(Ft),yn=Xe.origin;Co(yn,"corner-")&&xt(Pt,yn,Xe.width),Ci(Pt),Iu(u,Pt.dom,y1)}}),u.on("SwitchMode",function(){N().each(function(Xe){u.mode.isReadOnly()?Xe.hideBars():Xe.showBars()})}),{lazyResize:N,lazyWire:q,destroy:lt}},ig=function(u,c){return{element:u,offset:c}},R1=function(u,c,d){return u.property().isText(c)&&u.property().getText(c).trim().length===0||u.property().isComment(c)?d(c).bind(function(h){return R1(u,h,d).orThunk(function(){return Q.some(h)})}):Q.none()},ug=function(u,c){if(u.property().isText(c))return u.property().getText(c).length;var d=u.property().children(c);return d.length},fC=function(u,c){var d=R1(u,c,u.query().prevSibling).getOr(c);if(u.property().isText(d))return ig(d,ug(u,d));var h=u.property().children(d);return h.length>0?fC(u,h[h.length-1]):ig(d,ug(u,d))},vC=fC,MT=eh(),PT=function(u){return vC(MT,u)},dC=function(u,c){var d=Ko(u,"colspan");if(d===1){var h=Um(u);h.each(function(y){var T=y.value/2;Wm(u,T,y.unit),Wm(c,T,y.unit)})}},B1=Ja("th"),M1=function(u){return Re(u,function(c){return B1(c.element)})},$T=function(u,c){return u&&c?"sectionCells":u?"section":"cells"},mC=function(u){var c=u.section==="thead",d=fc(fy(u.cells),"th");return c||d?{type:"header",subType:$T(c,d)}:u.section==="tfoot"?{type:"footer"}:{type:"body"}},fy=function(u){var c=er(u,function(d){return B1(d.element)});return c.length===0?Q.some("td"):c.length===u.length?Q.some("th"):Q.none()},gC=function(u){var c=Mt(u,function(T){return mC(T).type}),d=$n(c,"header"),h=$n(c,"footer");if(!d&&!h)return Q.some("body");var y=$n(c,"body");return d&&!y&&!h?Q.some("header"):!d&&!y&&h?Q.some("footer"):Q.none()},NT=function(u){return wr(u.all,function(c){var d=mC(c);return d.type==="header"?Q.from(d.subType):Q.none()})},Vi=function(u,c,d){return Wo(d(u.element,c),!0,u.isLocked)},Hd=function(u,c){return u.section!==c?sl(u.element,u.cells,c,u.isNew):u},vy=function(){return{transformRow:Hd,transformCell:function(u,c,d){var h=d(u.element,c),y=Ar(h)!=="td"?Yx(h,"td"):h;return Wo(y,u.isNew,u.isLocked)}}},hC=function(){return{transformRow:Hd,transformCell:Vi}},lg=function(){return{transformRow:function(u,c){var d=c==="thead"?"tbody":c;return Hd(u,d)},transformCell:Vi}},pC=function(){return{transformRow:Wt,transformCell:Vi}},FT=function(u,c){var d=or.fromTable(u),h=NT(d).getOr(c);switch(h){case"section":return vy();case"sectionCells":return hC();case"cells":return lg()}},Ch={getTableSectionType:FT,section:vy,sectionCells:hC,cells:lg,fallback:pC},Sh=function(u,c,d,h){d===h?Da(u,c):qo(u,c,d)},Mv=function(u,c,d){Ln(Jn(u,c)).fold(function(){return Ni(u,d)},function(h){return wa(h,d)})},P1=function(u,c){var d=In(u,c).getOrThunk(function(){var h=Ot.fromTag(c,is(u).dom);return c==="thead"?Mv(u,"caption,colgroup",h):c==="colgroup"?Mv(u,"caption",h):to(u,h),h});return Zg(d),d},$1=function(u,c){var d=[],h=[],y=function(lt){return Mt(lt,function(Xe){Xe.isNew&&d.push(Xe.element);var Ft=Xe.element;return Zg(Ft),sn(Xe.cells,function(Pt){Pt.isNew&&h.push(Pt.element),Sh(Pt.element,"colspan",Pt.colspan,1),Sh(Pt.element,"rowspan",Pt.rowspan,1),to(Ft,Pt.element)}),Ft})},T=function(lt){return Pe(lt,function(Xe){return Mt(Xe.cells,function(Ft){return Sh(Ft.element,"span",Ft.colspan,1),Ft.element})})},D=function(lt,Xe){var Ft=P1(u,Xe),Pt=Xe==="colgroup"?T:y,yn=Pt(lt);gc(Ft,yn)},N=function(lt){In(u,lt).each(Xu)},q=function(lt,Xe){lt.length>0?D(lt,Xe):N(Xe)},ne=[],be=[],Ke=[],xt=[];return sn(c,function(lt){switch(lt.section){case"thead":ne.push(lt);break;case"tbody":be.push(lt);break;case"tfoot":Ke.push(lt);break;case"colgroup":xt.push(lt);break}}),q(xt,"colgroup"),q(ne,"thead"),q(be,"tbody"),q(Ke,"tfoot"),{newRows:d,newCells:h}},N1=function(u){return Mt(u,function(c){var d=Is(c.element);return sn(c.cells,function(h){var y=Yr(h.element);Sh(y,"colspan",h.colspan,1),Sh(y,"rowspan",h.rowspan,1),to(d,y)}),d})},zT=function(u,c){return Mt(u,function(d){return Mu(d,c)})},Wf=function(u,c){return u[c]},F1=function(u,c){if(u.length===0)return 0;var d=u[0],h=Ie(u,function(y){return!c(d.element,y.element)});return h.getOr(u.length)},IT=function(u,c,d,h){var y=Wf(u,c),T=y.section==="colgroup",D=F1(y.cells.slice(d),h),N=T?1:F1(zT(u.slice(c),d),h);return{colspan:D,rowspan:N}},Pv=function(u,c){var d=Mt(u,function(y){return Mt(y.cells,qt)}),h=function(y,T,D,N){for(var q=y;q<y+D;q++)for(var ne=T;ne<T+N;ne++)d[q][ne]=!0};return Mt(u,function(y,T){var D=Pe(y.cells,function(N,q){if(d[T][q]===!1){var ne=IT(u,T,q,c);return h(T,q,ne.rowspan,ne.colspan),[nr(N.element,ne.rowspan,ne.colspan,N.isNew)]}else return[]});return $l(y.element,D,y.section,y.isNew)})},$v=function(u,c,d){var h=[];sn(u.colgroups,function(be){for(var Ke=[],xt=0;xt<u.grid.columns;xt++){var lt=or.getColumnAt(u,xt).map(function(Xe){return Wo(Xe.element,d,!1)}).getOrThunk(function(){return Wo(c.colGap(),!0,!1)});Ke.push(lt)}h.push(sl(be.element,Ke,"colgroup",d))});for(var y=0;y<u.grid.rows;y++){for(var T=[],D=0;D<u.grid.columns;D++){var N=or.getAt(u,y,D).map(function(be){return Wo(be.element,d,be.isLocked)}).getOrThunk(function(){return Wo(c.gap(),!0,!1)});T.push(N)}var q=u.all[y],ne=sl(q.element,T,q.section,d);h.push(ne)}return h},bC=function(u,c){return $v(u,c,!1)},kh=function(u){return Pv(u,vr)},dy=function(u,c){return wr(u.all,function(d){return Tt(d.cells,function(h){return vr(c,h.element)})})},z1=function(u,c,d){var h=Mt(c.selection,function(T){return dc(T).bind(function(D){return dy(u,D)}).filter(d)}),y=$o(h);return ga(y.length>0,y)},Ei=function(u,c,d,h,y){return function(T,D,N,q,ne){var be=or.fromTable(D),Ke=Q.from(ne==null?void 0:ne.section).getOrThunk(Ch.fallback),xt=c(be,N).map(function(lt){var Xe=bC(be,q),Ft=u(Xe,lt,vr,y(q),Ke),Pt=$i(Ft.grid),yn=kh(Ft.grid);return{info:lt,grid:yn,cursor:Ft.cursor,lockedColumns:Pt}});return xt.bind(function(lt){var Xe=$1(D,lt.grid),Ft=Q.from(ne==null?void 0:ne.sizing).getOrThunk(function(){return Nf.getTableSize(D)}),Pt=Q.from(ne==null?void 0:ne.resize).getOrThunk(Sv);return d(D,lt.grid,lt.info,{sizing:Ft,resize:Pt,section:Ke}),h(D),Jo(T,D),Da(D,xo),lt.lockedColumns.length>0&&qo(D,xo,lt.lockedColumns.join(",")),Q.some({cursor:lt.cursor,newRows:Xe.newRows,newCells:Xe.newCells})})}},LT=function(u,c){return dc(c.element).bind(function(d){return dy(u,d).map(function(h){var y=Cn(Cn({},h),{generators:c.generators,clipboard:c.clipboard});return y})})},I1=function(u,c){return z1(u,c,Nt).map(function(d){return{cells:d,generators:c.generators,clipboard:c.clipboard}})},yC=function(u,c){return c.mergable},VT=function(u,c){return c.unmergable},Xs=function(u,c){return z1(u,c,Nt)},jf=function(u,c){return z1(u,c,function(d){return!d.isLocked})},HT=function(u,c){return dy(u,c).exists(function(d){return!d.isLocked})},my=function(u,c){return Re(c,function(d){return HT(u,d)})},gy=function(u,c){return yC(u,c).filter(function(d){return my(u,d.cells)})},Ud=function(u,c){return VT(u,c).filter(function(d){return my(u,d)})},wC=function(u,c,d,h){var y=mo(u).rows;if(y.length===0)return u;for(var T=c.startRow;T<=c.finishRow;T++)for(var D=c.startCol;D<=c.finishCol;D++){var N=y[T],q=Mu(N,D).isLocked;Hc(N,D,Wo(h(),!1,q))}return u},sg=function(u,c,d,h){for(var y=mo(u).rows,T=!0,D=0;D<y.length;D++)for(var N=0;N<zl(y[0]);N++){var q=y[D],ne=Mu(q,N),be=ne.element,Ke=d(be,c);Ke===!0&&T===!1?Hc(q,N,Wo(h(),!0,ne.isLocked)):Ke===!0&&(T=!1)}return u},UT=function(u,c){return te(u,function(d,h){return _(d,function(y){return c(y.element,h.element)})?d:d.concat([h])},[])},WT=function(u,c,d,h){return c>0&&c<u[0].cells.length&&sn(u,function(y){var T=y.cells[c-1],D=y.cells[c],N=d(D.element,T.element);N&&Hc(y,c,Wo(h(),!0,D.isLocked))}),u},jT=function(u,c,d,h){var y=mo(u).rows;if(c>0&&c<y.length){var T=y[c-1].cells,D=UT(T,d);sn(D,function(N){for(var q=Q.none(),ne=c;ne<y.length;ne++)for(var be=function(xt){var lt=y[ne],Xe=Mu(lt,xt),Ft=d(Xe.element,N.element);Ft&&(q.isNone()&&(q=Q.some(h())),q.each(function(Pt){Hc(lt,xt,Wo(Pt,!0,Xe.isLocked))}))},Ke=0;Ke<zl(y[0]);Ke++)be(Ke)})}return u},cg=function(u){var c=function(Ke){return cg(u)},d=function(Ke){return cg(u)},h=function(Ke){return cg(Ke(u))},y=function(Ke){return cg(u)},T=function(Ke){Ke(u)},D=function(Ke){return Ke(u)},N=function(Ke,xt){return xt(u)},q=function(Ke){return Ke(u)},ne=function(Ke){return Ke(u)},be=function(){return Q.some(u)};return{isValue:Nt,isError:qt,getOr:Ue(u),getOrThunk:Ue(u),getOrDie:Ue(u),or:c,orThunk:d,fold:N,map:h,mapError:y,each:T,bind:D,exists:q,forall:ne,toOptional:be}},Wd=function(u){var c=function(ne){return ne()},d=function(){return Ht(String(u))()},h=Wt,y=function(ne){return ne()},T=function(ne){return Wd(u)},D=function(ne){return Wd(ne(u))},N=function(ne){return Wd(u)},q=function(ne,be){return ne(u)};return{isValue:qt,isError:Nt,getOr:Wt,getOrThunk:c,getOrDie:d,or:h,orThunk:y,fold:q,map:T,mapError:D,each:We,bind:N,exists:qt,forall:Nt,toOptional:Q.none}},hy=function(u,c){return u.fold(function(){return Wd(c)},cg)},CC={value:cg,error:Wd,fromOption:hy},GT=function(u,c,d){if(u.row>=c.length||u.column>zl(c[0]))return CC.error("invalid start address out of table bounds, row: "+u.row+", column: "+u.column);var h=c.slice(u.row),y=h[0].cells.slice(u.column),T=zl(d[0]),D=d.length;return CC.value({rowDelta:h.length-D,colDelta:y.length-T})},SC=function(u,c){var d=zl(u[0]),h=zl(c[0]);return{rowDelta:0,colDelta:d-h}},kC=function(u,c){var d=u.length,h=c.length;return{rowDelta:d-h,colDelta:0}},py=function(u,c,d,h){var y=c.section==="colgroup"?d.col:d.cell;return Zr(u,function(T){return Wo(y(),!0,h(T))})},qT=function(u,c,d,h){var y=u[u.length-1];return u.concat(Zr(c,function(){var T=y.section==="colgroup"?d.colgroup:d.row,D=Xo(y,T,Wt),N=py(D.cells.length,D,d,function(q){return W(h,q.toString())});return Wn(D,N)}))},L1=function(u,c,d,h){return Mt(u,function(y){var T=py(c,y,d,qt);return Af(y,h,T)})},KT=function(u,c,d){return Mt(u,function(h){return te(d,function(y,T){var D=py(1,h,c,Nt)[0];return Df(y,T,D)},h)})},xh=function(u,c,d){var h=c.colDelta<0?L1:Wt,y=c.rowDelta<0?qT:Wt,T=$i(u),D=zl(u[0]),N=_(T,function(be){return be===D-1}),q=h(u,Math.abs(c.colDelta),d,N?D-1:D),ne=$i(q);return y(q,Math.abs(c.rowDelta),d,pt(ne,Nt))},XT=function(u,c,d,h){var y=Mu(u[c],d),T=dt(h,y.element),D=u[c];return u.length>1&&zl(D)>1&&(d>0&&T(Zi(D,d-1))||d<D.cells.length-1&&T(Zi(D,d+1))||c>0&&T(Zi(u[c-1],d))||c<u.length-1&&T(Zi(u[c+1],d)))},by=function(u,c,d,h,y,T){for(var D=u.row,N=u.column,q=d.length,ne=zl(d[0]),be=D+q,Ke=N+ne+T.length,xt=pt(T,Nt),lt=D;lt<be;lt++)for(var Xe=0,Ft=N;Ft<Ke;Ft++){if(xt[Ft]){Xe++;continue}XT(c,lt,Ft,y)&&sg(c,Zi(c[lt],Ft),y,h.cell);var Pt=Ft-N-Xe,yn=Mu(d[lt-D],Pt),Br=yn.element,An=h.replace(Br);Hc(c[lt],Ft,Wo(An,!0,yn.isLocked))}return c},YT=function(u,c,d){var h=zl(c[0]),y=mo(c).cols.length+u.row,T=Zr(h-u.column,function(N){return N+u.column}),D=Tt(T,function(N){return Re(d,function(q){return q!==N})}).getOr(h-1);return{row:y,column:D}},xC=function(u,c,d){return er(d,function(h){return h>=u.column&&h<=zl(c[0])+u.column})},JT=function(u,c,d,h,y){var T=$i(c),D=YT(u,c,T),N=mo(d).rows,q=xC(D,N,T),ne=GT(D,c,N);return ne.map(function(be){var Ke=Cn(Cn({},be),{colDelta:be.colDelta-q.length}),xt=xh(c,Ke,h),lt=$i(xt),Xe=xC(D,N,lt);return by(D,xt,N,h,y,Xe)})},fg=function(u,c,d,h,y){WT(c,u,y,h.cell);var T=kC(d,c),D=xh(d,T,h),N=kC(c,D),q=xh(c,N,h);return Mt(q,function(ne,be){return Af(ne,u,D[be].cells)})},TC=function(u,c,d,h,y){jT(c,u,y,h.cell);var T=$i(c),D=SC(c,d),N=Cn(Cn({},D),{colDelta:D.colDelta-T.length}),q=xh(c,N,h),ne=mo(q),be=ne.cols,Ke=ne.rows,xt=$i(q),lt=SC(d,c),Xe=Cn(Cn({},lt),{colDelta:lt.colDelta+xt.length}),Ft=KT(d,h,xt),Pt=xh(Ft,Xe,h);return be.concat(Ke.slice(0,u)).concat(Pt).concat(Ke.slice(u,Ke.length))},ZT=function(u,c,d,h){return Xo(u,function(y){return h(y,d)},c)},yy=function(u,c,d,h,y){var T=mo(u),D=T.rows,N=T.cols,q=D.slice(0,c),ne=D.slice(c),be=ZT(D[d],function(Ke,xt){var lt=c>0&&c<D.length&&h(Zi(D[c-1],xt),Zi(D[c],xt)),Xe=lt?Mu(D[c],xt):Wo(y(Ke.element,h),!0,Ke.isLocked);return Xe},h,y);return N.concat(q).concat([be]).concat(ne)},wy=function(u,c,d,h,y,T,D){if(d==="colgroup"||!h){var N=Mu(u,y);return Wo(D(N.element,T),!0,!1)}else return Mu(u,c)},V1=function(u,c,d,h,y){return Mt(u,function(T){var D=c>0&&c<zl(T)&&h(Zi(T,c-1),Zi(T,c)),N=wy(T,c,T.section,D,d,h,y);return Df(T,c,N)})},EC=function(u,c){return Pe(u,function(d){var h=d.cells,y=ua(c,function(T,D){return D>=0&&D<T.length?T.slice(0,D).concat(T.slice(D+1)):T},h);return y.length>0?[sl(d.element,y,d.section,d.isNew)]:[]})},OC=function(u,c,d){var h=mo(u),y=h.rows,T=h.cols;return T.concat(y.slice(0,c)).concat(y.slice(d+1))},vg=function(u,c,d,h){return Zi(u[c],d)!==void 0&&c>0&&h(Zi(u[c-1],d),Zi(u[c],d))},AC=function(u,c,d){return c>0&&d(Zi(u,c-1),Zi(u,c))},DC=function(u,c,d,h){return vg(u,c,d,h)||AC(u[c],d,h)},QT=function(u,c){var d=Re(c,Wt)&&M1(u.cells);return d?Nt:function(h,y,T){var D=Ar(h.element);return!(D==="th"&&c[T])}},e3=function(u,c){var d=Re(c,Wt)&&M1(u);return d?Nt:function(h,y,T){var D=Ar(h.element);return!(D==="th"&&c[y])}},Cy=function(u,c,d,h){var y=function(N){return N==="row"?Hp(c):hd(c)},T=function(N){return y(N)?N+"group":N};if(u)return B1(c)?T(d):null;if(h&&B1(c)){var D=d==="row"?"col":"row";return T(D)}else return null},jd=function(u,c){return function(d,h,y){return Q.some(Cy(u,d.element,"col",c[y]))}},H1=function(u,c){return function(d,h){return Q.some(Cy(u,d.element,"row",c[h]))}},_C=function(u,c,d){return Wo(d(u.element,c),!0,u.isLocked)},U1=function(u,c,d,h,y,T,D){var N=function(q){return _(c,function(ne){return d(q.element,ne.element)})};return Mt(u,function(q,ne){return Fl(q,function(be,Ke){if(N(be)){var xt=D(be,ne,Ke)?y(be,d,h):be;return T(xt,ne,Ke).each(function(lt){Cf(xt.element,{scope:Q.from(lt)})}),xt}else return be})})},RC=function(u,c,d){return Pe(u,function(h,y){return DC(u,y,c,d)?[]:[Mu(h,c)]})},t3=function(u,c,d){var h=u[c];return Pe(h.cells,function(y,T){return DC(u,c,T,d)?[]:[y]})},Sy=function(u,c,d,h,y){var T=mo(u).rows,D=Pe(c,function(be){return RC(T,be,h)}),N=Mt(u,function(be){return M1(be.cells)}),q=e3(D,N),ne=H1(d,N);return U1(u,D,h,y,_C,ne,q)},n3=function(u,c,d,h,y,T,D){var N=mo(u),q=N.cols,ne=N.rows,be=ne[c[0]],Ke=Pe(c,function(yn){return t3(ne,yn,y)}),xt=Mt(be.cells,function(yn,Br){return M1(RC(ne,Br,y))}),lt=Kr([],ne,!0);sn(c,function(yn){lt[yn]=D.transformRow(ne[yn],d)});var Xe=q.concat(lt),Ft=QT(be,xt),Pt=jd(h,xt);return U1(Xe,Ke,y,T,D.transformCell,Pt,Ft)},BC=function(u,c,d,h){var y=mo(u).rows,T=Mt(c,function(D){return Mu(y[D.row],D.column)});return U1(u,T,d,h,_C,Q.none,Nt)},Gd=function(u){var c=function(d,h){var y=_(d,function(T){return T.column===h.column});return y?d:d.concat([h])};return te(u,c,[]).sort(function(d,h){return d.column-h.column})},li=Ja("col"),Nv=Ja("colgroup"),W1=function(u){return Ar(u)==="tr"||Nv(u)},r3=function(u){var c=cs(u,"colspan",1),d=cs(u,"rowspan",1);return{element:u,colspan:c,rowspan:d}},MC=function(u,c){c===void 0&&(c=r3);var d=function(N){return li(N.element)?u.col(N):u.cell(N)},h=function(N){return Nv(N.element)?u.colgroup(N):u.row(N)},y=function(N){if(W1(N))return h({element:N});var q=d(c(N));return T=Q.some({item:N,replacement:q}),q},T=Q.none(),D=function(N,q){return T.fold(function(){return y(N)},function(ne){return q(N,ne.item)?ne.replacement:y(N)})};return{getOrInit:D}},PC=function(u){return function(c){var d=[],h=function(D,N){return Tt(d,function(q){return N(q.item,D)})},y=function(D){var N=u==="td"?{scope:null}:{},q=c.replace(D,u,N);return d.push({item:D,sub:q}),q},T=function(D,N){return W1(D)||li(D)?D:h(D,N).fold(function(){return y(D)},function(q){return N(D,q.item)?q.sub:y(D)})};return{replaceOrInit:T}}},ky=function(u){return Vr(u,"scope").map(function(c){return c.substr(0,3)})},xy=function(u){var c=function(h){var y=ky(h);return y.each(function(T){return qo(h,"scope",T)}),function(){var T=u.cell({element:h,colspan:1,rowspan:1});return Pi(T,"width"),Pi(h,"width"),y.each(function(D){return qo(T,"scope",D)}),T}},d=function(h){var y=function(){var T=$o(Mt(h,ky));if(T.length===0)return Q.none();var D=T[0],N=["row","col"],q=_(T,function(ne){return ne!==D&&$n(N,ne)});return q?Q.none():Q.from(D)};return Pi(h[0],"width"),y().fold(function(){return Da(h[0],"scope")},function(T){return qo(h[0],"scope",T+"group")}),Ue(h[0])};return{unmerge:c,merge:d}},xl={modification:MC,transform:PC,merging:xy},Gf=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","table","thead","tfoot","tbody","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],qd=function(u,c){var d=u.property().name(c);return $n(["ol","ul"],d)},Th=function(u,c){var d=u.property().name(c);return $n(Gf,d)},Kd=function(u,c){return $n(["br","img","hr","input"],u.property().name(c))},tf=eh(),Ys=function(u){return Th(tf,u)},dg=function(u){return qd(tf,u)},Ty=function(u){return Kd(tf,u)},$C=function(u){var c=function(q){return Ar(q)==="br"},d=function(q){return Re(q,function(ne){return c(ne)||Du(ne)&&Wp(ne).trim().length===0})},h=function(q){return Ar(q)==="li"||Ka(q,dg).isSome()},y=function(q){return k(q).map(function(ne){return Ys(ne)?!0:Ty(ne)?Ar(ne)!=="img":!1}).getOr(!1)},T=function(q){return Qp(q).bind(function(ne){var be=y(ne);return Ga(ne).map(function(Ke){return be===!0||h(Ke)||c(ne)||Ys(Ke)&&!vr(q,Ke)?[]:[Ot.fromTag("br")]})}).getOr([])},D=function(){var q=Pe(u,function(ne){var be=$(ne);return d(be)?[]:be.concat(T(ne))});return q.length===0?[Ot.fromTag("br")]:q},N=D();Zg(u[0]),gc(u[0],N)},j1=function(u){return ng(u,!0)},Xd=function(u){var c=Of(u);c.length===0&&Xu(u)},qf=function(u,c){return{grid:u,cursor:c}},G1=function(u){return wr(u,function(c){return wr(c.cells,function(d){var h=d.element;return ga(j1(h),h)})})},Ey=function(u,c,d){var h,y,T=mo(u).rows;return Q.from((y=(h=T[c])===null||h===void 0?void 0:h.cells[d])===null||y===void 0?void 0:y.element).filter(j1).orThunk(function(){return G1(T)})},Oi=function(u,c,d){var h=Ey(u,c,d);return qf(u,h)},Fv=function(u){var c=function(d,h){var y=_(d,function(T){return T.row===h.row});return y?d:d.concat([h])};return te(u,c,[]).sort(function(d,h){return d.row-h.row})},NC=function(u,c,d,h){var y=c[0].row,T=Fv(c),D=ua(T,function(N,q){var ne=yy(N.grid,y,q.row+N.delta,d,h.getOrInit);return{grid:ne,delta:N.delta+1}},{grid:u,delta:0}).grid;return Oi(D,y,c[0].column)},Oy=function(u,c,d,h){var y=Fv(c),T=y[y.length-1],D=T.row+T.rowspan,N=ua(y,function(q,ne){return yy(q,D,ne.row,d,h.getOrInit)},u);return Oi(N,D,c[0].column)},q1=function(u,c,d,h){var y=c.details,T=Gd(y),D=T[0].column,N=ua(T,function(q,ne){var be=V1(q.grid,D,ne.column+q.delta,d,h.getOrInit);return{grid:be,delta:q.delta+1}},{grid:u,delta:0}).grid;return Oi(N,y[0].row,D)},Hi=function(u,c,d,h){var y=c.details,T=y[y.length-1],D=T.column+T.colspan,N=Gd(y),q=ua(N,function(ne,be){return V1(ne,D,be.column,d,h.getOrInit)},u);return Oi(q,y[0].row,D)},a3=function(u,c,d,h){var y=Gd(c),T=Mt(y,function(N){return N.column}),D=Sy(u,T,!0,d,h.replaceOrInit);return Oi(D,c[0].row,c[0].column)},nf=function(u,c,d,h){var y=BC(u,c,d,h.replaceOrInit);return Oi(y,c[0].row,c[0].column)},FC=function(u,c,d,h){var y=Gd(c),T=Mt(y,function(N){return N.column}),D=Sy(u,T,!1,d,h.replaceOrInit);return Oi(D,c[0].row,c[0].column)},Ay=function(u,c,d,h){var y=BC(u,c,d,h.replaceOrInit);return Oi(y,c[0].row,c[0].column)},zv=function(u,c){return function(d,h,y,T,D){var N=Fv(h),q=Mt(N,function(be){return be.row}),ne=n3(d,q,u,c,y,T.replaceOrInit,D);return Oi(ne,h[0].row,h[0].column)}},zC=zv("thead",!0),K1=zv("tbody",!1),IC=zv("tfoot",!1),Dy=function(u,c,d,h){var y=Gd(c.details),T=EC(u,Mt(y,function(N){return N.column})),D=T.length>0?T[0].cells.length-1:0;return Oi(T,y[0].row,Math.min(y[0].column,D))},LC=function(u,c,d,h){var y=Fv(c),T=OC(u,y[0].row,y[y.length-1].row),D=T.length>0?T.length-1:0;return Oi(T,Math.min(c[0].row,D),c[0].column)},o3=function(u,c,d,h){var y=c.cells;$C(y);var T=wC(u,c.bounds,d,h.merge(y));return qf(T,Q.from(y[0]))},_y=function(u,c,d,h){var y=function(D,N){return sg(D,N,d,h.unmerge(N))},T=ua(c,y,u);return qf(T,Q.from(c[0]))},xc=function(u,c,d,h){var y=function(q,ne){var be=or.fromTable(q);return $v(be,ne,!0)},T=y(c.clipboard,c.generators),D=$r(c.row,c.column),N=JT(D,u,T,c.generators,d);return N.fold(function(){return qf(u,Q.some(c.element))},function(q){return Oi(q,c.row,c.column)})},X1=function(u,c,d){var h=Yg(u,d.section),y=or.generate(h);return $v(y,c,!0)},Lu=function(u,c,d,h){var y=mo(u).rows,T=c.cells[0].column,D=y[c.cells[0].row],N=X1(c.clipboard,c.generators,D),q=fg(T,u,N,c.generators,d);return Oi(q,c.cells[0].row,c.cells[0].column)},Eh=function(u,c,d,h){var y=mo(u).rows,T=c.cells[c.cells.length-1].column+c.cells[c.cells.length-1].colspan,D=y[c.cells[0].row],N=X1(c.clipboard,c.generators,D),q=fg(T,u,N,c.generators,d);return Oi(q,c.cells[0].row,c.cells[0].column)},Oh=function(u,c,d,h){var y=mo(u).rows,T=c.cells[0].row,D=y[T],N=X1(c.clipboard,c.generators,D),q=TC(T,u,N,c.generators,d);return Oi(q,c.cells[0].row,c.cells[0].column)},Ry=function(u,c,d,h){var y=mo(u).rows,T=c.cells[c.cells.length-1].row+c.cells[c.cells.length-1].rowspan,D=y[c.cells[0].row],N=X1(c.clipboard,c.generators,D),q=TC(T,u,N,c.generators,d);return Oi(q,c.cells[0].row,c.cells[0].column)},i3=function(u,c){var d=or.fromTable(u),h=Xs(d,c);return h.bind(function(y){var T=y[y.length-1],D=y[0].column,N=T.column+T.colspan,q=dn(Mt(d.all,function(ne){return er(ne.cells,function(be){return be.column>=D&&be.column<N})}));return fy(q)}).getOr("")},VC=function(u,c){var d=or.fromTable(u),h=Xs(d,c);return h.bind(fy).getOr("")},ru=function(u,c){var d=or.fromTable(u),h=Xs(d,c);return h.bind(function(y){var T=y[y.length-1],D=y[0].row,N=T.row+T.rowspan,q=d.all.slice(D,N);return gC(q)}).getOr("")},Yd=function(u,c,d,h){return Nu(u,c,d,h.sizing)},Ah=function(u,c,d,h){return mT(u,c,d,h.sizing,h.resize)},ps=function(u,c){return _(c,function(d){return d.column===0&&d.isLocked})},bs=function(u,c){return _(c,function(d){return d.column+d.colspan>=u.grid.columns&&d.isLocked})},ys=function(u,c){var d=yd(u),h=Gd(c);return te(h,function(y,T){var D=d[T.column],N=D.map(eu).getOr(0);return y+N},0)},Vu=function(u){return function(c,d){return Xs(c,d).filter(function(h){var y=u?ps:bs;return!y(c,h)}).map(function(h){return{details:h,pixelDelta:ys(c,h)}})}},Tc=function(u,c){return jf(u,c).map(function(d){return{details:d,pixelDelta:-ys(u,d)}})},Y1=function(u){return function(c,d){return I1(c,d).filter(function(h){var y=u?ps:bs;return!y(c,h.cells)})}},ws=xl.transform("th"),Ec=xl.transform("td"),u3=Ei(NC,Xs,We,We,xl.modification),l3=Ei(Oy,Xs,We,We,xl.modification),HC=Ei(q1,Vu(!0),Ah,We,xl.modification),UC=Ei(Hi,Vu(!1),Ah,We,xl.modification),WC=Ei(Dy,Tc,Ah,Xd,xl.modification),jC=Ei(LC,Xs,We,Xd,xl.modification),s3=Ei(a3,jf,We,We,ws),c3=Ei(FC,jf,We,We,Ec),GC=Ei(zC,jf,We,We,ws),f3=Ei(K1,jf,We,We,Ec),By=Ei(IC,jf,We,We,Ec),qC=Ei(nf,jf,We,We,ws),My=Ei(Ay,jf,We,We,Ec),KC=Ei(o3,gy,Yd,We,xl.merging),v3=Ei(_y,Ud,Yd,We,xl.merging),d3=Ei(xc,LT,Yd,We,xl.modification),m3=Ei(Lu,Y1(!0),We,We,xl.modification),Sr=Ei(Eh,Y1(!1),We,We,xl.modification),Jd=Ei(Oh,I1,We,We,xl.modification),mg=Ei(Ry,I1,We,We,xl.modification),Tl=i3,g3=VC,Iv=ru,gg=function(u,c,d){var h=function(Wi){return Ar(Zu(Wi))==="table"},y=function(Wi){return h(u)===!1||Sc(Wi).rows>1},T=function(Wi){return h(u)===!1||Sc(Wi).columns>1},D=iy(u),N=lC(u)?We:dC,q=function(Wi){switch(oy(u)){case"section":return Ch.section();case"sectionCells":return Ch.sectionCells();case"cells":return Ch.cells();default:return Ch.getTableSectionType(Wi,"section")}},ne=function(Wi,op){return op.cursor.fold(function(){var dm=Of(Wi);return nn(dm).filter(jo).map(function(Dc){c.clear(Wi);var xs=u.dom.createRng();return xs.selectNode(Dc.dom),u.selection.setRng(xs),qo(Dc,"data-mce-selected","1"),xs})},function(dm){var Dc=PT(dm),xs=u.dom.createRng();return xs.setStart(Dc.element.dom,Dc.offset),xs.setEnd(Dc.element.dom,Dc.offset),u.selection.setRng(xs),c.clear(Wi),Q.some(xs)})},be=function(Wi,op,dm,Dc,xs){return function(_c,ip,Ng){Ng===void 0&&(Ng=!1),Ci(_c);var up=Dc(),mm=Ot.fromDom(u.getDoc()),tc=Ha(dm,mm,D),gm={sizing:cy(u,_c),resize:lC(u)?Kw():Sv(),section:q(_c)};return op(_c)?Wi(up,_c,ip,tc,gm).bind(function(Pb){sn(Pb.newRows,function(lp){p1(u,lp.dom)}),sn(Pb.newCells,function(lp){Hf(u,lp.dom)});var $b=ne(_c,Pb);return jo(_c)&&(Ci(_c),Ng||Iu(u,_c.dom,xs)),$b.map(function(lp){return{rng:lp,effect:xs}})}):Q.none()}},Ke=be(jC,y,We,d,Zo),xt=be(WC,T,We,d,Zo),lt=be(u3,Nt,We,d,Zo),Xe=be(l3,Nt,We,d,Zo),Ft=be(HC,Nt,N,d,Zo),Pt=be(UC,Nt,N,d,Zo),yn=be(KC,Nt,We,d,Zo),Br=be(v3,Nt,We,d,Zo),An=be(m3,Nt,We,d,Zo),Hn=be(Sr,Nt,We,d,Zo),yr=be(Jd,Nt,We,d,Zo),ur=be(mg,Nt,We,d,Zo),co=be(d3,Nt,We,d,oC),fi=be(qC,Nt,We,d,Zo),Cu=be(My,Nt,We,d,Zo),zr=be(s3,Nt,We,d,Zo),Xn=be(c3,Nt,We,d,Zo),Tr=be(GC,Nt,We,d,Zo),aa=be(f3,Nt,We,d,Zo),Ua=be(By,Nt,We,d,Zo),cf=g3,Jr=Tl,Ol=Iv;return{deleteRow:Ke,deleteColumn:xt,insertRowsBefore:lt,insertRowsAfter:Xe,insertColumnsBefore:Ft,insertColumnsAfter:Pt,mergeCells:yn,unmergeCells:Br,pasteColsBefore:An,pasteColsAfter:Hn,pasteRowsBefore:yr,pasteRowsAfter:ur,pasteCells:co,makeCellsHeader:fi,unmakeCellsHeader:Cu,makeColumnsHeader:zr,unmakeColumnsHeader:Xn,makeRowsHeader:Tr,makeRowsBody:aa,makeRowsFooter:Ua,getTableRowType:Ol,getTableCellType:cf,getTableColType:Jr}},Dh={styles:{"border-collapse":"collapse",width:"100%"},attributes:{border:"1"},colGroups:!1},hg=function(){return Ot.fromTag("th")},XC=function(){return Ot.fromTag("td")},YC=function(){return Ot.fromTag("col")},Py=function(u,c,d,h){for(var y=Ot.fromTag("tr"),T=0;T<u;T++){var D=h<c||T<d?hg():XC();T<d&&qo(D,"scope","row"),h<c&&qo(D,"scope","col"),to(D,Ot.fromTag("br")),to(y,D)}return y},$y=function(u){var c=Ot.fromTag("colgroup");return Zr(u,function(){return to(c,YC())}),c},Zd=function(u,c,d,h){return Zr(u,function(y){return Py(c,d,h,y)})},Ny=function(u,c,d,h,y,T){T===void 0&&(T=Dh);var D=Ot.fromTag("table"),N=y!=="cells";Vc(D,T.styles),ko(D,T.attributes),T.colGroups&&to(D,$y(c));var q=Math.min(u,d);if(N&&d>0){var ne=Ot.fromTag("thead");to(D,ne);var be=y==="sectionCells"?q:0,Ke=Zd(d,c,be,h);gc(ne,Ke)}var xt=Ot.fromTag("tbody");to(D,xt);var lt=N?u-q:u,Xe=N?0:d,Ft=Zd(lt,c,Xe,h);return gc(xt,Ft),D},h3=function(u){return u.dom.innerHTML},rf=function(u){var c=Ot.fromTag("div"),d=Ot.fromDom(u.dom.cloneNode(!0));return to(c,d),h3(c)},Fy=function(u,c){u.selection.select(c.dom,!0),u.selection.collapse(!0)},J1=function(u,c){vl(c,"td,th").each(dt(Fy,u))},Z1=function(u,c){sn(fl(c,"tr"),function(d){p1(u,d.dom),sn(fl(d,"th,td"),function(h){Hf(u,h.dom)})})},JC=function(u){return _t(u)&&u.indexOf("%")!==-1},pg=function(u,c,d,h,y){var T=ph(u),D={styles:T,attributes:ag(u),colGroups:ay(u)};return u.undoManager.ignore(function(){var N=Ny(d,c,y,h,oy(u),D);qo(N,"data-mce-id","__mce");var q=rf(N);u.insertContent(q),u.addVisual()}),vl(Zu(u),'table[data-mce-id="__mce"]').map(function(N){return og(u)?E1(N):Bv(u)?O1(N):(yh(u)||JC(T.width))&&wh(N),Ci(N),Da(N,"data-mce-id"),Z1(u,N),J1(u,N),N.dom}).getOr(null)},ZC=function(u,c,d,h,y){h===void 0&&(h={});var T=function(q){return xn(q)&&q>0};if(T(c)&&T(d)){var D=h.headerRows||0,N=h.headerColumns||0;return pg(u,d,c,N,D)}else return console.error(y),null},QC=function(u){return function(){return u().fold(function(){return[]},function(c){return Mt(c,function(d){return d.dom})})}},Oc=function(u){return function(c){var d=c.length>0?Q.some(js(c)):Q.none();u(d)}},Gl=function(u){return function(c,d,h){h===void 0&&(h={});var y=ZC(u,d,c,h,"Invalid values for insertTable - rows and columns values are required to insert a table.");return u.undoManager.add(),y}},Ui=function(u,c,d,h){return{insertTable:Gl(u),setClipboardRows:Oc(c.setRows),getClipboardRows:QC(c.getRows),setClipboardCols:Oc(c.setColumns),getClipboardCols:QC(c.getColumns),resizeHandler:d,selectionTargets:h}},eS=function(u,c,d){var h=cs(u,c,1);d===1||h<=1?Da(u,c):qo(u,c,Math.min(d,h))},zy=function(u,c,d){if(or.hasColumns(u)){var h=er(or.justColumns(u),function(D){return D.column>=c&&D.column<d}),y=Mt(h,function(D){var N=Yr(D.element);return eS(N,"span",d-c),N}),T=Ot.fromTag("colgroup");return gc(T,y),[T]}else return[]},bg=function(u,c,d){return Mt(u.all,function(h){var y=er(h.cells,function(N){return N.column>=c&&N.column<d}),T=Mt(y,function(N){var q=Yr(N.element);return eS(q,"colspan",d-c),q}),D=Ot.fromTag("tr");return gc(D,T),D})},tS=function(u,c){var d=or.fromTable(u),h=jf(d,c);return h.map(function(y){var T=y[y.length-1],D=y[0].column,N=T.column+T.colspan,q=zy(d,D,N),ne=bg(d,D,N);return Kr(Kr([],q,!0),ne,!0)})},nS=function(u,c,d){var h=or.fromTable(u),y=Xs(h,c);return y.bind(function(T){var D=$v(h,d,!1),N=mo(D).rows,q=N.slice(T[0].row,T[T.length-1].row+T[T.length-1].rowspan),ne=Pe(q,function(Ke){var xt=er(Ke.cells,function(lt){return!lt.isLocked});return xt.length>0?[Cn(Cn({},Ke),{cells:xt})]:[]}),be=kh(ne);return ga(be.length>0,be)}).map(function(T){return N1(T)})},rS=tinymce.util.Tools.resolve("tinymce.util.Tools"),Q1=function(u,c,d){var h=u.select("td,th",c),y,T=function(D,N){for(var q=0;q<N.length;q++){var ne=u.getStyle(N[q],d);if(typeof D=="undefined"&&(D=ne),D!==ne)return""}return D};return T(y,h)},eb=function(u,c,d){d&&u.formatter.apply("align"+d,{},c)},aS=function(u,c,d){d&&u.formatter.apply("valign"+d,{},c)},Xt=function(u,c){rS.each("left center right".split(" "),function(d){u.formatter.remove("align"+d,{},c)})},si=function(u,c){rS.each("top middle bottom".split(" "),function(d){u.formatter.remove("valign"+d,{},c)})},Qd=[{text:"None",value:""},{text:"Top",value:"top"},{text:"Middle",value:"middle"},{text:"Bottom",value:"bottom"}],ci=function(u){return{value:u}},Cs=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,Iy=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,em=function(u){return Cs.test(u)||Iy.test(u)},tb=function(u){return Ra(u,"#").toUpperCase()},yg=function(u){return em(u)?Q.some({value:tb(u)}):Q.none()},tm=function(u){var c=u.toString(16);return(c.length===1?"0"+c:c).toUpperCase()},_h=function(u){var c=tm(u.red)+tm(u.green)+tm(u.blue);return ci(c)},p3=/^rgb\((\d+),\s*(\d+),\s*(\d+)\)/,b3=/^rgba\((\d+),\s*(\d+),\s*(\d+),\s*(\d?(?:\.\d+)?)\)/,Ly=function(u,c,d,h){return{red:u,green:c,blue:d,alpha:h}},Vy=function(u,c,d,h){var y=parseInt(u,10),T=parseInt(c,10),D=parseInt(d,10),N=parseFloat(h);return Ly(y,T,D,N)},oS=function(u){if(u==="transparent")return Q.some(Ly(0,0,0,0));var c=p3.exec(u);if(c!==null)return Q.some(Vy(c[1],c[2],c[3],"1"));var d=b3.exec(u);return d!==null?Q.some(Vy(d[1],d[2],d[3],d[4])):Q.none()},nm=function(u){return yg(u).orThunk(function(){return oS(u).map(_h)}).getOrThunk(function(){var c=document.createElement("canvas");c.height=1,c.width=1;var d=c.getContext("2d");d.clearRect(0,0,c.width,c.height),d.fillStyle="#FFFFFF",d.fillStyle=u,d.fillRect(0,0,1,1);var h=d.getImageData(0,0,1,1).data,y=h[0],T=h[1],D=h[2],N=h[3];return _h(Ly(y,T,D,N))})},Js=function(u){var c=u,d=function(){return c},h=function(y){c=y};return{get:d,set:h}},Rh=function(u){var c=Js(Q.none()),d=function(){return c.get().each(u)},h=function(){d(),c.set(Q.none())},y=function(){return c.get().isSome()},T=function(){return c.get()},D=function(N){d(),c.set(Q.some(N))};return{clear:h,isSet:y,get:T,set:D}},Hy=function(){return Rh(function(u){return u.unbind()})},rm=function(){var u=Rh(We),c=function(d){return u.get().each(d)};return Cn(Cn({},u),{on:c})},Bh=function(u,c,d,h){return function(y){var T=Hy(),D=Sa(h),N=function(){var q=Si(c),ne=function(be){return u.formatter.match(d,{value:h},be.dom,D)};D?(y.setActive(!_(q,ne)),T.set(u.formatter.formatChanged(d,function(be){return y.setActive(!be)},!0))):(y.setActive(Re(q,ne)),T.set(u.formatter.formatChanged(d,y.setActive,!1,{value:h})))};return u.initialized?N():u.on("init",N),T.clear}},Mh=function(u){return pe(u,"menu")},af=function(u){return Mt(u,function(c){var d=c.text||c.title;return Mh(c)?{text:d,items:af(c.menu)}:{text:d,value:c.value}})},Ss=function(u,c,d,h,y){return Mt(d,function(T){var D=T.text||T.title;return Mh(T)?{type:"nestedmenuitem",text:D,getSubmenuItems:function(){return Ss(u,c,T.menu,h,y)}}:{text:D,type:"togglemenuitem",onAction:function(){return y(T.value)},onSetup:Bh(u,c,h,T.value)}})},Lv=function(u,c){return function(d){var h;u.execCommand("mceTableApplyCellStyle",!1,(h={},h[c]=d,h))}},am=function(u){return Pe(u,function(c){return Mh(c)?[Cn(Cn({},c),{menu:am(c.menu)})]:Cr(c.value)?[c]:[]})},Ph=function(u,c,d,h,y){return function(T){return T(Ss(u,c,d,h,y))}},nb=function(u,c,d){var h=Mt(c,function(y){return{text:y.title,value:"#"+nm(y.value).value,type:"choiceitem"}});return[{type:"fancymenuitem",fancytype:"colorswatch",initData:{colors:h.length>0?h:void 0,allowCustomColors:!1},onAction:function(y){var T,D=y.value==="remove"?"":y.value;u.execCommand("mceTableApplyCellStyle",!1,(T={},T[d]=D,T))}}]},$h=function(u){return function(){var c=u.queryCommandValue("mceTableRowType"),d=c==="header"?"body":"header";u.execCommand("mceTableRowType",!1,{type:d})}},Uy=function(u){return function(){var c=u.queryCommandValue("mceTableColType"),d=c==="th"?"td":"th";u.execCommand("mceTableColType",!1,{type:d})}},y3=function(u){var c=af(ry(u));return c.length>0?Q.some({name:"class",type:"listbox",label:"Class",items:c}):Q.none()},rb=[{name:"width",type:"input",label:"Width"},{name:"height",type:"input",label:"Height"},{name:"celltype",type:"listbox",label:"Cell type",items:[{text:"Cell",value:"td"},{text:"Header cell",value:"th"}]},{name:"scope",type:"listbox",label:"Scope",items:[{text:"None",value:""},{text:"Row",value:"row"},{text:"Column",value:"col"},{text:"Row group",value:"rowgroup"},{text:"Column group",value:"colgroup"}]},{name:"halign",type:"listbox",label:"Horizontal align",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{name:"valign",type:"listbox",label:"Vertical align",items:Qd}],Ai=function(u){return rb.concat(y3(u).toArray())},ql=function(u,c){var d=[{text:"Select...",value:""}],h=[{name:"borderstyle",type:"listbox",label:"Border style",items:d.concat(af(Sl(u)))},{name:"bordercolor",type:"colorinput",label:"Border color"},{name:"backgroundcolor",type:"colorinput",label:"Background color"}],y={name:"borderwidth",type:"input",label:"Border width"},T=c==="cell"?[y].concat(h):h;return{title:"Advanced",name:"advanced",items:T}},Zs=function(u){return function(c,d){var h=c.dom,y=function(N,q){(!u||q)&&h.setAttrib(d,N,q)},T=function(N,q){(!u||q)&&h.setStyle(d,N,q)},D=function(N,q){(!u||q)&&(q===""?c.formatter.remove(N,{value:null},d,!0):c.formatter.apply(N,{value:q},d))};return{setAttrib:y,setStyle:T,setFormat:D}}},Ac={normal:Zs(!1),ifTruthy:Zs(!0)},of=function(u){return function(c){return Co(c,"rgb")?u.toHex(c):c}},Vv=function(u,c){var d=Ot.fromDom(c);return{borderwidth:Bu(d,"border-width").getOr(""),borderstyle:Bu(d,"border-style").getOr(""),bordercolor:Bu(d,"border-color").map(of(u)).getOr(""),backgroundcolor:Bu(d,"background-color").map(of(u)).getOr("")}},wg=function(u){var c=u[0],d=u.slice(1);return sn(d,function(h){sn(pi(c),function(y){sa(h,function(T,D){var N=c[y];N!==""&&y===D&&N!==T&&(c[y]="")})})}),c},iS=function(u,c,d,h){return Tt(u,function(y){return!Me(d.formatter.matchNode(h,c+y))}).getOr("")},Nh=dt(iS,["left","center","right"],"align"),w3=dt(iS,["top","middle","bottom"],"valign"),Wy=function(u,c){var d=ph(u),h=ag(u),y=function(be){return{borderstyle:Mi(d,"border-style").getOr(""),bordercolor:of(be)(Mi(d,"border-color").getOr("")),backgroundcolor:of(be)(Mi(d,"background-color").getOr(""))}},T={height:"",width:"100%",cellspacing:"",cellpadding:"",caption:!1,class:"",align:"",border:""},D=function(){var be=d["border-width"];return Qo(u)&&be?{border:be}:Mi(h,"border").fold(function(){return{}},function(Ke){return{border:Ke}})},N=c?y(u.dom):{},q=function(){var be=Mi(d,"border-spacing").or(Mi(h,"cellspacing")).fold(function(){return{}},function(xt){return{cellspacing:xt}}),Ke=Mi(d,"border-padding").or(Mi(h,"cellpadding")).fold(function(){return{}},function(xt){return{cellpadding:xt}});return Cn(Cn({},be),Ke)},ne=Cn(Cn(Cn(Cn(Cn(Cn({},T),d),h),N),D()),q());return ne},uS=function(u){return La(Ot.fromDom(u)).map(function(c){var d={selection:js(u.cells)};return Iv(c,d)}).getOr("")},lS=function(u,c,d){var h=function(N,q){var ne=Bu(Ot.fromDom(q),"border-width");return Qo(u)&&ne.isSome()?ne.getOr(""):N.getAttrib(q,"border")||Q1(u.dom,q,"border-width")||Q1(u.dom,q,"border")},y=u.dom,T=Qo(u)?y.getStyle(c,"border-spacing")||y.getAttrib(c,"cellspacing"):y.getAttrib(c,"cellspacing")||y.getStyle(c,"border-spacing"),D=Qo(u)?Q1(y,c,"padding")||y.getAttrib(c,"cellpadding"):y.getAttrib(c,"cellpadding")||Q1(y,c,"padding");return Cn({width:y.getStyle(c,"width")||y.getAttrib(c,"width"),height:y.getStyle(c,"height")||y.getAttrib(c,"height"),cellspacing:T,cellpadding:D,border:h(y,c),caption:!!y.select("caption",c)[0],class:y.getAttrib(c,"class",""),align:Nh(u,c)},d?Vv(y,c):{})},jy=function(u,c,d){var h=u.dom;return Cn({height:h.getStyle(c,"height")||h.getAttrib(c,"height"),class:h.getAttrib(c,"class",""),type:uS(c),align:Nh(u,c)},d?Vv(h,c):{})},Gy=function(u,c,d,h){var y=u.dom,T=h.getOr(c),D=function(N,q){return y.getStyle(N,q)||y.getAttrib(N,q)};return Cn({width:D(T,"width"),height:D(c,"height"),scope:y.getAttrib(c,"scope"),celltype:e1(c),class:y.getAttrib(c,"class",""),halign:Nh(u,c),valign:w3(u,c)},d?Vv(y,c):{})},fa=function(u,c){var d=or.fromTable(u),h=or.justCells(d),y=er(h,function(T){return _(c,function(D){return vr(T.element,D)})});return Mt(y,function(T){return{element:T.element.dom,column:or.getColumnAt(d,T.column).map(function(D){return D.element.dom})}})},uf=function(u,c,d){u.setAttrib("scope",d.scope),u.setAttrib("class",d.class),u.setStyle("height",tu(d.height)),c.setStyle("width",tu(d.width))},sS=function(u,c){u.setFormat("tablecellbackgroundcolor",c.backgroundcolor),u.setFormat("tablecellbordercolor",c.bordercolor),u.setFormat("tablecellborderstyle",c.borderstyle),u.setFormat("tablecellborderwidth",tu(c.borderwidth))},qy=function(u,c,d){var h=c.length===1;sn(c,function(y){var T=y.element,D=h?Ac.normal(u,T):Ac.ifTruthy(u,T),N=y.column.map(function(q){return h?Ac.normal(u,q):Ac.ifTruthy(u,q)}).getOr(D);uf(D,N,d),bh(u)&&sS(D,d),h&&(Xt(u,T),si(u,T)),d.halign&&eb(u,T,d.halign),d.valign&&aS(u,T,d.valign)})},Ky=function(u,c){u.execCommand("mceTableCellType",!1,{type:c.celltype,no_events:!0})},Fh=function(u,c,d,h){var y=vu(h,function(T,D){return d[D]!==T});Xi(y)>0&&c.length>=1&&La(c[0]).each(function(T){var D=fa(T,c),N=Xi(vu(y,function(ne,be){return be!=="scope"&&be!=="celltype"}))>0,q=W(y,"celltype");(N||W(y,"scope"))&&qy(u,D,h),q&&Ky(u,h),Iu(u,T.dom,{structure:q,style:N})})},Mn=function(u,c,d,h){var y=h.getData();h.close(),u.undoManager.transact(function(){Fh(u,c,d,y),u.focus()})},Xy=function(u,c){var d=La(c[0]).map(function(h){return Mt(fa(h,c),function(y){return Gy(u,y.element,bh(u),y.column)})});return wg(d.getOrDie())},cS=function(u,c){var d=Si(c);if(d.length!==0){var h=Xy(u,d),y={type:"tabpanel",tabs:[{title:"General",name:"general",items:Ai(u)},ql(u,"cell")]},T={type:"panel",items:[{type:"grid",columns:2,items:Ai(u)}]};u.windowManager.open({title:"Cell Properties",size:"normal",body:bh(u)?y:T,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:h,onSubmit:dt(Mn,u,d,h)})}},C3=function(u){var c=af(je(u));return c.length>0?Q.some({name:"class",type:"listbox",label:"Class",items:c}):Q.none()},fS=[{type:"listbox",name:"type",label:"Row type",items:[{text:"Header",value:"header"},{text:"Body",value:"body"},{text:"Footer",value:"footer"}]},{type:"listbox",name:"align",label:"Alignment",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{label:"Height",name:"height",type:"input"}],vS=function(u){return fS.concat(C3(u).toArray())},Yy=function(u,c){u.setAttrib("class",c.class),u.setStyle("height",tu(c.height))},Jy=function(u,c){u.setStyle("background-color",c.backgroundcolor),u.setStyle("border-color",c.bordercolor),u.setStyle("border-style",c.borderstyle)},ab=function(u,c,d,h){var y=c.length===1;sn(c,function(T){var D=y?Ac.normal(u,T):Ac.ifTruthy(u,T);Yy(D,d),S1(u)&&Jy(D,d),d.align!==h.align&&(Xt(u,T),eb(u,T,d.align))})},S3=function(u,c){u.execCommand("mceTableRowType",!1,{type:c.type,no_events:!0})},dS=function(u,c,d,h){var y=vu(h,function(N,q){return d[q]!==N});if(Xi(y)>0){var T=W(y,"type"),D=T?Xi(y)>1:!0;D&&ab(u,c,h,d),T&&S3(u,h),La(Ot.fromDom(c[0])).each(function(N){return Iu(u,N.dom,{structure:T,style:D})})}},k3=function(u,c,d,h){var y=h.getData();h.close(),u.undoManager.transact(function(){dS(u,c,d,y),u.focus()})},El=function(u){var c=sT(Fo(u),Od.selected);if(c.length!==0){var d=Mt(c,function(D){return jy(u,D.dom,S1(u))}),h=wg(d),y={type:"tabpanel",tabs:[{title:"General",name:"general",items:vS(u)},ql(u,"row")]},T={type:"panel",items:[{type:"grid",columns:2,items:vS(u)}]};u.windowManager.open({title:"Row Properties",size:"normal",body:S1(u)?y:T,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:h,onSubmit:dt(k3,u,Mt(c,function(D){return D.dom}),h)})}},Hu=function(u,c,d){var h=d?[{type:"input",name:"cols",label:"Cols",inputMode:"numeric"},{type:"input",name:"rows",label:"Rows",inputMode:"numeric"}]:[],y=[{type:"input",name:"width",label:"Width"},{type:"input",name:"height",label:"Height"}],T=Ks(u)?[{type:"input",name:"cellspacing",label:"Cell spacing",inputMode:"numeric"},{type:"input",name:"cellpadding",label:"Cell padding",inputMode:"numeric"},{type:"input",name:"border",label:"Border width"},{type:"label",label:"Caption",items:[{type:"checkbox",name:"caption",label:"Show caption"}]}]:[],D=[{type:"listbox",name:"align",label:"Alignment",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]}],N=c.length>0?[{type:"listbox",name:"class",label:"Class",items:c}]:[];return h.concat(y).concat(T).concat(D).concat(N)},Hv=function(u,c,d,h){if(c.tagName==="TD"||c.tagName==="TH")_t(d)?u.setStyle(c,d,h):u.setStyle(c,d);else if(c.children)for(var y=0;y<c.children.length;y++)Hv(u,c.children[y],d,h)},mS=function(u,c,d){var h=u.dom,y={},T={};if(y.class=d.class,T.height=tu(d.height),h.getAttrib(c,"width")&&!Qo(u)?y.width=t1(d.width):T.width=tu(d.width),Qo(u)?(T["border-width"]=tu(d.border),T["border-spacing"]=tu(d.cellspacing)):(y.border=d.border,y.cellpadding=d.cellpadding,y.cellspacing=d.cellspacing),Qo(u)&&c.children)for(var D=0;D<c.children.length;D++)Hv(h,c.children[D],{"border-width":tu(d.border),padding:tu(d.cellpadding)}),kl(u)&&Hv(h,c.children[D],{"border-color":d.bordercolor});kl(u)&&(T["background-color"]=d.backgroundcolor,T["border-color"]=d.bordercolor,T["border-style"]=d.borderstyle),y.style=h.serializeStyle(Cn(Cn({},ph(u)),T)),h.setAttribs(c,Cn(Cn({},ag(u)),y))},x3=function(u,c,d,h){var y=u.dom,T=h.getData(),D=vu(T,function(N,q){return d[q]!==N});h.close(),T.class===""&&delete T.class,u.undoManager.transact(function(){if(!c){var N=parseInt(T.cols,10)||1,q=parseInt(T.rows,10)||1;c=pg(u,N,q,0,0)}if(Xi(D)>0){mS(u,c,T);var ne=y.select("caption",c)[0];(ne&&!T.caption||!ne&&T.caption)&&u.execCommand("mceTableToggleCaption"),T.align===""?Xt(u,c):eb(u,c,T.align)}if(u.focus(),u.addVisual(),Xi(D)>0){var be=W(D,"caption"),Ke=be?Xi(D)>1:!0;Iu(u,c,{structure:be,style:Ke})}})},gS=function(u,c){var d=u.dom,h,y=Wy(u,kl(u));c===!1?(h=d.getParent(u.selection.getStart(),"table",u.getBody()),h?y=lS(u,h,kl(u)):kl(u)&&(y.borderstyle="",y.bordercolor="",y.backgroundcolor="")):(y.cols="1",y.rows="1",kl(u)&&(y.borderstyle="",y.bordercolor="",y.backgroundcolor=""));var T=af(Rv(u));T.length>0&&y.class&&(y.class=y.class.replace(/\s*mce\-item\-table\s*/g,""));var D={type:"grid",columns:2,items:Hu(u,T,c)},N=function(){return{type:"panel",items:[D]}},q=function(){return{type:"tabpanel",tabs:[{title:"General",name:"general",items:[D]},ql(u,"table")]}},ne=kl(u)?q():N();u.windowManager.open({title:"Table Properties",size:"normal",body:ne,onSubmit:dt(x3,u,h,y),buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:y})},cr=function(u){return Dd(Fo(u),wi(u))},hS=function(u){return wl(Fo(u),wi(u))},zh=function(u,c,d,h,y){var T=wi(u),D=function(){return cr(u).each(function(An){La(An,T).filter(Oe(T)).each(function(Hn){var yr=Ot.fromText("");if(wa(Hn,yr),Xu(Hn),u.dom.isEmpty(u.getBody()))u.setContent(""),u.selection.setCursorLocation();else{var ur=u.dom.createRng();ur.setStart(yr.dom,0),ur.setEnd(yr.dom,0),u.selection.setRng(ur),u.nodeChanged()}})})},N=function(An){return cr(u).each(function(Hn){var yr=Bv(u)||og(u)||yh(u);yr||La(Hn,T).each(function(ur){An==="relative"&&!Jw(ur)?wh(ur):An==="fixed"&&!kv(ur)?E1(ur):An==="responsive"&&!gh(ur)&&O1(ur),Ci(ur),Iu(u,ur.dom,Zo)})})},q=function(An){return La(An,T)},ne=function(An){return hS(u).bind(function(Hn){return q(Hn).map(function(yr){return An(yr,Hn)})})},be=function(An,Hn){ne(function(yr){u.formatter.toggle("tableclass",{value:Hn},yr.dom),Iu(u,yr.dom,y1)})},Ke=function(An,Hn){ne(function(yr){var ur=Si(h),co=Re(ur,function(Cu){return u.formatter.match("tablecellclass",{value:Hn},Cu.dom)}),fi=co?u.formatter.remove:u.formatter.apply;sn(ur,function(Cu){return fi("tablecellclass",{value:Hn},Cu.dom)}),Iu(u,yr.dom,y1)})},xt=function(){cr(u).each(function(An){La(An,T).each(function(Hn){In(Hn,"caption").fold(function(){var yr=Ot.fromTag("caption");to(yr,Ot.fromText("Caption")),Ux(Hn,yr,0),u.selection.setCursorLocation(yr.dom,0)},function(yr){Ja("caption")(An)&&ns("td",Hn).each(function(ur){return u.selection.setCursorLocation(ur.dom,0)}),Xu(yr)}),Iu(u,Hn.dom,Zo)})})},lt=function(An){u.focus()},Xe=function(An,Hn){return Hn===void 0&&(Hn=!1),ne(function(yr,ur){var co=bv(h,yr,ur);An(yr,co,Hn).each(lt)})},Ft=function(){return ne(function(An,Hn){var yr=bv(h,An,Hn),ur=Ha(We,Ot.fromDom(u.getDoc()),Q.none());return nS(An,yr,ur)})},Pt=function(){return ne(function(An,Hn){var yr=bv(h,An,Hn);return tS(An,yr)})},yn=function(An,Hn){return Hn().each(function(yr){var ur=Mt(yr,function(co){return Yr(co)});ne(function(co,fi){var Cu=yl(Ot.fromDom(u.getDoc())),zr=jw(h,fi,ur,Cu);An(co,zr).each(lt)})})},Br=function(An){return function(Hn,yr){return Mi(yr,"type").each(function(ur){Xe(An(ur),yr.no_events)})}};sa({mceTableSplitCells:function(){return Xe(c.unmergeCells)},mceTableMergeCells:function(){return Xe(c.mergeCells)},mceTableInsertRowBefore:function(){return Xe(c.insertRowsBefore)},mceTableInsertRowAfter:function(){return Xe(c.insertRowsAfter)},mceTableInsertColBefore:function(){return Xe(c.insertColumnsBefore)},mceTableInsertColAfter:function(){return Xe(c.insertColumnsAfter)},mceTableDeleteCol:function(){return Xe(c.deleteColumn)},mceTableDeleteRow:function(){return Xe(c.deleteRow)},mceTableCutCol:function(){return Pt().each(function(An){y.setColumns(An),Xe(c.deleteColumn)})},mceTableCutRow:function(){return Ft().each(function(An){y.setRows(An),Xe(c.deleteRow)})},mceTableCopyCol:function(){return Pt().each(function(An){return y.setColumns(An)})},mceTableCopyRow:function(){return Ft().each(function(An){return y.setRows(An)})},mceTablePasteColBefore:function(){return yn(c.pasteColsBefore,y.getColumns)},mceTablePasteColAfter:function(){return yn(c.pasteColsAfter,y.getColumns)},mceTablePasteRowBefore:function(){return yn(c.pasteRowsBefore,y.getRows)},mceTablePasteRowAfter:function(){return yn(c.pasteRowsAfter,y.getRows)},mceTableDelete:D,mceTableCellToggleClass:Ke,mceTableToggleClass:be,mceTableToggleCaption:xt,mceTableSizingMode:function(An,Hn){return N(Hn)},mceTableCellType:Br(function(An){return An==="th"?c.makeCellsHeader:c.unmakeCellsHeader}),mceTableColType:Br(function(An){return An==="th"?c.makeColumnsHeader:c.unmakeColumnsHeader}),mceTableRowType:Br(function(An){switch(An){case"header":return c.makeRowsHeader;case"footer":return c.makeRowsFooter;default:return c.makeRowsBody}})},function(An,Hn){return u.addCommand(Hn,An)}),sa({mceTableProps:dt(gS,u,!1),mceTableRowProps:dt(El,u),mceTableCellProps:dt(cS,u,h)},function(An,Hn){return u.addCommand(Hn,function(){return An()})}),u.addCommand("mceInsertTable",function(An,Hn){ut(Hn)&&pi(Hn).length>0?ZC(u,Hn.rows,Hn.columns,Hn.options,"Invalid values for mceInsertTable - rows and columns values are required to insert a table."):gS(u,!0)}),u.addCommand("mceTableApplyCellStyle",function(An,Hn){var yr=function(fi){return"tablecell"+fi.toLowerCase().replace("-","")};if(!!ut(Hn)){var ur=Si(h);if(ur.length!==0){var co=vu(Hn,function(fi,Cu){return u.formatter.has(yr(Cu))&&_t(fi)});_e(co)||(sa(co,function(fi,Cu){sn(ur,function(zr){Ac.normal(u,zr.dom).setFormat(yr(Cu),fi)})}),q(ur[0]).each(function(fi){return Iu(u,fi.dom,y1)}))}}})},Cg=function(u,c,d){var h=wi(u),y=function(T){return wl(Fo(u)).bind(function(D){return La(D,h).map(function(N){var q=bv(d,N,D);return T(N,q)})}).getOr("")};sa({mceTableRowType:function(){return y(c.getTableRowType)},mceTableCellType:function(){return y(c.getTableCellType)},mceTableColType:function(){return y(c.getTableColType)}},function(T,D){return u.addQueryValueHandler(D,T)})},ob=function(){var u=rm(),c=rm();return{getRows:u.get,setRows:function(d){d.fold(u.clear,u.set),c.clear()},clearRows:u.clear,getColumns:c.get,setColumns:function(d){d.fold(c.clear,c.set),u.clear()},clearColumns:c.clear}},Sg={remove_similar:!0,inherit:!1},kg=Cn({selector:"td,th"},Sg),T3={tablecellbackgroundcolor:Cn({styles:{backgroundColor:"%value"}},kg),tablecellverticalalign:Cn({styles:{"vertical-align":"%value"}},kg),tablecellbordercolor:Cn({styles:{borderColor:"%value"}},kg),tablecellclass:Cn({classes:["%value"]},kg),tableclass:Cn({selector:"table",classes:["%value"]},Sg),tablecellborderstyle:Cn({styles:{borderStyle:"%value"}},kg),tablecellborderwidth:Cn({styles:{borderWidth:"%value"}},kg)},E3=function(u){u.formatter.register(T3)},Zy=Wc.generate([{none:["current"]},{first:["current"]},{middle:["current","target"]},{last:["current"]}]),Qy=function(u){return u===void 0&&(u=void 0),Zy.none(u)},om=Cn(Cn({},Zy),{none:Qy}),ib=function(u,c,d,h,y){y===void 0&&(y=Nt);var T=h===1;if(!T&&d<=0)return om.first(u[0]);if(T&&d>=u.length-1)return om.last(u[u.length-1]);var D=d+h,N=u[D];return y(N)?om.middle(c,N):ib(u,c,D,h,y)},pS=function(u,c){return La(u,c).bind(function(d){var h=Of(d),y=Ie(h,function(T){return vr(u,T)});return y.map(function(T){return{index:T,all:h}})})},O3=function(u,c,d){var h=pS(u,d);return h.fold(function(){return om.none(u)},function(y){return ib(y.all,u,y.index,1,c)})},e2=function(u,c,d){var h=pS(u,d);return h.fold(function(){return om.none()},function(y){return ib(y.all,u,y.index,-1,c)})},A3=function(u,c,d,h){return{start:u,soffset:c,finish:d,foffset:h}},Ih={create:A3},t2=Wc.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),Tn=function(u,c,d,h){return u.fold(c,d,h)},bS=function(u){return u.fold(Wt,Wt,Wt)},D3=t2.before,yS=t2.on,xg=t2.after,Uu={before:D3,on:yS,after:xg,cata:Tn,getStart:bS},Lh=Wc.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),_3=function(u){return Lh.exact(u.start,u.soffset,u.finish,u.foffset)},n2=function(u){return u.match({domRange:function(c){return Ot.fromDom(c.startContainer)},relative:function(c,d){return Uu.getStart(c)},exact:function(c,d,h,y){return c}})},ub=Lh.domRange,wS=Lh.relative,CS=Lh.exact,SS=function(u){var c=n2(u);return $s(c)},kS=Ih.create,Kf={domRange:ub,relative:wS,exact:CS,exactFromRange:_3,getWin:SS,range:kS},R3=function(u,c){var d=u.document.createRange();return d.selectNode(c.dom),d},B3=function(u,c){var d=u.document.createRange();return Tg(d,c),d},Tg=function(u,c){return u.selectNodeContents(c.dom)},M3=function(u,c){c.fold(function(d){u.setStartBefore(d.dom)},function(d,h){u.setStart(d.dom,h)},function(d){u.setStartAfter(d.dom)})},P3=function(u,c){c.fold(function(d){u.setEndBefore(d.dom)},function(d,h){u.setEnd(d.dom,h)},function(d){u.setEndAfter(d.dom)})},Ur=function(u,c,d){var h=u.document.createRange();return M3(h,c),P3(h,d),h},Eg=function(u,c,d,h,y){var T=u.document.createRange();return T.setStart(c.dom,d),T.setEnd(h.dom,y),T},Uv=function(u){return{left:u.left,top:u.top,right:u.right,bottom:u.bottom,width:u.width,height:u.height}},lf=function(u){var c=u.getClientRects(),d=c.length>0?c[0]:u.getBoundingClientRect();return d.width>0||d.height>0?Q.some(d).map(Uv):Q.none()},Wv=Wc.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),wu=function(u,c,d){return c(Ot.fromDom(d.startContainer),d.startOffset,Ot.fromDom(d.endContainer),d.endOffset)},lb=function(u,c){return c.match({domRange:function(d){return{ltr:Ue(d),rtl:Q.none}},relative:function(d,h){return{ltr:Ro(function(){return Ur(u,d,h)}),rtl:Ro(function(){return Q.some(Ur(u,h,d))})}},exact:function(d,h,y,T){return{ltr:Ro(function(){return Eg(u,d,h,y,T)}),rtl:Ro(function(){return Q.some(Eg(u,y,T,d,h))})}}})},Vh=function(u,c){var d=c.ltr();if(d.collapsed){var h=c.rtl().filter(function(y){return y.collapsed===!1});return h.map(function(y){return Wv.rtl(Ot.fromDom(y.endContainer),y.endOffset,Ot.fromDom(y.startContainer),y.startOffset)}).getOrThunk(function(){return wu(u,Wv.ltr,d)})}else return wu(u,Wv.ltr,d)},Og=function(u,c){var d=lb(u,c);return Vh(u,d)},jv=function(u,c){var d=Og(u,c);return d.match({ltr:function(h,y,T,D){var N=u.document.createRange();return N.setStart(h.dom,y),N.setEnd(T.dom,D),N},rtl:function(h,y,T,D){var N=u.document.createRange();return N.setStart(T.dom,D),N.setEnd(h.dom,y),N}})};Wv.ltr,Wv.rtl;var $3=function(u,c,d,h,y){if(y===0)return 0;if(c===h)return y-1;for(var T=h,D=1;D<y;D++){var N=u(D),q=Math.abs(c-N.left);if(d<=N.bottom){if(d<N.top||q>T)return D-1;T=q}}return 0},xS=function(u,c,d){return c>=u.left&&c<=u.right&&d>=u.top&&d<=u.bottom},sb=function(u,c,d,h,y){var T=function(ne){var be=u.dom.createRange();return be.setStart(c.dom,ne),be.collapse(!0),be},D=function(ne){var be=T(ne);return be.getBoundingClientRect()},N=Wp(c).length,q=$3(D,d,h,y.right,N);return T(q)},N3=function(u,c,d,h){var y=u.dom.createRange();y.selectNode(c.dom);var T=y.getClientRects(),D=wr(T,function(N){return xS(N,d,h)?Q.some(N):Q.none()});return D.map(function(N){return sb(u,c,d,h,N)})},br=function(u,c,d,h){var y=u.dom.createRange(),T=$(c);return wr(T,function(D){return y.selectNode(D.dom),xS(y.getBoundingClientRect(),d,h)?Qs(u,D,d,h):Q.none()})},Qs=function(u,c,d,h){return Du(c)?N3(u,c,d,h):br(u,c,d,h)},Ag=function(u,c,d,h){var y=u.dom.createRange();y.selectNode(c.dom);var T=y.getBoundingClientRect(),D=Math.max(T.left,Math.min(T.right,d)),N=Math.max(T.top,Math.min(T.bottom,h));return Qs(u,c,D,N)},TS=!0,Hh=!1,kr=function(u,c){return c-u.left<u.right-c?TS:Hh},r2=function(u,c,d){var h=u.dom.createRange();return h.selectNode(c.dom),h.collapse(d),h},ES=function(u,c,d){var h=u.dom.createRange();h.selectNode(c.dom);var y=h.getBoundingClientRect(),T=kr(y,d),D=T===TS?ch:Qp;return D(c).map(function(N){return r2(u,N,T)})},Uh=function(u,c,d){var h=c.dom.getBoundingClientRect(),y=kr(h,d);return Q.some(r2(u,c,y))},OS=function(u,c,d){var h=$(c).length===0?Uh:ES;return h(u,c,d)},Wh=function(u,c,d){var h,y;return Q.from((y=(h=u.dom).caretPositionFromPoint)===null||y===void 0?void 0:y.call(h,c,d)).bind(function(T){if(T.offsetNode===null)return Q.none();var D=u.dom.createRange();return D.setStart(T.offsetNode,T.offset),D.collapse(),Q.some(D)})},Xf=function(u,c,d){var h,y;return Q.from((y=(h=u.dom).caretRangeFromPoint)===null||y===void 0?void 0:y.call(h,c,d))},a2=function(u,c,d,h){var y=u.dom.createRange();y.selectNode(c.dom);var T=y.getBoundingClientRect(),D=Math.max(T.left,Math.min(T.right,d)),N=Math.max(T.top,Math.min(T.bottom,h));return Ag(u,c,D,N)},AS=function(u,c,d){return Ot.fromPoint(u,c,d).bind(function(h){var y=function(){return OS(u,h,c)};return $(h).length===0?y():a2(u,h,c,d).orThunk(y)})},F3=function(){return document.caretPositionFromPoint?Wh:document.caretRangeFromPoint?Xf:AS}(),z3=function(u,c,d){var h=Ot.fromDom(u.document);return F3(h,c,d).map(function(y){return Ih.create(Ot.fromDom(y.startContainer),y.startOffset,Ot.fromDom(y.endContainer),y.endOffset)})},Gv=function(u,c){var d=Ar(u);return d==="input"?Uu.after(u):$n(["br","img"],d)?c===0?Uu.before(u):Uu.after(u):Uu.on(u,c)},im=function(u,c){var d=u.fold(Uu.before,Gv,Uu.after),h=c.fold(Uu.before,Gv,Uu.after);return Kf.relative(d,h)},Dg=function(u,c,d,h){var y=Gv(u,c),T=Gv(d,h);return Kf.relative(y,T)},DS=function(u){return u.match({domRange:function(c){var d=Ot.fromDom(c.startContainer),h=Ot.fromDom(c.endContainer);return Dg(d,c.startOffset,h,c.endOffset)},relative:im,exact:Dg})},o2=function(u,c,d,h){var y=is(u),T=y.dom.createRange();return T.setStart(u.dom,c),T.setEnd(d.dom,h),T},I3=function(u,c,d,h){var y=o2(u,c,d,h),T=vr(u,d)&&c===h;return y.collapsed&&!T},cb=function(u){return Q.from(u.getSelection())},fb=function(u,c){cb(u).each(function(d){d.removeAllRanges(),d.addRange(c)})},i2=function(u,c,d,h,y){var T=Eg(u,c,d,h,y);fb(u,T)},L3=function(u,c,d,h,y,T){c.collapse(d.dom,h),c.extend(y.dom,T)},u2=function(u,c){return Og(u,c).match({ltr:function(d,h,y,T){i2(u,d,h,y,T)},rtl:function(d,h,y,T){cb(u).each(function(D){if(D.setBaseAndExtent)D.setBaseAndExtent(d.dom,h,y.dom,T);else if(D.extend)try{L3(u,D,d,h,y,T)}catch(N){i2(u,y,T,d,h)}else i2(u,y,T,d,h)})}})},vb=function(u,c,d,h,y){var T=Dg(c,d,h,y);u2(u,T)},db=function(u,c,d){var h=im(c,d);u2(u,h)},l2=function(u){var c=Kf.getWin(u).dom,d=function(y,T,D,N){return Eg(c,y,T,D,N)},h=DS(u);return Og(c,h).match({ltr:d,rtl:d})},um=function(u){if(u.rangeCount>0){var c=u.getRangeAt(0),d=u.getRangeAt(u.rangeCount-1);return Q.some(Ih.create(Ot.fromDom(c.startContainer),c.startOffset,Ot.fromDom(d.endContainer),d.endOffset))}else return Q.none()},mb=function(u){if(u.anchorNode===null||u.focusNode===null)return um(u);var c=Ot.fromDom(u.anchorNode),d=Ot.fromDom(u.focusNode);return I3(c,u.anchorOffset,d,u.focusOffset)?Q.some(Ih.create(c,u.anchorOffset,d,u.focusOffset)):um(u)},s2=function(u,c,d){d===void 0&&(d=!0);var h=d?B3:R3,y=h(u,c);fb(u,y)},gb=function(u){return cb(u).filter(function(c){return c.rangeCount>0}).bind(mb)},jh=function(u){return gb(u).map(function(c){return Kf.exact(c.start,c.soffset,c.finish,c.foffset)})},_S=function(u,c){var d=jv(u,c);return lf(d)},V3=function(u,c,d){return z3(u,c,d)},RS=function(u){cb(u).each(function(c){return c.removeAllRanges()})},BS=tinymce.util.Tools.resolve("tinymce.util.VK"),c2=function(u,c,d){return f2(u,c,O3(d,ng))},MS=function(u,c,d){return f2(u,c,e2(d,ng))},PS=function(u,c){var d=Kf.exact(c,0,c,0);return l2(d)},f2=function(u,c,d){return d.fold(Q.none,Q.none,function(h,y){return ch(y).map(function(T){return PS(u,T)})},function(h){return u.execCommand("mceTableInsertRowAfter"),c2(u,c,h)})},v2=["table","li","dl"],H3=function(u,c,d){if(u.keyCode===BS.TAB){var h=Zu(c),y=function(N){var q=Ar(N);return vr(N,h)||$n(v2,q)},T=c.selection.getRng(),D=Ot.fromDom(u.shiftKey?T.startContainer:T.endContainer);dc(D,y).each(function(N){u.preventDefault(),La(N,y).each(d.clear),c.selection.collapse(u.shiftKey);var q=u.shiftKey?MS:c2,ne=q(c,y,N);ne.each(function(be){c.selection.setRng(be)})})}},U3=function(u,c){return{selection:u,kill:c}},_g={create:U3},W3=function(u,c,d,h){return{start:Uu.on(u,c),finish:Uu.on(d,h)}},qv={create:W3},$S=function(u,c){var d=jv(u,c);return Ih.create(Ot.fromDom(d.startContainer),d.startOffset,Ot.fromDom(d.endContainer),d.endOffset)},lm=qv.create,hb=function(u,c,d,h,y,T,D){return vr(d,y)&&h===T?Q.none():Qa(d,"td,th",c).bind(function(N){return Qa(y,"td,th",c).bind(function(q){return NS(u,c,N,q,D)})})},NS=function(u,c,d,h,y){return vr(d,h)?Q.none():fv(d,h,c).bind(function(T){var D=T.boxes.getOr([]);return D.length>1?(y(u,D,T.start,T.finish),Q.some(_g.create(Q.some(lm(d,0,d,Ws(d))),!0))):Q.none()})},d2=function(u,c,d,h,y){var T=function(D){return y.clearBeforeUpdate(d),y.selectRange(d,D.boxes,D.start,D.finish),D.boxes};return Fm(h,u,c,y.firstSelectedSelector,y.lastSelectedSelector).map(T)},Gh=function(u,c){return{item:u,mode:c}},m2=function(u,c,d,h){return h===void 0&&(h=sm),u.property().parent(c).map(function(y){return Gh(y,h)})},sm=function(u,c,d,h){return h===void 0&&(h=qh),d.sibling(u,c).map(function(y){return Gh(y,h)})},qh=function(u,c,d,h){h===void 0&&(h=qh);var y=u.property().children(c),T=d.first(y);return T.map(function(D){return Gh(D,h)})},j3=[{current:m2,next:sm,fallback:Q.none()},{current:sm,next:qh,fallback:Q.some(m2)},{current:qh,next:qh,fallback:Q.some(sm)}],FS=function(u,c,d,h,y){y===void 0&&(y=j3);var T=Tt(y,function(D){return D.current===d});return T.bind(function(D){return D.current(u,c,h,D.next).orThunk(function(){return D.fallback.bind(function(N){return FS(u,c,N,h)})})})},Rg=function(){var u=function(d,h){return d.query().prevSibling(h)},c=function(d){return d.length>0?Q.some(d[d.length-1]):Q.none()};return{sibling:u,first:c}},G3=function(){var u=function(d,h){return d.query().nextSibling(h)},c=function(d){return d.length>0?Q.some(d[0]):Q.none()};return{sibling:u,first:c}},Kh={left:Rg,right:G3},Xh=function(u,c,d,h,y,T){var D=FS(u,c,h,y);return D.bind(function(N){return T(N.item)?Q.none():d(N.item)?Q.some(N.item):Xh(u,N.item,d,N.mode,y,T)})},zS=function(u,c,d,h){return Xh(u,c,d,sm,Kh.left(),h)},ks=function(u,c,d,h){return Xh(u,c,d,sm,Kh.right(),h)},g2=function(u){return function(c){return u.property().children(c).length===0}},pb=function(u,c,d){return h2(u,c,g2(u),d)},q3=function(u,c,d){return IS(u,c,g2(u),d)},h2=zS,IS=ks,bb=eh(),Yh=function(u,c){return pb(bb,u,c)},p2=function(u,c){return q3(bb,u,c)},LS=function(u,c,d){return h2(bb,u,c,d)},VS=function(u,c,d){return IS(bb,u,c,d)},Yf=function(u,c,d){return Ka(u,c,d).isSome()},yb=Wc.generate([{none:["message"]},{success:[]},{failedUp:["cell"]},{failedDown:["cell"]}]),K3=function(u,c,d){var h=u.getRect(c),y=u.getRect(d);return y.right>h.left&&y.left<h.right},b2=function(u){return Qa(u,"tr")},X3=function(u,c,d,h,y,T,D){return Qa(h,"td,th",D).bind(function(N){return Qa(c,"td,th",D).map(function(q){return vr(N,q)?vr(h,N)&&Ws(N)===y?T(q):yb.none("in same cell"):kn(b2,[N,q]).fold(function(){return K3(u,q,N)?yb.success():T(q)},function(ne){return T(q)})})}).getOr(yb.none("default"))},y2=function(u,c,d,h,y){return u.fold(c,d,h,y)},Bg=Cn(Cn({},yb),{verify:X3,cata:y2}),wb=function(u,c,d,h){return{parent:u,children:c,element:d,index:h}},Y3=function(u){return Ga(u).bind(function(c){var d=$(c);return HS(d,u).map(function(h){return wb(c,d,u,h)})})},HS=function(u,c){return Ie(u,dt(vr,c))},w2=function(u){return Ar(u)==="br"},C2=function(u,c,d){return c(u,d).bind(function(h){return Du(h)&&Wp(h).trim().length===0?C2(h,c,d):Q.some(h)})},J3=function(u,c,d){return d.traverse(c).orThunk(function(){return C2(c,d.gather,u)}).map(d.relative)},Cb=function(u,c){return J(u,c).filter(w2).orThunk(function(){return J(u,c-1).filter(w2)})},US=function(u,c,d,h){return Cb(c,d).bind(function(y){return h.traverse(y).fold(function(){return C2(y,h.gather,u).map(h.relative)},function(T){return Y3(T).map(function(D){return Uu.on(D.parent,D.index)})})})},WS=function(u,c,d,h){var y=w2(c)?J3(u,c,h):US(u,c,d,h);return y.map(function(T){return{start:T,finish:T}})},jS=function(u){return Bg.cata(u,function(c){return Q.none()},function(){return Q.none()},function(c){return Q.some(ig(c,0))},function(c){return Q.some(ig(c,Ws(c)))})},Jh=function(u,c){return{left:u.left,top:u.top+c,right:u.right,bottom:u.bottom+c}},Zh=function(u,c){return{left:u.left,top:u.top-c,right:u.right,bottom:u.bottom-c}},cm=function(u,c,d){return{left:u.left+c,top:u.top+d,right:u.right+c,bottom:u.bottom+d}},GS=function(u){return u.top},qS=function(u){return u.bottom},Sb=function(u,c,d){return d>=0&&d<Ws(c)?u.getRangedRect(c,d,c,d+1):d>0?u.getRangedRect(c,d-1,c,d):Q.none()},kb=function(u){return{left:u.left,top:u.top,right:u.right,bottom:u.bottom}},S2=function(u,c){return Q.some(u.getRect(c))},k2=function(u,c,d){return Qr(c)?S2(u,c).map(kb):Du(c)?Sb(u,c,d).map(kb):Q.none()},KS=function(u,c){return Qr(c)?S2(u,c).map(kb):Du(c)?u.getRangedRect(c,0,c,Ws(c)).map(kb):Q.none()},sf=5,x2=100,ec=Wc.generate([{none:[]},{retry:["caret"]}]),Z3=function(u,c){return u.left<c.left||Math.abs(c.right-u.left)<1||u.left>c.right},Jf=function(u,c,d){return Lp(c,Ys).fold(qt,function(h){return KS(u,h).exists(function(y){return Z3(d,y)})})},XS=function(u,c,d,h,y){var T=Jh(y,sf);return Math.abs(d.bottom-h.bottom)<1||d.top>y.bottom?ec.retry(T):d.top===y.bottom?ec.retry(Jh(y,1)):Jf(u,c,y)?ec.retry(cm(T,sf,0)):ec.none()},YS=function(u,c,d,h,y){var T=Zh(y,sf);return Math.abs(d.top-h.top)<1||d.bottom<y.top?ec.retry(T):d.bottom===y.top?ec.retry(Zh(y,1)):Jf(u,c,y)?ec.retry(cm(T,sf,0)):ec.none()},Q3={point:GS,adjuster:YS,move:Zh,gather:Yh},e4={point:qS,adjuster:XS,move:Jh,gather:p2},Mg=function(u,c,d){return u.elementFromPoint(c,d).filter(function(h){return Ar(h)==="table"}).isSome()},Pg=function(u,c,d,h,y){return xb(u,c,d,c.move(h,sf),y)},xb=function(u,c,d,h,y){return y===0?Q.some(h):Mg(u,h.left,c.point(h))?Pg(u,c,d,h,y-1):u.situsFromPoint(h.left,c.point(h)).bind(function(T){return T.start.fold(Q.none,function(D){return KS(u,D).bind(function(N){return c.adjuster(u,D,N,d,h).fold(Q.none,function(q){return xb(u,c,d,q,y-1)})}).orThunk(function(){return Q.some(h)})},Q.none)})},JS=function(u,c){return u.situsFromPoint(c.left,c.bottom+sf)},Kv=function(u,c){return u.situsFromPoint(c.left,c.top-sf)},Xv=function(u,c,d){return u.point(c)>d.getInnerHeight()?Q.some(u.point(c)-d.getInnerHeight()):u.point(c)<0?Q.some(-u.point(c)):Q.none()},ZS=function(u,c,d){var h=u.move(d,sf),y=xb(c,u,d,h,x2).getOr(h);return Xv(u,y,c).fold(function(){return c.situsFromPoint(y.left,u.point(y))},function(T){return c.scrollBy(0,T),c.situsFromPoint(y.left,u.point(y)-T)})},Qh={tryUp:dt(ZS,Q3),tryDown:dt(ZS,e4),ieTryUp:Kv,ieTryDown:JS,getJumpSize:Ue(sf)},fm=20,Bn=function(u,c,d){return u.getSelection().bind(function(h){return WS(c,h.finish,h.foffset,d).fold(function(){return Q.some(ig(h.finish,h.foffset))},function(y){var T=u.fromSitus(y),D=Bg.verify(u,h.finish,h.foffset,T.finish,T.foffset,d.failure,c);return jS(D)})})},T2=function(u,c,d,h,y,T){return T===0?Q.none():Zf(u,c,d,h,y).bind(function(D){var N=u.fromSitus(D),q=Bg.verify(u,d,h,N.finish,N.foffset,y.failure,c);return Bg.cata(q,function(){return Q.none()},function(){return Q.some(D)},function(ne){return vr(d,ne)&&h===0?Tb(u,d,h,Zh,y):T2(u,c,ne,0,y,T-1)},function(ne){return vr(d,ne)&&h===Ws(ne)?Tb(u,d,h,Jh,y):T2(u,c,ne,Ws(ne),y,T-1)})})},Tb=function(u,c,d,h,y){return k2(u,c,d).bind(function(T){return E2(u,y,h(T,Qh.getJumpSize()))})},E2=function(u,c,d){var h=Nn().browser;return h.isChrome()||h.isSafari()||h.isFirefox()||h.isEdge()?c.otherRetry(u,d):h.isIE()?c.ieRetry(u,d):Q.none()},Zf=function(u,c,d,h,y){return k2(u,d,h).bind(function(T){return E2(u,y,T)})},Eb=function(u,c,d){return Bn(u,c,d).bind(function(h){return T2(u,c,h.element,h.offset,d,fm).map(u.fromSitus)})},ep=function(u,c){return Yf(u,function(d){return Ga(d).exists(function(h){return vr(h,c)})})},Ob=function(u,c,d,h,y){return Qa(h,"td,th",c).bind(function(T){return Qa(T,"table",c).bind(function(D){return ep(y,D)?Eb(u,c,d).bind(function(N){return Qa(N.finish,"td,th",c).map(function(q){return{start:T,finish:q,range:N}})}):Q.none()})})},O2=function(u,c,d,h,y,T){return Nn().browser.isIE()?Q.none():T(h,c).orThunk(function(){return Ob(u,c,d,h,y).map(function(D){var N=D.range;return _g.create(Q.some(lm(N.start,N.soffset,N.finish,N.foffset)),!0)})})},A2=function(u,c){return Qa(u,"tr",c).bind(function(d){return Qa(d,"table",c).bind(function(h){var y=fl(h,"tr");return vr(d,y[0])?LS(h,function(T){return Qp(T).isSome()},c).map(function(T){var D=Ws(T);return _g.create(Q.some(lm(T,D,T,D)),!0)}):Q.none()})})},Kn=function(u,c){return Qa(u,"tr",c).bind(function(d){return Qa(d,"table",c).bind(function(h){var y=fl(h,"tr");return vr(d,y[y.length-1])?VS(h,function(T){return ch(T).isSome()},c).map(function(T){return _g.create(Q.some(lm(T,0,T,0)),!0)}):Q.none()})})},QS=function(u,c,d,h,y,T,D){return Ob(u,d,h,y,T).bind(function(N){return NS(c,d,N.start,N.finish,D)})},ar=function(u,c){return Qa(u,"td,th",c)},ek=function(u,c,d,h){var y=rm(),T=y.clear,D=function(be){y.on(function(Ke){h.clearBeforeUpdate(c),ar(be.target,d).each(function(xt){fv(Ke,xt,d).each(function(lt){var Xe=lt.boxes.getOr([]);if(Xe.length===1){var Ft=Xe[0],Pt=m1(Ft)==="false",yn=fc(d1(be.target),Ft,vr);Pt&&yn&&(h.selectRange(c,Xe,Ft,Ft),u.selectContents(Ft))}else Xe.length>1&&(h.selectRange(c,Xe,lt.start,lt.finish),u.selectContents(xt))})})})},N=function(be){h.clear(c),ar(be.target,d).each(y.set)},q=function(be){D(be)},ne=function(be){D(be),T()};return{clearstate:T,mousedown:N,mouseover:q,mouseup:ne}},tp={traverse:k,gather:p2,relative:Uu.before,otherRetry:Qh.tryDown,ieRetry:Qh.ieTryDown,failure:Bg.failedDown},Ab={traverse:B,gather:Yh,relative:Uu.before,otherRetry:Qh.tryUp,ieRetry:Qh.ieTryUp,failure:Bg.failedUp},Yv=function(u){return function(c){return c===u}},D2=Yv(38),Db=Yv(40),np=function(u){return u>=37&&u<=40},tk={isBackward:Yv(37),isForward:Yv(39)},Vn={isBackward:Yv(39),isForward:Yv(37)},nk=function(u){var c=u!==void 0?u.dom:document,d=c.body.scrollLeft||c.documentElement.scrollLeft,h=c.body.scrollTop||c.documentElement.scrollTop;return pa(d,h)},rk=function(u,c,d){var h=d!==void 0?d.dom:document,y=h.defaultView;y&&y.scrollBy(u,c)},$g=function(u){var c=function(Pt,yn){return Ot.fromPoint(Ot.fromDom(u.document),Pt,yn)},d=function(Pt){return Pt.dom.getBoundingClientRect()},h=function(Pt,yn,Br,An){var Hn=Kf.exact(Pt,yn,Br,An);return _S(u,Hn)},y=function(){return jh(u).map(function(Pt){return $S(u,Pt)})},T=function(Pt){var yn=Kf.relative(Pt.start,Pt.finish);return $S(u,yn)},D=function(Pt,yn){return V3(u,Pt,yn).map(function(Br){return qv.create(Br.start,Br.soffset,Br.finish,Br.foffset)})},N=function(){RS(u)},q=function(Pt){Pt===void 0&&(Pt=!1),jh(u).each(function(yn){return yn.fold(function(Br){return Br.collapse(Pt)},function(Br,An){var Hn=Pt?Br:An;db(u,Hn,Hn)},function(Br,An,Hn,yr){var ur=Pt?Br:Hn,co=Pt?An:yr;vb(u,ur,co,ur,co)})})},ne=function(Pt){s2(u,Pt,!1)},be=function(Pt){s2(u,Pt)},Ke=function(Pt){vb(u,Pt.start,Pt.soffset,Pt.finish,Pt.foffset)},xt=function(Pt,yn){db(u,Pt,yn)},lt=function(){return u.innerHeight},Xe=function(){var Pt=nk(Ot.fromDom(u.document));return Pt.top},Ft=function(Pt,yn){rk(Pt,yn,Ot.fromDom(u.document))};return{elementFromPoint:c,getRect:d,getRangedRect:h,getSelection:y,fromSitus:T,situsFromPoint:D,clearSelection:N,collapseSelection:q,setSelection:Ke,setRelativeSelection:xt,selectNode:ne,selectContents:be,getInnerHeight:lt,getScrollY:Xe,scrollBy:Ft}},vm=function(u,c){return{rows:u,cols:c}},ak=function(u,c,d,h){var y=$g(u),T=ek(y,c,d,h);return{clearstate:T.clearstate,mousedown:T.mousedown,mouseover:T.mouseover,mouseup:T.mouseup}},ok=function(u,c,d,h){var y=$g(u),T=function(){return h.clear(c),Q.none()},D=function(q,ne,be,Ke,xt,lt){var Xe=q.raw,Ft=Xe.which,Pt=Xe.shiftKey===!0,yn=Nm(c,h.selectedSelector).fold(function(){return np(Ft)&&!Pt&&h.clearBeforeUpdate(c),Db(Ft)&&Pt?dt(QS,y,c,d,tp,Ke,ne,h.selectRange):D2(Ft)&&Pt?dt(QS,y,c,d,Ab,Ke,ne,h.selectRange):Db(Ft)?dt(O2,y,d,tp,Ke,ne,Kn):D2(Ft)?dt(O2,y,d,Ab,Ke,ne,A2):Q.none},function(Br){var An=function(Hn){return function(){var yr=wr(Hn,function(ur){return d2(ur.rows,ur.cols,c,Br,h)});return yr.fold(function(){return zs(c,h.firstSelectedSelector,h.lastSelectedSelector).map(function(ur){var co=Db(Ft)||lt.isForward(Ft)?Uu.after:Uu.before;return y.setRelativeSelection(Uu.on(ur.first,0),co(ur.table)),h.clear(c),_g.create(Q.none(),!0)})},function(ur){return Q.some(_g.create(Q.none(),!0))})}};return Db(Ft)&&Pt?An([vm(1,0)]):D2(Ft)&&Pt?An([vm(-1,0)]):lt.isBackward(Ft)&&Pt?An([vm(0,-1),vm(-1,0)]):lt.isForward(Ft)&&Pt?An([vm(0,1),vm(1,0)]):np(Ft)&&!Pt?T:Q.none});return yn()},N=function(q,ne,be,Ke,xt){return Nm(c,h.selectedSelector).fold(function(){var lt=q.raw,Xe=lt.which,Ft=lt.shiftKey===!0;return Ft&&np(Xe)?hb(c,d,ne,be,Ke,xt,h.selectRange):Q.none()},Q.none)};return{keydown:D,keyup:N}},_2=function(u,c,d,h){var y=$g(u);return function(T,D){h.clearBeforeUpdate(c),fv(T,D,d).each(function(N){var q=N.boxes.getOr([]);h.selectRange(c,q,N.start,N.finish),y.selectContents(D),y.collapseSelection()})}},_b=function(u,c){sn(c,function(d){Ev(u,d)})},ik=function(u){return function(c){ba(c,u)}},Rb=function(u){return function(c){_b(c,u)}},uk=function(u){var c=ik(u.selected),d=Rb([u.selected,u.lastSelected,u.firstSelected]),h=function(T){var D=fl(T,u.selectedSelector);sn(D,d)},y=function(T,D,N,q){h(T),sn(D,c),ba(N,u.firstSelected),ba(q,u.lastSelected)};return{clearBeforeUpdate:h,clear:h,selectRange:y,selectedSelector:u.selectedSelector,firstSelectedSelector:u.firstSelectedSelector,lastSelectedSelector:u.lastSelectedSelector}},lk=function(u,c,d){var h=function(q){Da(q,u.selected),Da(q,u.firstSelected),Da(q,u.lastSelected)},y=function(q){qo(q,u.selected,"1")},T=function(q){D(q),d()},D=function(q){var ne=fl(q,u.selectedSelector+","+u.firstSelectedSelector+","+u.lastSelectedSelector);sn(ne,h)},N=function(q,ne,be,Ke){T(q),sn(ne,y),qo(be,u.firstSelected,"1"),qo(Ke,u.lastSelected,"1"),c(ne,be,Ke)};return{clearBeforeUpdate:D,clear:T,selectRange:N,selectedSelector:u.selectedSelector,firstSelectedSelector:u.firstSelectedSelector,lastSelectedSelector:u.lastSelectedSelector}},t4={byClass:uk,byAttr:lk},n4=function(u,c){var d=u.slice(0,c[c.length-1].row+1),h=kh(d);return Pe(h,function(y){var T=y.cells.slice(0,c[c.length-1].column+1);return Mt(T,function(D){return D.element})})},r4=function(u,c){var d=u.slice(c[0].row+c[0].rowspan-1,u.length),h=kh(d);return Pe(h,function(y){var T=y.cells.slice(c[0].column+c[0].colspan-1,y.cells.length);return Mt(T,function(D){return D.element})})},a4=function(u,c,d){var h=or.fromTable(u),y=Xs(h,c);return y.map(function(T){var D=$v(h,d,!1),N=n4(D,T),q=r4(D,T);return{upOrLeftCells:N,downOrRightCells:q}})},sk=tinymce.util.Tools.resolve("tinymce.Env"),R2=function(u){return ca(Ot.fromDom(u.target),"ephox-snooker-resizer-bar")===!1};function xr(u,c,d){var h=function(D,N,q){d.targets().each(function(ne){var be=La(N);be.each(function(Ke){var xt=iy(u),lt=Ha(We,Ot.fromDom(u.getDoc()),xt),Xe=a4(Ke,ne,lt);DT(u,D,N,q,Xe)})})},y=function(){return b1(u)},T=t4.byAttr(Od,h,y);return u.on("init",function(D){var N=u.getWin(),q=Zu(u),ne=wi(u),be=function(){var zr=u.selection,Xn=Ot.fromDom(zr.getStart()),Tr=Ot.fromDom(zr.getEnd()),aa=kn(La,[Xn,Tr]);aa.fold(function(){return T.clear(q)},We)},Ke=ak(N,q,ne,T),xt=ok(N,q,ne,T),lt=_2(N,q,ne,T),Xe=function(zr){return zr.raw.shiftKey===!0};u.on("TableSelectorChange",function(zr){return lt(zr.start,zr.finish)});var Ft=function(zr,Xn){!Xe(zr)||(Xn.kill&&zr.kill(),Xn.selection.each(function(Tr){var aa=Kf.relative(Tr.start,Tr.finish),Ua=jv(N,aa);u.selection.setRng(Ua)}))},Pt=function(zr){var Xn=Pd(zr);if(Xn.raw.shiftKey&&np(Xn.raw.which)){var Tr=u.selection.getRng(),aa=Ot.fromDom(Tr.startContainer),Ua=Ot.fromDom(Tr.endContainer);xt.keyup(Xn,aa,Tr.startOffset,Ua,Tr.endOffset).each(function(cf){Ft(Xn,cf)})}},yn=function(zr){var Xn=Pd(zr);c().each(function(Jr){return Jr.hideBars()});var Tr=u.selection.getRng(),aa=Ot.fromDom(Tr.startContainer),Ua=Ot.fromDom(Tr.endContainer),cf=pl(tk,Vn)(Ot.fromDom(u.selection.getStart()));xt.keydown(Xn,aa,Tr.startOffset,Ua,Tr.endOffset,cf).each(function(Jr){Ft(Xn,Jr)}),c().each(function(Jr){return Jr.showBars()})},Br=function(zr){return zr.button===0},An=function(zr){return zr.buttons===void 0||sk.browser.isEdge()&&zr.buttons===0?!0:(zr.buttons&1)!=0},Hn=function(zr){Ke.clearstate()},yr=function(zr){Br(zr)&&R2(zr)&&Ke.mousedown(Pd(zr))},ur=function(zr){An(zr)&&R2(zr)&&Ke.mouseover(Pd(zr))},co=function(zr){Br(zr)&&R2(zr)&&Ke.mouseup(Pd(zr))},fi=function(){var zr=Js(Ot.fromDom(q)),Xn=Js(0),Tr=function(aa){var Ua=Ot.fromDom(aa.target);if(Ar(Ua)==="td"||Ar(Ua)==="th"){var cf=zr.get(),Jr=Xn.get();vr(cf,Ua)&&aa.timeStamp-Jr<300&&(aa.preventDefault(),lt(Ua,Ua))}zr.set(Ua),Xn.set(aa.timeStamp)};return{touchEnd:Tr}},Cu=fi();u.on("dragstart",Hn),u.on("mousedown",yr),u.on("mouseover",ur),u.on("mouseup",co),u.on("touchend",Cu.touchEnd),u.on("keyup",Pt),u.on("keydown",yn),u.on("NodeChange",be)}),{clear:T.clear}}var ck=function(u,c){return In(u,c).isSome()},rp=function(u,c){var d=Js(Q.none()),h=Js([]),y=Q.none(),T=Ja("caption"),D=function(Xn){return y.forall(function(Tr){return!Tr[Xn]})},N=function(){return Dd(Fo(u),wi(u))},q=function(){return Dd(un(u),wi(u))},ne=function(){return N().bind(function(Xn){return Sf(dl(La(Xn),q().bind(La),function(Tr,aa){return vr(Tr,aa)?T(Xn)?Q.some(Yc(Xn)):Q.some(bv(c,Tr,Xn)):Q.none()}))})},be=function(Xn){var Tr=La(Xn.element);return Tr.map(function(aa){var Ua=or.fromTable(aa),cf=Xs(Ua,Xn).getOr([]),Jr=te(cf,function(Ol,Wi){return Wi.isLocked&&(Ol.onAny=!0,Wi.column===0?Ol.onFirst=!0:Wi.column+Wi.colspan>=Ua.grid.columns&&(Ol.onLast=!0)),Ol},{onAny:!1,onFirst:!1,onLast:!1});return{mergeable:gy(Ua,Xn).isSome(),unmergeable:Ud(Ua,Xn).isSome(),locked:Jr}})},Ke=function(){d.set(Ro(ne)()),y=d.get().bind(be),sn(h.get(),function(Xn){return Xn()})},xt=function(Xn){return Xn(),h.set(h.get().concat([Xn])),function(){h.set(er(h.get(),function(Tr){return Tr!==Xn}))}},lt=function(Xn,Tr){return xt(function(){return d.get().fold(function(){Xn.setDisabled(!0)},function(aa){Xn.setDisabled(Tr(aa))})})},Xe=function(Xn,Tr,aa){return xt(function(){return d.get().fold(function(){Xn.setDisabled(!0),Xn.setActive(!1)},function(Ua){Xn.setDisabled(Tr(Ua)),Xn.setActive(aa(Ua))})})},Ft=function(Xn){return y.exists(function(Tr){return Tr.locked[Xn]})},Pt=function(Xn){return lt(Xn,function(Tr){return!1})},yn=function(Xn){return lt(Xn,function(Tr){return T(Tr.element)})},Br=function(Xn){return function(Tr){return lt(Tr,function(aa){return T(aa.element)||Ft(Xn)})}},An=function(Xn){return function(Tr){return lt(Tr,function(aa){return T(aa.element)||Xn().isNone()})}},Hn=function(Xn,Tr){return function(aa){return lt(aa,function(Ua){return T(Ua.element)||Xn().isNone()||Ft(Tr)})}},yr=function(Xn){return lt(Xn,function(Tr){return D("mergeable")})},ur=function(Xn){return lt(Xn,function(Tr){return D("unmergeable")})},co=function(Xn){return Xe(Xn,qt,function(Tr){var aa=La(Tr.element,wi(u));return aa.exists(function(Ua){return ck(Ua,"caption")})})},fi=function(Xn,Tr){return function(aa){return Xe(aa,function(Ua){return T(Ua.element)},function(){return u.queryCommandValue(Xn)===Tr})}},Cu=fi("mceTableRowType","header"),zr=fi("mceTableColType","th");return u.on("NodeChange ExecCommand TableSelectorChange",Ke),{onSetupTable:Pt,onSetupCellOrRow:yn,onSetupColumn:Br,onSetupPasteable:An,onSetupPasteableColumn:Hn,onSetupMergeable:yr,onSetupUnmergeable:ur,resetTargets:Ke,onSetupTableWithCaption:co,onSetupTableRowHeaders:Cu,onSetupTableColumnHeaders:zr,targets:d.get}},ap=function(u,c,d,h){u.ui.registry.addMenuButton("table",{tooltip:"Table",icon:"table",fetch:function(N){return N("inserttable | cell row column | advtablesort | tableprops deletetable")}});var y=function(N){return function(){return u.execCommand(N)}};u.ui.registry.addButton("tableprops",{tooltip:"Table properties",onAction:y("mceTableProps"),icon:"table",onSetup:d.onSetupTable}),u.ui.registry.addButton("tabledelete",{tooltip:"Delete table",onAction:y("mceTableDelete"),icon:"table-delete-table",onSetup:d.onSetupTable}),u.ui.registry.addButton("tablecellprops",{tooltip:"Cell properties",onAction:y("mceTableCellProps"),icon:"table-cell-properties",onSetup:d.onSetupCellOrRow}),u.ui.registry.addButton("tablemergecells",{tooltip:"Merge cells",onAction:y("mceTableMergeCells"),icon:"table-merge-cells",onSetup:d.onSetupMergeable}),u.ui.registry.addButton("tablesplitcells",{tooltip:"Split cell",onAction:y("mceTableSplitCells"),icon:"table-split-cells",onSetup:d.onSetupUnmergeable}),u.ui.registry.addButton("tableinsertrowbefore",{tooltip:"Insert row before",onAction:y("mceTableInsertRowBefore"),icon:"table-insert-row-above",onSetup:d.onSetupCellOrRow}),u.ui.registry.addButton("tableinsertrowafter",{tooltip:"Insert row after",onAction:y("mceTableInsertRowAfter"),icon:"table-insert-row-after",onSetup:d.onSetupCellOrRow}),u.ui.registry.addButton("tabledeleterow",{tooltip:"Delete row",onAction:y("mceTableDeleteRow"),icon:"table-delete-row",onSetup:d.onSetupCellOrRow}),u.ui.registry.addButton("tablerowprops",{tooltip:"Row properties",onAction:y("mceTableRowProps"),icon:"table-row-properties",onSetup:d.onSetupCellOrRow}),u.ui.registry.addButton("tableinsertcolbefore",{tooltip:"Insert column before",onAction:y("mceTableInsertColBefore"),icon:"table-insert-column-before",onSetup:d.onSetupColumn("onFirst")}),u.ui.registry.addButton("tableinsertcolafter",{tooltip:"Insert column after",onAction:y("mceTableInsertColAfter"),icon:"table-insert-column-after",onSetup:d.onSetupColumn("onLast")}),u.ui.registry.addButton("tabledeletecol",{tooltip:"Delete column",onAction:y("mceTableDeleteCol"),icon:"table-delete-column",onSetup:d.onSetupColumn("onAny")}),u.ui.registry.addButton("tablecutrow",{tooltip:"Cut row",icon:"cut-row",onAction:y("mceTableCutRow"),onSetup:d.onSetupCellOrRow}),u.ui.registry.addButton("tablecopyrow",{tooltip:"Copy row",icon:"duplicate-row",onAction:y("mceTableCopyRow"),onSetup:d.onSetupCellOrRow}),u.ui.registry.addButton("tablepasterowbefore",{tooltip:"Paste row before",icon:"paste-row-before",onAction:y("mceTablePasteRowBefore"),onSetup:d.onSetupPasteable(h.getRows)}),u.ui.registry.addButton("tablepasterowafter",{tooltip:"Paste row after",icon:"paste-row-after",onAction:y("mceTablePasteRowAfter"),onSetup:d.onSetupPasteable(h.getRows)}),u.ui.registry.addButton("tablecutcol",{tooltip:"Cut column",icon:"cut-column",onAction:y("mceTableCutCol"),onSetup:d.onSetupColumn("onAny")}),u.ui.registry.addButton("tablecopycol",{tooltip:"Copy column",icon:"duplicate-column",onAction:y("mceTableCopyCol"),onSetup:d.onSetupColumn("onAny")}),u.ui.registry.addButton("tablepastecolbefore",{tooltip:"Paste column before",icon:"paste-column-before",onAction:y("mceTablePasteColBefore"),onSetup:d.onSetupPasteableColumn(h.getColumns,"onFirst")}),u.ui.registry.addButton("tablepastecolafter",{tooltip:"Paste column after",icon:"paste-column-after",onAction:y("mceTablePasteColAfter"),onSetup:d.onSetupPasteableColumn(h.getColumns,"onLast")}),u.ui.registry.addButton("tableinsertdialog",{tooltip:"Insert table",onAction:y("mceInsertTable"),icon:"table"});var T=am(Rv(u));T.length!==0&&u.ui.registry.addMenuButton("tableclass",{icon:"table-classes",tooltip:"Table styles",fetch:Ph(u,c,T,"tableclass",function(N){return u.execCommand("mceTableToggleClass",!1,N)}),onSetup:d.onSetupTable});var D=am(ry(u));D.length!==0&&u.ui.registry.addMenuButton("tablecellclass",{icon:"table-cell-classes",tooltip:"Cell styles",fetch:Ph(u,c,D,"tablecellclass",function(N){return u.execCommand("mceTableCellToggleClass",!1,N)}),onSetup:d.onSetupCellOrRow}),u.ui.registry.addMenuButton("tablecellvalign",{icon:"vertical-align",tooltip:"Vertical align",fetch:Ph(u,c,Qd,"tablecellverticalalign",Lv(u,"vertical-align")),onSetup:d.onSetupCellOrRow}),u.ui.registry.addMenuButton("tablecellborderwidth",{icon:"border-width",tooltip:"Border width",fetch:Ph(u,c,w1(u),"tablecellborderwidth",Lv(u,"border-width")),onSetup:d.onSetupCellOrRow}),u.ui.registry.addMenuButton("tablecellborderstyle",{icon:"border-style",tooltip:"Border style",fetch:Ph(u,c,Sl(u),"tablecellborderstyle",Lv(u,"border-style")),onSetup:d.onSetupCellOrRow}),u.ui.registry.addToggleButton("tablecaption",{tooltip:"Table caption",onAction:y("mceTableToggleCaption"),icon:"table-caption",onSetup:d.onSetupTableWithCaption}),u.ui.registry.addMenuButton("tablecellbackgroundcolor",{icon:"cell-background-color",tooltip:"Background color",fetch:function(N){return N(nb(u,ly(u),"background-color"))},onSetup:d.onSetupCellOrRow}),u.ui.registry.addMenuButton("tablecellbordercolor",{icon:"cell-border-color",tooltip:"Border color",fetch:function(N){return N(nb(u,sy(u),"border-color"))},onSetup:d.onSetupCellOrRow}),u.ui.registry.addToggleButton("tablerowheader",{tooltip:"Row header",icon:"table-top-header",onAction:$h(u),onSetup:d.onSetupTableRowHeaders}),u.ui.registry.addToggleButton("tablecolheader",{tooltip:"Column header",icon:"table-left-header",onAction:Uy(u),onSetup:d.onSetupTableColumnHeaders})},Bb=function(u){var c=function(h){return u.dom.is(h,"table")&&u.getBody().contains(h)},d=kc(u);d.length>0&&u.ui.registry.addContextToolbar("table",{predicate:c,items:d,scope:"node",position:"node"})},Mb=function(u,c,d,h){var y=function(lt){return function(){return u.execCommand(lt)}},T=function(lt){u.execCommand("mceInsertTable",!1,{rows:lt.numRows,columns:lt.numColumns})},D={text:"Table properties",onSetup:d.onSetupTable,onAction:y("mceTableProps")},N={text:"Delete table",icon:"table-delete-table",onSetup:d.onSetupTable,onAction:y("mceTableDelete")};u.ui.registry.addMenuItem("tableinsertrowbefore",{text:"Insert row before",icon:"table-insert-row-above",onAction:y("mceTableInsertRowBefore"),onSetup:d.onSetupCellOrRow}),u.ui.registry.addMenuItem("tableinsertrowafter",{text:"Insert row after",icon:"table-insert-row-after",onAction:y("mceTableInsertRowAfter"),onSetup:d.onSetupCellOrRow}),u.ui.registry.addMenuItem("tabledeleterow",{text:"Delete row",icon:"table-delete-row",onAction:y("mceTableDeleteRow"),onSetup:d.onSetupCellOrRow}),u.ui.registry.addMenuItem("tablerowprops",{text:"Row properties",icon:"table-row-properties",onAction:y("mceTableRowProps"),onSetup:d.onSetupCellOrRow}),u.ui.registry.addMenuItem("tablecutrow",{text:"Cut row",icon:"cut-row",onAction:y("mceTableCutRow"),onSetup:d.onSetupCellOrRow}),u.ui.registry.addMenuItem("tablecopyrow",{text:"Copy row",icon:"duplicate-row",onAction:y("mceTableCopyRow"),onSetup:d.onSetupCellOrRow}),u.ui.registry.addMenuItem("tablepasterowbefore",{text:"Paste row before",icon:"paste-row-before",onAction:y("mceTablePasteRowBefore"),onSetup:d.onSetupPasteable(h.getRows)}),u.ui.registry.addMenuItem("tablepasterowafter",{text:"Paste row after",icon:"paste-row-after",onAction:y("mceTablePasteRowAfter"),onSetup:d.onSetupPasteable(h.getRows)});var q={type:"nestedmenuitem",text:"Row",getSubmenuItems:Ue("tableinsertrowbefore tableinsertrowafter tabledeleterow tablerowprops | tablecutrow tablecopyrow tablepasterowbefore tablepasterowafter")};u.ui.registry.addMenuItem("tableinsertcolumnbefore",{text:"Insert column before",icon:"table-insert-column-before",onAction:y("mceTableInsertColBefore"),onSetup:d.onSetupColumn("onFirst")}),u.ui.registry.addMenuItem("tableinsertcolumnafter",{text:"Insert column after",icon:"table-insert-column-after",onAction:y("mceTableInsertColAfter"),onSetup:d.onSetupColumn("onLast")}),u.ui.registry.addMenuItem("tabledeletecolumn",{text:"Delete column",icon:"table-delete-column",onAction:y("mceTableDeleteCol"),onSetup:d.onSetupColumn("onAny")}),u.ui.registry.addMenuItem("tablecutcolumn",{text:"Cut column",icon:"cut-column",onAction:y("mceTableCutCol"),onSetup:d.onSetupColumn("onAny")}),u.ui.registry.addMenuItem("tablecopycolumn",{text:"Copy column",icon:"duplicate-column",onAction:y("mceTableCopyCol"),onSetup:d.onSetupColumn("onAny")}),u.ui.registry.addMenuItem("tablepastecolumnbefore",{text:"Paste column before",icon:"paste-column-before",onAction:y("mceTablePasteColBefore"),onSetup:d.onSetupPasteableColumn(h.getColumns,"onFirst")}),u.ui.registry.addMenuItem("tablepastecolumnafter",{text:"Paste column after",icon:"paste-column-after",onAction:y("mceTablePasteColAfter"),onSetup:d.onSetupPasteableColumn(h.getColumns,"onLast")});var ne={type:"nestedmenuitem",text:"Column",getSubmenuItems:Ue("tableinsertcolumnbefore tableinsertcolumnafter tabledeletecolumn | tablecutcolumn tablecopycolumn tablepastecolumnbefore tablepastecolumnafter")};u.ui.registry.addMenuItem("tablecellprops",{text:"Cell properties",icon:"table-cell-properties",onAction:y("mceTableCellProps"),onSetup:d.onSetupCellOrRow}),u.ui.registry.addMenuItem("tablemergecells",{text:"Merge cells",icon:"table-merge-cells",onAction:y("mceTableMergeCells"),onSetup:d.onSetupMergeable}),u.ui.registry.addMenuItem("tablesplitcells",{text:"Split cell",icon:"table-split-cells",onAction:y("mceTableSplitCells"),onSetup:d.onSetupUnmergeable});var be={type:"nestedmenuitem",text:"Cell",getSubmenuItems:Ue("tablecellprops tablemergecells tablesplitcells")};Uf(u)===!1?u.ui.registry.addMenuItem("inserttable",{text:"Table",icon:"table",onAction:y("mceInsertTable")}):u.ui.registry.addNestedMenuItem("inserttable",{text:"Table",icon:"table",getSubmenuItems:function(){return[{type:"fancymenuitem",fancytype:"inserttable",onAction:T}]}}),u.ui.registry.addMenuItem("inserttabledialog",{text:"Insert table",icon:"table",onAction:y("mceInsertTable")}),u.ui.registry.addMenuItem("tableprops",D),u.ui.registry.addMenuItem("deletetable",N),u.ui.registry.addNestedMenuItem("row",q),u.ui.registry.addNestedMenuItem("column",ne),u.ui.registry.addNestedMenuItem("cell",be),u.ui.registry.addContextMenu("table",{update:function(){return d.resetTargets(),d.targets().fold(Ue(""),function(lt){return Ar(lt.element)==="caption"?"tableprops deletetable":"cell row column | advtablesort | tableprops deletetable"})}});var Ke=am(Rv(u));Ke.length!==0&&u.ui.registry.addNestedMenuItem("tableclass",{icon:"table-classes",text:"Table styles",getSubmenuItems:function(){return Ss(u,c,Ke,"tableclass",function(lt){return u.execCommand("mceTableToggleClass",!1,lt)})},onSetup:d.onSetupTable});var xt=am(ry(u));xt.length!==0&&u.ui.registry.addNestedMenuItem("tablecellclass",{icon:"table-cell-classes",text:"Cell styles",getSubmenuItems:function(){return Ss(u,c,xt,"tablecellclass",function(lt){return u.execCommand("mceTableCellToggleClass",!1,lt)})},onSetup:d.onSetupCellOrRow}),u.ui.registry.addNestedMenuItem("tablecellvalign",{icon:"vertical-align",text:"Vertical align",getSubmenuItems:function(){return Ss(u,c,Qd,"tablecellverticalalign",Lv(u,"vertical-align"))},onSetup:d.onSetupCellOrRow}),u.ui.registry.addNestedMenuItem("tablecellborderwidth",{icon:"border-width",text:"Border width",getSubmenuItems:function(){return Ss(u,c,w1(u),"tablecellborderwidth",Lv(u,"border-width"))},onSetup:d.onSetupCellOrRow}),u.ui.registry.addNestedMenuItem("tablecellborderstyle",{icon:"border-style",text:"Border style",getSubmenuItems:function(){return Ss(u,c,Sl(u),"tablecellborderstyle",Lv(u,"border-style"))},onSetup:d.onSetupCellOrRow}),u.ui.registry.addToggleMenuItem("tablecaption",{icon:"table-caption",text:"Table caption",onAction:y("mceTableToggleCaption"),onSetup:d.onSetupTableWithCaption}),u.ui.registry.addNestedMenuItem("tablecellbackgroundcolor",{icon:"cell-background-color",text:"Background color",getSubmenuItems:function(){return nb(u,ly(u),"background-color")},onSetup:d.onSetupCellOrRow}),u.ui.registry.addNestedMenuItem("tablecellbordercolor",{icon:"cell-border-color",text:"Border color",getSubmenuItems:function(){return nb(u,sy(u),"border-color")},onSetup:d.onSetupCellOrRow}),u.ui.registry.addToggleMenuItem("tablerowheader",{text:"Row header",icon:"table-top-header",onAction:$h(u),onSetup:d.onSetupTableRowHeaders}),u.ui.registry.addToggleMenuItem("tablecolheader",{text:"Column header",icon:"table-left-header",onAction:Uy(u),onSetup:d.onSetupTableColumnHeaders})},fk=function(u){var c=Qi(function(){return Zu(u)},function(){return wl(Fo(u),wi(u))},Od.selectedSelector),d=rp(u,c),h=_1(u),y=xr(u,h.lazyResize,d),T=gg(u,y,h.lazyWire),D=ob();return zh(u,T,y,c,D),Cg(u,T,c),Gs(u,c,T),Mb(u,c,d,D),ap(u,c,d,D),Bb(u),u.on("PreInit",function(){u.serializer.addTempAttr(Od.firstSelected),u.serializer.addTempAttr(Od.lastSelected),E3(u)}),ef(u)&&u.on("keydown",function(N){H3(N,u,y)}),u.on("remove",function(){h.destroy()}),Ui(u,D,h,d)};function vk(){Mw.add("table",fk)}vk()})();(function(){var x=tinymce.util.Tools.resolve("tinymce.PluginManager"),P=function(O){var z=typeof O;return O===null?"null":z==="object"&&(Array.prototype.isPrototypeOf(O)||O.constructor&&O.constructor.name==="Array")?"array":z==="object"&&(String.prototype.isPrototypeOf(O)||O.constructor&&O.constructor.name==="String")?"string":z},kt=function(O){return function(z){return P(z)===O}},$t=function(O){return function(z){return typeof z===O}},_t=kt("string"),ut=kt("object"),Fe=kt("array"),Ee=$t("boolean"),et=$t("function"),Me=$t("number"),It=function(){},se=function(O){return function(){return O}},Gt=function(O){return O},xn=function(O,z){return O===z},We=function(O){return function(z){return!O(z)}},ge=se(!1),ht=se(!0),Ue=function(){return Wt},Wt=function(){var O=function(ie){return ie()},z=Gt,U={fold:function(ie,Ae){return ie()},isSome:ge,isNone:ht,getOr:z,getOrThunk:O,getOrDie:function(ie){throw new Error(ie||"error: getOrDie called on none.")},getOrNull:se(null),getOrUndefined:se(void 0),or:z,orThunk:O,map:Ue,each:It,bind:Ue,exists:ge,forall:ht,filter:function(){return Ue()},toArray:function(){return[]},toString:se("none()")};return U}(),K=function(O){var z=se(O),U=function(){return Ae},ie=function(Je){return Je(O)},Ae={fold:function(Je,pn){return pn(O)},isSome:ht,isNone:ge,getOr:z,getOrThunk:z,getOrDie:z,getOrNull:z,getOrUndefined:z,or:U,orThunk:U,map:function(Je){return K(Je(O))},each:function(Je){Je(O)},bind:ie,exists:ie,forall:ie,filter:function(Je){return Je(O)?Ae:Wt},toArray:function(){return[O]},toString:function(){return"some("+O+")"}};return Ae},dt=function(O){return O==null?Wt:K(O)},Oe={some:K,none:Ue,from:dt},Ht=Array.prototype.slice,qt=Array.prototype.push,Nt=function(O,z){for(var U=O.length,ie=new Array(U),Ae=0;Ae<U;Ae++){var Je=O[Ae];ie[Ae]=z(Je,Ae)}return ie},Zt=function(O,z){for(var U=0,ie=O.length;U<ie;U++){var Ae=O[U];z(Ae,U)}},st=function(O,z){for(var U=[],ie=0,Ae=O.length;ie<Ae;ie++){var Je=O[ie];z(Je,ie)&&U.push(Je)}return U},jr=function(O,z){if(O.length===0)return[];for(var U=z(O[0]),ie=[],Ae=[],Je=0,pn=O.length;Je<pn;Je++){var qn=O[Je],pr=z(qn);pr!==U&&(ie.push(Ae),Ae=[]),U=pr,Ae.push(qn)}return Ae.length!==0&&ie.push(Ae),ie},ve=function(O,z,U){return Zt(O,function(ie,Ae){U=z(U,ie,Ae)}),U},Q=function(O,z,U){for(var ie=0,Ae=O.length;ie<Ae;ie++){var Je=O[ie];if(z(Je,ie))return Oe.some(Je);if(U(Je,ie))break}return Oe.none()},En=function(O,z){return Q(O,z,ge)},wo=function(O){for(var z=[],U=0,ie=O.length;U<ie;++U){if(!Fe(O[U]))throw new Error("Arr.flatten item "+U+" was not an array, input: "+O);qt.apply(z,O[U])}return z},j=function(O,z){return wo(Nt(O,z))},Nr=function(O){var z=Ht.call(O,0);return z.reverse(),z},$n=function(O,z){return z>=0&&z<O.length?Oe.some(O[z]):Oe.none()},_=function(O){return $n(O,0)},Zr=function(O){return $n(O,O.length-1)},Mt=function(O,z){for(var U=0;U<O.length;U++){var ie=z(O[U],U);if(ie.isSome())return ie}return Oe.none()},sn=function(){return sn=Object.assign||function(z){for(var U,ie=1,Ae=arguments.length;ie<Ae;ie++){U=arguments[ie];for(var Je in U)Object.prototype.hasOwnProperty.call(U,Je)&&(z[Je]=U[Je])}return z},sn.apply(this,arguments)};function _o(O,z,U){if(U||arguments.length===2)for(var ie=0,Ae=z.length,Je;ie<Ae;ie++)(Je||!(ie in z))&&(Je||(Je=Array.prototype.slice.call(z,0,ie)),Je[ie]=z[ie]);return O.concat(Je||Array.prototype.slice.call(z))}var mi=function(O){var z=!1,U;return function(){for(var ie=[],Ae=0;Ae<arguments.length;Ae++)ie[Ae]=arguments[Ae];return z||(z=!0,U=O.apply(null,ie)),U}},er=function(O,z,U,ie){var Ae=O.isiOS()&&/ipad/i.test(U)===!0,Je=O.isiOS()&&!Ae,pn=O.isiOS()||O.isAndroid(),qn=pn||ie("(pointer:coarse)"),pr=Ae||!Je&&pn&&ie("(min-device-width:768px)"),ir=Je||pn&&!pr,wa=z.isSafari()&&O.isiOS()&&/safari/i.test(U)===!1,Ni=!ir&&!pr&&!wa;return{isiPad:se(Ae),isiPhone:se(Je),isTablet:se(pr),isPhone:se(ir),isTouch:se(qn),isAndroid:O.isAndroid,isiOS:O.isiOS,isWebView:se(wa),isDesktop:se(Ni)}},ua=function(O,z){for(var U=0;U<O.length;U++){var ie=O[U];if(ie.test(z))return ie}},te=function(O,z){var U=ua(O,z);if(!U)return{major:0,minor:0};var ie=function(Ae){return Number(z.replace(U,"$"+Ae))};return Ie(ie(1),ie(2))},vo=function(O,z){var U=String(z).toLowerCase();return O.length===0?Tt():te(O,U)},Tt=function(){return Ie(0,0)},Ie=function(O,z){return{major:O,minor:z}},dn={nu:Ie,detect:vo,unknown:Tt},Pe=function(O,z){return Mt(z.brands,function(U){var ie=U.brand.toLowerCase();return En(O,function(Ae){var Je;return ie===((Je=Ae.brand)===null||Je===void 0?void 0:Je.toLowerCase())}).map(function(Ae){return{current:Ae.name,version:dn.nu(parseInt(U.version,10),0)}})})},Re=function(O,z){var U=String(z).toLowerCase();return En(O,function(ie){return ie.search(U)})},Qe=function(O,z){return Re(O,z).map(function(U){var ie=dn.detect(U.versionRegexes,z);return{current:U.name,version:ie}})},pt=function(O,z){return Re(O,z).map(function(U){var ie=dn.detect(U.versionRegexes,z);return{current:U.name,version:ie}})},tt=function(O,z){return O.indexOf(z)!==-1},mn=function(O){return function(z){return z.replace(O,"")}},zn=mn(/^\s+|\s+$/g),nn=function(O){return O.length>0},Ln=function(O){return!nn(O)},wr=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Cn=function(O){return function(z){return tt(z,O)}},Kr=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(O){return tt(O,"edge/")&&tt(O,"chrome")&&tt(O,"safari")&&tt(O,"applewebkit")}},{name:"Chrome",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,wr],search:function(O){return tt(O,"chrome")&&!tt(O,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(O){return tt(O,"msie")||tt(O,"trident")}},{name:"Opera",versionRegexes:[wr,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Cn("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Cn("firefox")},{name:"Safari",versionRegexes:[wr,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(O){return(tt(O,"safari")||tt(O,"mobile/"))&&tt(O,"applewebkit")}}],Ro=[{name:"Windows",search:Cn("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(O){return tt(O,"iphone")||tt(O,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Cn("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:Cn("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Cn("linux"),versionRegexes:[]},{name:"Solaris",search:Cn("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Cn("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:Cn("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],Rl={browsers:se(Kr),oses:se(Ro)},uu="Edge",lu="Chrome",Bo="IE",ku="Opera",Ho="Firefox",la="Safari",Xr=function(){return oo({current:void 0,version:dn.unknown()})},oo=function(O){var z=O.current,U=O.version,ie=function(Ae){return function(){return z===Ae}};return{current:z,version:U,isEdge:ie(uu),isChrome:ie(lu),isIE:ie(Bo),isOpera:ie(ku),isFirefox:ie(Ho),isSafari:ie(la)}},ta={unknown:Xr,nu:oo,edge:se(uu),chrome:se(lu),ie:se(Bo),opera:se(ku),firefox:se(Ho),safari:se(la)},Lr="Windows",Uo="iOS",ni="Android",Ra="Linux",hr="OSX",Co="Solaris",Mo="FreeBSD",Po="ChromeOS",bn=function(){return Cr({current:void 0,version:dn.unknown()})},Cr=function(O){var z=O.current,U=O.version,ie=function(Ae){return function(){return z===Ae}};return{current:z,version:U,isWindows:ie(Lr),isiOS:ie(Uo),isAndroid:ie(ni),isOSX:ie(hr),isLinux:ie(Ra),isSolaris:ie(Co),isFreeBSD:ie(Mo),isChromeOS:ie(Po)}},Sa={unknown:bn,nu:Cr,windows:se(Lr),ios:se(Uo),android:se(ni),linux:se(Ra),osx:se(hr),solaris:se(Co),freebsd:se(Mo),chromeos:se(Po)},gi=function(O,z,U){var ie=Rl.browsers(),Ae=Rl.oses(),Je=z.bind(function(pr){return Pe(ie,pr)}).orThunk(function(){return Qe(ie,O)}).fold(ta.unknown,ta.nu),pn=pt(Ae,O).fold(Sa.unknown,Sa.nu),qn=er(pn,Je,O,U);return{browser:Je,os:pn,deviceType:qn}},ul={detect:gi},Pr=function(O){return window.matchMedia(O).matches},tr=mi(function(){return ul.detect(navigator.userAgent,Oe.from(navigator.userAgentData),Pr)}),hi=function(){return tr()},Bl=function(O,z,U){return(O.compareDocumentPosition(z)&U)!=0},ri=function(O,z){return Bl(O,z,Node.DOCUMENT_POSITION_CONTAINED_BY)},ai=1,su=function(O,z){var U=z||document,ie=U.createElement("div");if(ie.innerHTML=O,!ie.hasChildNodes()||ie.childNodes.length>1)throw console.error("HTML does not have a single root node",O),new Error("HTML must have a single root node");return oi(ie.childNodes[0])},xu=function(O,z){var U=z||document,ie=U.createElement(O);return oi(ie)},qi=function(O,z){var U=z||document,ie=U.createTextNode(O);return oi(ie)},oi=function(O){if(O==null)throw new Error("Node cannot be null or undefined");return{dom:O}},Tu=function(O,z,U){return Oe.from(O.dom.elementFromPoint(z,U)).map(oi)},Fr={fromHtml:su,fromTag:xu,fromText:qi,fromDom:oi,fromPoint:Tu},Ri=function(O,z){var U=O.dom;if(U.nodeType!==ai)return!1;var ie=U;if(ie.matches!==void 0)return ie.matches(z);if(ie.msMatchesSelector!==void 0)return ie.msMatchesSelector(z);if(ie.webkitMatchesSelector!==void 0)return ie.webkitMatchesSelector(z);if(ie.mozMatchesSelector!==void 0)return ie.mozMatchesSelector(z);throw new Error("Browser lacks native selectors")},Sn=function(O,z){return O.dom===z.dom},Zl=function(O,z){var U=O.dom,ie=z.dom;return U===ie?!1:U.contains(ie)},ii=function(O,z){return ri(O.dom,z.dom)},cu=function(O,z){return hi().browser.isIE()?ii(O,z):Zl(O,z)},ui=Ri,fu=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils"),Ql=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),Ki=tinymce.util.Tools.resolve("tinymce.util.VK"),es=Object.keys,oe=function(O,z){for(var U=es(O),ie=0,Ae=U.length;ie<Ae;ie++){var Je=U[ie],pn=O[Je];z(pn,Je)}},Te=function(O){return function(z,U){O[U]=z}},le=function(O,z,U,ie){var Ae={};return oe(O,function(Je,pn){(z(Je,pn)?U:ie)(Je,pn)}),Ae},$e=function(O,z){var U={};return le(O,z,Te(U),It),U};typeof window!="undefined"||Function("return this;")();var Lt=function(O){var z=O.dom.nodeName;return z.toLowerCase()},cn=function(O){return O.dom.nodeType},Nn=function(O){return function(z){return cn(z)===O}},Un=Nn(ai),Or=function(O){return function(z){return Un(z)&&Lt(z)===O}},Rr=function(O,z,U){if(_t(U)||Ee(U)||Me(U))O.setAttribute(z,U+"");else throw console.error("Invalid call to Attribute.set. Key ",z,":: Value ",U,":: Element ",O),new Error("Attribute value was not simple")},gr=function(O,z){var U=O.dom;oe(z,function(ie,Ae){Rr(U,Ae,ie)})},Ba=function(O){return ve(O.dom.attributes,function(z,U){return z[U.name]=U.value,z},{})},ka=function(O){return Oe.from(O.dom.parentNode).map(Fr.fromDom)},Eu=function(O){return Nt(O.dom.childNodes,Fr.fromDom)},So=function(O,z){var U=O.dom.childNodes;return Oe.from(U[z]).map(Fr.fromDom)},Ou=function(O){return So(O,0)},ll=function(O){return So(O,O.dom.childNodes.length-1)},Ma=function(O,z){var U=ka(O);U.each(function(ie){ie.dom.insertBefore(z.dom,O.dom)})},Pa=function(O,z){O.dom.appendChild(z.dom)},Ot=function(O,z){Zt(z,function(U){Ma(O,U)})},io=function(O,z){Zt(z,function(U){Pa(O,U)})},Gu=function(O){var z=O.dom;z.parentNode!==null&&z.parentNode.removeChild(z)},ts=function(O,z){return Fr.fromDom(O.dom.cloneNode(z))},ns=function(O){return ts(O,!0)},vr=function(O,z){var U=Fr.fromTag(z),ie=Ba(O);return gr(U,ie),U},Bs=function(O,z){var U=vr(O,z);Ma(O,U);var ie=Eu(O);return io(U,ie),Gu(O),U},Au=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),Fa=tinymce.util.Tools.resolve("tinymce.util.Tools"),rs=function(O){return function(z){return z&&z.nodeName.toLowerCase()===O}},pi=function(O){return function(z){return z&&O.test(z.nodeName)}},Bi=function(O){return O&&O.nodeType===3},sa=pi(/^(OL|UL|DL)$/),as=pi(/^(OL|UL)$/),Ml=rs("ol"),Pl=pi(/^(LI|DT|DD)$/),Ms=pi(/^(DT|DD)$/),vu=pi(/^(TH|TD)$/),du=rs("br"),Ps=function(O){return O.parentNode.firstChild===O},Xi=function(O,z){return z&&!!O.schema.getTextBlockElements()[z.nodeName]},Mi=function(O,z){return O&&O.nodeName in z},W=function(O,z){return du(z)?O.isBlock(z.nextSibling)&&!du(z.previousSibling):!1},pe=function(O,z,U){var ie=O.isEmpty(z);return U&&O.select("span[data-mce-type=bookmark]",z).length>0?!1:ie},_e=function(O,z){return O.isChildOf(z,O.getRoot())},nt=function(O){return O.getParam("lists_indent_on_tab",!0)},Bt=function(O){var z=O.getParam("forced_root_block","p");return z===!1?"":z===!0?"p":z},hn=function(O){return O.getParam("forced_root_block_attrs",{})},$r=function(O,z){var U=O.dom,ie=O.schema.getBlockElements(),Ae=U.createFragment(),Je=Bt(O),pn,qn,pr;if(Je&&(qn=U.create(Je),qn.tagName===Je.toUpperCase()&&U.setAttribs(qn,hn(O)),Mi(z.firstChild,ie)||Ae.appendChild(qn)),z)for(;pn=z.firstChild;){var ir=pn.nodeName;!pr&&(ir!=="SPAN"||pn.getAttribute("data-mce-type")!=="bookmark")&&(pr=!0),Mi(pn,ie)?(Ae.appendChild(pn),qn=null):Je?(qn||(qn=U.create(Je),Ae.appendChild(qn)),qn.appendChild(pn)):Ae.appendChild(pn)}return Je?pr||qn.appendChild(U.create("br",{"data-mce-bogus":"1"})):Ae.appendChild(U.create("br")),Ae},Gr=Au.DOM,nr=function(O,z,U){var ie=function(ir){Fa.each(Ae,function(wa){ir.parentNode.insertBefore(wa,U.parentNode)}),Gr.remove(ir)},Ae=Gr.select('span[data-mce-type="bookmark"]',z),Je=$r(O,U),pn=Gr.createRng();pn.setStartAfter(U),pn.setEndAfter(z);for(var qn=pn.extractContents(),pr=qn.firstChild;pr;pr=pr.firstChild)if(pr.nodeName==="LI"&&O.dom.isEmpty(pr)){Gr.remove(pr);break}O.dom.isEmpty(qn)||Gr.insertAfter(qn,z),Gr.insertAfter(Je,z),pe(O.dom,U.parentNode)&&ie(U.parentNode),Gr.remove(U),pe(O.dom,z)&&Gr.remove(z)},da=Or("dd"),Aa=Or("dt"),$l=function(O,z){da(z)?Bs(z,"dt"):Aa(z)&&ka(z).each(function(U){return nr(O,U.dom,z.dom)})},Wo=function(O){Aa(O)&&Bs(O,"dd")},sl=function(O,z,U){z==="Indent"?Zt(U,Wo):Zt(U,function(ie){return $l(O,ie)})},On=function(O,z){if(Bi(O))return{container:O,offset:z};var U=fu.getNode(O,z);return Bi(U)?{container:U,offset:z>=O.childNodes.length?U.data.length:0}:U.previousSibling&&Bi(U.previousSibling)?{container:U.previousSibling,offset:U.previousSibling.data.length}:U.nextSibling&&Bi(U.nextSibling)?{container:U.nextSibling,offset:0}:{container:O,offset:z}},os=function(O){var z=O.cloneRange(),U=On(O.startContainer,O.startOffset);z.setStart(U.container,U.offset);var ie=On(O.endContainer,O.endOffset);return z.setEnd(ie.container,ie.offset),z},yf=tinymce.util.Tools.resolve("tinymce.dom.DomQuery"),Ar=function(O,z){var U=z||O.selection.getStart(!0);return O.dom.getParent(U,"OL,UL,DL",_u(O,U))},Fc=function(O,z){return O&&z.length===1&&z[0]===O},zc=function(O){return st(O.querySelectorAll("ol,ul,dl"),sa)},md=function(O){var z=Ar(O),U=O.selection.getSelectedBlocks();return Fc(z,U)?zc(z):st(U,function(ie){return sa(ie)&&z!==ie})},Qr=function(O,z){var U=Fa.map(z,function(ie){var Ae=O.dom.getParent(ie,"li,dd,dt",_u(O,ie));return Ae||ie});return yf.unique(U)},Du=function(O){var z=O.selection.getSelectedBlocks();return st(Qr(O,z),Pl)},gd=function(O){return st(Du(O),Ms)},_u=function(O,z){var U=O.dom.getParents(z,"TD,TH");return U.length>0?U[0]:O.getBody()},Ja=function(O,z){var U=O.dom.getParents(z,"ol,ul",_u(O,z));return Zr(U)},is=function(O){var z=Ja(O,O.selection.getStart()),U=st(O.selection.getSelectedBlocks(),as);return z.toArray().concat(U)},Ye=function(O){var z=is(O);return $s(O,z)},$s=function(O,z){var U=Nt(z,function(ie){return Ja(O,ie).getOr(ie)});return yf.unique(U)},Ga=function(O,z,U){return U===void 0&&(U=xn),O.exists(function(ie){return U(ie,z)})},wf=function(O,z,U){return O.isSome()&&z.isSome()?Oe.some(U(O.getOrDie(),z.getOrDie())):Oe.none()},us=function(O,z){var U=z||document,ie=U.createDocumentFragment();return Zt(O,function(Ae){ie.appendChild(Ae.dom)}),Fr.fromDom(ie)},B=function(O,z,U){return O.fire("ListMutation",{action:z,element:U})},k=function(O){return O.style!==void 0&&et(O.style.getPropertyValue)},$=function(O,z,U){if(!_t(U))throw console.error("Invalid call to CSS.set. Property ",z,":: Value ",U,":: Element ",O),new Error("CSS value must be a string: "+U);k(O)&&O.style.setProperty(z,U)},J=function(O,z,U){var ie=O.dom;$(ie,z,U)},me=function(O,z){Pa(O.item,z.list)},ot=function(O){for(var z=1;z<O.length;z++)me(O[z-1],O[z])},Qt=function(O,z){wf(Zr(O),_(z),me)},fr=function(O,z){var U={list:Fr.fromTag(z,O),item:Fr.fromTag("li",O)};return Pa(U.list,U.item),U},ya=function(O,z,U){for(var ie=[],Ae=0;Ae<U;Ae++)ie.push(fr(O,z.listType));return ie},xa=function(O,z){for(var U=0;U<O.length-1;U++)J(O[U].item,"list-style-type","none");Zr(O).each(function(ie){gr(ie.list,z.listAttributes),gr(ie.item,z.itemAttributes),io(ie.item,z.content)})},na=function(O,z){Lt(O.list)!==z.listType&&(O.list=Bs(O.list,z.listType)),gr(O.list,z.listAttributes)},Za=function(O,z,U){var ie=Fr.fromTag("li",O);return gr(ie,z),io(ie,U),ie},ls=function(O,z){Pa(O.list,z),O.item=z},jo=function(O,z,U){var ie=z.slice(0,U.depth);return Zr(ie).each(function(Ae){var Je=Za(O,U.itemAttributes,U.content);ls(Ae,Je),na(Ae,U)}),ie},ra=function(O,z,U){var ie=ya(O,U,U.depth-z.length);return ot(ie),xa(ie,U),Qt(z,ie),z.concat(ie)},Ic=function(O,z){var U=ve(z,function(ie,Ae){return Ae.depth>ie.length?ra(O,ie,Ae):jo(O,ie,Ae)},[]);return _(U).map(function(ie){return ie.list})},qa=function(O){return ui(O,"OL,UL")},Go=function(O){return Ou(O).exists(qa)},ma=function(O){return ll(O).exists(qa)},cl=function(O){return O.depth>0},Jn=function(O){return O.isSelected},fl=function(O){var z=Eu(O),U=ma(O)?z.slice(0,-1):z;return Nt(U,ns)},za=function(O,z,U){return ka(O).filter(Un).map(function(ie){return{depth:z,dirty:!1,isSelected:U,content:fl(O),itemAttributes:Ba(O),listAttributes:Ba(ie),listType:Lt(ie)}})},Ka=function(O,z){switch(O){case"Indent":z.depth++;break;case"Outdent":z.depth--;break;case"Flatten":z.depth=0}z.dirty=!0},Lp=function(O,z){O.listType=z.listType,O.listAttributes=sn({},z.listAttributes)},bi=function(O){O.listAttributes=$e(O.listAttributes,function(z,U){return U!=="start"})},Xg=function(O,z){var U=O[z].depth,ie=function(Je){return Je.depth===U&&!Je.dirty},Ae=function(Je){return Je.depth<U};return Q(Nr(O.slice(0,z)),ie,Ae).orThunk(function(){return Q(O.slice(z+1),ie,Ae)})},Ns=function(O){return Zt(O,function(z,U){Xg(O,U).fold(function(){z.dirty&&bi(z)},function(ie){return Lp(z,ie)})}),O},In=function(O){var z=O,U=function(){return z},ie=function(Ae){z=Ae};return{get:U,set:ie}},vl=function(O,z,U,ie){return Ou(ie).filter(qa).fold(function(){z.each(function(pn){Sn(pn.start,ie)&&U.set(!0)});var Ae=za(ie,O,U.get());z.each(function(pn){Sn(pn.end,ie)&&U.set(!1)});var Je=ll(ie).filter(qa).map(function(pn){return Qa(O,z,U,pn)}).getOr([]);return Ae.toArray().concat(Je)},function(Ae){return Qa(O,z,U,Ae)})},Qa=function(O,z,U,ie){return j(Eu(ie),function(Ae){var Je=qa(Ae)?Qa:vl,pn=O+1;return Je(pn,z,U,Ae)})},eo=function(O,z){var U=In(!1),ie=0;return Nt(O,function(Ae){return{sourceList:Ae,entries:Qa(ie,z,U,Ae)}})},qo=function(O,z){var U=Ns(z);return Nt(U,function(ie){var Ae=us(ie.content);return Fr.fromDom($r(O,Ae.dom))})},ko=function(O,z){var U=Ns(z);return Ic(O.contentDocument,U).toArray()},Cf=function(O,z){return j(jr(z,cl),function(U){var ie=_(U).exists(cl);return ie?ko(O,U):qo(O,U)})},Nl=function(O,z){Zt(st(O,Jn),function(U){return Ka(z,U)})},Vr=function(O){var z=Nt(Du(O),Fr.fromDom);return wf(En(z,We(Go)),En(Nr(z),We(Go)),function(U,ie){return{start:U,end:ie}})},Da=function(O,z,U){var ie=eo(z,Vr(O));Zt(ie,function(Ae){Nl(Ae.entries,U);var Je=Cf(O,Ae.entries);Zt(Je,function(pn){B(O,U==="Indent"?"IndentList":"OutdentList",pn.dom)}),Ot(Ae.sourceList,Je),Gu(Ae.sourceList)})},mu=function(O,z){var U=Nt(Ye(O),Fr.fromDom),ie=Nt(gd(O),Fr.fromDom),Ae=!1;if(U.length||ie.length){var Je=O.selection.getBookmark();Da(O,U,z),sl(O,z,ie),O.selection.moveToBookmark(Je),O.selection.setRng(os(O.selection.getRng())),O.nodeChanged(),Ae=!0}return Ae},fc=function(O){return mu(O,"Indent")},$o=function(O){return mu(O,"Outdent")},dl=function(O){return mu(O,"Flatten")},Vp=tinymce.util.Tools.resolve("tinymce.dom.BookmarkManager"),Sf=Au.DOM,ga=function(O){var z={},U=function(ie){var Ae=O[ie?"startContainer":"endContainer"],Je=O[ie?"startOffset":"endOffset"];if(Ae.nodeType===1){var pn=Sf.create("span",{"data-mce-type":"bookmark"});Ae.hasChildNodes()?(Je=Math.min(Je,Ae.childNodes.length-1),ie?Ae.insertBefore(pn,Ae.childNodes[Je]):Sf.insertAfter(pn,Ae.childNodes[Je])):Ae.appendChild(pn),Ae=pn,Je=0}z[ie?"startContainer":"endContainer"]=Ae,z[ie?"startOffset":"endOffset"]=Je};return U(!0),O.collapsed||U(),z},ss=function(O){var z=function(ie){var Ae,Je=function(pr){for(var ir=pr.parentNode.firstChild,wa=0;ir;){if(ir===pr)return wa;(ir.nodeType!==1||ir.getAttribute("data-mce-type")!=="bookmark")&&wa++,ir=ir.nextSibling}return-1},pn=Ae=O[ie?"startContainer":"endContainer"],qn=O[ie?"startOffset":"endOffset"];!pn||(pn.nodeType===1&&(qn=Je(pn),pn=pn.parentNode,Sf.remove(Ae),!pn.hasChildNodes()&&Sf.isBlock(pn)&&pn.appendChild(Sf.create("br"))),O[ie?"startContainer":"endContainer"]=pn,O[ie?"startOffset":"endOffset"]=qn)};z(!0),z();var U=Sf.createRng();return U.setStart(O.startContainer,O.startOffset),O.endContainer&&U.setEnd(O.endContainer,O.endOffset),os(U)},Lc=function(O){switch(O){case"UL":return"ToggleUlList";case"OL":return"ToggleOlList";case"DL":return"ToggleDLList"}},Ru=function(O){return/\btox\-/.test(O.className)},uo=function(O,z,U){var ie=function(Je){var pn=Q(Je.parents,sa,vu).filter(function(qn){return qn.nodeName===z&&!Ru(qn)}).isSome();U(pn)},Ae=O.dom.getParents(O.selection.getNode());return ie({parents:Ae}),O.on("NodeChange",ie),function(){return O.off("NodeChange",ie)}},Vc=function(O,z,U){var ie=U["list-style-type"]?U["list-style-type"]:null;O.setStyle(z,"list-style-type",ie)},vc=function(O,z){Fa.each(z,function(U,ie){O.setAttribute(ie,U)})},Yi=function(O,z,U){vc(z,U["list-attributes"]),Fa.each(O.select("li",z),function(ie){vc(ie,U["list-item-attributes"])})},Bu=function(O,z,U){Vc(O,z,U),Yi(O,z,U)},Pi=function(O,z,U){Fa.each(U,function(ie){var Ae;return O.setStyle(z,(Ae={},Ae[ie]="",Ae))})},cv=function(O,z,U,ie){var Ae=z[U?"startContainer":"endContainer"],Je=z[U?"startOffset":"endOffset"];for(Ae.nodeType===1&&(Ae=Ae.childNodes[Math.min(Je,Ae.childNodes.length-1)]||Ae),!U&&du(Ae.nextSibling)&&(Ae=Ae.nextSibling);Ae.parentNode!==ie;){if(Xi(O,Ae)||/^(TD|TH)$/.test(Ae.parentNode.nodeName))return Ae;Ae=Ae.parentNode}return Ae},cs=function(O,z,U){for(var ie=[],Ae=O.dom,Je=cv(O,z,!0,U),pn=cv(O,z,!1,U),qn,pr=[],ir=Je;ir&&(pr.push(ir),ir!==pn);ir=ir.nextSibling);return Fa.each(pr,function(wa){if(Xi(O,wa)){ie.push(wa),qn=null;return}if(Ae.isBlock(wa)||du(wa)){du(wa)&&Ae.remove(wa),qn=null;return}var Ni=wa.nextSibling;if(Vp.isBookmarkNode(wa)&&(sa(Ni)||Xi(O,Ni)||!Ni&&wa.parentNode===U)){qn=null;return}qn||(qn=Ae.create("p"),wa.parentNode.insertBefore(qn,wa),ie.push(qn)),qn.appendChild(wa)}),ie},Ko=function(O,z,U){var ie=O.getStyle(z,"list-style-type"),Ae=U?U["list-style-type"]:"";return Ae=Ae===null?"":Ae,ie===Ae},hd=function(O,z,U){var ie=O.selection.getRng(),Ae="LI",Je=_u(O,O.selection.getStart(!0)),pn=O.dom;if(pn.getContentEditable(O.selection.getNode())!=="false"){z=z.toUpperCase(),z==="DL"&&(Ae="DT");var qn=ga(ie),pr=cs(O,ie,Je);Fa.each(pr,function(ir){var wa,Ni=ir.previousSibling,to=ir.parentNode;Pl(to)||(Ni&&sa(Ni)&&Ni.nodeName===z&&Ko(pn,Ni,U)?(wa=Ni,ir=pn.rename(ir,Ae),Ni.appendChild(ir)):(wa=pn.create(z),ir.parentNode.insertBefore(wa,ir),wa.appendChild(ir),ir=pn.rename(ir,Ae)),Pi(pn,ir,["margin","margin-right","margin-bottom","margin-left","margin-top","padding","padding-right","padding-bottom","padding-left","padding-top"]),Bu(pn,wa,U),Tf(O.dom,wa))}),O.selection.setRng(ss(qn))}},Hp=function(O,z){return O&&z&&sa(O)&&O.nodeName===z.nodeName},kf=function(O,z,U){var ie=O.getStyle(z,"list-style-type",!0),Ae=O.getStyle(U,"list-style-type",!0);return ie===Ae},xf=function(O,z){return O.className===z.className},lo=function(O,z,U){return Hp(z,U)&&kf(O,z,U)&&xf(z,U)},Tf=function(O,z){var U,ie;if(U=z.nextSibling,lo(O,z,U)){for(;ie=U.firstChild;)z.appendChild(ie);O.remove(U)}if(U=z.previousSibling,lo(O,z,U)){for(;ie=U.lastChild;)z.insertBefore(ie,z.firstChild);O.remove(U)}},Ef=function(O,z,U,ie){if(z.nodeName!==U){var Ae=O.dom.rename(z,U);Bu(O.dom,Ae,ie),B(O,Lc(U),Ae)}else Bu(O.dom,z,ie),B(O,Lc(U),z)},Ji=function(O,z,U,ie,Ae){var Je=sa(z);if(Je&&z.nodeName===ie&&!dc(Ae))dl(O);else{hd(O,ie,Ae);var pn=ga(O.selection.getRng()),qn=Je?_o([z],U,!0):U;Fa.each(qn,function(pr){Ef(O,pr,ie,Ae)}),O.selection.setRng(ss(pn))}},dc=function(O){return"list-style-type"in O},Of=function(O,z,U,ie){if(z!==O.getBody())if(z)if(z.nodeName===U&&!dc(ie)&&!Ru(z))dl(O);else{var Ae=ga(O.selection.getRng());Bu(O.dom,z,ie);var Je=O.dom.rename(z,U);Tf(O.dom,Je),O.selection.setRng(ss(Ae)),hd(O,U,ie),B(O,Lc(U),Je)}else hd(O,U,ie),B(O,Lc(U),z)},mc=function(O,z,U){var ie=Ar(O),Ae=md(O),Je=ut(U)?U:{};Ae.length>0?Ji(O,ie,Ae,z,Je):Of(O,ie,z,Je)},La=Au.DOM,qu=function(O,z){var U=z.parentNode;if(U.nodeName==="LI"&&U.firstChild===z){var ie=U.previousSibling;ie&&ie.nodeName==="LI"?(ie.appendChild(z),pe(O,U)&&La.remove(U)):La.setStyle(U,"listStyleType","none")}if(sa(U)){var ie=U.previousSibling;ie&&ie.nodeName==="LI"&&ie.appendChild(z)}},Dm=function(O,z){var U=Fa.grep(O.select("ol,ul",z));Fa.each(U,function(ie){qu(O,ie)})},ml=function(O,z,U,ie){var Ae=z.startContainer,Je=z.startOffset;if(Bi(Ae)&&(U?Je<Ae.data.length:Je>0))return Ae;var pn=O.schema.getNonEmptyElements();Ae.nodeType===1&&(Ae=fu.getNode(Ae,Je));var qn=new Ql(Ae,ie);for(U&&W(O.dom,Ae)&&qn.next();Ae=qn[U?"next":"prev2"]();)if(Ae.nodeName==="LI"&&!Ae.hasChildNodes()||pn[Ae.nodeName]||Bi(Ae)&&Ae.data.length>0)return Ae},_m=function(O,z){var U=z.childNodes;return U.length===1&&!sa(U[0])&&O.isBlock(U[0])},Up=function(O,z){_m(O,z)&&O.remove(z.firstChild,!0)},Yg=function(O,z,U){var ie,Ae=_m(O,U)?U.firstChild:U;if(Up(O,z),!pe(O,z,!0))for(;ie=z.firstChild;)Ae.appendChild(ie)},Af=function(O,z,U){var ie,Ae=z.parentNode;if(!(!_e(O,z)||!_e(O,U))){sa(U.lastChild)&&(ie=U.lastChild),Ae===U.lastChild&&du(Ae.previousSibling)&&O.remove(Ae.previousSibling);var Je=U.lastChild;Je&&du(Je)&&z.hasChildNodes()&&O.remove(Je),pe(O,U,!0)&&O.$(U).empty(),Yg(O,z,U),ie&&U.appendChild(ie);var pn=cu(Fr.fromDom(U),Fr.fromDom(z)),qn=pn?O.getParents(z,sa,U):[];O.remove(z),Zt(qn,function(pr){pe(O,pr)&&pr!==O.getRoot()&&O.remove(pr)})}},Df=function(O,z,U){O.dom.$(U).empty(),Af(O.dom,z,U),O.selection.setCursorLocation(U,0)},Hc=function(O,z,U,ie){var Ae=O.dom;if(Ae.isEmpty(ie))Df(O,U,ie);else{var Je=ga(z);Af(Ae,U,ie),O.selection.setRng(ss(Je))}},Wn=function(O,z,U,ie){var Ae=ga(z);Af(O.dom,U,ie);var Je=ss(Ae);O.selection.setRng(Je)},Fl=function(O,z){var U=O.dom,ie=O.selection,Ae=ie.getStart(),Je=_u(O,Ae),pn=U.getParent(ie.getStart(),"LI",Je);if(pn){var qn=pn.parentNode;if(qn===O.getBody()&&pe(U,qn))return!0;var pr=os(ie.getRng()),ir=U.getParent(ml(O,pr,z,Je),"LI",Je);if(ir&&ir!==pn)return O.undoManager.transact(function(){z?Hc(O,pr,ir,pn):Ps(pn)?$o(O):Wn(O,pr,pn,ir)}),!0;if(!ir&&!z&&pr.startOffset===0&&pr.endOffset===0)return O.undoManager.transact(function(){dl(O)}),!0}return!1},Mu=function(O,z,U){var ie=O.getParent(z.parentNode,O.isBlock,U);O.remove(z),ie&&O.isEmpty(ie)&&O.remove(ie)},Zi=function(O,z){var U=O.dom,ie=O.selection.getStart(),Ae=_u(O,ie),Je=U.getParent(ie,U.isBlock,Ae);if(Je&&U.isEmpty(Je)){var pn=os(O.selection.getRng()),qn=U.getParent(ml(O,pn,z,Ae),"LI",Ae);if(qn)return O.undoManager.transact(function(){Mu(U,Je,Ae),Tf(U,qn.parentNode),O.selection.select(qn,!0),O.selection.collapse(z)}),!0}return!1},zl=function(O,z){return Fl(O,z)||Zi(O,z)},mo=function(O){var z=O.selection.getStart(),U=_u(O,z),ie=O.dom.getParent(z,"LI,DT,DD",U);return ie||Du(O).length>0?(O.undoManager.transact(function(){O.execCommand("Delete"),Dm(O.dom,O.getBody())}),!0):!1},Xo=function(O,z){return O.selection.isCollapsed()?zl(O,z):mo(O)},xo=function(O){O.on("keydown",function(z){z.keyCode===Ki.BACKSPACE?Xo(O,!1)&&z.preventDefault():z.keyCode===Ki.DELETE&&Xo(O,!0)&&z.preventDefault()})},Uc=function(O){return{backspaceDelete:function(z){Xo(O,z)}}},$i=function(O,z){var U=Ar(O);O.undoManager.transact(function(){ut(z.styles)&&O.dom.setStyles(U,z.styles),ut(z.attrs)&&oe(z.attrs,function(ie,Ae){return O.dom.setAttrib(U,Ae,ie)})})},on=function(O){var z=Nr(zn(O).split("")),U=Nt(z,function(ie,Ae){var Je=ie.toUpperCase().charCodeAt(0)-"A".charCodeAt(0)+1;return Math.pow(26,Ae)*Je});return ve(U,function(ie,Ae){return ie+Ae},0)},_f=function(O){if(O--,O<0)return"";var z=O%26,U=Math.floor(O/26),ie=_f(U),Ae=String.fromCharCode("A".charCodeAt(0)+z);return ie+Ae},Jg=function(O){return/^[A-Z]+$/.test(O)},rr=function(O){return/^[a-z]+$/.test(O)},ha=function(O){return/^[0-9]+$/.test(O)},Rm=function(O){return ha(O)?2:Jg(O)?0:rr(O)?1:Ln(O)?3:4},Fs=function(O){switch(Rm(O)){case 2:return Oe.some({listStyleType:Oe.none(),start:O});case 0:return Oe.some({listStyleType:Oe.some("upper-alpha"),start:on(O).toString()});case 1:return Oe.some({listStyleType:Oe.some("lower-alpha"),start:on(O).toString()});case 3:return Oe.some({listStyleType:Oe.none(),start:""});case 4:return Oe.none()}},Ia=function(O){var z=parseInt(O.start,10);return Ga(O.listStyleType,"upper-alpha")?_f(z):Ga(O.listStyleType,"lower-alpha")?_f(z).toLowerCase():O.start},Bm=function(O){var z=Ar(O);!Ml(z)||O.windowManager.open({title:"List Properties",body:{type:"panel",items:[{type:"input",name:"start",label:"Start list at number",inputMode:"numeric"}]},initialData:{start:Ia({start:O.dom.getAttrib(z,"start","1"),listStyleType:Oe.some(O.dom.getStyle(z,"list-style-type"))})},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],onSubmit:function(U){var ie=U.getData();Fs(ie.start).each(function(Ae){O.execCommand("mceListUpdate",!1,{attrs:{start:Ae.start==="1"?"":Ae.start},styles:{"list-style-type":Ae.listStyleType.getOr("")}})}),U.close()}})},Ku=function(O,z){return function(){var U=Ar(O);return U&&U.nodeName===z}},pd=function(O){O.addCommand("mceListProps",function(){Bm(O)})},or=function(O){O.on("BeforeExecCommand",function(z){var U=z.command.toLowerCase();U==="indent"?fc(O):U==="outdent"&&$o(O)}),O.addCommand("InsertUnorderedList",function(z,U){mc(O,"UL",U)}),O.addCommand("InsertOrderedList",function(z,U){mc(O,"OL",U)}),O.addCommand("InsertDefinitionList",function(z,U){mc(O,"DL",U)}),O.addCommand("RemoveList",function(){dl(O)}),pd(O),O.addCommand("mceListUpdate",function(z,U){ut(U)&&$i(O,U)}),O.addQueryStateHandler("InsertUnorderedList",Ku(O,"UL")),O.addQueryStateHandler("InsertOrderedList",Ku(O,"OL")),O.addQueryStateHandler("InsertDefinitionList",Ku(O,"DL"))},gu=function(O){O.on("keydown",function(z){z.keyCode!==Ki.TAB||Ki.metaKeyPressed(z)||O.undoManager.transact(function(){(z.shiftKey?$o(O):fc(O))&&z.preventDefault()})})},v0=function(O){nt(O)&&gu(O),xo(O)},d0=function(O){var z=function(U){return function(){return O.execCommand(U)}};O.hasPlugin("advlist")||(O.ui.registry.addToggleButton("numlist",{icon:"ordered-list",active:!1,tooltip:"Numbered list",onAction:z("InsertOrderedList"),onSetup:function(U){return uo(O,"OL",U.setActive)}}),O.ui.registry.addToggleButton("bullist",{icon:"unordered-list",active:!1,tooltip:"Bullet list",onAction:z("InsertUnorderedList"),onSetup:function(U){return uo(O,"UL",U.setActive)}}))},Va=function(O){var z={text:"List properties...",icon:"ordered-list",onAction:function(){return O.execCommand("mceListProps")},onSetup:function(U){return uo(O,"OL",function(ie){return U.setDisabled(!ie)})}};O.ui.registry.addMenuItem("listprops",z),O.ui.registry.addContextMenu("lists",{update:function(U){var ie=Ar(O,U);return Ml(ie)?["listprops"]:[]}})};function Mm(){x.add("lists",function(O){return O.hasPlugin("rtc",!0)===!1?(v0(O),or(O)):pd(O),d0(O),Va(O),Uc(O)})}Mm()})();(function(){var x=tinymce.util.Tools.resolve("tinymce.PluginManager"),P=function(Pe){return Pe},kt=function(){return kt=Object.assign||function(Re){for(var Qe,pt=1,tt=arguments.length;pt<tt;pt++){Qe=arguments[pt];for(var mn in Qe)Object.prototype.hasOwnProperty.call(Qe,mn)&&(Re[mn]=Qe[mn])}return Re},kt.apply(this,arguments)},$t="\uFEFF",_t=function(Pe){return Pe.replace(/\uFEFF/g,"")},ut=function(Pe,Re){for(var Qe=Pe.length,pt=new Array(Qe),tt=0;tt<Qe;tt++){var mn=Pe[tt];pt[tt]=Re(mn,tt)}return pt},Fe="[!-#%-*,-\\/:;?@\\[-\\]_{}\xA1\xAB\xB7\xBB\xBF;\xB7\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1361-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u3008\u3009\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30\u2E31\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]",Ee={aletter:"[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F3\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097F\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u10A0-\u10C5\u10D0-\u10FA\u10FC\u1100-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F0\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191C\u1A00-\u1A16\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BC0-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u24B6-\u24E9\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2D00-\u2D25\u2D30-\u2D65\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u303B\u303C\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA697\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790\uA791\uA7A0-\uA7A9\uA7FA-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFFA0-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]",midnumlet:"[-'\\.\u2018\u2019\u2024\uFE52\uFF07\uFF0E]",midletter:"[:\xB7\xB7\u05F4\u2027\uFE13\uFE55\uFF1A]",midnum:"[\xB1+*/,;;\u0589\u060C\u060D\u066C\u07F8\u2044\uFE10\uFE14\uFE50\uFE54\uFF0C\uFF1B]",numeric:"[0-9\u0660-\u0669\u066B\u06F0-\u06F9\u07C0-\u07C9\u0966-\u096F\u09E6-\u09EF\u0A66-\u0A6F\u0AE6-\u0AEF\u0B66-\u0B6F\u0BE6-\u0BEF\u0C66-\u0C6F\u0CE6-\u0CEF\u0D66-\u0D6F\u0E50-\u0E59\u0ED0-\u0ED9\u0F20-\u0F29\u1040-\u1049\u1090-\u1099\u17E0-\u17E9\u1810-\u1819\u1946-\u194F\u19D0-\u19D9\u1A80-\u1A89\u1A90-\u1A99\u1B50-\u1B59\u1BB0-\u1BB9\u1C40-\u1C49\u1C50-\u1C59\uA620-\uA629\uA8D0-\uA8D9\uA900-\uA909\uA9D0-\uA9D9\uAA50-\uAA59\uABF0-\uABF9]",cr:"\\r",lf:"\\n",newline:"[\v\f\x85\u2028\u2029]",extend:"[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u0900-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C01-\u0C03\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C82\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D02\u0D03\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D82\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B6-\u17D3\u17DD\u180B-\u180D\u18A9\u1920-\u192B\u1930-\u193B\u19B0-\u19C0\u19C8\u19C9\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAA\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF2\u1DC0-\u1DE6\u1DFC-\u1DFF\u200C\u200D\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA67C\uA67D\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA880\uA881\uA8B4-\uA8C4\uA8E0-\uA8F1\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE26\uFF9E\uFF9F]",format:"[\xAD\u0600-\u0603\u06DD\u070F\u17B4\u17B5\u200E\u200F\u202A-\u202E\u2060-\u2064\u206A-\u206F\uFEFF\uFFF9-\uFFFB]",katakana:"[\u3031-\u3035\u309B\u309C\u30A0-\u30FA\u30FC-\u30FF\u31F0-\u31FF\u32D0-\u32FE\u3300-\u3357\uFF66-\uFF9D]",extendnumlet:"[=_\u203F\u2040\u2054\uFE33\uFE34\uFE4D-\uFE4F\uFF3F\u2200-\u22FF<>]",punctuation:Fe},et={ALETTER:0,MIDNUMLET:1,MIDLETTER:2,MIDNUM:3,NUMERIC:4,CR:5,LF:6,NEWLINE:7,EXTEND:8,FORMAT:9,KATAKANA:10,EXTENDNUMLET:11,AT:12,OTHER:13},Me=[new RegExp(Ee.aletter),new RegExp(Ee.midnumlet),new RegExp(Ee.midletter),new RegExp(Ee.midnum),new RegExp(Ee.numeric),new RegExp(Ee.cr),new RegExp(Ee.lf),new RegExp(Ee.newline),new RegExp(Ee.extend),new RegExp(Ee.format),new RegExp(Ee.katakana),new RegExp(Ee.extendnumlet),new RegExp("@")],It="",se=new RegExp("^"+Ee.punctuation+"$"),Gt=/^\s+$/,xn=Me,We=et.OTHER,ge=function(Pe){for(var Re=We,Qe=xn.length,pt=0;pt<Qe;++pt){var tt=xn[pt];if(tt&&tt.test(Pe)){Re=pt;break}}return Re},ht=function(Pe){var Re={};return function(Qe){if(Re[Qe])return Re[Qe];var pt=Pe(Qe);return Re[Qe]=pt,pt}},Ue=function(Pe){var Re=ht(ge);return ut(Pe,Re)},Wt=function(Pe,Re){var Qe=Pe[Re],pt=Pe[Re+1];if(Re<0||Re>Pe.length-1&&Re!==0||Qe===et.ALETTER&&pt===et.ALETTER)return!1;var tt=Pe[Re+2];if(Qe===et.ALETTER&&(pt===et.MIDLETTER||pt===et.MIDNUMLET||pt===et.AT)&&tt===et.ALETTER)return!1;var mn=Pe[Re-1];return(Qe===et.MIDLETTER||Qe===et.MIDNUMLET||pt===et.AT)&&pt===et.ALETTER&&mn===et.ALETTER||(Qe===et.NUMERIC||Qe===et.ALETTER)&&(pt===et.NUMERIC||pt===et.ALETTER)||(Qe===et.MIDNUM||Qe===et.MIDNUMLET)&&pt===et.NUMERIC&&mn===et.NUMERIC||Qe===et.NUMERIC&&(pt===et.MIDNUM||pt===et.MIDNUMLET)&&tt===et.NUMERIC||Qe===et.EXTEND||Qe===et.FORMAT||mn===et.EXTEND||mn===et.FORMAT||pt===et.EXTEND||pt===et.FORMAT||Qe===et.CR&&pt===et.LF?!1:Qe===et.NEWLINE||Qe===et.CR||Qe===et.LF||pt===et.NEWLINE||pt===et.CR||pt===et.LF?!0:!(Qe===et.KATAKANA&&pt===et.KATAKANA||pt===et.EXTENDNUMLET&&(Qe===et.ALETTER||Qe===et.NUMERIC||Qe===et.KATAKANA||Qe===et.EXTENDNUMLET)||Qe===et.EXTENDNUMLET&&(pt===et.ALETTER||pt===et.NUMERIC||pt===et.KATAKANA)||Qe===et.AT)},K=It,dt=Gt,Oe=se,Ht=function(Pe){return Pe==="http"||Pe==="https"},qt=function(Pe,Re){var Qe;for(Qe=Re;Qe<Pe.length&&!dt.test(Pe[Qe]);Qe++);return Qe},Nt=function(Pe,Re){var Qe=qt(Pe,Re+1),pt=Pe.slice(Re+1,Qe).join(K);return pt.substr(0,3)==="://"?Qe:Re},Zt=function(Pe,Re,Qe,pt){for(var tt=[],mn=[],zn=0;zn<Qe.length;++zn)if(mn.push(Pe[zn]),Wt(Qe,zn)){var nn=Re[zn];if((pt.includeWhitespace||!dt.test(nn))&&(pt.includePunctuation||!Oe.test(nn))){var Ln=zn-mn.length+1,wr=zn+1,Cn=Re.slice(Ln,wr).join(K);if(Ht(Cn)){var Kr=Nt(Re,zn),Ro=Pe.slice(wr,Kr);Array.prototype.push.apply(mn,Ro),zn=Kr}tt.push(mn)}mn=[]}return tt},st=function(){return{includeWhitespace:!1,includePunctuation:!1}},jr=function(Pe,Re,Qe){Qe=kt(kt({},st()),Qe);for(var pt=[],tt=[],mn=0;mn<Pe.length;mn++){var zn=Re(Pe[mn]);zn!==$t&&(pt.push(Pe[mn]),tt.push(zn))}var nn=Ue(tt);return Zt(pt,tt,nn,Qe)},ve=jr,Q=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),En=function(Pe,Re){for(var Qe=Re.getBlockElements(),pt=Re.getShortEndedElements(),tt=function(Ln){return Qe[Ln.nodeName]||pt[Ln.nodeName]},mn=[],zn="",nn=new Q(Pe,Pe);Pe=nn.next();)Pe.nodeType===3?zn+=_t(Pe.data):tt(Pe)&&zn.length&&(mn.push(zn),zn="");return zn.length&&mn.push(zn),mn},wo=function(Pe){return Pe.replace(/\u200B/g,"")},j=function(Pe){return Pe.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"_").length},Nr=function(Pe,Re){var Qe=wo(En(Pe,Re).join(`
`));return ve(Qe.split(""),P).length},$n=function(Pe,Re){var Qe=En(Pe,Re).join("");return j(Qe)},_=function(Pe,Re){var Qe=En(Pe,Re).join("").replace(/\s/g,"");return j(Qe)},Zr=function(Pe,Re){return function(){return Re(Pe.getBody(),Pe.schema)}},Mt=function(Pe,Re){return function(){return Re(Pe.selection.getRng().cloneContents(),Pe.schema)}},sn=function(Pe){return Zr(Pe,Nr)},_o=function(Pe){return{body:{getWordCount:sn(Pe),getCharacterCount:Zr(Pe,$n),getCharacterCountWithoutSpaces:Zr(Pe,_)},selection:{getWordCount:Mt(Pe,Nr),getCharacterCount:Mt(Pe,$n),getCharacterCountWithoutSpaces:Mt(Pe,_)},getCount:sn(Pe)}},mi=function(Pe,Re){Pe.windowManager.open({title:"Word Count",body:{type:"panel",items:[{type:"table",header:["Count","Document","Selection"],cells:[["Words",String(Re.body.getWordCount()),String(Re.selection.getWordCount())],["Characters (no spaces)",String(Re.body.getCharacterCountWithoutSpaces()),String(Re.selection.getCharacterCountWithoutSpaces())],["Characters",String(Re.body.getCharacterCount()),String(Re.selection.getCharacterCount())]]}]},buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}]})},er=function(Pe,Re){Pe.addCommand("mceWordCount",function(){return mi(Pe,Re)})},ua=tinymce.util.Tools.resolve("tinymce.util.Delay"),te=function(Pe,Re){Pe.fire("wordCountUpdate",{wordCount:{words:Re.body.getWordCount(),characters:Re.body.getCharacterCount(),charactersWithoutSpaces:Re.body.getCharacterCountWithoutSpaces()}})},vo=function(Pe,Re){te(Pe,Re)},Tt=function(Pe,Re,Qe){var pt=ua.debounce(function(){return vo(Pe,Re)},Qe);Pe.on("init",function(){vo(Pe,Re),ua.setEditorTimeout(Pe,function(){Pe.on("SetContent BeforeAddUndo Undo Redo ViewUpdate keyup",pt)},0)})},Ie=function(Pe){var Re=function(){return Pe.execCommand("mceWordCount")};Pe.ui.registry.addButton("wordcount",{tooltip:"Word count",icon:"character-count",onAction:Re}),Pe.ui.registry.addMenuItem("wordcount",{text:"Word count",icon:"character-count",onAction:Re})};function dn(Pe){Pe===void 0&&(Pe=300),x.add("wordcount",function(Re){var Qe=_o(Re);return er(Re,Qe),Ie(Re),Tt(Re,Qe,Pe),Qe})}dn()})();(function(){var x=tinymce.util.Tools.resolve("tinymce.PluginManager"),P=tinymce.util.Tools.resolve("tinymce.util.VK"),kt=function(W){var pe=typeof W;return W===null?"null":pe==="object"&&(Array.prototype.isPrototypeOf(W)||W.constructor&&W.constructor.name==="Array")?"array":pe==="object"&&(String.prototype.isPrototypeOf(W)||W.constructor&&W.constructor.name==="String")?"string":pe},$t=function(W){return function(pe){return kt(pe)===W}},_t=function(W){return function(pe){return typeof pe===W}},ut=function(W){return function(pe){return W===pe}},Fe=$t("string"),Ee=$t("array"),et=ut(null),Me=_t("boolean"),It=_t("function"),se=function(){},Gt=function(W){return function(){return W}},xn=function(W){return W},We=function(W,pe){return W===pe},ge=Gt(!1),ht=Gt(!0),Ue=function(){return Wt},Wt=function(){var W=function(nt){return nt()},pe=xn,_e={fold:function(nt,Bt){return nt()},isSome:ge,isNone:ht,getOr:pe,getOrThunk:W,getOrDie:function(nt){throw new Error(nt||"error: getOrDie called on none.")},getOrNull:Gt(null),getOrUndefined:Gt(void 0),or:pe,orThunk:W,map:Ue,each:se,bind:Ue,exists:ge,forall:ht,filter:function(){return Ue()},toArray:function(){return[]},toString:Gt("none()")};return _e}(),K=function(W){var pe=Gt(W),_e=function(){return Bt},nt=function(hn){return hn(W)},Bt={fold:function(hn,$r){return $r(W)},isSome:ht,isNone:ge,getOr:pe,getOrThunk:pe,getOrDie:pe,getOrNull:pe,getOrUndefined:pe,or:_e,orThunk:_e,map:function(hn){return K(hn(W))},each:function(hn){hn(W)},bind:nt,exists:nt,forall:nt,filter:function(hn){return hn(W)?Bt:Wt},toArray:function(){return[W]},toString:function(){return"some("+W+")"}};return Bt},dt=function(W){return W==null?Wt:K(W)},Oe={some:K,none:Ue,from:dt},Ht=Array.prototype.indexOf,qt=Array.prototype.push,Nt=function(W,pe){return Ht.call(W,pe)},Zt=function(W,pe){return Nt(W,pe)>-1},st=function(W,pe){for(var _e=W.length,nt=new Array(_e),Bt=0;Bt<_e;Bt++){var hn=W[Bt];nt[Bt]=pe(hn,Bt)}return nt},jr=function(W,pe){for(var _e=0,nt=W.length;_e<nt;_e++){var Bt=W[_e];pe(Bt,_e)}},ve=function(W,pe,_e){return jr(W,function(nt,Bt){_e=pe(_e,nt,Bt)}),_e},Q=function(W){for(var pe=[],_e=0,nt=W.length;_e<nt;++_e){if(!Ee(W[_e]))throw new Error("Arr.flatten item "+_e+" was not an array, input: "+W);qt.apply(pe,W[_e])}return pe},En=function(W,pe){return Q(st(W,pe))},wo=function(W,pe){for(var _e=0;_e<W.length;_e++){var nt=pe(W[_e],_e);if(nt.isSome())return nt}return Oe.none()},j=function(W,pe,_e){return _e===void 0&&(_e=We),W.exists(function(nt){return _e(nt,pe)})},Nr=function(W){for(var pe=[],_e=function(Bt){pe.push(Bt)},nt=0;nt<W.length;nt++)W[nt].each(_e);return pe},$n=function(W,pe){return W?Oe.some(pe):Oe.none()},_=function(W){var pe=W.getParam("link_assume_external_targets",!1);return Me(pe)&&pe?1:Fe(pe)&&(pe==="http"||pe==="https")?pe:0},Zr=function(W){return W.getParam("link_context_toolbar",!1,"boolean")},Mt=function(W){return W.getParam("link_list")},sn=function(W){return W.getParam("default_link_target")},_o=function(W){return W.getParam("target_list",!0)},mi=function(W){return W.getParam("rel_list",[],"array")},er=function(W){return W.getParam("link_class_list",[],"array")},ua=function(W){return W.getParam("link_title",!0,"boolean")},te=function(W){return W.getParam("allow_unsafe_link_target",!1,"boolean")},vo=function(W){return W.getParam("link_quicklink",!1,"boolean")},Tt=function(W){return W.getParam("link_default_protocol","http","string")},Ie=tinymce.util.Tools.resolve("tinymce.util.Tools"),dn=function(W){return Fe(W.value)?W.value:""},Pe=function(W){return Fe(W.text)?W.text:Fe(W.title)?W.title:""},Re=function(W,pe){var _e=[];return Ie.each(W,function(nt){var Bt=Pe(nt);if(nt.menu!==void 0){var hn=Re(nt.menu,pe);_e.push({text:Bt,items:hn})}else{var $r=pe(nt);_e.push({text:Bt,value:$r})}}),_e},Qe=function(W){return W===void 0&&(W=dn),function(pe){return Oe.from(pe).map(function(_e){return Re(_e,W)})}},pt=function(W){return Qe(dn)(W)},tt=function(W,pe){return function(_e){return{name:W,type:"listbox",label:pe,items:_e}}},mn={sanitize:pt,sanitizeWith:Qe,createUi:tt,getValue:dn},zn=function(){return zn=Object.assign||function(pe){for(var _e,nt=1,Bt=arguments.length;nt<Bt;nt++){_e=arguments[nt];for(var hn in _e)Object.prototype.hasOwnProperty.call(_e,hn)&&(pe[hn]=_e[hn])}return pe},zn.apply(this,arguments)},nn=Object.keys,Ln=Object.hasOwnProperty,wr=function(W,pe){for(var _e=nn(W),nt=0,Bt=_e.length;nt<Bt;nt++){var hn=_e[nt],$r=W[hn];pe($r,hn)}},Cn=function(W){return function(pe,_e){W[_e]=pe}},Kr=function(W,pe,_e,nt){var Bt={};return wr(W,function(hn,$r){(pe(hn,$r)?_e:nt)(hn,$r)}),Bt},Ro=function(W,pe){var _e={};return Kr(W,pe,Cn(_e),se),_e},Rl=function(W,pe){return Ln.call(W,pe)},uu=function(W,pe){return Rl(W,pe)&&W[pe]!==void 0&&W[pe]!==null},lu=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),Bo=tinymce.util.Tools.resolve("tinymce.util.URI"),ku=function(W){return W&&W.nodeName.toLowerCase()==="a"},Ho=function(W){return ku(W)&&!!oo(W)},la=function(W,pe){if(W.collapsed)return[];var _e=W.cloneContents(),nt=new lu(_e.firstChild,_e),Bt=[],hn=_e.firstChild;do pe(hn)&&Bt.push(hn);while(hn=nt.next());return Bt},Xr=function(W){return/^\w+:/i.test(W)},oo=function(W){var pe=W.getAttribute("data-mce-href");return pe||W.getAttribute("href")},ta=function(W,pe){var _e=["noopener"],nt=W?W.split(/\s+/):[],Bt=function(nr){return Ie.trim(nr.sort().join(" "))},hn=function(nr){return nr=$r(nr),nr.length>0?nr.concat(_e):_e},$r=function(nr){return nr.filter(function(da){return Ie.inArray(_e,da)===-1})},Gr=pe?hn(nt):$r(nt);return Gr.length>0?Bt(Gr):""},Lr=function(W){return W.replace(/\uFEFF/g,"")},Uo=function(W,pe){return pe=pe||W.selection.getNode(),Mo(pe)?W.dom.select("a[href]",pe)[0]:W.dom.getParent(pe,"a[href]")},ni=function(W,pe){var _e=pe?pe.innerText||pe.textContent:W.getContent({format:"text"});return Lr(_e)},Ra=function(W){return Ie.grep(W,Ho).length>0},hr=function(W){return la(W,Ho).length>0},Co=function(W){var pe=W.schema.getTextInlineElements(),_e=function(Bt){return Bt.nodeType===1&&!ku(Bt)&&!Rl(pe,Bt.nodeName.toLowerCase())},nt=la(W.selection.getRng(),_e);return nt.length===0},Mo=function(W){return W&&W.nodeName==="FIGURE"&&/\bimage\b/i.test(W.className)},Po=function(W){var pe=["title","rel","class","target"];return ve(pe,function(_e,nt){return W[nt].each(function(Bt){_e[nt]=Bt.length>0?Bt:null}),_e},{href:W.href})},bn=function(W,pe){return(pe==="http"||pe==="https")&&!Xr(W)?pe+"://"+W:W},Cr=function(W,pe){var _e=zn({},pe);if(!(mi(W).length>0)&&te(W)===!1){var nt=ta(_e.rel,_e.target==="_blank");_e.rel=nt||null}return Oe.from(_e.target).isNone()&&_o(W)===!1&&(_e.target=sn(W)),_e.href=bn(_e.href,_(W)),_e},Sa=function(W,pe,_e,nt){_e.each(function(Bt){Rl(pe,"innerText")?pe.innerText=Bt:pe.textContent=Bt}),W.dom.setAttribs(pe,nt),W.selection.select(pe)},gi=function(W,pe,_e,nt){Mo(pe)?xu(W,pe,nt):_e.fold(function(){W.execCommand("mceInsertLink",!1,nt)},function(Bt){W.insertContent(W.dom.createHTML("a",nt,W.dom.encode(Bt)))})},ul=function(W,pe,_e){var nt=W.selection.getNode(),Bt=Uo(W,nt),hn=Cr(W,Po(_e));W.undoManager.transact(function(){_e.href===pe.href&&pe.attach(),Bt?(W.focus(),Sa(W,Bt,_e.text,hn)):gi(W,nt,_e.text,hn)})},Pr=function(W){var pe=W.dom,_e=W.selection,nt=_e.getBookmark(),Bt=_e.getRng().cloneRange(),hn=pe.getParent(Bt.startContainer,"a[href]",W.getBody()),$r=pe.getParent(Bt.endContainer,"a[href]",W.getBody());hn&&Bt.setStartBefore(hn),$r&&Bt.setEndAfter($r),_e.setRng(Bt),W.execCommand("unlink"),_e.moveToBookmark(nt)},tr=function(W){W.undoManager.transact(function(){var pe=W.selection.getNode();Mo(pe)?su(W,pe):Pr(W),W.focus()})},hi=function(W){var pe=W.class,_e=W.href,nt=W.rel,Bt=W.target,hn=W.text,$r=W.title;return Ro({class:pe.getOrNull(),href:_e,rel:nt.getOrNull(),target:Bt.getOrNull(),text:hn.getOrNull(),title:$r.getOrNull()},function(Gr,nr){return et(Gr)===!1})},Bl=function(W,pe){var _e=pe.href;return zn(zn({},pe),{href:Bo.isDomSafe(_e,"a",W.settings)?_e:""})},ri=function(W,pe,_e){var nt=Bl(W,_e);W.hasPlugin("rtc",!0)?W.execCommand("createlink",!1,hi(nt)):ul(W,pe,nt)},ai=function(W){W.hasPlugin("rtc",!0)?W.execCommand("unlink"):tr(W)},su=function(W,pe){var _e=W.dom.select("img",pe)[0];if(_e){var nt=W.dom.getParents(_e,"a[href]",pe)[0];nt&&(nt.parentNode.insertBefore(_e,nt),W.dom.remove(nt))}},xu=function(W,pe,_e){var nt=W.dom.select("img",pe)[0];if(nt){var Bt=W.dom.create("a",_e);nt.parentNode.insertBefore(Bt,nt),Bt.appendChild(nt)}},qi=function(W){return uu(W,"items")},oi=function(W,pe){return wo(pe,function(_e){return qi(_e)?oi(W,_e.items):$n(_e.value===W,_e)})},Tu=function(W,pe,_e,nt){var Bt=nt[pe],hn=W.length>0;return Bt!==void 0?oi(Bt,_e).map(function($r){return{url:{value:$r.value,meta:{text:hn?W:$r.text,attach:se}},text:hn?W:$r.text}}):Oe.none()},Fr=function(W,pe){return pe==="link"?W.link:pe==="anchor"?W.anchor:Oe.none()},Ri=function(W,pe){var _e={text:W.text,title:W.title},nt=function(nr){return $n(_e.title.length<=0,Oe.from(nr.meta.title).getOr(""))},Bt=function(nr){return $n(_e.text.length<=0,Oe.from(nr.meta.text).getOr(nr.value))},hn=function(nr){var da=Bt(nr.url),Aa=nt(nr.url);return da.isSome()||Aa.isSome()?Oe.some(zn(zn({},da.map(function($l){return{text:$l}}).getOr({})),Aa.map(function($l){return{title:$l}}).getOr({}))):Oe.none()},$r=function(nr,da){var Aa=Fr(pe,da.name).getOr([]);return Tu(_e.text,da.name,Aa,nr)},Gr=function(nr,da){var Aa=da.name;return Aa==="url"?hn(nr()):Zt(["anchor","link"],Aa)?$r(nr(),da):((Aa==="text"||Aa==="title")&&(_e[Aa]=nr()[Aa]),Oe.none())};return{onChange:Gr}},Sn={init:Ri,getDelta:Tu},Zl=tinymce.util.Tools.resolve("tinymce.util.Delay"),ii=tinymce.util.Tools.resolve("tinymce.util.Promise"),cu=function(W,pe,_e){var nt=W.selection.getRng();Zl.setEditorTimeout(W,function(){W.windowManager.confirm(pe,function(Bt){W.selection.setRng(nt),_e(Bt)})})},ui=function(W){var pe=W.href,_e=pe.indexOf("@")>0&&pe.indexOf("/")===-1&&pe.indexOf("mailto:")===-1;return _e?Oe.some({message:"The URL you entered seems to be an email address. Do you want to add the required mailto: prefix?",preprocess:function(nt){return zn(zn({},nt),{href:"mailto:"+pe})}}):Oe.none()},fu=function(W,pe){return function(_e){var nt=_e.href,Bt=W===1&&!Xr(nt)||W===0&&/^\s*www(\.|\d\.)/i.test(nt);return Bt?Oe.some({message:"The URL you entered seems to be an external link. Do you want to add the required "+pe+":// prefix?",preprocess:function(hn){return zn(zn({},hn),{href:pe+"://"+nt})}}):Oe.none()}},Ql=function(W,pe){return wo([ui,fu(_(W),Tt(W))],function(_e){return _e(pe)}).fold(function(){return ii.resolve(pe)},function(_e){return new ii(function(nt){cu(W,_e.message,function(Bt){nt(Bt?_e.preprocess(pe):pe)})})})},Ki={preprocess:Ql},es=function(W){var pe=W.dom.select("a:not([href])"),_e=En(pe,function(nt){var Bt=nt.name||nt.id;return Bt?[{text:Bt,value:"#"+Bt}]:[]});return _e.length>0?Oe.some([{text:"None",value:""}].concat(_e)):Oe.none()},oe={getAnchors:es},Te=function(W){var pe=er(W);return pe.length>0?mn.sanitize(pe):Oe.none()},le={getClasses:Te},$e=tinymce.util.Tools.resolve("tinymce.util.XHR"),Lt=function(W){try{return Oe.some(JSON.parse(W))}catch(pe){return Oe.none()}},cn=function(W){var pe=function(nt){return W.convertURL(nt.value||nt.url,"href")},_e=Mt(W);return new ii(function(nt){Fe(_e)?$e.send({url:_e,success:function(Bt){return nt(Lt(Bt))},error:function(Bt){return nt(Oe.none())}}):It(_e)?_e(function(Bt){return nt(Oe.some(Bt))}):nt(Oe.from(_e))}).then(function(nt){return nt.bind(mn.sanitizeWith(pe)).map(function(Bt){if(Bt.length>0){var hn=[{text:"None",value:""}];return hn.concat(Bt)}else return Bt})})},Nn={getLinks:cn},Un=function(W,pe){var _e=mi(W);if(_e.length>0){var nt=j(pe,"_blank"),Bt=te(W)===!1,hn=function(Gr){return ta(mn.getValue(Gr),nt)},$r=Bt?mn.sanitizeWith(hn):mn.sanitize;return $r(_e)}return Oe.none()},Or={getRels:Un},Rr=[{text:"Current window",value:""},{text:"New window",value:"_blank"}],gr=function(W){var pe=_o(W);return Ee(pe)?mn.sanitize(pe).orThunk(function(){return Oe.some(Rr)}):pe===!1?Oe.none():Oe.some(Rr)},Ba={getTargets:gr},ka=function(W,pe,_e){var nt=W.getAttrib(pe,_e);return nt!==null&&nt.length>0?Oe.some(nt):Oe.none()},Eu=function(W,pe){var _e=W.dom,nt=Co(W),Bt=nt?Oe.some(ni(W.selection,pe)):Oe.none(),hn=pe?Oe.some(_e.getAttrib(pe,"href")):Oe.none(),$r=pe?Oe.from(_e.getAttrib(pe,"target")):Oe.none(),Gr=ka(_e,pe,"rel"),nr=ka(_e,pe,"class"),da=ka(_e,pe,"title");return{url:hn,text:Bt,title:da,target:$r,rel:Gr,linkClass:nr}},So=function(W,pe){return Nn.getLinks(W).then(function(_e){var nt=Eu(W,pe);return{anchor:nt,catalogs:{targets:Ba.getTargets(W),rels:Or.getRels(W,nt.target),classes:le.getClasses(W),anchor:oe.getAnchors(W),link:_e},optNode:Oe.from(pe),flags:{titleEnabled:ua(W)}}})},Ou={collect:So},ll=function(W,pe){return function(_e){var nt=_e.getData();if(!nt.url.value){ai(W),_e.close();return}var Bt=function(Gr){return Oe.from(nt[Gr]).filter(function(nr){return!j(pe.anchor[Gr],nr)})},hn={href:nt.url.value,text:Bt("text"),target:Bt("target"),rel:Bt("rel"),class:Bt("linkClass"),title:Bt("title")},$r={href:nt.url.value,attach:nt.url.meta!==void 0&&nt.url.meta.attach?nt.url.meta.attach:se};Ki.preprocess(W,hn).then(function(Gr){ri(W,$r,Gr)}),_e.close()}},Ma=function(W){var pe=Uo(W);return Ou.collect(W,pe)},Pa=function(W,pe){var _e=W.anchor,nt=_e.url.getOr("");return{url:{value:nt,meta:{original:{value:nt}}},text:_e.text.getOr(""),title:_e.title.getOr(""),anchor:nt,link:nt,rel:_e.rel.getOr(""),target:_e.target.or(pe).getOr(""),linkClass:_e.linkClass.getOr("")}},Ot=function(W,pe,_e){var nt=[{name:"url",type:"urlinput",filetype:"file",label:"URL"}],Bt=W.anchor.text.map(function(){return{name:"text",type:"input",label:"Text to display"}}).toArray(),hn=W.flags.titleEnabled?[{name:"title",type:"input",label:"Title"}]:[],$r=Oe.from(sn(_e)),Gr=Pa(W,$r),nr=W.catalogs,da=Sn.init(Gr,nr),Aa={type:"panel",items:Q([nt,Bt,hn,Nr([nr.anchor.map(mn.createUi("anchor","Anchors")),nr.rels.map(mn.createUi("rel","Rel")),nr.targets.map(mn.createUi("target","Open link in...")),nr.link.map(mn.createUi("link","Link list")),nr.classes.map(mn.createUi("linkClass","Class"))])])};return{title:"Insert/Edit Link",size:"normal",body:Aa,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:Gr,onChange:function($l,Wo){var sl=Wo.name;da.onChange($l.getData,{name:sl}).each(function(On){$l.setData(On)})},onSubmit:pe}},io=function(W){var pe=Ma(W);pe.then(function(_e){var nt=ll(W,_e);return Ot(_e,nt,W)}).then(function(_e){W.windowManager.open(_e)})},Gu=function(W,pe){document.body.appendChild(W),W.dispatchEvent(pe),document.body.removeChild(W)},ts=function(W){var pe=document.createElement("a");pe.target="_blank",pe.href=W,pe.rel="noreferrer noopener";var _e=document.createEvent("MouseEvents");_e.initMouseEvent("click",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),Gu(pe,_e)},ns=function(W,pe){return W.dom.getParent(pe,"a[href]")},vr=function(W){return ns(W,W.selection.getStart())},Bs=function(W){return W.altKey===!0&&W.shiftKey===!1&&W.ctrlKey===!1&&W.metaKey===!1},Au=function(W,pe){if(pe){var _e=oo(pe);if(/^#/.test(_e)){var nt=W.$(_e);nt.length&&W.selection.scrollIntoView(nt[0],!0)}else ts(pe.href)}},Fa=function(W){return function(){io(W)}},rs=function(W){return function(){Au(W,vr(W))}},pi=function(W){W.on("click",function(pe){var _e=ns(W,pe.target);_e&&P.metaKeyPressed(pe)&&(pe.preventDefault(),Au(W,_e))}),W.on("keydown",function(pe){var _e=vr(W);_e&&pe.keyCode===13&&Bs(pe)&&(pe.preventDefault(),Au(W,_e))})},Bi=function(W,pe){return W.on("NodeChange",pe),function(){return W.off("NodeChange",pe)}},sa=function(W){return function(pe){var _e=function(){return pe.setActive(!W.mode.isReadOnly()&&Uo(W,W.selection.getNode())!==null)};return _e(),Bi(W,_e)}},as=function(W){return function(pe){var _e=function(){return pe.setDisabled(Uo(W,W.selection.getNode())===null)};return _e(),Bi(W,_e)}},Ml=function(W){return function(pe){var _e=function(Bt){return Ra(Bt)||hr(W.selection.getRng())},nt=W.dom.getParents(W.selection.getStart());return pe.setDisabled(!_e(nt)),Bi(W,function(Bt){return pe.setDisabled(!_e(Bt.parents))})}},Pl=function(W){W.addCommand("mceLink",function(){vo(W)?W.fire("contexttoolbar-show",{toolbarKey:"quicklink"}):Fa(W)()})},Ms=function(W){W.addShortcut("Meta+K","",function(){W.execCommand("mceLink")})},vu=function(W){W.ui.registry.addToggleButton("link",{icon:"link",tooltip:"Insert/edit link",onAction:Fa(W),onSetup:sa(W)}),W.ui.registry.addButton("openlink",{icon:"new-tab",tooltip:"Open link",onAction:rs(W),onSetup:as(W)}),W.ui.registry.addButton("unlink",{icon:"unlink",tooltip:"Remove link",onAction:function(){return ai(W)},onSetup:Ml(W)})},du=function(W){W.ui.registry.addMenuItem("openlink",{text:"Open link",icon:"new-tab",onAction:rs(W),onSetup:as(W)}),W.ui.registry.addMenuItem("link",{icon:"link",text:"Link...",shortcut:"Meta+K",onAction:Fa(W)}),W.ui.registry.addMenuItem("unlink",{icon:"unlink",text:"Remove link",onAction:function(){return ai(W)},onSetup:Ml(W)})},Ps=function(W){var pe="link unlink openlink",_e="link";W.ui.registry.addContextMenu("link",{update:function(nt){return Ra(W.dom.getParents(nt,"a"))?pe:_e}})},Xi=function(W){var pe=function(Bt){Bt.selection.collapse(!1)},_e=function(Bt){var hn=W.selection.getNode();return Bt.setDisabled(!Uo(W,hn)),se},nt=function(Bt){var hn=Uo(W),$r=Co(W);if(!hn&&$r){var Gr=ni(W.selection,hn);return Oe.some(Gr.length>0?Gr:Bt)}else return Oe.none()};W.ui.registry.addContextForm("quicklink",{launch:{type:"contextformtogglebutton",icon:"link",tooltip:"Link",onSetup:sa(W)},label:"Link",predicate:function(Bt){return!!Uo(W,Bt)&&Zr(W)},initValue:function(){var Bt=Uo(W);return Bt?oo(Bt):""},commands:[{type:"contextformtogglebutton",icon:"link",tooltip:"Link",primary:!0,onSetup:function(Bt){var hn=W.selection.getNode();return Bt.setActive(!!Uo(W,hn)),sa(W)(Bt)},onAction:function(Bt){var hn=Bt.getValue(),$r=nt(hn),Gr={href:hn,attach:se};ri(W,Gr,{href:hn,text:$r,title:Oe.none(),rel:Oe.none(),target:Oe.none(),class:Oe.none()}),pe(W),Bt.hide()}},{type:"contextformbutton",icon:"unlink",tooltip:"Remove link",onSetup:_e,onAction:function(Bt){ai(W),Bt.hide()}},{type:"contextformbutton",icon:"new-tab",tooltip:"Open link",onSetup:_e,onAction:function(Bt){rs(W)(),Bt.hide()}}]})};function Mi(){x.add("link",function(W){vu(W),du(W),Ps(W),Xi(W),pi(W),Pl(W),Ms(W)})}Mi()})();(function(){var x=tinymce.util.Tools.resolve("tinymce.PluginManager"),P=function(Ee,et){Ee.focus(),Ee.undoManager.transact(function(){Ee.setContent(et)}),Ee.selection.setCursorLocation(),Ee.nodeChanged()},kt=function(Ee){return Ee.getContent({source_view:!0})},$t=function(Ee){var et=kt(Ee);Ee.windowManager.open({title:"Source Code",size:"large",body:{type:"panel",items:[{type:"textarea",name:"code"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:{code:et},onSubmit:function(Me){P(Ee,Me.getData().code),Me.close()}})},_t=function(Ee){Ee.addCommand("mceCodeEditor",function(){$t(Ee)})},ut=function(Ee){var et=function(){return Ee.execCommand("mceCodeEditor")};Ee.ui.registry.addButton("code",{icon:"sourcecode",tooltip:"Source code",onAction:et}),Ee.ui.registry.addMenuItem("code",{icon:"sourcecode",text:"Source code",onAction:et})};function Fe(){x.add("code",function(Ee){return _t(Ee),ut(Ee),{}})}Fe()})();(function(){var x=tinymce.util.Tools.resolve("tinymce.PluginManager"),P=tinymce.util.Tools.resolve("tinymce.Env"),kt=tinymce.util.Tools.resolve("tinymce.util.Tools"),$t=function(We){return We.getParam("content_style","","string")},_t=function(We){return We.getParam("content_css_cors",!1,"boolean")},ut=function(We){var ge=We.getParam("body_class","","hash");return ge[We.id]||""},Fe=function(We){var ge=We.getParam("body_class","","string");return ge.indexOf("=")===-1?ge:ut(We)},Ee=function(We){var ge=We.getParam("body_id","","hash");return ge[We.id]||ge},et=function(We){var ge=We.getParam("body_id","tinymce","string");return ge.indexOf("=")===-1?ge:Ee(We)},Me=function(We){var ge="",ht=We.dom.encode,Ue=$t(We);ge+='<base href="'+ht(We.documentBaseURI.getURI())+'">';var Wt=_t(We)?' crossorigin="anonymous"':"";kt.each(We.contentCSS,function(st){ge+='<link type="text/css" rel="stylesheet" href="'+ht(We.documentBaseURI.toAbsolute(st))+'"'+Wt+">"}),Ue&&(ge+='<style type="text/css">'+Ue+"</style>");var K=et(We),dt=Fe(We),Oe=P.mac?"e.metaKey":"e.ctrlKey && !e.altKey",Ht='<script>document.addEventListener && document.addEventListener("click", function(e) {for (var elm = e.target; elm; elm = elm.parentNode) {if (elm.nodeName === "A" && !('+Oe+")) {e.preventDefault();}}}, false);<\/script> ",qt=We.getBody().dir,Nt=qt?' dir="'+ht(qt)+'"':"",Zt="<!DOCTYPE html><html><head>"+ge+'</head><body id="'+ht(K)+'" class="mce-content-body '+ht(dt)+'"'+Nt+">"+We.getContent()+Ht+"</body></html>";return Zt},It=function(We){var ge=Me(We),ht=We.windowManager.open({title:"Preview",size:"large",body:{type:"panel",items:[{name:"preview",type:"iframe",sandboxed:!0}]},buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}],initialData:{preview:ge}});ht.focus("close")},se=function(We){We.addCommand("mcePreview",function(){It(We)})},Gt=function(We){var ge=function(){return We.execCommand("mcePreview")};We.ui.registry.addButton("preview",{icon:"preview",tooltip:"Preview",onAction:ge}),We.ui.registry.addMenuItem("preview",{icon:"preview",text:"Preview",onAction:ge})};function xn(){x.add("preview",function(We){se(We),Gt(We)})}xn()})();(function(){var x=function(k){var $=k,J=function(){return $},me=function(ot){$=ot};return{get:J,set:me}},P=tinymce.util.Tools.resolve("tinymce.PluginManager"),kt=function(k){return{isFullscreen:function(){return k.get()!==null}}},$t=function(k){var $=typeof k;return k===null?"null":$==="object"&&(Array.prototype.isPrototypeOf(k)||k.constructor&&k.constructor.name==="Array")?"array":$==="object"&&(String.prototype.isPrototypeOf(k)||k.constructor&&k.constructor.name==="String")?"string":$},_t=function(k){return function($){return $t($)===k}},ut=function(k){return function($){return typeof $===k}},Fe=_t("string"),Ee=_t("array"),et=ut("boolean"),Me=function(k){return k==null},It=function(k){return!Me(k)},se=ut("function"),Gt=ut("number"),xn=function(){},We=function(k,$){return function(){for(var J=[],me=0;me<arguments.length;me++)J[me]=arguments[me];return k($.apply(null,J))}},ge=function(k,$){return function(J){return k($(J))}},ht=function(k){return function(){return k}},Ue=function(k){return k};function Wt(k){for(var $=[],J=1;J<arguments.length;J++)$[J-1]=arguments[J];return function(){for(var me=[],ot=0;ot<arguments.length;ot++)me[ot]=arguments[ot];var Qt=$.concat(me);return k.apply(null,Qt)}}var K=ht(!1),dt=ht(!0),Oe=function(){return Ht},Ht=function(){var k=function(me){return me()},$=Ue,J={fold:function(me,ot){return me()},isSome:K,isNone:dt,getOr:$,getOrThunk:k,getOrDie:function(me){throw new Error(me||"error: getOrDie called on none.")},getOrNull:ht(null),getOrUndefined:ht(void 0),or:$,orThunk:k,map:Oe,each:xn,bind:Oe,exists:K,forall:dt,filter:function(){return Oe()},toArray:function(){return[]},toString:ht("none()")};return J}(),qt=function(k){var $=ht(k),J=function(){return ot},me=function(Qt){return Qt(k)},ot={fold:function(Qt,fr){return fr(k)},isSome:dt,isNone:K,getOr:$,getOrThunk:$,getOrDie:$,getOrNull:$,getOrUndefined:$,or:J,orThunk:J,map:function(Qt){return qt(Qt(k))},each:function(Qt){Qt(k)},bind:me,exists:me,forall:me,filter:function(Qt){return Qt(k)?ot:Ht},toArray:function(){return[k]},toString:function(){return"some("+k+")"}};return ot},Nt=function(k){return k==null?Ht:qt(k)},Zt={some:qt,none:Oe,from:Nt},st=function(){return st=Object.assign||function($){for(var J,me=1,ot=arguments.length;me<ot;me++){J=arguments[me];for(var Qt in J)Object.prototype.hasOwnProperty.call(J,Qt)&&($[Qt]=J[Qt])}return $},st.apply(this,arguments)},jr=function(k){var $=x(Zt.none()),J=function(){return $.get().each(k)},me=function(){J(),$.set(Zt.none())},ot=function(){return $.get().isSome()},Qt=function(){return $.get()},fr=function(ya){J(),$.set(Zt.some(ya))};return{clear:me,isSet:ot,get:Qt,set:fr}},ve=function(){return jr(function(k){return k.unbind()})},Q=function(){var k=jr(xn),$=function(J){return k.get().each(J)};return st(st({},k),{on:$})},En=Array.prototype.push,wo=function(k,$){for(var J=k.length,me=new Array(J),ot=0;ot<J;ot++){var Qt=k[ot];me[ot]=$(Qt,ot)}return me},j=function(k,$){for(var J=0,me=k.length;J<me;J++){var ot=k[J];$(ot,J)}},Nr=function(k,$){for(var J=[],me=0,ot=k.length;me<ot;me++){var Qt=k[me];$(Qt,me)&&J.push(Qt)}return J},$n=function(k,$,J){for(var me=0,ot=k.length;me<ot;me++){var Qt=k[me];if($(Qt,me))return Zt.some(Qt);if(J(Qt,me))break}return Zt.none()},_=function(k,$){return $n(k,$,K)},Zr=function(k){for(var $=[],J=0,me=k.length;J<me;++J){if(!Ee(k[J]))throw new Error("Arr.flatten item "+J+" was not an array, input: "+k);En.apply($,k[J])}return $},Mt=function(k,$){return Zr(wo(k,$))},sn=function(k,$){return $>=0&&$<k.length?Zt.some(k[$]):Zt.none()},_o=function(k){return sn(k,0)},mi=function(k,$){for(var J=0;J<k.length;J++){var me=$(k[J],J);if(me.isSome())return me}return Zt.none()},er=Object.keys,ua=function(k,$){for(var J=er(k),me=0,ot=J.length;me<ot;me++){var Qt=J[me],fr=k[Qt];$(fr,Qt)}},te=function(k,$){return k.indexOf($)!==-1},vo=function(k){return k.style!==void 0&&se(k.style.getPropertyValue)},Tt=function(k,$){var J=$||document,me=J.createElement("div");if(me.innerHTML=k,!me.hasChildNodes()||me.childNodes.length>1)throw console.error("HTML does not have a single root node",k),new Error("HTML must have a single root node");return Pe(me.childNodes[0])},Ie=function(k,$){var J=$||document,me=J.createElement(k);return Pe(me)},dn=function(k,$){var J=$||document,me=J.createTextNode(k);return Pe(me)},Pe=function(k){if(k==null)throw new Error("Node cannot be null or undefined");return{dom:k}},Re=function(k,$,J){return Zt.from(k.dom.elementFromPoint($,J)).map(Pe)},Qe={fromHtml:Tt,fromTag:Ie,fromText:dn,fromDom:Pe,fromPoint:Re};typeof window!="undefined"||Function("return this;")();var pt=9,tt=11,mn=1,zn=3,nn=function(k){return k.dom.nodeType},Ln=function(k){return function($){return nn($)===k}},wr=Ln(mn),Cn=Ln(zn),Kr=Ln(pt),Ro=Ln(tt),Rl=function(k){var $=!1,J;return function(){for(var me=[],ot=0;ot<arguments.length;ot++)me[ot]=arguments[ot];return $||($=!0,J=k.apply(null,me)),J}},uu=function(k,$,J,me){var ot=k.isiOS()&&/ipad/i.test(J)===!0,Qt=k.isiOS()&&!ot,fr=k.isiOS()||k.isAndroid(),ya=fr||me("(pointer:coarse)"),xa=ot||!Qt&&fr&&me("(min-device-width:768px)"),na=Qt||fr&&!xa,Za=$.isSafari()&&k.isiOS()&&/safari/i.test(J)===!1,ls=!na&&!xa&&!Za;return{isiPad:ht(ot),isiPhone:ht(Qt),isTablet:ht(xa),isPhone:ht(na),isTouch:ht(ya),isAndroid:k.isAndroid,isiOS:k.isiOS,isWebView:ht(Za),isDesktop:ht(ls)}},lu=function(k,$){for(var J=0;J<k.length;J++){var me=k[J];if(me.test($))return me}},Bo=function(k,$){var J=lu(k,$);if(!J)return{major:0,minor:0};var me=function(ot){return Number($.replace(J,"$"+ot))};return la(me(1),me(2))},ku=function(k,$){var J=String($).toLowerCase();return k.length===0?Ho():Bo(k,J)},Ho=function(){return la(0,0)},la=function(k,$){return{major:k,minor:$}},Xr={nu:la,detect:ku,unknown:Ho},oo=function(k,$){return mi($.brands,function(J){var me=J.brand.toLowerCase();return _(k,function(ot){var Qt;return me===((Qt=ot.brand)===null||Qt===void 0?void 0:Qt.toLowerCase())}).map(function(ot){return{current:ot.name,version:Xr.nu(parseInt(J.version,10),0)}})})},ta=function(k,$){var J=String($).toLowerCase();return _(k,function(me){return me.search(J)})},Lr=function(k,$){return ta(k,$).map(function(J){var me=Xr.detect(J.versionRegexes,$);return{current:J.name,version:me}})},Uo=function(k,$){return ta(k,$).map(function(J){var me=Xr.detect(J.versionRegexes,$);return{current:J.name,version:me}})},ni=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Ra=function(k){return function($){return te($,k)}},hr=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(k){return te(k,"edge/")&&te(k,"chrome")&&te(k,"safari")&&te(k,"applewebkit")}},{name:"Chrome",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,ni],search:function(k){return te(k,"chrome")&&!te(k,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(k){return te(k,"msie")||te(k,"trident")}},{name:"Opera",versionRegexes:[ni,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Ra("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Ra("firefox")},{name:"Safari",versionRegexes:[ni,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(k){return(te(k,"safari")||te(k,"mobile/"))&&te(k,"applewebkit")}}],Co=[{name:"Windows",search:Ra("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(k){return te(k,"iphone")||te(k,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Ra("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:Ra("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Ra("linux"),versionRegexes:[]},{name:"Solaris",search:Ra("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Ra("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:Ra("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],Mo={browsers:ht(hr),oses:ht(Co)},Po="Edge",bn="Chrome",Cr="IE",Sa="Opera",gi="Firefox",ul="Safari",Pr=function(){return tr({current:void 0,version:Xr.unknown()})},tr=function(k){var $=k.current,J=k.version,me=function(ot){return function(){return $===ot}};return{current:$,version:J,isEdge:me(Po),isChrome:me(bn),isIE:me(Cr),isOpera:me(Sa),isFirefox:me(gi),isSafari:me(ul)}},hi={unknown:Pr,nu:tr,edge:ht(Po),chrome:ht(bn),ie:ht(Cr),opera:ht(Sa),firefox:ht(gi),safari:ht(ul)},Bl="Windows",ri="iOS",ai="Android",su="Linux",xu="OSX",qi="Solaris",oi="FreeBSD",Tu="ChromeOS",Fr=function(){return Ri({current:void 0,version:Xr.unknown()})},Ri=function(k){var $=k.current,J=k.version,me=function(ot){return function(){return $===ot}};return{current:$,version:J,isWindows:me(Bl),isiOS:me(ri),isAndroid:me(ai),isOSX:me(xu),isLinux:me(su),isSolaris:me(qi),isFreeBSD:me(oi),isChromeOS:me(Tu)}},Sn={unknown:Fr,nu:Ri,windows:ht(Bl),ios:ht(ri),android:ht(ai),linux:ht(su),osx:ht(xu),solaris:ht(qi),freebsd:ht(oi),chromeos:ht(Tu)},Zl=function(k,$,J){var me=Mo.browsers(),ot=Mo.oses(),Qt=$.bind(function(xa){return oo(me,xa)}).orThunk(function(){return Lr(me,k)}).fold(hi.unknown,hi.nu),fr=Uo(ot,k).fold(Sn.unknown,Sn.nu),ya=uu(fr,Qt,k,J);return{browser:Qt,os:fr,deviceType:ya}},ii={detect:Zl},cu=function(k){return window.matchMedia(k).matches},ui=Rl(function(){return ii.detect(navigator.userAgent,Zt.from(navigator.userAgentData),cu)}),fu=function(){return ui()},Ql=function(k,$){var J=k.dom;if(J.nodeType!==mn)return!1;var me=J;if(me.matches!==void 0)return me.matches($);if(me.msMatchesSelector!==void 0)return me.msMatchesSelector($);if(me.webkitMatchesSelector!==void 0)return me.webkitMatchesSelector($);if(me.mozMatchesSelector!==void 0)return me.mozMatchesSelector($);throw new Error("Browser lacks native selectors")},Ki=function(k){return k.nodeType!==mn&&k.nodeType!==pt&&k.nodeType!==tt||k.childElementCount===0},es=function(k,$){var J=$===void 0?document:$.dom;return Ki(J)?[]:wo(J.querySelectorAll(k),Qe.fromDom)},oe=function(k,$){return k.dom===$.dom},Te=function(k){return Qe.fromDom(k.dom.ownerDocument)},le=function(k){return Kr(k)?k:Te(k)},$e=function(k){return Zt.from(k.dom.parentNode).map(Qe.fromDom)},Lt=function(k,$){for(var J=se($)?$:K,me=k.dom,ot=[];me.parentNode!==null&&me.parentNode!==void 0;){var Qt=me.parentNode,fr=Qe.fromDom(Qt);if(ot.push(fr),J(fr)===!0)break;me=Qt}return ot},cn=function(k){var $=function(J){return Nr(J,function(me){return!oe(k,me)})};return $e(k).map(Nn).map($).getOr([])},Nn=function(k){return wo(k.dom.childNodes,Qe.fromDom)},Un=function(k){return Ro(k)&&It(k.dom.host)},Or=se(Element.prototype.attachShadow)&&se(Node.prototype.getRootNode),Rr=ht(Or),gr=Or?function(k){return Qe.fromDom(k.dom.getRootNode())}:le,Ba=function(k){var $=gr(k);return Un($)?Zt.some($):Zt.none()},ka=function(k){return Qe.fromDom(k.dom.host)},Eu=function(k){if(Rr()&&It(k.target)){var $=Qe.fromDom(k.target);if(wr($)&&So($)&&k.composed&&k.composedPath){var J=k.composedPath();if(J)return _o(J)}}return Zt.from(k.target)},So=function(k){return It(k.dom.shadowRoot)},Ou=function(k){var $=Cn(k)?k.dom.parentNode:k.dom;if($==null||$.ownerDocument===null)return!1;var J=$.ownerDocument;return Ba(Qe.fromDom($)).fold(function(){return J.body.contains($)},ge(Ou,ka))},ll=function(k){var $=k.dom.body;if($==null)throw new Error("Body is not available yet");return Qe.fromDom($)},Ma=function(k,$,J){if(Fe(J)||et(J)||Gt(J))k.setAttribute($,J+"");else throw console.error("Invalid call to Attribute.set. Key ",$,":: Value ",J,":: Element ",k),new Error("Attribute value was not simple")},Pa=function(k,$,J){Ma(k.dom,$,J)},Ot=function(k,$){var J=k.dom.getAttribute($);return J===null?void 0:J},io=function(k,$){k.dom.removeAttribute($)},Gu=function(k,$,J){if(!Fe(J))throw console.error("Invalid call to CSS.set. Property ",$,":: Value ",J,":: Element ",k),new Error("CSS value must be a string: "+J);vo(k)&&k.style.setProperty($,J)},ts=function(k,$){var J=k.dom;ua($,function(me,ot){Gu(J,ot,me)})},ns=function(k,$){var J=k.dom,me=window.getComputedStyle(J),ot=me.getPropertyValue($);return ot===""&&!Ou(k)?vr(J,$):ot},vr=function(k,$){return vo(k)?k.style.getPropertyValue($):""},Bs=function(k,$,J,me,ot,Qt,fr){return{target:k,x:$,y:J,stop:me,prevent:ot,kill:Qt,raw:fr}},Au=function(k){var $=Qe.fromDom(Eu(k).getOr(k.target)),J=function(){return k.stopPropagation()},me=function(){return k.preventDefault()},ot=We(me,J);return Bs($,k.clientX,k.clientY,J,me,ot,k)},Fa=function(k,$){return function(J){k(J)&&$(Au(J))}},rs=function(k,$,J,me,ot){var Qt=Fa(J,me);return k.dom.addEventListener($,Qt,ot),{unbind:Wt(Bi,k,$,Qt,ot)}},pi=function(k,$,J,me){return rs(k,$,J,me,!1)},Bi=function(k,$,J,me){k.dom.removeEventListener($,J,me)},sa=dt,as=function(k,$,J){return pi(k,$,sa,J)},Ml=function(k,$){var J=function(me,ot){return Ml(k+me,$+ot)};return{left:k,top:$,translate:J}},Pl=Ml,Ms=function(k){var $=k!==void 0?k.dom:document,J=$.body.scrollLeft||$.documentElement.scrollLeft,me=$.body.scrollTop||$.documentElement.scrollTop;return Pl(J,me)},vu=function(k){var $=k===void 0?window:k;return fu().browser.isFirefox()?Zt.none():Zt.from($.visualViewport)},du=function(k,$,J,me){return{x:k,y:$,width:J,height:me,right:k+J,bottom:$+me}},Ps=function(k){var $=k===void 0?window:k,J=$.document,me=Ms(Qe.fromDom(J));return vu($).fold(function(){var ot=$.document.documentElement,Qt=ot.clientWidth,fr=ot.clientHeight;return du(me.left,me.top,Qt,fr)},function(ot){return du(Math.max(ot.pageLeft,me.left),Math.max(ot.pageTop,me.top),ot.width,ot.height)})},Xi=function(k,$,J){return vu(J).map(function(me){var ot=function(Qt){return $(Au(Qt))};return me.addEventListener(k,ot),{unbind:function(){return me.removeEventListener(k,ot)}}}).getOrThunk(function(){return{unbind:xn}})},Mi=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),W=tinymce.util.Tools.resolve("tinymce.Env"),pe=tinymce.util.Tools.resolve("tinymce.util.Delay"),_e=function(k,$){k.fire("FullscreenStateChanged",{state:$})},nt=function(k){return k.getParam("fullscreen_native",!1,"boolean")},Bt=function(k){var $=Qe.fromDom(k.getElement());return Ba($).map(ka).getOrThunk(function(){return ll(Te($))})},hn=function(k){return k.fullscreenElement!==void 0?k.fullscreenElement:k.msFullscreenElement!==void 0?k.msFullscreenElement:k.webkitFullscreenElement!==void 0?k.webkitFullscreenElement:null},$r=function(){return document.fullscreenElement!==void 0?"fullscreenchange":document.msFullscreenElement!==void 0?"MSFullscreenChange":document.webkitFullscreenElement!==void 0?"webkitfullscreenchange":"fullscreenchange"},Gr=function(k){var $=k.dom;$.requestFullscreen?$.requestFullscreen():$.msRequestFullscreen?$.msRequestFullscreen():$.webkitRequestFullScreen&&$.webkitRequestFullScreen()},nr=function(k){var $=k.dom;$.exitFullscreen?$.exitFullscreen():$.msExitFullscreen?$.msExitFullscreen():$.webkitCancelFullScreen&&$.webkitCancelFullScreen()},da=function(k){return k.dom===hn(Te(k).dom)},Aa=function(k,$,J){return Nr(Lt(k,J),$)},$l=function(k,$){return Nr(cn(k),$)},Wo=function(k){return es(k)},sl=function(k,$,J){return Aa(k,function(me){return Ql(me,$)},J)},On=function(k,$){return $l(k,function(J){return Ql(J,$)})},os="data-ephox-mobile-fullscreen-style",yf="display:none!important;",Ar="position:absolute!important;",Fc="top:0!important;left:0!important;margin:0!important;padding:0!important;width:100%!important;height:100%!important;overflow:visible!important;",zc="background-color:rgb(255,255,255)!important;",md=W.os.isAndroid(),Qr=function(k){var $=ns(k,"background-color");return $!==void 0&&$!==""?"background-color:"+$+"!important":zc},Du=function(k,$,J){var me=function(na){return On(na,"*:not(.tox-silver-sink)")},ot=function(na){return function(Za){var ls=Ot(Za,"style"),jo=ls===void 0?"no-styles":ls.trim();jo!==na&&(Pa(Za,os,jo),ts(Za,k.parseStyle(na)))}},Qt=sl($,"*"),fr=Mt(Qt,me),ya=Qr(J);j(fr,ot(yf)),j(Qt,ot(Ar+Fc+ya));var xa=md===!0?"":Ar;ot(xa+Fc+ya)($)},gd=function(k){var $=Wo("["+os+"]");j($,function(J){var me=Ot(J,os);me!=="no-styles"?ts(J,k.parseStyle(me)):io(J,"style"),io(J,os)})},_u=Mi.DOM,Ja=function(){return Ps(window)},is=function(k){return window.scrollTo(k.x,k.y)},Ye=vu().fold(function(){return{bind:xn,unbind:xn}},function(k){var $=Q(),J=ve(),me=ve(),ot=function(){document.body.scrollTop=0,document.documentElement.scrollTop=0},Qt=function(){window.requestAnimationFrame(function(){$.on(function(na){return ts(na,{top:k.offsetTop+"px",left:k.offsetLeft+"px",height:k.height+"px",width:k.width+"px"})})})},fr=pe.throttle(function(){ot(),Qt()},50),ya=function(na){$.set(na),fr(),J.set(Xi("resize",fr)),me.set(Xi("scroll",fr))},xa=function(){$.on(function(){J.clear(),me.clear()}),$.clear()};return{bind:ya,unbind:xa}}),$s=function(k,$){var J=document.body,me=document.documentElement,ot=k.getContainer(),Qt=Qe.fromDom(ot),fr=Bt(k),ya=$.get(),xa=Qe.fromDom(k.getBody()),na=W.deviceType.isTouch(),Za=ot.style,ls=k.iframeElement,jo=ls.style,ra=function(ma){ma(J,"tox-fullscreen"),ma(me,"tox-fullscreen"),ma(ot,"tox-fullscreen"),Ba(Qt).map(function(cl){return ka(cl).dom}).each(function(cl){ma(cl,"tox-fullscreen"),ma(cl,"tox-shadowhost")})},Ic=function(){na&&gd(k.dom),ra(_u.removeClass),Ye.unbind(),Zt.from($.get()).each(function(ma){return ma.fullscreenChangeHandler.unbind()})};if(ya)ya.fullscreenChangeHandler.unbind(),nt(k)&&da(fr)&&nr(Te(fr)),jo.width=ya.iframeWidth,jo.height=ya.iframeHeight,Za.width=ya.containerWidth,Za.height=ya.containerHeight,Za.top=ya.containerTop,Za.left=ya.containerLeft,is(ya.scrollPos),$.set(null),_e(k,!1),Ic(),k.off("remove",Ic);else{var qa=as(Te(fr),$r(),function(ma){nt(k)&&!da(fr)&&$.get()!==null&&$s(k,$)}),Go={scrollPos:Ja(),containerWidth:Za.width,containerHeight:Za.height,containerTop:Za.top,containerLeft:Za.left,iframeWidth:jo.width,iframeHeight:jo.height,fullscreenChangeHandler:qa};na&&Du(k.dom,Qt,xa),jo.width=jo.height="100%",Za.width=Za.height="",ra(_u.addClass),Ye.bind(Qt),k.on("remove",Ic),$.set(Go),nt(k)&&Gr(fr),_e(k,!0)}},Ga=function(k,$){k.addCommand("mceFullScreen",function(){$s(k,$)})},wf=function(k,$){return function(J){J.setActive($.get()!==null);var me=function(ot){return J.setActive(ot.state)};return k.on("FullscreenStateChanged",me),function(){return k.off("FullscreenStateChanged",me)}}},us=function(k,$){var J=function(){return k.execCommand("mceFullScreen")};k.ui.registry.addToggleMenuItem("fullscreen",{text:"Fullscreen",icon:"fullscreen",shortcut:"Meta+Shift+F",onAction:J,onSetup:wf(k,$)}),k.ui.registry.addToggleButton("fullscreen",{tooltip:"Fullscreen",icon:"fullscreen",onAction:J,onSetup:wf(k,$)})};function B(){P.add("fullscreen",function(k){var $=x(null);return k.inline||(Ga(k,$),us(k,$),k.addShortcut("Meta+Shift+F","","mceFullScreen")),kt($)})}B()})();(function(){var x=function(Ie){var dn=Ie,Pe=function(){return dn},Re=function(Qe){dn=Qe};return{get:Pe,set:Re}},P=tinymce.util.Tools.resolve("tinymce.PluginManager"),kt=function(Ie){var dn=function(Pe){var Re=Ie.get();Re[Pe.name]=Pe,Ie.set(Re)};return{addTab:dn}},$t=function(Ie,dn){Ie.addCommand("mceHelp",dn)},_t=function(Ie,dn){Ie.ui.registry.addButton("help",{icon:"help",tooltip:"Help",onAction:dn}),Ie.ui.registry.addMenuItem("help",{text:"Help",icon:"help",shortcut:"Alt+0",onAction:dn})},ut=function(){return ut=Object.assign||function(dn){for(var Pe,Re=1,Qe=arguments.length;Re<Qe;Re++){Pe=arguments[Re];for(var pt in Pe)Object.prototype.hasOwnProperty.call(Pe,pt)&&(dn[pt]=Pe[pt])}return dn},ut.apply(this,arguments)},Fe=function(){},Ee=function(Ie){return function(){return Ie}},et=function(Ie){return Ie},Me=Ee(!1),It=Ee(!0),se=function(){return Gt},Gt=function(){var Ie=function(Re){return Re()},dn=et,Pe={fold:function(Re,Qe){return Re()},isSome:Me,isNone:It,getOr:dn,getOrThunk:Ie,getOrDie:function(Re){throw new Error(Re||"error: getOrDie called on none.")},getOrNull:Ee(null),getOrUndefined:Ee(void 0),or:dn,orThunk:Ie,map:se,each:Fe,bind:se,exists:Me,forall:It,filter:function(){return se()},toArray:function(){return[]},toString:Ee("none()")};return Pe}(),xn=function(Ie){var dn=Ee(Ie),Pe=function(){return Qe},Re=function(pt){return pt(Ie)},Qe={fold:function(pt,tt){return tt(Ie)},isSome:It,isNone:Me,getOr:dn,getOrThunk:dn,getOrDie:dn,getOrNull:dn,getOrUndefined:dn,or:Pe,orThunk:Pe,map:function(pt){return xn(pt(Ie))},each:function(pt){pt(Ie)},bind:Re,exists:Re,forall:Re,filter:function(pt){return pt(Ie)?Qe:Gt},toArray:function(){return[Ie]},toString:function(){return"some("+Ie+")"}};return Qe},We=function(Ie){return Ie==null?Gt:xn(Ie)},ge={some:xn,none:se,from:We},ht=Array.prototype.indexOf,Ue=function(Ie,dn){return ht.call(Ie,dn)},Wt=function(Ie,dn){return Ue(Ie,dn)>-1},K=function(Ie,dn){for(var Pe=Ie.length,Re=new Array(Pe),Qe=0;Qe<Pe;Qe++){var pt=Ie[Qe];Re[Qe]=dn(pt,Qe)}return Re},dt=function(Ie,dn){for(var Pe=[],Re=0,Qe=Ie.length;Re<Qe;Re++){var pt=Ie[Re];dn(pt,Re)&&Pe.push(pt)}return Pe},Oe=function(Ie,dn,Pe){for(var Re=0,Qe=Ie.length;Re<Qe;Re++){var pt=Ie[Re];if(dn(pt,Re))return ge.some(pt);if(Pe(pt,Re))break}return ge.none()},Ht=function(Ie,dn){return Oe(Ie,dn,Me)},qt=Object.keys,Nt=Object.hasOwnProperty,Zt=function(Ie,dn){return st(Ie,dn)?ge.from(Ie[dn]):ge.none()},st=function(Ie,dn){return Nt.call(Ie,dn)},jr=function(Ie){for(var dn=[],Pe=function(Qe){dn.push(Qe)},Re=0;Re<Ie.length;Re++)Ie[Re].each(Pe);return dn},ve=function(Ie){return ge.from(Ie.getParam("help_tabs"))},Q=function(Ie){return Ie.getParam("forced_plugins")},En=`<h1>Editor UI keyboard navigation</h1>

<h2>Activating keyboard navigation</h2>

<p>The sections of the outer UI of the editor - the menubar, toolbar, sidebar and footer - are all keyboard navigable. As such, there are multiple ways to activate keyboard navigation:</p>
<ul>
  <li>Focus the menubar: Alt + F9 (Windows) or &#x2325;F9 (MacOS)</li>
  <li>Focus the toolbar: Alt + F10 (Windows) or &#x2325;F10 (MacOS)</li>
  <li>Focus the footer: Alt + F11 (Windows) or &#x2325;F11 (MacOS)</li>
</ul>

<p>Focusing the menubar or toolbar will start keyboard navigation at the first item in the menubar or toolbar, which will be highlighted with a gray background. Focusing the footer will start keyboard navigation at the first item in the element path, which will be highlighted with an underline. </p>

<h2>Moving between UI sections</h2>

<p>When keyboard navigation is active, pressing tab will move the focus to the next major section of the UI, where applicable. These sections are:</p>
<ul>
  <li>the menubar</li>
  <li>each group of the toolbar </li>
  <li>the sidebar</li>
  <li>the element path in the footer </li>
  <li>the wordcount toggle button in the footer </li>
  <li>the branding link in the footer </li>
  <li>the editor resize handle in the footer</li>
</ul>

<p>Pressing shift + tab will move backwards through the same sections, except when moving from the footer to the toolbar. Focusing the element path then pressing shift + tab will move focus to the first toolbar group, not the last.</p>

<h2>Moving within UI sections</h2>

<p>Keyboard navigation within UI sections can usually be achieved using the left and right arrow keys. This includes:</p>
<ul>
  <li>moving between menus in the menubar</li>
  <li>moving between buttons in a toolbar group</li>
  <li>moving between items in the element path</li>
</ul>

<p>In all these UI sections, keyboard navigation will cycle within the section. For example, focusing the last button in a toolbar group then pressing right arrow will move focus to the first item in the same toolbar group. </p>

<h1>Executing buttons</h1>

<p>To execute a button, navigate the selection to the desired button and hit space or enter.</p>

<h1>Opening, navigating and closing menus</h1>

<p>When focusing a menubar button or a toolbar button with a menu, pressing space, enter or down arrow will open the menu. When the menu opens the first item will be selected. To move up or down the menu, press the up or down arrow key respectively. This is the same for submenus, which can also be opened and closed using the left and right arrow keys.</p>

<p>To close any active menu, hit the escape key. When a menu is closed the selection will be restored to its previous selection. This also works for closing submenus.</p>

<h1>Context toolbars and menus</h1>

<p>To focus an open context toolbar such as the table context toolbar, press Ctrl + F9 (Windows) or &#x2303;F9 (MacOS).</p>

<p>Context toolbar navigation is the same as toolbar navigation, and context menu navigation is the same as standard menu navigation.</p>

<h1>Dialog navigation</h1>

<p>There are two types of dialog UIs in TinyMCE: tabbed dialogs and non-tabbed dialogs.</p>

<p>When a non-tabbed dialog is opened, the first interactive component in the dialog will be focused. Users can navigate between interactive components by pressing tab. This includes any footer buttons. Navigation will cycle back to the first dialog component if tab is pressed while focusing the last component in the dialog. Pressing shift + tab will navigate backwards.</p>

<p>When a tabbed dialog is opened, the first button in the tab menu is focused. Pressing tab will navigate to the first interactive component in that tab, and will cycle through the tab\u2019s components, the footer buttons, then back to the tab button. To switch to another tab, focus the tab button for the current tab, then use the arrow keys to cycle through the tab buttons.</p>`,wo=function(){var Ie={type:"htmlpanel",presets:"document",html:En};return{name:"keyboardnav",title:"Keyboard Navigation",items:[Ie]}},j=tinymce.util.Tools.resolve("tinymce.Env"),Nr=function(Ie){var dn={alt:"&#x2325;",ctrl:"&#x2303;",shift:"&#x21E7;",meta:"&#x2318;",access:"&#x2303;&#x2325;"},Pe={meta:"Ctrl ",access:"Shift + Alt "},Re=j.mac?dn:Pe,Qe=Ie.split("+"),pt=K(Qe,function(tt){var mn=tt.toLowerCase().trim();return st(Re,mn)?Re[mn]:tt});return j.mac?pt.join("").replace(/\s/,""):pt.join("+")},$n=[{shortcuts:["Meta + B"],action:"Bold"},{shortcuts:["Meta + I"],action:"Italic"},{shortcuts:["Meta + U"],action:"Underline"},{shortcuts:["Meta + A"],action:"Select all"},{shortcuts:["Meta + Y","Meta + Shift + Z"],action:"Redo"},{shortcuts:["Meta + Z"],action:"Undo"},{shortcuts:["Access + 1"],action:"Heading 1"},{shortcuts:["Access + 2"],action:"Heading 2"},{shortcuts:["Access + 3"],action:"Heading 3"},{shortcuts:["Access + 4"],action:"Heading 4"},{shortcuts:["Access + 5"],action:"Heading 5"},{shortcuts:["Access + 6"],action:"Heading 6"},{shortcuts:["Access + 7"],action:"Paragraph"},{shortcuts:["Access + 8"],action:"Div"},{shortcuts:["Access + 9"],action:"Address"},{shortcuts:["Alt + 0"],action:"Open help dialog"},{shortcuts:["Alt + F9"],action:"Focus to menubar"},{shortcuts:["Alt + F10"],action:"Focus to toolbar"},{shortcuts:["Alt + F11"],action:"Focus to element path"},{shortcuts:["Ctrl + F9"],action:"Focus to contextual toolbar"},{shortcuts:["Shift + Enter"],action:"Open popup menu for split buttons"},{shortcuts:["Meta + K"],action:"Insert link (if link plugin activated)"},{shortcuts:["Meta + S"],action:"Save (if save plugin activated)"},{shortcuts:["Meta + F"],action:"Find (if searchreplace plugin activated)"},{shortcuts:["Meta + Shift + F"],action:"Switch to or from fullscreen mode"}],_=function(){var Ie=K($n,function(Pe){var Re=K(Pe.shortcuts,Nr).join(" or ");return[Pe.action,Re]}),dn={type:"table",header:["Action","Shortcut"],cells:Ie};return{name:"shortcuts",title:"Handy Shortcuts",items:[dn]}},Zr=tinymce.util.Tools.resolve("tinymce.util.I18n"),Mt=K([{key:"advlist",name:"Advanced List"},{key:"anchor",name:"Anchor"},{key:"autolink",name:"Autolink"},{key:"autoresize",name:"Autoresize"},{key:"autosave",name:"Autosave"},{key:"bbcode",name:"BBCode"},{key:"charmap",name:"Character Map"},{key:"code",name:"Code"},{key:"codesample",name:"Code Sample"},{key:"colorpicker",name:"Color Picker"},{key:"directionality",name:"Directionality"},{key:"emoticons",name:"Emoticons"},{key:"fullpage",name:"Full Page"},{key:"fullscreen",name:"Full Screen"},{key:"help",name:"Help"},{key:"hr",name:"Horizontal Rule"},{key:"image",name:"Image"},{key:"imagetools",name:"Image Tools"},{key:"importcss",name:"Import CSS"},{key:"insertdatetime",name:"Insert Date/Time"},{key:"legacyoutput",name:"Legacy Output"},{key:"link",name:"Link"},{key:"lists",name:"Lists"},{key:"media",name:"Media"},{key:"nonbreaking",name:"Nonbreaking"},{key:"noneditable",name:"Noneditable"},{key:"pagebreak",name:"Page Break"},{key:"paste",name:"Paste"},{key:"preview",name:"Preview"},{key:"print",name:"Print"},{key:"quickbars",name:"Quick Toolbars"},{key:"save",name:"Save"},{key:"searchreplace",name:"Search and Replace"},{key:"spellchecker",name:"Spell Checker"},{key:"tabfocus",name:"Tab Focus"},{key:"table",name:"Table"},{key:"template",name:"Template"},{key:"textcolor",name:"Text Color"},{key:"textpattern",name:"Text Pattern"},{key:"toc",name:"Table of Contents"},{key:"visualblocks",name:"Visual Blocks"},{key:"visualchars",name:"Visual Characters"},{key:"wordcount",name:"Word Count"},{key:"a11ychecker",name:"Accessibility Checker",type:"premium"},{key:"advcode",name:"Advanced Code Editor",type:"premium"},{key:"advtable",name:"Advanced Tables",type:"premium"},{key:"autocorrect",name:"Autocorrect",type:"premium"},{key:"casechange",name:"Case Change",type:"premium"},{key:"checklist",name:"Checklist",type:"premium"},{key:"export",name:"Export",type:"premium"},{key:"mediaembed",name:"Enhanced Media Embed",type:"premium"},{key:"formatpainter",name:"Format Painter",type:"premium"},{key:"linkchecker",name:"Link Checker",type:"premium"},{key:"mentions",name:"Mentions",type:"premium"},{key:"pageembed",name:"Page Embed",type:"premium"},{key:"permanentpen",name:"Permanent Pen",type:"premium"},{key:"powerpaste",name:"PowerPaste",type:"premium"},{key:"rtc",name:"Real-Time Collaboration",type:"premium"},{key:"tinymcespellchecker",name:"Spell Checker Pro",type:"premium"},{key:"tinycomments",name:"Tiny Comments",type:"premium",slug:"comments"},{key:"tinydrive",name:"Tiny Drive",type:"premium"}],function(Ie){return ut(ut({},Ie),{type:Ie.type||"opensource",slug:Ie.slug||Ie.key})}),sn=function(Ie){var dn=function(){var zn=dt(Mt,function(Ln){var wr=Ln.key,Cn=Ln.type;return wr!=="autocorrect"&&Cn==="premium"}),nn=K(zn,function(Ln){return"<li>"+Zr.translate(Ln.name)+"</li>"}).join("");return'<div data-mce-tabstop="1" tabindex="-1"><p><b>'+Zr.translate("Premium plugins:")+"</b></p><ul>"+nn+'<li class="tox-help__more-link" "><a href="https://www.tiny.cloud/pricing/?utm_campaign=editor_referral&utm_medium=help_dialog&utm_source=tinymce" target="_blank">'+Zr.translate("Learn more...")+"</a></li></ul></div>"},Pe=function(zn){return'<a href="'+zn.url+'" target="_blank" rel="noopener">'+zn.name+"</a>"},Re=function(zn,nn){return Ht(Mt,function(Ln){return Ln.key===nn}).fold(function(){var Ln=zn.plugins[nn].getMetadata;return typeof Ln=="function"?Pe(Ln()):nn},function(Ln){var wr=Ln.type==="premium"?Ln.name+"*":Ln.name;return Pe({name:wr,url:"https://www.tiny.cloud/docs/plugins/"+Ln.type+"/"+Ln.slug})})},Qe=function(zn){var nn=qt(zn.plugins),Ln=Q(zn);return Ln===void 0?nn:dt(nn,function(wr){return!Wt(Ln,wr)})},pt=function(zn){var nn=Qe(zn),Ln=K(nn,function(Ro){return"<li>"+Re(zn,Ro)+"</li>"}),wr=Ln.length,Cn=Ln.join(""),Kr="<p><b>"+Zr.translate(["Plugins installed ({0}):",wr])+"</b></p><ul>"+Cn+"</ul>";return Kr},tt=function(zn){return zn==null?"":'<div data-mce-tabstop="1" tabindex="-1">'+pt(zn)+"</div>"},mn={type:"htmlpanel",presets:"document",html:[tt(Ie),dn()].join("")};return{name:"plugins",title:"Plugins",items:[mn]}},_o=tinymce.util.Tools.resolve("tinymce.EditorManager"),mi=function(){var Ie=function(Qe,pt){return Qe.indexOf("@")===0?"X.X.X":Qe+"."+pt},dn=Ie(_o.majorVersion,_o.minorVersion),Pe='<a href="https://www.tiny.cloud/docs/changelog/?utm_campaign=editor_referral&utm_medium=help_dialog&utm_source=tinymce" target="_blank">TinyMCE '+dn+"</a>",Re={type:"htmlpanel",html:"<p>"+Zr.translate(["You are using {0}",Pe])+"</p>",presets:"document"};return{name:"versions",title:"Version",items:[Re]}},er=function(Ie,dn){var Pe={},Re=K(Ie,function(Qe){return typeof Qe=="string"?(st(dn,Qe)&&(Pe[Qe]=dn[Qe]),Qe):(Pe[Qe.name]=Qe,Qe.name)});return{tabs:Pe,names:Re}},ua=function(Ie){var dn=qt(Ie),Pe=dn.indexOf("versions");return Pe!==-1&&(dn.splice(Pe,1),dn.push("versions")),{tabs:Ie,names:dn}},te=function(Ie,dn){var Pe,Re=_(),Qe=wo(),pt=sn(Ie),tt=mi(),mn=ut((Pe={},Pe[Re.name]=Re,Pe[Qe.name]=Qe,Pe[pt.name]=pt,Pe[tt.name]=tt,Pe),dn.get());return ve(Ie).fold(function(){return ua(mn)},function(zn){return er(zn,mn)})},vo=function(Ie,dn){return function(){var Pe=te(Ie,dn),Re=Pe.tabs,Qe=Pe.names,pt=K(Qe,function(zn){return Zt(Re,zn)}),tt=jr(pt),mn={type:"tabpanel",tabs:tt};Ie.windowManager.open({title:"Help",size:"medium",body:mn,buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}],initialData:{}})}};function Tt(){P.add("help",function(Ie){var dn=x({}),Pe=kt(dn),Re=vo(Ie,dn);return _t(Ie,Re),$t(Ie,Re),Ie.shortcuts.add("Alt+0","Open help dialog","mceHelp"),Pe})}Tt()})();const gG=()=>{tinymce.PluginManager.add("axupimgs",function(x,P){var kt="\u56FE\u7247\u6279\u91CF\u4E0A\u4F20";window.axupimgs={};var $t="/vue3-visual-cms/",_t=$t+"tinymce/plugins/axupimgs/upfiles.html";axupimgs.images_upload_handler=x.getParam("images_upload_handler",void 0,"function"),axupimgs.images_upload_base_path=x.getParam("images_upload_base_path","","string"),axupimgs.axupimgs_filetype=x.getParam("axupimgs_filetype",".png,.gif,.jpg,.jpeg","string"),axupimgs.res=[];var ut=function(){return x.windowManager.openUrl({title:kt,size:"large",url:_t,buttons:[{type:"cancel",text:"Close"},{type:"custom",text:"Save",name:"save",primary:!0}],onAction:function(Fe,Ee){switch(Ee.name){case"save":var et="",Me=axupimgs.res,It=Me.length;for(let se=0;se<It;se++)Me[se].url&&(et+='<img src="'+Me[se].url+'" />');x.insertContent(et),axupimgs.res=[],Fe.close();break}}})};return x.ui.registry.getAll().icons.axupimgs||x.ui.registry.addIcon("axupimgs",'<svg viewBox="0 0 1280 1024" xmlns="http://www.w3.org/2000/svg" width="24" height="24"><path d="M1126.2,779.8V87.6c0-24-22.6-86.9-83.5-86.9H83.5C14.7,0.7,0,63.7,0,87.7v692c0,36.2,29.2,89.7,83.5,89.7l959.3-1.3c51.7,0,83.5-42.5,83.5-88.3zm-1044,4V86.3h961.6V783.7H82.2v0.1z" fill="#53565A"/><path d="M603,461.6L521.1,366.3,313,629.8,227.2,546.8,102.4,716.8H972.8v-170L768.2,235.2,603.1,461.6zM284.6,358.4a105.4,105.4,0,0,0,73.5-30c19.5-19.1,30.3-45,30.2-71.8,0-56.8-45.9-103-102.4-103-56.6,0-102.4,46.1-102.4,103C183.4,313.5,228,358.4,284.6,358.4z" fill="#9598A0"/><path d="M1197.7,153.6l-0.3,669.3s13.5,113.9-67.4,113.9H153.6c0,24.1,23.9,87.2,83.5,87.2h959.3c58.3,0,83.6-49.5,83.6-89.9V240.8c-0.1-41.8-44.9-87.2-82.3-87.2z" fill="#53565A"/></svg>'),x.ui.registry.addButton("axupimgs",{icon:"axupimgs",tooltip:kt,onAction:function(){ut()}}),x.ui.registry.addMenuItem("axupimgs",{icon:"axupimgs",text:"\u56FE\u7247\u6279\u91CF\u4E0A\u4F20...",onAction:function(){ut()}}),{getMetadata:function(){return{name:kt,url:"http://tinymce.ax-z.cn/more-plugins/axupimgs.php"}}}})};gG();const hG=fd({name:"TinymceEditor",components:{Editor:mG},props:{value:{type:String,default:"123"},url:{type:String,default:""},header:{type:Object,default:null},baseUrl:{type:String,default:"/vue3-visual-cms/"},plugins:{type:[String,Array],default:"link lists image code table wordcount media preview fullscreen help axupimgs axupimgs"},toolbar:{type:[String,Array],default:"bold italic underline strikethrough | fontsizeselect | formatselect | forecolor backcolor | image axupimgs fullscreen preview | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent blockquote | undo redo | link unlink code lists table  media | removeformat "}},emits:["change"],setup(x,{emit:P}){const{proxy:kt}=Lx();let $t=Rs({content:""});const _t={language:"zh_CN",language_url:`${x.baseUrl}tinymce/langs/zh_CN.js`,skin_url:`${x.baseUrl}tinymce/skins/ui/oxide`,content_css:`${x.baseUrl}tinymce/skins/content/default/content.css`,height:400,convert_urls:!1,plugins:x.plugins,toolbar:x.toolbar,fontsize_formats:"12px 14px 16px 18px 20px 22px 24px 28px 32px 36px 48px 56px 72px",font_formats:"\u5FAE\u8F6F\u96C5\u9ED1=Microsoft YaHei,Helvetica Neue,PingFang SC,sans-serif;\u82F9\u679C\u82F9\u65B9=PingFang SC,Microsoft YaHei,sans-serif;\u5B8B\u4F53=simsun,serif;\u4EFF\u5B8B\u4F53=FangSong,serif;\u9ED1\u4F53=SimHei,sans-serif;Arial=arial,helvetica,sans-serif;Arial Black=arial black,avant garde;Book Antiqua=book antiqua,palatino;",statusbar:!1,menubar:"file edit insert view format table tools help",branding:!1,paste_data_images:!1,urlconverter_callback:(ut,Fe,Ee,et)=>(Fe==="img"&&ut.startsWith("blob:")&&i7.activeEditor&&i7.activeEditor.uploadImages(),ut),images_upload_handler:(ut,Fe,Ee)=>{let et=new FormData,Me=ut.blob();et.append("file",Me,Me.name),o7(et).then(It=>{$t.imgUrl=It.data.imgUrl,kt.$message({message:"\u4E0A\u4F20\u6210\u529F",type:"success",duration:1500,onClose:function(){}}),Fe($t.imgUrl)}).catch(It=>{Ee(It)})}};return Ix(()=>{i7.init({})}),vd(()=>x.value,ut=>{$t.content=ut},{immediate:!0}),vd(()=>$t.content,ut=>{P("change",ut)}),zp(Xl({},Jl($t)),{init:_t})}});function pG(x,P,kt,$t,_t,ut){const Fe=Gn("editor");return Ne(),_r("div",null,[L(Fe,{modelValue:x.content,"onUpdate:modelValue":P[0]||(P[0]=Ee=>x.content=Ee),init:x.init},null,8,["modelValue","init"])])}var bG=Am(hG,[["render",pG]]);const yG=fd({name:"Attribute",components:{Upload:Wj,CollapsePanel:Xj,Slider:Qj,Editor:bG},props:{showAttributeDialog:{type:Boolean,default:!0}},emits:["handleCloseDialog"],setup(x,{emit:P}){const{proxy:kt}=Lx(),$t=Ip();c0(),f0();const{_handleRecursionGetNodeByNodeId:_t}=YO(),ut=Rs({node_info:Yl({get(){return Fe.is_click_node?Fe.is_click_node=!1:(Fe.show_tree=!1,r7(()=>{Fe.show_tree=!0})),$t.state.current_node_info},set(Ue){}}),attribute:Yl({get(){return $t.state.current_node_info.props},set(Ue){}}),highlight_current:Yl({get(){return!!$t.state.current_node_info.name},set(Ue){}}),tree:Yl({get(){return $t.state.component_tree_list},set(Ue){}})});let Fe=Rs({tab_active_name:"1",show_setting_dialog:!1,show_tree:!0,is_click_node:!1,defaultProps:{id:"id",children:"children",label:"name"}});Ix(()=>{vd(()=>ut.tree,Ue=>{if($t.state.history_data_list.length==0){$t.dispatch("handleChangeHistoryIndex",0);let Wt=$t.state.history_data_list;Wt.splice(0,0,JSON.parse(JSON.stringify(Ue))),$t.dispatch("handleChangeHistoryDataList",Wt)}else if($t.state.history_data_list.length>0&&JSON.stringify($t.state.history_data_list[$t.state.history_data_list.length-1])!==JSON.stringify(Ue)){if($t.state.opt_type==1||$t.state.opt_type==2)return $t.dispatch("handleChangeOptType",0),!1;if(!_t("block_node",Ue)){$t.state.history_data_list.length>=10&&$t.state.history_data_list.shift(),$t.state.history_index<10&&$t.dispatch("handleChangeHistoryIndex",$t.state.history_index+1);let K=$t.state.history_data_list;K.splice($t.state.history_index,99,JSON.parse(JSON.stringify(Ue))),$t.dispatch("handleChangeHistoryDataList",K)}}},{deep:!0}),vd(()=>ut.attribute,Ue=>{ut.node_info.name=="el-col"&&!ut.attribute.responsiveness&&(ut.attribute.xl=ut.attribute.span,ut.attribute.lg=ut.attribute.span,ut.attribute.md=ut.attribute.span,ut.attribute.sm=ut.attribute.span,ut.attribute.xs=ut.attribute.span)},{deep:!0})});const Ee=()=>{P("handleCloseDialog")},et=(Ue,Wt="")=>{if(Wt=="cms-nav-bar"&&Ue.length>10||Wt=="cms-image-text-row"&&Ue.length>7)return!1;Ue.push(kt.$copy(Ue[0]))},Me=(Ue,Wt)=>{Ue.length>1&&Ue.splice(Wt,1)},It=(Ue,Wt)=>{Wt.src=Ue},se=Ue=>{Ue.src=""},Gt=Ue=>{if(Ue.id){Fe.is_click_node=!0;let Wt=_t(Ue.id,ut.tree);$t.dispatch("handleChangeCurrentNodeInfo",Wt);let K=document.getElementsByClassName("hover-border")[0];K&&(K.className=K.className.replace(" hover-border","")),K=document.getElementsByClassName("border")[0],K&&(K.className=K.className.replace(" border",""));let dt=document.getElementById($t.state.current_node_info.id);dt&&(dt.className=dt.className+" border")}},xn=(Ue,Wt)=>{if(Wt.id){let K=document.getElementById(Wt.id);K&&(K.className=K.className+" hover-border")}},We=(Ue,Wt)=>{let K=document.getElementsByClassName("hover-border")[0];K&&(K.className=K.className.replace(" hover-border",""))},ge=(Ue,Wt,K)=>!(K=="inner"&&!Wt.data.allow),ht=Ue=>{ut.attribute.content=Ue};return zp(Xl(Xl({},Jl(Fe)),Jl(ut)),{handleCloseDialog:Ee,handleClickAddItem:et,handleClickDeleteItem:Me,handleUploadSuccess:It,handleDeleteFile:se,handleClickTreeNode:Gt,handleMouseOverTreeNode:xn,handleMouseOutTreeNode:We,handleAllowDrop:ge,handleChangeEditor:ht})}}),wG={class:"icon-box tab-label"},CG=Kg(" \u5C5E\u6027\u680F "),SG={style:{padding:"0 12px"}},kG={style:{padding:"0 12px"}},xG={style:{padding:"0 12px"}},TG={style:{padding:"0 12px"}},EG={style:{padding:"0 12px"}},OG={style:{padding:"0 12px"}},AG={style:{padding:"0 12px"}},DG={style:{padding:"0 12px"}},_G={style:{padding:"0 12px"}},RG={style:{padding:"0 12px"}},BG={style:{padding:"0 12px"}},MG={style:{padding:"0 12px"}},PG={class:"icon-box tab-label"},$G=Kg(" \u7EC4\u4EF6\u6811 "),NG={class:"custom-tree-node"},FG=["onMouseover","onMouseout"],zG={id:"attibute_setting_dialog"};function IG(x,P,kt,$t,_t,ut){const Fe=Gn("svg-icon"),Ee=Gn("el-row"),et=Gn("el-input"),Me=Gn("el-form-item"),It=Gn("el-input-number"),se=Gn("el-option"),Gt=Gn("el-select"),xn=Gn("el-switch"),We=Gn("el-color-picker"),ge=Gn("slider"),ht=Gn("collapse-panel"),Ue=Gn("setting"),Wt=Gn("el-icon"),K=Gn("el-button"),dt=Gn("upload"),Oe=Gn("el-form"),Ht=Gn("el-tab-pane"),qt=Gn("el-tree"),Nt=Gn("el-tabs"),Zt=Gn("editor"),st=Gn("el-col"),jr=Gn("minus"),ve=Gn("plus"),Q=Gn("el-dialog"),En=Gn("el-aside"),wo=Yz("el-drag-dialog");return Ne(),Et(En,{class:"attribute",width:"300px"},{default:de(()=>[L(Nt,{id:"attribute-window-tab",type:"border-card",modelValue:x.tab_active_name,"onUpdate:modelValue":P[137]||(P[137]=j=>x.tab_active_name=j)},{default:de(()=>[L(Ht,{class:"attribute-window-tab-content",name:"1"},{label:de(()=>[ea("div",wG,[L(Fe,{"icon-class":"attribute"}),CG])]),default:de(()=>[L(Ee,{class:"node-title"},{default:de(()=>[Kg(Om(x.node_info.title),1)]),_:1}),L(Oe,{ref:"attribute",model:x.attribute,"label-width":"68px",size:"mini",onSubmit:P[136]||(P[136]=Ow(()=>{},["prevent"]))},{default:de(()=>[x.node_info.name=="cms-row"?(Ne(),_r(Ya,{key:0},[x.node_info.text||x.node_info.text==""?(Ne(),Et(Me,{key:0,label:"\u6587\u672C"},{default:de(()=>[L(et,{modelValue:x.node_info.text,"onUpdate:modelValue":P[0]||(P[0]=j=>x.node_info.text=j),placeholder:"\u5185\u90E8\u6587\u672C\u5185\u5BB9",clearable:""},null,8,["modelValue"])]),_:1})):gt("",!0),x.attribute.gutter||x.attribute.gutter==0?(Ne(),Et(Me,{key:1,label:"\u6805\u683C\u95F4\u9694"},{default:de(()=>[L(It,{modelValue:x.attribute.gutter,"onUpdate:modelValue":P[1]||(P[1]=j=>x.attribute.gutter=j),controls:!0,min:0},null,8,["modelValue"])]),_:1})):gt("",!0),x.attribute.justify||x.attribute.justify==""?(Ne(),Et(Me,{key:2,label:"\u6C34\u5E73\u5BF9\u9F50"},{default:de(()=>[L(Gt,{modelValue:x.attribute.justify,"onUpdate:modelValue":P[2]||(P[2]=j=>x.attribute.justify=j),placeholder:"\u6C34\u5E73\u5BF9\u9F50",clearable:""},{default:de(()=>[L(se,{key:"flex-start",label:"\u5DE6\u5BF9\u9F50",value:"flex-start"}),L(se,{key:"center",label:"\u5C45\u4E2D",value:"center"}),L(se,{key:"flex-end",label:"\u53F3\u5BF9\u9F50",value:"flex-end"}),L(se,{key:"space-around",label:"\u4E24\u7AEF\u5BF9\u9F50(around)",value:"space-around"}),L(se,{key:"space-between",label:"\u4E24\u7AEF\u5BF9\u9F50(between)",value:"space-between"})]),_:1},8,["modelValue"])]),_:1})):gt("",!0),x.attribute.align||x.attribute.align==""?(Ne(),Et(Me,{key:3,label:"\u5782\u76F4\u5BF9\u9F50"},{default:de(()=>[L(Gt,{modelValue:x.attribute.align,"onUpdate:modelValue":P[3]||(P[3]=j=>x.attribute.align=j),placeholder:"\u5782\u76F4\u5BF9\u9F50",clearable:""},{default:de(()=>[L(se,{key:"flex-start",label:"\u9876\u90E8",value:"flex-start"}),L(se,{key:"center",label:"\u5C45\u4E2D",value:"center"}),L(se,{key:"flex-end",label:"\u5E95\u90E8",value:"flex-end"}),L(se,{key:"stretch",label:"\u6491\u6EE1",value:"stretch"})]),_:1},8,["modelValue"])]),_:1})):gt("",!0),L(Me,{label:"\u5782\u76F4\u6491\u6EE1"},{default:de(()=>[L(xn,{modelValue:x.attribute.stretch,"onUpdate:modelValue":P[4]||(P[4]=j=>x.attribute.stretch=j)},null,8,["modelValue"])]),_:1})],64)):gt("",!0),x.node_info.name=="el-col"?(Ne(),_r(Ya,{key:1},[x.node_info.text||x.node_info.text==""?(Ne(),Et(Me,{key:0,label:"\u6587\u672C"},{default:de(()=>[L(et,{modelValue:x.node_info.text,"onUpdate:modelValue":P[5]||(P[5]=j=>x.node_info.text=j),placeholder:"\u5185\u90E8\u6587\u672C\u5185\u5BB9",clearable:""},null,8,["modelValue"])]),_:1})):gt("",!0),x.attribute.span&&!x.attribute.responsiveness?(Ne(),Et(Me,{key:1,label:"\u6805\u683C\u5217\u6570"},{default:de(()=>[L(It,{modelValue:x.attribute.span,"onUpdate:modelValue":P[6]||(P[6]=j=>x.attribute.span=j),controls:!0,min:1,max:24},null,8,["modelValue"])]),_:1})):gt("",!0),x.attribute.offset||x.attribute.offset==0?(Ne(),Et(Me,{key:2,label:"\u5DE6\u4FA7\u95F4\u9694"},{default:de(()=>[L(It,{modelValue:x.attribute.offset,"onUpdate:modelValue":P[7]||(P[7]=j=>x.attribute.offset=j),controls:!0,min:0,max:24},null,8,["modelValue"])]),_:1})):gt("",!0),x.attribute.push||x.attribute.push==0?(Ne(),Et(Me,{key:3,label:"\u5411\u53F3\u79FB\u52A8"},{default:de(()=>[L(It,{modelValue:x.attribute.push,"onUpdate:modelValue":P[8]||(P[8]=j=>x.attribute.push=j),controls:!0,min:0,max:24,disabled:x.attribute.pull>0},null,8,["modelValue","disabled"])]),_:1})):gt("",!0),x.attribute.pull||x.attribute.pull==0?(Ne(),Et(Me,{key:4,label:"\u5411\u5DE6\u79FB\u52A8"},{default:de(()=>[L(It,{modelValue:x.attribute.pull,"onUpdate:modelValue":P[9]||(P[9]=j=>x.attribute.pull=j),controls:!0,min:0,max:24,disabled:x.attribute.push>0},null,8,["modelValue","disabled"])]),_:1})):gt("",!0),L(Me,{label:"\u54CD\u5E94\u5F0F"},{default:de(()=>[L(xn,{modelValue:x.attribute.responsiveness,"onUpdate:modelValue":P[10]||(P[10]=j=>x.attribute.responsiveness=j)},null,8,["modelValue"])]),_:1}),x.attribute.xl&&x.attribute.responsiveness?(Ne(),Et(Me,{key:5,label:"\u22651920px"},{default:de(()=>[L(It,{modelValue:x.attribute.xl,"onUpdate:modelValue":P[11]||(P[11]=j=>x.attribute.xl=j),controls:!0,min:1,max:24},null,8,["modelValue"])]),_:1})):gt("",!0),x.attribute.lg&&x.attribute.responsiveness?(Ne(),Et(Me,{key:6,label:"\u22651200px"},{default:de(()=>[L(It,{modelValue:x.attribute.lg,"onUpdate:modelValue":P[12]||(P[12]=j=>x.attribute.lg=j),controls:!0,min:1,max:24},null,8,["modelValue"])]),_:1})):gt("",!0),x.attribute.md&&x.attribute.responsiveness?(Ne(),Et(Me,{key:7,label:"\u2265992px"},{default:de(()=>[L(It,{modelValue:x.attribute.md,"onUpdate:modelValue":P[13]||(P[13]=j=>x.attribute.md=j),controls:!0,min:1,max:24},null,8,["modelValue"])]),_:1})):gt("",!0),x.attribute.sm&&x.attribute.responsiveness?(Ne(),Et(Me,{key:8,label:"\u2265768px"},{default:de(()=>[L(It,{modelValue:x.attribute.sm,"onUpdate:modelValue":P[14]||(P[14]=j=>x.attribute.sm=j),controls:!0,min:1,max:24},null,8,["modelValue"])]),_:1})):gt("",!0),x.attribute.xs&&x.attribute.responsiveness?(Ne(),Et(Me,{key:9,label:"<768px"},{default:de(()=>[L(It,{modelValue:x.attribute.xs,"onUpdate:modelValue":P[15]||(P[15]=j=>x.attribute.xs=j),controls:!0,min:1,max:24},null,8,["modelValue"])]),_:1})):gt("",!0)],64)):gt("",!0),x.node_info.name=="cms-container"?(Ne(),_r(Ya,{key:2},[x.attribute.width||x.attribute.width==0?(Ne(),Et(Me,{key:0,label:"\u5BBD\u5EA6"},{default:de(()=>[L(It,{modelValue:x.attribute.width,"onUpdate:modelValue":P[16]||(P[16]=j=>x.attribute.width=j),controls:!0,min:0,max:1920,size:"mini","controls-position":"right"},null,8,["modelValue"])]),_:1})):gt("",!0),x.attribute.height||x.attribute.height==0?(Ne(),Et(Me,{key:1,label:"\u9AD8\u5EA6"},{default:de(()=>[L(It,{modelValue:x.attribute.height,"onUpdate:modelValue":P[17]||(P[17]=j=>x.attribute.height=j),controls:!0,min:0,max:1080,size:"mini","controls-position":"right"},null,8,["modelValue"])]),_:1})):gt("",!0),x.attribute.direction||x.attribute.direction==""?(Ne(),Et(Me,{key:2,label:"\u6392\u5217\u65B9\u5411"},{default:de(()=>[L(Gt,{modelValue:x.attribute.direction,"onUpdate:modelValue":P[18]||(P[18]=j=>x.attribute.direction=j),placeholder:"\u6392\u5217\u65B9\u5411",clearable:""},{default:de(()=>[L(se,{key:"row",label:"\u6C34\u5E73",value:"row"}),L(se,{key:"column",label:"\u5782\u76F4",value:"column"})]),_:1},8,["modelValue"])]),_:1})):gt("",!0),x.attribute.justify||x.attribute.justify==""?(Ne(),Et(Me,{key:3,label:"\u6C34\u5E73\u5BF9\u9F50"},{default:de(()=>[L(Gt,{modelValue:x.attribute.justify,"onUpdate:modelValue":P[19]||(P[19]=j=>x.attribute.justify=j),placeholder:"\u6C34\u5E73\u5BF9\u9F50",clearable:""},{default:de(()=>[L(se,{key:"flex-start",label:"\u5DE6\u5BF9\u9F50",value:"flex-start"}),L(se,{key:"center",label:"\u5C45\u4E2D",value:"center"}),L(se,{key:"flex-end",label:"\u53F3\u5BF9\u9F50",value:"flex-end"}),L(se,{key:"space-around",label:"\u4E24\u7AEF\u5BF9\u9F50(around)",value:"space-around"}),L(se,{key:"space-between",label:"\u4E24\u7AEF\u5BF9\u9F50(between)",value:"space-between"})]),_:1},8,["modelValue"])]),_:1})):gt("",!0),x.attribute.align||x.attribute.align==""?(Ne(),Et(Me,{key:4,label:"\u5782\u76F4\u5BF9\u9F50"},{default:de(()=>[L(Gt,{modelValue:x.attribute.align,"onUpdate:modelValue":P[20]||(P[20]=j=>x.attribute.align=j),placeholder:"\u5782\u76F4\u5BF9\u9F50",clearable:""},{default:de(()=>[L(se,{key:"flex-start",label:"\u9876\u90E8",value:"flex-start"}),L(se,{key:"center",label:"\u5C45\u4E2D",value:"center"}),L(se,{key:"flex-end",label:"\u5E95\u90E8",value:"flex-end"}),L(se,{key:"stretch",label:"\u6491\u6EE1",value:"stretch"})]),_:1},8,["modelValue"])]),_:1})):gt("",!0),x.attribute.backgroundColor||x.attribute.backgroundColor==null?(Ne(),Et(Me,{key:5,label:"\u80CC\u666F\u989C\u8272"},{default:de(()=>[L(We,{modelValue:x.attribute.backgroundColor,"onUpdate:modelValue":P[21]||(P[21]=j=>x.attribute.backgroundColor=j),size:"mini","show-alpha":""},null,8,["modelValue"])]),_:1})):gt("",!0),x.attribute.hoverBackgroundColor||x.attribute.hoverBackgroundColor==null||x.attribute.hoverBackgroundColor==""?(Ne(),Et(Me,{key:6,label:"\u79FB\u5165\u80CC\u666F"},{default:de(()=>[L(We,{modelValue:x.attribute.hoverBackgroundColor,"onUpdate:modelValue":P[22]||(P[22]=j=>x.attribute.hoverBackgroundColor=j),size:"mini","show-alpha":""},null,8,["modelValue"])]),_:1})):gt("",!0),x.attribute.hoverColor||x.attribute.hoverColor==null||x.attribute.hoverColor==""?(Ne(),Et(Me,{key:7,label:"\u79FB\u5165\u989C\u8272"},{default:de(()=>[L(We,{modelValue:x.attribute.hoverColor,"onUpdate:modelValue":P[23]||(P[23]=j=>x.attribute.hoverColor=j),size:"mini"},null,8,["modelValue"])]),_:1})):gt("",!0),L(Me,{label:"\u8FB9\u6846"},{default:de(()=>[L(xn,{modelValue:x.attribute.border,"onUpdate:modelValue":P[24]||(P[24]=j=>x.attribute.border=j)},null,8,["modelValue"])]),_:1}),x.attribute.borderColor||x.attribute.borderColor==null?(Ne(),Et(Me,{key:8,label:"\u8FB9\u6846\u989C\u8272"},{default:de(()=>[L(We,{modelValue:x.attribute.borderColor,"onUpdate:modelValue":P[25]||(P[25]=j=>x.attribute.borderColor=j),size:"mini"},null,8,["modelValue"])]),_:1})):gt("",!0),x.attribute.borderWidth?(Ne(),Et(Me,{key:9,label:"\u8FB9\u6846\u7C97\u7EC6"},{default:de(()=>[L(It,{modelValue:x.attribute.borderWidth,"onUpdate:modelValue":P[26]||(P[26]=j=>x.attribute.borderWidth=j),controls:!0,min:1,max:50,size:"mini","controls-position":"right"},null,8,["modelValue"])]),_:1})):gt("",!0),x.attribute.borderRadius||x.attribute.borderRadius==0?(Ne(),Et(Me,{key:10,label:"\u5706\u89D2"},{default:de(()=>[L(It,{modelValue:x.attribute.borderRadius,"onUpdate:modelValue":P[27]||(P[27]=j=>x.attribute.borderRadius=j),controls:!0,min:0,max:1e3},null,8,["modelValue"])]),_:1})):gt("",!0),L(Me,{label:"\u9634\u5F71"},{default:de(()=>[L(xn,{modelValue:x.attribute.boxShadow,"onUpdate:modelValue":P[28]||(P[28]=j=>x.attribute.boxShadow=j)},null,8,["modelValue"])]),_:1}),x.attribute.boxShadowColor||x.attribute.boxShadowColor==null?(Ne(),Et(Me,{key:11,label:"\u9634\u5F71\u989C\u8272"},{default:de(()=>[L(We,{modelValue:x.attribute.boxShadowColor,"onUpdate:modelValue":P[29]||(P[29]=j=>x.attribute.boxShadowColor=j),size:"mini"},null,8,["modelValue"])]),_:1})):gt("",!0),x.attribute.boxShadowBlur?(Ne(),Et(Me,{key:12,label:"\u6A21\u7CCA\u7A0B\u5EA6"},{default:de(()=>[L(It,{modelValue:x.attribute.boxShadowBlur,"onUpdate:modelValue":P[30]||(P[30]=j=>x.attribute.boxShadowBlur=j),controls:!0,min:1,max:100,size:"mini","controls-position":"right"},null,8,["modelValue"])]),_:1})):gt("",!0),x.attribute.boxShadowSpread?(Ne(),Et(Me,{key:13,label:"\u9634\u5F71\u6DF1\u5EA6"},{default:de(()=>[L(It,{modelValue:x.attribute.boxShadowSpread,"onUpdate:modelValue":P[31]||(P[31]=j=>x.attribute.boxShadowSpread=j),controls:!0,min:1,max:50,size:"mini","controls-position":"right"},null,8,["modelValue"])]),_:1})):gt("",!0),(x.attribute.marginTop||x.attribute.marginTop==0)&&(x.attribute.marginRight||x.attribute.marginRight==0)&&(x.attribute.marginBottom||x.attribute.marginBottom==0)&&(x.attribute.marginLeft||x.attribute.marginLeft==0)?(Ne(),Et(Me,{key:14,label:"\u5916\u8FB9\u8DDD"},{default:de(()=>[L(ht,null,{default:de(()=>[ea("div",SG,[L(ge,{modelValue:x.attribute.marginTop,"onUpdate:modelValue":P[32]||(P[32]=j=>x.attribute.marginTop=j),label:"\u4E0A",max:1080},null,8,["modelValue"]),L(ge,{modelValue:x.attribute.marginRight,"onUpdate:modelValue":P[33]||(P[33]=j=>x.attribute.marginRight=j),label:"\u53F3",max:1920},null,8,["modelValue"]),L(ge,{modelValue:x.attribute.marginBottom,"onUpdate:modelValue":P[34]||(P[34]=j=>x.attribute.marginBottom=j),label:"\u4E0B",max:1080},null,8,["modelValue"]),L(ge,{modelValue:x.attribute.marginLeft,"onUpdate:modelValue":P[35]||(P[35]=j=>x.attribute.marginLeft=j),label:"\u5DE6",max:1920},null,8,["modelValue"])])]),_:1})]),_:1})):gt("",!0),(x.attribute.paddingTop||x.attribute.paddingTop==0)&&(x.attribute.paddingRight||x.attribute.paddingRight==0)&&(x.attribute.paddingBottom||x.attribute.paddingBottom==0)&&(x.attribute.paddingLeft||x.attribute.paddingLeft==0)?(Ne(),Et(Me,{key:15,label:"\u5185\u8FB9\u8DDD"},{default:de(()=>[L(ht,null,{default:de(()=>[ea("div",kG,[L(ge,{modelValue:x.attribute.paddingTop,"onUpdate:modelValue":P[36]||(P[36]=j=>x.attribute.paddingTop=j),label:"\u4E0A",max:1080},null,8,["modelValue"]),L(ge,{modelValue:x.attribute.paddingRight,"onUpdate:modelValue":P[37]||(P[37]=j=>x.attribute.paddingRight=j),label:"\u53F3",max:1920},null,8,["modelValue"]),L(ge,{modelValue:x.attribute.paddingBottom,"onUpdate:modelValue":P[38]||(P[38]=j=>x.attribute.paddingBottom=j),label:"\u4E0B",max:1080},null,8,["modelValue"]),L(ge,{modelValue:x.attribute.paddingLeft,"onUpdate:modelValue":P[39]||(P[39]=j=>x.attribute.paddingLeft=j),label:"\u5DE6",max:1920},null,8,["modelValue"])])]),_:1})]),_:1})):gt("",!0)],64)):gt("",!0),x.node_info.name=="cms-offset"?(Ne(),_r(Ya,{key:3},[(x.attribute.offsetTop||x.attribute.offsetTop==0)&&(x.attribute.offsetLeft||x.attribute.offsetLeft==0)&&(x.attribute.offsetRight||x.attribute.offsetRight==0)?(Ne(),Et(Me,{key:0,label:"\u504F\u79FB\u8DDD\u79BB"},{default:de(()=>[L(ht,null,{default:de(()=>[ea("div",xG,[L(ge,{modelValue:x.attribute.offsetTop,"onUpdate:modelValue":P[40]||(P[40]=j=>x.attribute.offsetTop=j),label:"\u4E0A",max:100},null,8,["modelValue"]),x.attribute.offsetRight==0?(Ne(),Et(ge,{key:0,modelValue:x.attribute.offsetLeft,"onUpdate:modelValue":P[41]||(P[41]=j=>x.attribute.offsetLeft=j),label:"\u5DE6",max:100},null,8,["modelValue"])):gt("",!0),x.attribute.offsetLeft==0?(Ne(),Et(ge,{key:1,modelValue:x.attribute.offsetRight,"onUpdate:modelValue":P[42]||(P[42]=j=>x.attribute.offsetRight=j),label:"\u53F3",max:100},null,8,["modelValue"])):gt("",!0)])]),_:1})]),_:1})):gt("",!0)],64)):gt("",!0),x.node_info.name=="cms-fixed"?(Ne(),_r(Ya,{key:4},[(x.attribute.offsetTop||x.attribute.offsetTop==0)&&(x.attribute.offsetLeft||x.attribute.offsetLeft==0)&&(x.attribute.offsetRight||x.attribute.offsetRight==0)?(Ne(),Et(Me,{key:0,label:"\u504F\u79FB\u8DDD\u79BB"},{default:de(()=>[L(ht,null,{default:de(()=>[ea("div",TG,[L(ge,{modelValue:x.attribute.offsetTop,"onUpdate:modelValue":P[43]||(P[43]=j=>x.attribute.offsetTop=j),label:"\u4E0A",max:100},null,8,["modelValue"]),x.attribute.offsetRight==0?(Ne(),Et(ge,{key:0,modelValue:x.attribute.offsetLeft,"onUpdate:modelValue":P[44]||(P[44]=j=>x.attribute.offsetLeft=j),label:"\u5DE6",max:100},null,8,["modelValue"])):gt("",!0),x.attribute.offsetLeft==0?(Ne(),Et(ge,{key:1,modelValue:x.attribute.offsetRight,"onUpdate:modelValue":P[45]||(P[45]=j=>x.attribute.offsetRight=j),label:"\u53F3",max:100},null,8,["modelValue"])):gt("",!0)])]),_:1})]),_:1})):gt("",!0)],64)):gt("",!0),x.node_info.name=="cms-text"?(Ne(),_r(Ya,{key:5},[x.node_info.text||x.node_info.text==""?(Ne(),Et(Me,{key:0,label:"\u6587\u672C"},{default:de(()=>[L(et,{modelValue:x.node_info.text,"onUpdate:modelValue":P[46]||(P[46]=j=>x.node_info.text=j),placeholder:"\u5185\u90E8\u6587\u672C\u5185\u5BB9",clearable:""},null,8,["modelValue"])]),_:1})):gt("",!0),x.attribute.fontFamily||x.attribute.fontFamily==""?(Ne(),Et(Me,{key:1,label:"\u5B57\u4F53"},{default:de(()=>[L(Gt,{modelValue:x.attribute.fontFamily,"onUpdate:modelValue":P[47]||(P[47]=j=>x.attribute.fontFamily=j),placeholder:"\u5B57\u4F53"},{default:de(()=>[L(se,{key:"Arial",label:"Arial",value:"Arial"}),L(se,{key:"Microsoft YaHei",label:"\u5FAE\u8F6F\u96C5\u9ED1",value:"Microsoft YaHei"}),L(se,{key:"PingFang SC",label:"\u82F9\u65B9",value:"PingFang SC"}),L(se,{key:"SimSun",label:"\u5B8B\u4F53",value:"SimSun"})]),_:1},8,["modelValue"])]),_:1})):gt("",!0),x.attribute.fontSize?(Ne(),Et(Me,{key:2,label:"\u5B57\u4F53\u5927\u5C0F"},{default:de(()=>[L(It,{modelValue:x.attribute.fontSize,"onUpdate:modelValue":P[48]||(P[48]=j=>x.attribute.fontSize=j),controls:!0,min:12,max:100,size:"mini","controls-position":"right"},null,8,["modelValue"])]),_:1})):gt("",!0),x.attribute.color||x.attribute.color==null?(Ne(),Et(Me,{key:3,label:"\u5B57\u4F53\u989C\u8272"},{default:de(()=>[L(We,{modelValue:x.attribute.color,"onUpdate:modelValue":P[49]||(P[49]=j=>x.attribute.color=j),size:"mini"},null,8,["modelValue"])]),_:1})):gt("",!0),L(Me,{label:"\u52A0\u7C97"},{default:de(()=>[L(xn,{modelValue:x.attribute.bold,"onUpdate:modelValue":P[50]||(P[50]=j=>x.attribute.bold=j)},null,8,["modelValue"])]),_:1}),L(Me,{label:"\u659C\u4F53"},{default:de(()=>[L(xn,{modelValue:x.attribute.italic,"onUpdate:modelValue":P[51]||(P[51]=j=>x.attribute.italic=j)},null,8,["modelValue"])]),_:1}),x.attribute.letterSpacing||x.attribute.letterSpacing==0?(Ne(),Et(Me,{key:4,label:"\u5B57\u7B26\u95F4\u8DDD"},{default:de(()=>[L(It,{modelValue:x.attribute.letterSpacing,"onUpdate:modelValue":P[52]||(P[52]=j=>x.attribute.letterSpacing=j),controls:!0,min:0,max:100,size:"mini","controls-position":"right"},null,8,["modelValue"])]),_:1})):gt("",!0)],64)):gt("",!0),x.node_info.name=="cms-rich-text"?(Ne(),Et(Me,{key:6,label:"\u5185\u5BB9\u8BBE\u7F6E"},{default:de(()=>[L(K,{size:"mini",type:"primary",onClick:P[53]||(P[53]=j=>x.show_setting_dialog=!0)},{default:de(()=>[L(Wt,null,{default:de(()=>[L(Ue)]),_:1})]),_:1})]),_:1})):gt("",!0),x.node_info.name=="cms-nav-bar"?(Ne(),_r(Ya,{key:7},[x.attribute.fontSize?(Ne(),Et(Me,{key:0,label:"\u5B57\u4F53\u5927\u5C0F"},{default:de(()=>[L(It,{modelValue:x.attribute.fontSize,"onUpdate:modelValue":P[54]||(P[54]=j=>x.attribute.fontSize=j),controls:!0,min:12,max:100,size:"mini","controls-position":"right"},null,8,["modelValue"])]),_:1})):gt("",!0),x.attribute.color||x.attribute.color==null?(Ne(),Et(Me,{key:1,label:"\u5B57\u4F53\u989C\u8272"},{default:de(()=>[L(We,{modelValue:x.attribute.color,"onUpdate:modelValue":P[55]||(P[55]=j=>x.attribute.color=j),size:"mini"},null,8,["modelValue"])]),_:1})):gt("",!0),L(Me,{label:"\u52A0\u7C97"},{default:de(()=>[L(xn,{modelValue:x.attribute.bold,"onUpdate:modelValue":P[56]||(P[56]=j=>x.attribute.bold=j)},null,8,["modelValue"])]),_:1}),L(Me,{label:"\u659C\u4F53"},{default:de(()=>[L(xn,{modelValue:x.attribute.italic,"onUpdate:modelValue":P[57]||(P[57]=j=>x.attribute.italic=j)},null,8,["modelValue"])]),_:1}),L(Me,{label:"\u5206\u5272\u7EBF"},{default:de(()=>[L(xn,{modelValue:x.attribute.divider,"onUpdate:modelValue":P[58]||(P[58]=j=>x.attribute.divider=j)},null,8,["modelValue"])]),_:1}),x.attribute.activeColor||x.attribute.activeColor==null?(Ne(),Et(Me,{key:2,label:"\u6FC0\u6D3B\u989C\u8272"},{default:de(()=>[L(We,{modelValue:x.attribute.activeColor,"onUpdate:modelValue":P[59]||(P[59]=j=>x.attribute.activeColor=j),size:"mini"},null,8,["modelValue"])]),_:1})):gt("",!0),x.attribute.activeBackgroundColor||x.attribute.activeBackgroundColor==null?(Ne(),Et(Me,{key:3,label:"\u6FC0\u6D3B\u80CC\u666F"},{default:de(()=>[L(We,{modelValue:x.attribute.activeBackgroundColor,"onUpdate:modelValue":P[60]||(P[60]=j=>x.attribute.activeBackgroundColor=j),size:"mini","show-alpha":""},null,8,["modelValue"])]),_:1})):gt("",!0),x.attribute.backgroundColor||x.attribute.backgroundColor==null?(Ne(),Et(Me,{key:4,label:"\u80CC\u666F\u989C\u8272"},{default:de(()=>[L(We,{modelValue:x.attribute.backgroundColor,"onUpdate:modelValue":P[61]||(P[61]=j=>x.attribute.backgroundColor=j),size:"mini","show-alpha":""},null,8,["modelValue"])]),_:1})):gt("",!0),x.attribute.contentBackground||x.attribute.contentBackground==null?(Ne(),Et(Me,{key:5,label:"\u5185\u5BB9\u80CC\u666F"},{default:de(()=>[L(We,{modelValue:x.attribute.contentBackground,"onUpdate:modelValue":P[62]||(P[62]=j=>x.attribute.contentBackground=j),size:"mini","show-alpha":""},null,8,["modelValue"])]),_:1})):gt("",!0),x.attribute.underlineHeight||x.attribute.underlineHeight==0?(Ne(),Et(Me,{key:6,label:"\u4E0B\u5212\u9AD8\u5EA6"},{default:de(()=>[L(It,{modelValue:x.attribute.underlineHeight,"onUpdate:modelValue":P[63]||(P[63]=j=>x.attribute.underlineHeight=j),controls:!0,min:0,max:10},null,8,["modelValue"])]),_:1})):gt("",!0),L(Me,{label:"\u9009\u9879\u8BBE\u7F6E"},{default:de(()=>[L(K,{size:"mini",type:"primary",onClick:P[64]||(P[64]=j=>x.show_setting_dialog=!0)},{default:de(()=>[L(Wt,null,{default:de(()=>[L(Ue)]),_:1})]),_:1})]),_:1}),(x.attribute.marginTop||x.attribute.marginTop==0)&&(x.attribute.marginRight||x.attribute.marginRight==0)&&(x.attribute.marginBottom||x.attribute.marginBottom==0)&&(x.attribute.marginLeft||x.attribute.marginLeft==0)?(Ne(),Et(Me,{key:7,label:"\u5916\u8FB9\u8DDD"},{default:de(()=>[L(ht,null,{default:de(()=>[ea("div",EG,[L(ge,{modelValue:x.attribute.marginTop,"onUpdate:modelValue":P[65]||(P[65]=j=>x.attribute.marginTop=j),label:"\u4E0A",max:1080},null,8,["modelValue"]),L(ge,{modelValue:x.attribute.marginRight,"onUpdate:modelValue":P[66]||(P[66]=j=>x.attribute.marginRight=j),label:"\u53F3",max:1920},null,8,["modelValue"]),L(ge,{modelValue:x.attribute.marginBottom,"onUpdate:modelValue":P[67]||(P[67]=j=>x.attribute.marginBottom=j),label:"\u4E0B",max:1080},null,8,["modelValue"]),L(ge,{modelValue:x.attribute.marginLeft,"onUpdate:modelValue":P[68]||(P[68]=j=>x.attribute.marginLeft=j),label:"\u5DE6",max:1920},null,8,["modelValue"])])]),_:1})]),_:1})):gt("",!0),(x.attribute.paddingTop||x.attribute.paddingTop==0)&&(x.attribute.paddingRight||x.attribute.paddingRight==0)&&(x.attribute.paddingBottom||x.attribute.paddingBottom==0)&&(x.attribute.paddingLeft||x.attribute.paddingLeft==0)?(Ne(),Et(Me,{key:8,label:"\u5185\u8FB9\u8DDD"},{default:de(()=>[L(ht,null,{default:de(()=>[ea("div",OG,[L(ge,{modelValue:x.attribute.paddingTop,"onUpdate:modelValue":P[69]||(P[69]=j=>x.attribute.paddingTop=j),label:"\u4E0A",max:1080},null,8,["modelValue"]),L(ge,{modelValue:x.attribute.paddingRight,"onUpdate:modelValue":P[70]||(P[70]=j=>x.attribute.paddingRight=j),label:"\u53F3",max:1920},null,8,["modelValue"]),L(ge,{modelValue:x.attribute.paddingBottom,"onUpdate:modelValue":P[71]||(P[71]=j=>x.attribute.paddingBottom=j),label:"\u4E0B",max:1080},null,8,["modelValue"]),L(ge,{modelValue:x.attribute.paddingLeft,"onUpdate:modelValue":P[72]||(P[72]=j=>x.attribute.paddingLeft=j),label:"\u5DE6",max:1920},null,8,["modelValue"])])]),_:1})]),_:1})):gt("",!0),(x.attribute.contentPaddingTop||x.attribute.contentPaddingTop==0)&&(x.attribute.contentPaddingRight||x.attribute.contentPaddingRight==0)&&(x.attribute.contentPaddingBottom||x.attribute.contentPaddingBottom==0)&&(x.attribute.contentPaddingLeft||x.attribute.contentPaddingLeft==0)?(Ne(),Et(Me,{key:9,label:"\u5185\u5BB9\u8FB9\u8DDD"},{default:de(()=>[L(ht,null,{default:de(()=>[ea("div",AG,[L(ge,{modelValue:x.attribute.contentPaddingTop,"onUpdate:modelValue":P[73]||(P[73]=j=>x.attribute.contentPaddingTop=j),label:"\u4E0A",max:1080},null,8,["modelValue"]),L(ge,{modelValue:x.attribute.contentPaddingRight,"onUpdate:modelValue":P[74]||(P[74]=j=>x.attribute.contentPaddingRight=j),label:"\u53F3",max:1920},null,8,["modelValue"]),L(ge,{modelValue:x.attribute.contentPaddingBottom,"onUpdate:modelValue":P[75]||(P[75]=j=>x.attribute.contentPaddingBottom=j),label:"\u4E0B",max:1080},null,8,["modelValue"]),L(ge,{modelValue:x.attribute.contentPaddingLeft,"onUpdate:modelValue":P[76]||(P[76]=j=>x.attribute.contentPaddingLeft=j),label:"\u5DE6",max:1920},null,8,["modelValue"])])]),_:1})]),_:1})):gt("",!0),x.attribute.activeIndex||x.attribute.activeIndex==0?(Ne(),Et(Me,{key:10,label:"\u6FC0\u6D3B\u9879"},{default:de(()=>[L(It,{modelValue:x.attribute.activeIndex,"onUpdate:modelValue":P[77]||(P[77]=j=>x.attribute.activeIndex=j),controls:!0,min:0,max:x.attribute.items.length-1,size:"mini","controls-position":"right"},null,8,["modelValue","max"])]),_:1})):gt("",!0)],64)):gt("",!0),x.node_info.name=="cms-image"?(Ne(),_r(Ya,{key:8},[x.attribute.borderRadius||x.attribute.borderRadius==0?(Ne(),Et(Me,{key:0,label:"\u5706\u89D2"},{default:de(()=>[L(It,{modelValue:x.attribute.borderRadius,"onUpdate:modelValue":P[78]||(P[78]=j=>x.attribute.borderRadius=j),controls:!0,min:0,max:1e3},null,8,["modelValue"])]),_:1})):gt("",!0),L(Me,{label:"\u56FE\u7247\u8BBE\u7F6E"},{default:de(()=>[L(Ee,{class:"block-margin",justify:"start",align:"middle",type:"flex"},{default:de(()=>[L(dt,{file:x.attribute.src,onHandleUploadSuccess:P[79]||(P[79]=j=>{x.handleUploadSuccess(j,x.attribute)}),onHandleDeleteFile:P[80]||(P[80]=j=>x.handleDeleteFile(x.attribute))},null,8,["file"])]),_:1})]),_:1}),L(Me,{label:"\u79FB\u5165\u653E\u5927"},{default:de(()=>[L(xn,{modelValue:x.attribute.hoverScale,"onUpdate:modelValue":P[81]||(P[81]=j=>x.attribute.hoverScale=j)},null,8,["modelValue"])]),_:1})],64)):gt("",!0),x.node_info.name=="cms-image-text-row"?(Ne(),_r(Ya,{key:9},[x.attribute.fontSize?(Ne(),Et(Me,{key:0,label:"\u5B57\u4F53\u5927\u5C0F"},{default:de(()=>[L(It,{modelValue:x.attribute.fontSize,"onUpdate:modelValue":P[82]||(P[82]=j=>x.attribute.fontSize=j),controls:!0,min:12,max:100,size:"mini","controls-position":"right"},null,8,["modelValue"])]),_:1})):gt("",!0),x.attribute.color||x.attribute.color==null?(Ne(),Et(Me,{key:1,label:"\u5B57\u4F53\u989C\u8272"},{default:de(()=>[L(We,{modelValue:x.attribute.color,"onUpdate:modelValue":P[83]||(P[83]=j=>x.attribute.color=j),size:"mini"},null,8,["modelValue"])]),_:1})):gt("",!0),L(Me,{label:"\u52A0\u7C97"},{default:de(()=>[L(xn,{modelValue:x.attribute.bold,"onUpdate:modelValue":P[84]||(P[84]=j=>x.attribute.bold=j)},null,8,["modelValue"])]),_:1}),L(Me,{label:"\u659C\u4F53"},{default:de(()=>[L(xn,{modelValue:x.attribute.italic,"onUpdate:modelValue":P[85]||(P[85]=j=>x.attribute.italic=j)},null,8,["modelValue"])]),_:1}),x.attribute.backgroundColor||x.attribute.backgroundColor==null?(Ne(),Et(Me,{key:2,label:"\u80CC\u666F\u989C\u8272"},{default:de(()=>[L(We,{modelValue:x.attribute.backgroundColor,"onUpdate:modelValue":P[86]||(P[86]=j=>x.attribute.backgroundColor=j),size:"mini","show-alpha":""},null,8,["modelValue"])]),_:1})):gt("",!0),L(Me,{label:"\u9009\u9879\u8BBE\u7F6E"},{default:de(()=>[L(K,{size:"mini",type:"primary",onClick:P[87]||(P[87]=j=>x.show_setting_dialog=!0)},{default:de(()=>[L(Wt,null,{default:de(()=>[L(Ue)]),_:1})]),_:1})]),_:1}),(x.attribute.marginTop||x.attribute.marginTop==0)&&(x.attribute.marginRight||x.attribute.marginRight==0)&&(x.attribute.marginBottom||x.attribute.marginBottom==0)&&(x.attribute.marginLeft||x.attribute.marginLeft==0)?(Ne(),Et(Me,{key:3,label:"\u5916\u8FB9\u8DDD"},{default:de(()=>[L(ht,null,{default:de(()=>[ea("div",DG,[L(ge,{modelValue:x.attribute.marginTop,"onUpdate:modelValue":P[88]||(P[88]=j=>x.attribute.marginTop=j),label:"\u4E0A",max:1080},null,8,["modelValue"]),L(ge,{modelValue:x.attribute.marginRight,"onUpdate:modelValue":P[89]||(P[89]=j=>x.attribute.marginRight=j),label:"\u53F3",max:1920},null,8,["modelValue"]),L(ge,{modelValue:x.attribute.marginBottom,"onUpdate:modelValue":P[90]||(P[90]=j=>x.attribute.marginBottom=j),label:"\u4E0B",max:1080},null,8,["modelValue"]),L(ge,{modelValue:x.attribute.marginLeft,"onUpdate:modelValue":P[91]||(P[91]=j=>x.attribute.marginLeft=j),label:"\u5DE6",max:1920},null,8,["modelValue"])])]),_:1})]),_:1})):gt("",!0),(x.attribute.paddingTop||x.attribute.paddingTop==0)&&(x.attribute.paddingRight||x.attribute.paddingRight==0)&&(x.attribute.paddingBottom||x.attribute.paddingBottom==0)&&(x.attribute.paddingLeft||x.attribute.paddingLeft==0)?(Ne(),Et(Me,{key:4,label:"\u5185\u8FB9\u8DDD"},{default:de(()=>[L(ht,null,{default:de(()=>[ea("div",_G,[L(ge,{modelValue:x.attribute.paddingTop,"onUpdate:modelValue":P[92]||(P[92]=j=>x.attribute.paddingTop=j),label:"\u4E0A",max:1080},null,8,["modelValue"]),L(ge,{modelValue:x.attribute.paddingRight,"onUpdate:modelValue":P[93]||(P[93]=j=>x.attribute.paddingRight=j),label:"\u53F3",max:1920},null,8,["modelValue"]),L(ge,{modelValue:x.attribute.paddingBottom,"onUpdate:modelValue":P[94]||(P[94]=j=>x.attribute.paddingBottom=j),label:"\u4E0B",max:1080},null,8,["modelValue"]),L(ge,{modelValue:x.attribute.paddingLeft,"onUpdate:modelValue":P[95]||(P[95]=j=>x.attribute.paddingLeft=j),label:"\u5DE6",max:1920},null,8,["modelValue"])])]),_:1})]),_:1})):gt("",!0),(x.attribute.contentPaddingTop||x.attribute.contentPaddingTop==0)&&(x.attribute.contentPaddingRight||x.attribute.contentPaddingRight==0)&&(x.attribute.contentPaddingBottom||x.attribute.contentPaddingBottom==0)&&(x.attribute.contentPaddingLeft||x.attribute.contentPaddingLeft==0)?(Ne(),Et(Me,{key:5,label:"\u5185\u5BB9\u8FB9\u8DDD"},{default:de(()=>[L(ht,null,{default:de(()=>[ea("div",RG,[L(ge,{modelValue:x.attribute.contentPaddingTop,"onUpdate:modelValue":P[96]||(P[96]=j=>x.attribute.contentPaddingTop=j),label:"\u4E0A",max:1080},null,8,["modelValue"]),L(ge,{modelValue:x.attribute.contentPaddingRight,"onUpdate:modelValue":P[97]||(P[97]=j=>x.attribute.contentPaddingRight=j),label:"\u53F3",max:1920},null,8,["modelValue"]),L(ge,{modelValue:x.attribute.contentPaddingBottom,"onUpdate:modelValue":P[98]||(P[98]=j=>x.attribute.contentPaddingBottom=j),label:"\u4E0B",max:1080},null,8,["modelValue"]),L(ge,{modelValue:x.attribute.contentPaddingLeft,"onUpdate:modelValue":P[99]||(P[99]=j=>x.attribute.contentPaddingLeft=j),label:"\u5DE6",max:1920},null,8,["modelValue"])])]),_:1})]),_:1})):gt("",!0)],64)):gt("",!0),x.node_info.name=="cms-link"?(Ne(),_r(Ya,{key:10},[x.attribute.type||x.attribute.type==""?(Ne(),Et(Me,{key:0,label:"\u7C7B\u578B"},{default:de(()=>[L(Gt,{modelValue:x.attribute.type,"onUpdate:modelValue":P[100]||(P[100]=j=>x.attribute.type=j),placeholder:"\u94FE\u63A5\u7C7B\u578B"},{default:de(()=>[L(se,{key:1,label:"\u5185\u94FE",value:1}),L(se,{key:2,label:"\u5916\u94FE",value:2})]),_:1},8,["modelValue"])]),_:1})):gt("",!0),x.attribute.href||x.attribute.href==""?(Ne(),Et(Me,{key:1,label:"\u5730\u5740"},{default:de(()=>[L(et,{modelValue:x.attribute.href,"onUpdate:modelValue":P[101]||(P[101]=j=>x.attribute.href=j),placeholder:"\u5916\u90E8\u94FE\u63A5\u5730\u5740",clearable:""},null,8,["modelValue"])]),_:1})):gt("",!0)],64)):gt("",!0),x.node_info.name=="cms-carousel"?(Ne(),_r(Ya,{key:11},[x.attribute.height?(Ne(),Et(Me,{key:0,label:"\u9AD8\u5EA6"},{default:de(()=>[L(It,{modelValue:x.attribute.height,"onUpdate:modelValue":P[102]||(P[102]=j=>x.attribute.height=j),controls:!0,min:1,max:1e3,size:"mini","controls-position":"right"},null,8,["modelValue"])]),_:1})):gt("",!0),x.attribute.indicatorPosition||x.attribute.indicatorPosition==""?(Ne(),Et(Me,{key:1,label:"\u6307\u793A\u5668"},{default:de(()=>[L(Gt,{modelValue:x.attribute.indicatorPosition,"onUpdate:modelValue":P[103]||(P[103]=j=>x.attribute.indicatorPosition=j),placeholder:"\u6307\u793A\u5668"},{default:de(()=>[L(se,{key:"",label:"\u5185\u90E8",value:""}),L(se,{key:"outside",label:"\u5916\u90E8",value:"outside"}),L(se,{key:"none",label:"\u9690\u85CF",value:"none"})]),_:1},8,["modelValue"])]),_:1})):gt("",!0),x.attribute.arrow||x.attribute.arrow==""?(Ne(),Et(Me,{key:2,label:"\u7BAD\u5934"},{default:de(()=>[L(Gt,{modelValue:x.attribute.arrow,"onUpdate:modelValue":P[104]||(P[104]=j=>x.attribute.arrow=j),placeholder:"arrow"},{default:de(()=>[L(se,{key:"always",label:"\u4E00\u76F4\u663E\u793A",value:"always"}),L(se,{key:"hover",label:"\u9F20\u6807\u79FB\u5165\u663E\u793A",value:"hover"}),L(se,{key:"never",label:"\u9690\u85CF",value:"never"})]),_:1},8,["modelValue"])]),_:1})):gt("",!0),x.attribute.interval?(Ne(),Et(Me,{key:3,label:"\u6301\u7EED\u65F6\u95F4"},{default:de(()=>[L(It,{modelValue:x.attribute.interval,"onUpdate:modelValue":P[105]||(P[105]=j=>x.attribute.interval=j),controls:!0,min:500,max:1e4,size:"mini","controls-position":"right"},null,8,["modelValue"])]),_:1})):gt("",!0),L(Me,{label:"\u9009\u9879\u8BBE\u7F6E"},{default:de(()=>[L(K,{size:"mini",type:"primary",onClick:P[106]||(P[106]=j=>x.show_setting_dialog=!0)},{default:de(()=>[L(Wt,null,{default:de(()=>[L(Ue)]),_:1})]),_:1})]),_:1})],64)):gt("",!0),x.node_info.name=="cms-map"?(Ne(),_r(Ya,{key:12},[x.attribute.longitude||x.attribute.longitude==0?(Ne(),Et(Me,{key:0,label:"\u7ECF\u5EA6"},{default:de(()=>[L(It,{modelValue:x.attribute.longitude,"onUpdate:modelValue":P[107]||(P[107]=j=>x.attribute.longitude=j),controls:!0,size:"mini","controls-position":"right"},null,8,["modelValue"])]),_:1})):gt("",!0),x.attribute.latitude||x.attribute.latitude==0?(Ne(),Et(Me,{key:1,label:"\u7EAC\u5EA6"},{default:de(()=>[L(It,{modelValue:x.attribute.latitude,"onUpdate:modelValue":P[108]||(P[108]=j=>x.attribute.latitude=j),controls:!0,size:"mini","controls-position":"right"},null,8,["modelValue"])]),_:1})):gt("",!0),x.attribute.title||x.attribute.title==""?(Ne(),Et(Me,{key:2,label:"\u6807\u9898"},{default:de(()=>[L(et,{type:"textarea",modelValue:x.attribute.title,"onUpdate:modelValue":P[109]||(P[109]=j=>x.attribute.title=j),placeholder:"\u8BF7\u8F93\u5165\u6807\u9898",rows:2,autosize:!1,resize:"both",clearable:""},null,8,["modelValue"])]),_:1})):gt("",!0),x.attribute.describe||x.attribute.describe==""?(Ne(),Et(Me,{key:3,label:"\u63CF\u8FF0"},{default:de(()=>[L(et,{type:"textarea",modelValue:x.attribute.describe,"onUpdate:modelValue":P[110]||(P[110]=j=>x.attribute.describe=j),placeholder:"\u8BF7\u8F93\u5165\u63CF\u8FF0\u6587\u5B57",rows:2,autosize:!1,resize:"both",clearable:""},null,8,["modelValue"])]),_:1})):gt("",!0)],64)):gt("",!0),x.node_info.name=="cms-tab"?(Ne(),_r(Ya,{key:13},[x.attribute.type||x.attribute.type==""?(Ne(),Et(Me,{key:0,label:"\u9009\u9879\u7C7B\u578B"},{default:de(()=>[L(Gt,{modelValue:x.attribute.type,"onUpdate:modelValue":P[111]||(P[111]=j=>x.attribute.type=j),placeholder:"arrow"},{default:de(()=>[L(se,{key:"horizintal",label:"\u6C34\u5E73",value:"horizintal"}),L(se,{key:"vertical",label:"\u5782\u76F4",value:"vertical"})]),_:1},8,["modelValue"])]),_:1})):gt("",!0),x.attribute.titleFontSize?(Ne(),Et(Me,{key:1,label:"\u6807\u9898\u5B57\u4F53"},{default:de(()=>[L(It,{modelValue:x.attribute.titleFontSize,"onUpdate:modelValue":P[112]||(P[112]=j=>x.attribute.titleFontSize=j),controls:!0,min:12,max:100,size:"mini","controls-position":"right"},null,8,["modelValue"])]),_:1})):gt("",!0),x.attribute.titleColor||x.attribute.titleColor==null?(Ne(),Et(Me,{key:2,label:"\u6807\u9898\u989C\u8272"},{default:de(()=>[L(We,{modelValue:x.attribute.titleColor,"onUpdate:modelValue":P[113]||(P[113]=j=>x.attribute.titleColor=j),size:"mini"},null,8,["modelValue"])]),_:1})):gt("",!0),x.attribute.activeColor||x.attribute.activeColor==null?(Ne(),Et(Me,{key:3,label:"\u6FC0\u6D3B\u989C\u8272"},{default:de(()=>[L(We,{modelValue:x.attribute.activeColor,"onUpdate:modelValue":P[114]||(P[114]=j=>x.attribute.activeColor=j),size:"mini"},null,8,["modelValue"])]),_:1})):gt("",!0),x.attribute.contentFontSize?(Ne(),Et(Me,{key:4,label:"\u5185\u5BB9\u5B57\u4F53"},{default:de(()=>[L(It,{modelValue:x.attribute.contentFontSize,"onUpdate:modelValue":P[115]||(P[115]=j=>x.attribute.contentFontSize=j),controls:!0,min:12,max:100,size:"mini","controls-position":"right"},null,8,["modelValue"])]),_:1})):gt("",!0),x.attribute.contentColor||x.attribute.contentColor==null?(Ne(),Et(Me,{key:5,label:"\u5185\u5BB9\u989C\u8272"},{default:de(()=>[L(We,{modelValue:x.attribute.contentColor,"onUpdate:modelValue":P[116]||(P[116]=j=>x.attribute.contentColor=j),size:"mini"},null,8,["modelValue"])]),_:1})):gt("",!0),(x.attribute.titlePaddingTop||x.attribute.titlePaddingTop==0)&&(x.attribute.titlePaddingRight||x.attribute.titlePaddingRight==0)&&(x.attribute.titlePaddingBottom||x.attribute.titlePaddingBottom==0)&&(x.attribute.titlePaddingLeft||x.attribute.titlePaddingLeft==0)?(Ne(),Et(Me,{key:6,label:"\u6807\u9898\u8FB9\u8DDD"},{default:de(()=>[L(ht,null,{default:de(()=>[ea("div",BG,[L(ge,{modelValue:x.attribute.titlePaddingTop,"onUpdate:modelValue":P[117]||(P[117]=j=>x.attribute.titlePaddingTop=j),label:"\u4E0A",max:1080},null,8,["modelValue"]),L(ge,{modelValue:x.attribute.titlePaddingRight,"onUpdate:modelValue":P[118]||(P[118]=j=>x.attribute.titlePaddingRight=j),label:"\u53F3",max:1920},null,8,["modelValue"]),L(ge,{modelValue:x.attribute.titlePaddingBottom,"onUpdate:modelValue":P[119]||(P[119]=j=>x.attribute.titlePaddingBottom=j),label:"\u4E0B",max:1080},null,8,["modelValue"]),L(ge,{modelValue:x.attribute.titlePaddingLeft,"onUpdate:modelValue":P[120]||(P[120]=j=>x.attribute.titlePaddingLeft=j),label:"\u5DE6",max:1920},null,8,["modelValue"])])]),_:1})]),_:1})):gt("",!0),(x.attribute.contentPaddingTop||x.attribute.contentPaddingTop==0)&&(x.attribute.contentPaddingRight||x.attribute.contentPaddingRight==0)&&(x.attribute.contentPaddingBottom||x.attribute.contentPaddingBottom==0)&&(x.attribute.contentPaddingLeft||x.attribute.contentPaddingLeft==0)?(Ne(),Et(Me,{key:7,label:"\u5185\u5BB9\u8FB9\u8DDD"},{default:de(()=>[L(ht,null,{default:de(()=>[ea("div",MG,[L(ge,{modelValue:x.attribute.contentPaddingTop,"onUpdate:modelValue":P[121]||(P[121]=j=>x.attribute.contentPaddingTop=j),label:"\u4E0A",max:1080},null,8,["modelValue"]),L(ge,{modelValue:x.attribute.contentPaddingRight,"onUpdate:modelValue":P[122]||(P[122]=j=>x.attribute.contentPaddingRight=j),label:"\u53F3",max:1920},null,8,["modelValue"]),L(ge,{modelValue:x.attribute.contentPaddingBottom,"onUpdate:modelValue":P[123]||(P[123]=j=>x.attribute.contentPaddingBottom=j),label:"\u4E0B",max:1080},null,8,["modelValue"]),L(ge,{modelValue:x.attribute.contentPaddingLeft,"onUpdate:modelValue":P[124]||(P[124]=j=>x.attribute.contentPaddingLeft=j),label:"\u5DE6",max:1920},null,8,["modelValue"])])]),_:1})]),_:1})):gt("",!0),L(Me,{label:"\u9009\u9879\u8BBE\u7F6E"},{default:de(()=>[L(K,{size:"mini",type:"primary",onClick:P[125]||(P[125]=j=>x.show_setting_dialog=!0)},{default:de(()=>[L(Wt,null,{default:de(()=>[L(Ue)]),_:1})]),_:1})]),_:1})],64)):gt("",!0),x.node_info.name=="cms-back-top"?(Ne(),_r(Ya,{key:14},[x.attribute.color||x.attribute.color==null?(Ne(),Et(Me,{key:0,label:"\u56FE\u6807\u989C\u8272"},{default:de(()=>[L(We,{modelValue:x.attribute.color,"onUpdate:modelValue":P[126]||(P[126]=j=>x.attribute.color=j),size:"mini"},null,8,["modelValue"])]),_:1})):gt("",!0),x.attribute.backgroundColor||x.attribute.backgroundColor==null?(Ne(),Et(Me,{key:1,label:"\u80CC\u666F\u989C\u8272"},{default:de(()=>[L(We,{modelValue:x.attribute.backgroundColor,"onUpdate:modelValue":P[127]||(P[127]=j=>x.attribute.backgroundColor=j),size:"mini","show-alpha":""},null,8,["modelValue"])]),_:1})):gt("",!0)],64)):gt("",!0),x.node_info.name=="cms-animated"?(Ne(),_r(Ya,{key:15},[x.attribute.animation||x.attribute.animation==""?(Ne(),Et(Me,{key:0,label:"\u52A8\u753B\u6837\u5F0F"},{default:de(()=>[L(Gt,{modelValue:x.attribute.animation,"onUpdate:modelValue":P[128]||(P[128]=j=>x.attribute.animation=j),placeholder:"\u8BF7\u9009\u62E9\u52A8\u753B\u6837\u5F0F",clearable:""},{default:de(()=>[L(se,{key:"animate__fadeIn",label:"\u6DE1\u5165",value:"animate__fadeIn"}),L(se,{key:"animate__fadeInDown",label:"\u9876\u90E8\u6DE1\u5165",value:"animate__fadeInDown"}),L(se,{key:"animate__fadeInLeft",label:"\u5DE6\u4FA7\u6DE1\u5165",value:"animate__fadeInLeft"}),L(se,{key:"animate__fadeInRight",label:"\u53F3\u4FA7\u6DE1\u5165",value:"animate__fadeInRight"}),L(se,{key:"animate__fadeInUp",label:"\u5E95\u90E8\u6DE1\u5165",value:"animate__fadeInUp"}),L(se,{key:"animate__fadeOut",label:"\u6DE1\u51FA",value:"animate__fadeOut"}),L(se,{key:"animate__fadeOutDown",label:"\u9876\u90E8\u6DE1\u51FA",value:"animate__fadeOutDown"}),L(se,{key:"animate__fadeOutLeft",label:"\u5DE6\u4FA7\u6DE1\u51FA",value:"animate__fadeOutLeft"}),L(se,{key:"animate__fadeOutRight",label:"\u53F3\u4FA7\u6DE1\u51FA",value:"animate__fadeOutRight"}),L(se,{key:"animate__fadeOutUp",label:"\u5E95\u90E8\u6DE1\u51FA",value:"animate__fadeOutUp"}),L(se,{key:"animate__slideInDown",label:"\u9876\u90E8\u6ED1\u5165",value:"animate__slideInDown"}),L(se,{key:"animate__slideInLeft",label:"\u5DE6\u4FA7\u6ED1\u5165",value:"animate__slideInLeft"}),L(se,{key:"animate__slideInRight",label:"\u53F3\u4FA7\u6ED1\u5165",value:"animate__slideInRight"}),L(se,{key:"animate__slideInUp",label:"\u5E95\u90E8\u6ED1\u5165",value:"animate__slideInUp"}),L(se,{key:"animate__backInDown",label:"\u9876\u90E8\u8FDB\u5165\u653E\u5927",value:"animate__backInDown"}),L(se,{key:"animate__backInLeft",label:"\u5DE6\u4FA7\u8FDB\u5165\u653E\u5927",value:"animate__backInLeft"}),L(se,{key:"animate__backInRight",label:"\u53F3\u4FA7\u8FDB\u5165\u653E\u5927",value:"animate__backInRight"}),L(se,{key:"animate__backInUp",label:"\u5E95\u90E8\u8FDB\u5165\u653E\u5927",value:"animate__backInUp"}),L(se,{key:"animate__zoomIn",label:"\u653E\u5927",value:"animate__zoomIn"}),L(se,{key:"animate__zoomInDown",label:"\u9876\u90E8\u653E\u5927\u8FDB\u5165",value:"animate__zoomInDown"}),L(se,{key:"animate__zoomInLeft",label:"\u5DE6\u4FA7\u653E\u5927\u8FDB\u5165",value:"animate__zoomInLeft"}),L(se,{key:"animate__zoomInRight",label:"\u53F3\u4FA7\u653E\u5927\u8FDB\u5165",value:"animate__zoomInRight"}),L(se,{key:"animate__zoomInUp",label:"\u5E95\u90E8\u653E\u5927\u8FDB\u5165",value:"animate__zoomInUp"}),L(se,{key:"animate__bounceIn",label:"\u8DF3\u5165",value:"animate__bounceIn"}),L(se,{key:"animate__bounceInDown",label:"\u9876\u90E8\u8DF3\u5165",value:"animate__bounceInDown"}),L(se,{key:"animate__bounceInLeft",label:"\u5DE6\u4FA7\u8DF3\u5165",value:"animate__bounceInLeft"}),L(se,{key:"animate__bounceInRight",label:"\u53F3\u4FA7\u8DF3\u5165",value:"animate__bounceInRight"}),L(se,{key:"animate__bounceInUp",label:"\u5E95\u90E8\u8DF3\u5165",value:"animate__bounceInUp"}),L(se,{key:"animate__bounce",label:"\u5F39\u8DF3",value:"animate__bounce"}),L(se,{key:"animate__flash",label:"\u95EA\u70C1",value:"animate__flash"}),L(se,{key:"animate__rubberBand",label:"\u6A61\u76AE\u5708",value:"animate__rubberBand"}),L(se,{key:"animate__swing",label:"\u6447\u6446",value:"animate__swing"}),L(se,{key:"animate__jello",label:"\u679C\u51BB",value:"animate__jello"}),L(se,{key:"animate__heartBeat",label:"\u5FC3\u8DF3",value:"animate__heartBeat"}),L(se,{key:"animate__flipInX",label:"\u6C34\u5E73\u7FFB\u8F6C",value:"animate__flipInX"}),L(se,{key:"animate__flipInY",label:"\u5782\u76F4\u7FFB\u8F6C",value:"animate__flipInY"}),L(se,{key:"animate__rotateIn",label:"\u65CB\u8F6C",value:"animate__rotateIn"}),L(se,{key:"animate__rollIn",label:"\u6EDA\u5165",value:"animate__rollIn"}),L(se,{key:"animate__rollOut",label:"\u6EDA\u51FA",value:"animate__rollOut"})]),_:1},8,["modelValue"])]),_:1})):gt("",!0),x.attribute.duration?(Ne(),Et(Me,{key:1,label:"\u6301\u7EED\u65F6\u95F4"},{default:de(()=>[L(It,{modelValue:x.attribute.duration,"onUpdate:modelValue":P[129]||(P[129]=j=>x.attribute.duration=j),controls:!0,min:1,max:10,size:"mini","controls-position":"right"},null,8,["modelValue"])]),_:1})):gt("",!0),x.attribute.delay||x.attribute.delay==0?(Ne(),Et(Me,{key:2,label:"\u5EF6\u8FDF\u65F6\u95F4"},{default:de(()=>[L(It,{modelValue:x.attribute.delay,"onUpdate:modelValue":P[130]||(P[130]=j=>x.attribute.delay=j),controls:!0,min:0,max:10,size:"mini","controls-position":"right"},null,8,["modelValue"])]),_:1})):gt("",!0),x.attribute.iteration?(Ne(),Et(Me,{key:3,label:"\u6267\u884C\u6B21\u6570"},{default:de(()=>[L(It,{modelValue:x.attribute.iteration,"onUpdate:modelValue":P[131]||(P[131]=j=>x.attribute.iteration=j),controls:!0,min:1,max:100,size:"mini","controls-position":"right"},null,8,["modelValue"])]),_:1})):gt("",!0)],64)):gt("",!0),x.node_info.name=="cms-hover"?(Ne(),_r(Ya,{key:16},[x.attribute.animation||x.attribute.animation==""?(Ne(),Et(Me,{key:0,label:"\u79FB\u5165\u52A8\u753B"},{default:de(()=>[L(Gt,{modelValue:x.attribute.animation,"onUpdate:modelValue":P[132]||(P[132]=j=>x.attribute.animation=j),placeholder:"\u8BF7\u9009\u62E9\u9F20\u6807\u79FB\u5165\u52A8\u753B\u6837\u5F0F",clearable:""},{default:de(()=>[L(se,{key:"hvr-grow",label:"Grow",value:"hvr-grow"}),L(se,{key:"hvr-shrink",label:"Shrink",value:"hvr-shrink"}),L(se,{key:"hvr-pulse",label:"Pulse",value:"hvr-pulse"}),L(se,{key:"hvr-pulse-grow",label:"Pulse Grow",value:"hvr-pulse-grow"}),L(se,{key:"hvr-pulse-shrink",label:"Pulse Shrink",value:"hvr-pulse-shrink"}),L(se,{key:"hvr-push",label:"Push",value:"hvr-push"}),L(se,{key:"hvr-pop",label:"Pop",value:"hvr-pop"}),L(se,{key:"hvr-bounce-in",label:"Bounce In",value:"hvr-bounce-in"}),L(se,{key:"hvr-bounce-out",label:"Bounce Out",value:"hvr-bounce-out"}),L(se,{key:"hvr-rotate",label:"Rotate",value:"hvr-rotate"}),L(se,{key:"hvr-grow-rotate",label:"Grow Rotate",value:"hvr-grow-rotate"}),L(se,{key:"hvr-float",label:"Float",value:"hvr-float"}),L(se,{key:"hvr-sink",label:"Sink",value:"hvr-sink"}),L(se,{key:"hvr-bob",label:"Bob",value:"hvr-bob"}),L(se,{key:"hvr-hang",label:"Hang",value:"hvr-hang"}),L(se,{key:"hvr-skew",label:"Skew",value:"hvr-skew"}),L(se,{key:"hvr-skew-forward",label:"Skew Forward",value:"hvr-skew-forward"}),L(se,{key:"hvr-skew-backward",label:"Skew Backward",value:"hvr-skew-backward"}),L(se,{key:"hvr-wobble-horizontal",label:"Wobble Horizontal",value:"hvr-wobble-horizontal"}),L(se,{key:"hvr-wobble-vertical",label:"Wobble Vertical ",value:"hvr-wobble-vertical"}),L(se,{key:"hvr-wobble-to-bottom-right",label:"Wobble To Bottom Right",value:"hvr-wobble-to-bottom-right"}),L(se,{key:"hvr-wobble-to-top-right",label:"Wobble To Top Right",value:"hvr-wobble-to-top-right"}),L(se,{key:"hvr-wobble-top",label:"Wobble Top",value:"hvr-wobble-top"}),L(se,{key:"hvr-wobble-bottom",label:"Wobble Bottom",value:"hvr-wobble-bottom"}),L(se,{key:"hvr-wobble-skew",label:"Wobble Skew",value:"hvr-wobble-skew"}),L(se,{key:"hvr-buzz",label:"Buzz",value:"hvr-buzz"}),L(se,{key:"hvr-buzz-out",label:"Buzz Out",value:"hvr-buzz-out"}),L(se,{key:"hvr-forward",label:"Forward",value:"hvr-forward"}),L(se,{key:"hvr-backward",label:"Backward",value:"hvr-backward"}),L(se,{key:"hvr-fade",label:"Fade",value:"hvr-fade"}),L(se,{key:"hvr-back-pulse",label:"Back Pulse",value:"hvr-back-pulse"}),L(se,{key:"hvr-sweep-to-right",label:"Sweep To Right",value:"hvr-sweep-to-right"}),L(se,{key:"hvr-sweep-to-left",label:"Sweep To Left",value:"hvr-sweep-to-left"}),L(se,{key:"hvr-sweep-to-bottom",label:"Sweep To Bottom",value:"hvr-sweep-to-bottom"}),L(se,{key:"hvr-sweep-to-top",label:"Sweep To Top",value:"hvr-sweep-to-top"}),L(se,{key:"hvr-bounce-to-right",label:"Bounce To Right",value:"hvr-bounce-to-right"}),L(se,{key:"hvr-bounce-to-left",label:"Bounce To Left",value:"hvr-bounce-to-left"}),L(se,{key:"hvr-bounce-to-bottom",label:"Bounce To Bottom ",value:"hvr-bounce-to-bottom"}),L(se,{key:"hvr-bounce-to-top",label:"Bounce To Top",value:"hvr-bounce-to-top"}),L(se,{key:"hvr-rectangle-in",label:"Rectangle In",value:"hvr-rectangle-in"}),L(se,{key:"hvr-rectangle-out",label:"Rectangle Out",value:"hvr-rectangle-out"}),L(se,{key:"hvr-shutter-in-horizontal",label:"Shutter In Horizontal",value:"hvr-shutter-in-horizontal"}),L(se,{key:"hvr-shutter-out-horizontal",label:"Shutter Out Horizontal",value:"hvr-shutter-out-horizontal"}),L(se,{key:"hvr-shutter-in-vertical",label:"Shutter In Vertical",value:"hvr-shutter-in-vertical"}),L(se,{key:"hvr-shutter-out-vertical",label:"Shutter Out Vertical",value:"hvr-shutter-out-vertical"}),L(se,{key:"hvr-border-fade",label:"Border Fade",value:"hvr-border-fade"}),L(se,{key:"hvr-trim",label:"Trim",value:"hvr-trim"}),L(se,{key:"hvr-ripple-out",label:"Ripple Out",value:"hvr-ripple-out"}),L(se,{key:"hvr-ripple-in",label:"Ripple In ",value:"hvr-ripple-in"}),L(se,{key:"hvr-outline-out",label:"Outline Out",value:"hvr-outline-out"}),L(se,{key:"hvr-outline-in",label:"Outline In",value:"hvr-outline-in"}),L(se,{key:"hvr-round-corners",label:"Round Corners",value:"hvr-round-corners"}),L(se,{key:"hvr-underline-from-left",label:"Underline From Left",value:"hvr-underline-from-left"}),L(se,{key:"hvr-underline-from-center",label:"Underline From Center",value:"hvr-underline-from-center"}),L(se,{key:"hvr-underline-from-right",label:"Underline From Right",value:"hvr-underline-from-right"}),L(se,{key:"hvr-reveal",label:"Reveal",value:"hvr-reveal"}),L(se,{key:"hvr-underline-reveal",label:"Underline Reveal ",value:"hvr-underline-reveal"}),L(se,{key:"hvr-overline-reveal",label:"Overline Reveal",value:"hvr-overline-reveal"}),L(se,{key:"hvr-overline-from-left",label:"Overline From Left",value:"hvr-overline-from-left"}),L(se,{key:"hvr-overline-from-center",label:"Overline From Center",value:"hvr-overline-from-center"}),L(se,{key:"hvr-overline-from-right",label:"Overline From Right",value:"hvr-overline-from-right"}),L(se,{key:"hvr-shadow",label:"Shadow",value:"hvr-shadow"}),L(se,{key:"hvr-grow-shadow",label:"Grow Shadow",value:"hvr-grow-shadow"}),L(se,{key:"hvr-float-shadow",label:"Float Shadow ",value:"hvr-float-shadow"}),L(se,{key:"hvr-glow",label:"Glow",value:"hvr-glow"}),L(se,{key:"hvr-shadow-radial",label:"Shadow Radial",value:"hvr-shadow-radial"}),L(se,{key:"hvr-box-shadow-outset",label:"Box Shadow Outset",value:"hvr-box-shadow-outset"}),L(se,{key:"hvr-box-shadow-inset",label:"Box Shadow Inset",value:"hvr-box-shadow-inset"}),L(se,{key:"hvr-bubble-top",label:"Bubble Top",value:"hvr-bubble-top"}),L(se,{key:"hvr-bubble-right",label:"Bubble Right",value:"hvr-bubble-right"}),L(se,{key:"hvr-bubble-bottom",label:"Bubble Bottom",value:"hvr-bubble-bottom"}),L(se,{key:"hvr-bubble-left",label:"Bubble Left",value:"hvr-bubble-left"}),L(se,{key:"hvr-bubble-float-top",label:"Bubble Float Top",value:"hvr-bubble-float-top"}),L(se,{key:"hvr-bubble-float-right",label:"Bubble Float Right",value:"hvr-bubble-float-right"}),L(se,{key:"hvr-bubble-float-bottom",label:"Bubble Float Bottom",value:"hvr-bubble-float-bottom"}),L(se,{key:"hvr-bubble-float-left",label:"Bubble Float Left",value:"hvr-bubble-float-left"}),L(se,{key:"hvr-curl-top-left",label:"Curl Top Left",value:"hvr-curl-top-left"}),L(se,{key:"hvr-curl-top-right",label:"Curl Top Right",value:"hvr-curl-top-right"}),L(se,{key:"hvr-curl-bottom-right",label:"Curl Bottom Right",value:"hvr-curl-bottom-right"}),L(se,{key:"hvr-curl-bottom-left",label:"Curl Bottom Left",value:"hvr-curl-bottom-left"})]),_:1},8,["modelValue"])]),_:1})):gt("",!0),x.attribute.cursor||x.attribute.cursor==""?(Ne(),Et(Me,{key:1,label:"\u9F20\u6807\u6837\u5F0F"},{default:de(()=>[L(Gt,{modelValue:x.attribute.cursor,"onUpdate:modelValue":P[133]||(P[133]=j=>x.attribute.cursor=j),placeholder:"\u8BF7\u9009\u62E9\u9F20\u6807\u79FB\u5165\u6837\u5F0F",clearable:""},{default:de(()=>[L(se,{key:"default",label:"\u9ED8\u8BA4",value:"default"}),L(se,{key:"pointer",label:"\u70B9\u51FB",value:"pointer"}),L(se,{key:"grab",label:"\u624B\u578B",value:"grab"}),L(se,{key:"none",label:"\u65E0",value:"none"}),L(se,{key:"not-allowed",label:"\u7981\u6B62",value:"not-allowed"}),L(se,{key:"move",label:"\u79FB\u52A8",value:"move"})]),_:1},8,["modelValue"])]),_:1})):gt("",!0),x.attribute.backgroundColor||x.attribute.backgroundColor==null?(Ne(),Et(Me,{key:2,label:"\u80CC\u666F\u989C\u8272"},{default:de(()=>[L(We,{modelValue:x.attribute.backgroundColor,"onUpdate:modelValue":P[134]||(P[134]=j=>x.attribute.backgroundColor=j),size:"mini","show-alpha":""},null,8,["modelValue"])]),_:1})):gt("",!0),x.attribute.activeBackgroundColor||x.attribute.activeBackgroundColor==null?(Ne(),Et(Me,{key:3,label:"\u6FC0\u6D3B\u80CC\u666F"},{default:de(()=>[L(We,{modelValue:x.attribute.activeBackgroundColor,"onUpdate:modelValue":P[135]||(P[135]=j=>x.attribute.activeBackgroundColor=j),size:"mini","show-alpha":""},null,8,["modelValue"])]),_:1})):gt("",!0)],64)):gt("",!0)]),_:1},8,["model"])]),_:1}),L(Ht,{class:"attribute-window-tab-content",name:"2"},{label:de(()=>[ea("div",PG,[L(Fe,{"icon-class":"tree"}),$G])]),default:de(()=>[x.show_tree?(Ne(),Et(qt,{key:0,data:x.tree,props:x.defaultProps,"render-after-expand":!1,"highlight-current":x.highlight_current,"node-key":"id",indent:20,"default-expand-all":!0,"expand-on-click-node":!1,onNodeClick:x.handleClickTreeNode,draggable:"","allow-drop":x.handleAllowDrop},{default:de(({node:j,data:Nr})=>[ea("div",NG,Om(Nr.title),1),ea("div",{class:"custom-tree-node-block",onMouseover:$n=>x.handleMouseOverTreeNode(j,Nr),onMouseout:$n=>x.handleMouseOutTreeNode(j,Nr)},"\u7528\u4E8E\u89E6\u53D1\u4E8B\u4EF6 \u673A\u667A",40,FG)]),_:1},8,["data","props","highlight-current","onNodeClick","allow-drop"])):gt("",!0)]),_:1})]),_:1},8,["modelValue"]),Vx(ea("div",zG,[L(Q,{title:x.node_info.title,"model-value":x.show_setting_dialog,onClose:P[143]||(P[143]=j=>x.show_setting_dialog=!1)},{default:de(()=>[L(Oe,{ref:"attribute",model:x.attribute,"label-width":"68px"},{default:de(()=>[x.node_info.name=="cms-rich-text"?(Ne(),Et(Zt,{key:0,value:x.attribute.content,onChange:P[138]||(P[138]=j=>x.handleChangeEditor(j))},null,8,["value"])):gt("",!0),x.node_info.name=="cms-nav-bar"?(Ne(),Et(Me,{key:1,label:"\u9009\u9879\u8BBE\u7F6E"},{default:de(()=>[(Ne(!0),_r(Ya,null,dd(x.attribute.items,(j,Nr)=>(Ne(),Et(Ee,{key:Nr,class:"block-margin",justify:"space-between",align:"middle",type:"flex"},{default:de(()=>[L(st,{span:8},{default:de(()=>[L(et,{modelValue:j.text,"onUpdate:modelValue":$n=>j.text=$n,placeholder:"\u6807\u9898",clearable:""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),L(st,{span:11},{default:de(()=>[L(et,{modelValue:j.link,"onUpdate:modelValue":$n=>j.link=$n,placeholder:"\u8DEF\u7531\u94FE\u63A5",clearable:""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),L(st,{span:3},{default:de(()=>[Nr>0?(Ne(),Et(K,{key:0,size:"mini",type:"danger",onClick:$n=>x.handleClickDeleteItem(x.attribute.items,Nr)},{default:de(()=>[L(Wt,null,{default:de(()=>[L(jr)]),_:1})]),_:2},1032,["onClick"])):gt("",!0)]),_:2},1024)]),_:2},1024))),128)),L(Ee,null,{default:de(()=>[L(st,{span:4},{default:de(()=>[L(K,{size:"mini",type:"primary",onClick:P[139]||(P[139]=j=>x.handleClickAddItem(x.attribute.items,"cms-nav-bar"))},{default:de(()=>[L(Wt,null,{default:de(()=>[L(ve)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})):gt("",!0),x.node_info.name=="cms-image-text-row"?(Ne(),Et(Me,{key:2,label:"\u9009\u9879\u8BBE\u7F6E"},{default:de(()=>[(Ne(!0),_r(Ya,null,dd(x.attribute.items,(j,Nr)=>(Ne(),Et(Ee,{key:Nr,class:"block-margin",justify:"space-between",align:"middle",type:"flex"},{default:de(()=>[L(st,{span:8},{default:de(()=>[L(et,{type:"textarea",modelValue:j.text,"onUpdate:modelValue":$n=>j.text=$n,placeholder:"\u8BF7\u8F93\u5165\u63CF\u8FF0\u6587\u5B57",rows:4,autosize:!1,resize:"both",clearable:""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),L(st,{span:3},{default:de(()=>[L(dt,{file:j.src,onHandleUploadSuccess:$n=>{x.handleUploadSuccess($n,j)},onHandleDeleteFile:$n=>x.handleDeleteFile(j)},null,8,["file","onHandleUploadSuccess","onHandleDeleteFile"])]),_:2},1024),L(st,{span:8},{default:de(()=>[L(et,{modelValue:j.link,"onUpdate:modelValue":$n=>j.link=$n,placeholder:"\u8DEF\u7531\u94FE\u63A5",clearable:""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),L(st,{span:3},{default:de(()=>[Nr>0?(Ne(),Et(K,{key:0,size:"mini",type:"danger",onClick:$n=>x.handleClickDeleteItem(x.attribute.items,Nr)},{default:de(()=>[L(Wt,null,{default:de(()=>[L(jr)]),_:1})]),_:2},1032,["onClick"])):gt("",!0)]),_:2},1024)]),_:2},1024))),128)),L(Ee,null,{default:de(()=>[L(st,{span:4},{default:de(()=>[L(K,{size:"mini",type:"primary",onClick:P[140]||(P[140]=j=>x.handleClickAddItem(x.attribute.items,"cms-image-text-row"))},{default:de(()=>[L(Wt,null,{default:de(()=>[L(ve)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})):gt("",!0),x.node_info.name=="cms-tab"?(Ne(),Et(Me,{key:3,label:"\u9009\u9879\u8BBE\u7F6E"},{default:de(()=>[(Ne(!0),_r(Ya,null,dd(x.attribute.items,(j,Nr)=>(Ne(),Et(Ee,{key:Nr,class:"block-margin",justify:"space-between",align:"middle",type:"flex"},{default:de(()=>[L(st,{span:8},{default:de(()=>[L(et,{modelValue:j.title,"onUpdate:modelValue":$n=>j.title=$n,placeholder:"\u9009\u9879\u6807\u9898",clearable:""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),L(st,{span:8},{default:de(()=>[L(et,{type:"textarea",modelValue:j.text,"onUpdate:modelValue":$n=>j.text=$n,placeholder:"\u8BF7\u8F93\u5165\u63CF\u8FF0\u6587\u5B57",rows:4,autosize:!1,resize:"both",clearable:""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),L(st,{span:3},{default:de(()=>[L(dt,{file:j.src,onHandleUploadSuccess:$n=>{x.handleUploadSuccess($n,j)},onHandleDeleteFile:$n=>x.handleDeleteFile(j)},null,8,["file","onHandleUploadSuccess","onHandleDeleteFile"])]),_:2},1024),L(st,{span:3},{default:de(()=>[Nr>0?(Ne(),Et(K,{key:0,size:"mini",type:"danger",onClick:$n=>x.handleClickDeleteItem(x.attribute.items,Nr)},{default:de(()=>[L(Wt,null,{default:de(()=>[L(jr)]),_:1})]),_:2},1032,["onClick"])):gt("",!0)]),_:2},1024)]),_:2},1024))),128)),L(Ee,null,{default:de(()=>[L(st,{span:4},{default:de(()=>[L(K,{size:"mini",type:"primary",onClick:P[141]||(P[141]=j=>x.handleClickAddItem(x.attribute.items,"cms-image-text-row"))},{default:de(()=>[L(Wt,null,{default:de(()=>[L(ve)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})):gt("",!0),x.node_info.name=="cms-carousel"?(Ne(),Et(Me,{key:4,label:"\u9009\u9879\u8BBE\u7F6E"},{default:de(()=>[(Ne(!0),_r(Ya,null,dd(x.attribute.items,(j,Nr)=>(Ne(),Et(Ee,{key:Nr,class:"block-margin",justify:"space-between",align:"middle",type:"flex"},{default:de(()=>[L(st,{span:3},{default:de(()=>[L(dt,{file:j.src,onHandleUploadSuccess:$n=>{x.handleUploadSuccess($n,j)},onHandleDeleteFile:$n=>x.handleDeleteFile(j)},null,8,["file","onHandleUploadSuccess","onHandleDeleteFile"])]),_:2},1024),L(st,{span:16},{default:de(()=>[L(et,{modelValue:j.link,"onUpdate:modelValue":$n=>j.link=$n,placeholder:"\u8DEF\u7531\u94FE\u63A5",clearable:""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),L(st,{span:3},{default:de(()=>[Nr>0?(Ne(),Et(K,{key:0,size:"mini",type:"danger",onClick:$n=>x.handleClickDeleteItem(x.attribute.items,Nr)},{default:de(()=>[L(Wt,null,{default:de(()=>[L(jr)]),_:1})]),_:2},1032,["onClick"])):gt("",!0)]),_:2},1024)]),_:2},1024))),128)),L(Ee,null,{default:de(()=>[L(st,{span:4},{default:de(()=>[L(K,{size:"mini",type:"primary",onClick:P[142]||(P[142]=j=>x.handleClickAddItem(x.attribute.items,"cms-image-text-row"))},{default:de(()=>[L(Wt,null,{default:de(()=>[L(ve)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})):gt("",!0)]),_:1},8,["model"])]),_:1},8,["title","model-value"])],512),[[wo]])]),_:1})}var LG=Am(yG,[["render",IG],["__scopeId","data-v-14b142f3"]]);const VG=fd({name:"HeaderBar",components:{},setup(){const{proxy:x}=Lx(),P=Ip();c0();const kt=f0(),$t=Rs({is_preview:Yl({get(){return P.state.is_preview}}),component_tree_list:Yl({get(){return P.state.component_tree_list},set(It){P.dispatch("handleChangeComponentTreeList",It)}})}),_t=Hx(null);let ut=Rs({ruleForm:{id:kt.query.id,title:"",website_id:"",is_index:!1,component_tree_list:[]},rules:{title:[{required:!0,message:"\u8BF7\u8F93\u5165\u6A21\u677F\u540D\u79F0",trigger:"blur"}]}});Ix(()=>{ut.ruleForm.id&&Fe()});const Fe=()=>{jW({id:ut.ruleForm.id}).then(It=>{$t.component_tree_list=It.data.component_tree_list,ut.ruleForm=It.data,document.title=It.data.title}).catch(()=>{})},Ee=()=>{P.dispatch("handleChangeCurrentNodeInfo",{props:{}}),P.state.is_preview?P.dispatch("handleChangeShowBorder",!0):P.dispatch("handleChangeShowBorder",!1),P.dispatch("handleChangeIsPreview",!P.state.is_preview)},et=()=>{ut.ruleForm.component_tree_list=P.state.component_tree_list,GW(ut.ruleForm).then(It=>{x.$message({message:"\u4FDD\u5B58",type:"success",duration:1500,onClose:function(){window.location.reload()}})}).catch(()=>{})},Me=It=>{P.dispatch("handleChangePreviewType",It)};return zp(Xl(Xl({},Jl(ut)),Jl($t)),{ruleFormRef:_t,handleChangeIsPreview:Ee,handleSaveForm:et,handleClickChangePreviewType:Me})}}),QR=x=>(OW("data-v-4cea5c46"),x=x(),AW(),x),HG=QR(()=>ea("span",{style:{"vertical-align":"middle"}}," \u9884\u89C8 ",-1)),UG=QR(()=>ea("span",{style:{"vertical-align":"middle"}}," \u4FDD\u5B58 ",-1)),WG=QR(()=>ea("i",null,null,-1)),jG={class:"preview-svg-group"},GG=QR(()=>ea("span",{style:{"vertical-align":"middle"}}," \u9000\u51FA\u9884\u89C8 ",-1));function qG(x,P,kt,$t,_t,ut){const Fe=Gn("svg-icon"),Ee=Gn("el-button"),et=Gn("document-checked"),Me=Gn("el-icon"),It=Gn("el-row"),se=Gn("el-container"),Gt=Gn("el-header");return Ne(),_r(Ya,null,[x.is_preview?gt("",!0):(Ne(),Et(Gt,{key:0,class:"header-bar"},{default:de(()=>[L(se,{class:"header-bar-container",direction:"vertical"},{default:de(()=>[L(It,{justify:"center",align:"middle",type:"flex"},{default:de(()=>[L(Ee,{type:"primary",size:"mini",onClick:x.handleChangeIsPreview},{default:de(()=>[L(Fe,{"icon-class":"eye-open",style:{"vertical-align":"middle","margin-right":"4px"}}),HG]),_:1},8,["onClick"]),L(Ee,{type:"success",size:"mini",onClick:P[0]||(P[0]=xn=>x.handleSaveForm())},{default:de(()=>[L(Me,{style:{"vertical-align":"middle","margin-right":"4px"}},{default:de(()=>[L(et)]),_:1}),UG]),_:1})]),_:1})]),_:1})]),_:1})),x.is_preview?(Ne(),Et(It,{key:1,class:"preview-bar",justify:"space-between",align:"middle",type:"flex"},{default:de(()=>[WG,ea("div",jG,[L(Fe,{"icon-class":"preview-1",onClick:P[1]||(P[1]=xn=>x.handleClickChangePreviewType(1))}),L(Fe,{"icon-class":"preview-2",onClick:P[2]||(P[2]=xn=>x.handleClickChangePreviewType(2))}),L(Fe,{"icon-class":"preview-3",onClick:P[3]||(P[3]=xn=>x.handleClickChangePreviewType(3))}),L(Fe,{"icon-class":"preview-4",onClick:P[4]||(P[4]=xn=>x.handleClickChangePreviewType(4))}),L(Fe,{"icon-class":"preview-5",onClick:P[5]||(P[5]=xn=>x.handleClickChangePreviewType(5))})]),L(Ee,{type:"danger",size:"mini",onClick:x.handleChangeIsPreview},{default:de(()=>[L(Fe,{"icon-class":"eye",style:{"vertical-align":"middle","margin-right":"4px"}}),GG]),_:1},8,["onClick"])]),_:1})):gt("",!0)],64)}var KG=Am(VG,[["render",qG],["__scopeId","data-v-4cea5c46"]]);const XG=fd({name:"TemplateDesigner",components:{Designer:vj,ControlBar:bj,Attribute:LG,HeaderBar:KG},setup(){const x=Ip();c0(),f0();const P=Rs({is_preview:Yl({get(){return x.state.is_preview}})});let kt=Rs({});return Xl(Xl({},Jl(kt)),Jl(P))}});function YG(x,P,kt,$t,_t,ut){const Fe=Gn("header-bar"),Ee=Gn("control-bar"),et=Gn("designer"),Me=Gn("attribute"),It=Gn("el-container");return Ne(),Et(It,{class:"container-layout"},{default:de(()=>[L(Fe),L(It,{class:"container-content"},{default:de(()=>[x.is_preview?gt("",!0):(Ne(),Et(Ee,{key:0})),L(et),x.is_preview?gt("",!0):(Ne(),Et(Me,{key:1}))]),_:1})]),_:1})}var rq=Am(XG,[["render",YG],["__scopeId","data-v-95cc97fe"]]);export{rq as default};
