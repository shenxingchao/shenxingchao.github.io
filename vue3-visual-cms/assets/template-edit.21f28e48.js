var L=Object.defineProperty,x=Object.defineProperties;var R=Object.getOwnPropertyDescriptors;var w=Object.getOwnPropertySymbols;var q=Object.prototype.hasOwnProperty,D=Object.prototype.propertyIsEnumerable;var g=(t,e,o)=>e in t?L(t,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[e]=o,v=(t,e)=>{for(var o in e||(e={}))q.call(e,o)&&g(t,o,e[o]);if(w)for(var o of w(e))D.call(e,o)&&g(t,o,e[o]);return t},h=(t,e)=>x(t,R(e));import{d as E,D as U,F as B,q as N,g as T,m as A,t as I,r as i,j as V,C as l,x as s,o as _,I as H,H as J,K,U as c,c as M,J as S}from"./vendor.b68ac253.js";import{d as W,e as z}from"./template.ee8affce.js";import{e as G}from"./website.f2564fcb.js";import{_ as O}from"./hover.f878cdc7.js";import"./index.014200d9.js";const P=E({name:"TemplateEdit",setup(){const{proxy:t}=K(),e=U(),o=B(),u=N(null);let n=T({ruleForm:{id:o.query.id,title:"",website_id:"",is_index:!1,component_tree_list:[]},rules:{title:[{required:!0,message:"\u8BF7\u8F93\u5165\u6A21\u677F\u540D\u79F0",trigger:"blur"}],website_id:[{required:!0,message:"\u8BF7\u9009\u62E9\u6240\u5C5E\u7F51\u7AD9",trigger:"change"}]},websiteList:[]});A(()=>{f(),m()});const f=()=>{G({}).then(r=>{n.websiteList=r.data.data}).catch(()=>{})},m=()=>{W({id:Number(n.ruleForm.id)}).then(r=>{n.ruleForm.id=r.data.id,n.ruleForm.title=r.data.title,n.ruleForm.website_id=r.data.website_id,n.ruleForm.is_index=r.data.is_index,n.ruleForm.component_tree_list=r.data.component_tree_list}).catch(()=>{})},d=()=>{u.value.validate(r=>{if(r)z(n.ruleForm).then(b=>{t.$message({message:"\u4FDD\u5B58\u6210\u529F",type:"success",duration:1500,onClose:function(){e.push("/template/template-list")}})}).catch(()=>{});else return console.log("error submit!!"),!1})},p=()=>{u.value.resetFields()};return h(v({},I(n)),{ruleFormRef:u,submitForm:d,resetForm:p})}}),Q={class:"app-container"},X=c("\u4FDD\u5B58"),Y=c("\u91CD\u7F6E");function Z(t,e,o,u,n,f){const m=i("el-input"),d=i("el-form-item"),p=i("el-option"),r=i("el-select"),b=i("el-switch"),F=i("el-button"),$=i("el-form"),y=i("el-col"),C=i("el-row"),j=i("el-card");return _(),V("div",Q,[l(j,{shadow:"hover"},{default:s(()=>[l(C,{justify:"start"},{default:s(()=>[l(y,{xs:24,md:16},{default:s(()=>[l($,{ref:"ruleFormRef",rules:t.rules,model:t.ruleForm,"label-position":"right","label-width":"150px"},{default:s(()=>[l(d,{label:"\u6A21\u677F\u540D\u79F0",prop:"title"},{default:s(()=>[l(m,{modelValue:t.ruleForm.title,"onUpdate:modelValue":e[0]||(e[0]=a=>t.ruleForm.title=a),placeholder:"\u6A21\u677F\u540D\u79F0"},null,8,["modelValue"])]),_:1}),l(d,{label:"\u6240\u5C5E\u7F51\u7AD9",prop:"website_id"},{default:s(()=>[l(r,{placeholder:"\u8BF7\u9009\u62E9\u6240\u5C5E\u7F51\u7AD9",modelValue:t.ruleForm.website_id,"onUpdate:modelValue":e[1]||(e[1]=a=>t.ruleForm.website_id=a),style:{width:"100%"}},{default:s(()=>[(_(!0),V(H,null,J(t.websiteList,(a,k)=>(_(),M(p,{label:a.website_name,value:a.id,key:k},{default:s(()=>[c(S(a.website_name),1)]),_:2},1032,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),l(d,{label:"\u9996\u9875",prop:"is_index"},{default:s(()=>[l(b,{modelValue:t.ruleForm.is_index,"onUpdate:modelValue":e[2]||(e[2]=a=>t.ruleForm.is_index=a),"active-color":"#13ce66","inactive-color":"#ff4949"},null,8,["modelValue"])]),_:1}),l(d,null,{default:s(()=>[l(F,{type:"primary",onClick:e[3]||(e[3]=a=>t.submitForm())},{default:s(()=>[X]),_:1}),l(F,{onClick:e[4]||(e[4]=a=>t.resetForm())},{default:s(()=>[Y]),_:1})]),_:1})]),_:1},8,["rules","model"])]),_:1})]),_:1})]),_:1})])}var ae=O(P,[["render",Z]]);export{ae as default};
